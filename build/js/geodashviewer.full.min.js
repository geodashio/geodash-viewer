/*! jQuery v1.9.1 | (c) 2005, 2012 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery.min.map
*/(function(e,t){var n,r,i=typeof t,o=e.document,a=e.location,s=e.jQuery,u=e.$,l={},c=[],p="1.9.1",f=c.concat,d=c.push,h=c.slice,g=c.indexOf,m=l.toString,y=l.hasOwnProperty,v=p.trim,b=function(e,t){return new b.fn.init(e,t,r)},x=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=/\S+/g,T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/^[\],:{}\s]*$/,E=/(?:^|:|,)(?:\s*\[)+/g,S=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,A=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,j=/^-ms-/,D=/-([\da-z])/gi,L=function(e,t){return t.toUpperCase()},H=function(e){(o.addEventListener||"load"===e.type||"complete"===o.readyState)&&(q(),b.ready())},q=function(){o.addEventListener?(o.removeEventListener("DOMContentLoaded",H,!1),e.removeEventListener("load",H,!1)):(o.detachEvent("onreadystatechange",H),e.detachEvent("onload",H))};b.fn=b.prototype={jquery:p,constructor:b,init:function(e,n,r){var i,a;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof b?n[0]:n,b.merge(this,b.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:o,!0)),C.test(i[1])&&b.isPlainObject(n))for(i in n)b.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(a=o.getElementById(i[2]),a&&a.parentNode){if(a.id!==i[2])return r.find(e);this.length=1,this[0]=a}return this.context=o,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):b.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),b.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return h.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return b.each(this,e,t)},ready:function(e){return b.ready.promise().done(e),this},slice:function(){return this.pushStack(h.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(b.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:d,sort:[].sort,splice:[].splice},b.fn.init.prototype=b.fn,b.extend=b.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},u=2),"object"==typeof s||b.isFunction(s)||(s={}),l===u&&(s=this,--u);l>u;u++)if(null!=(o=arguments[u]))for(i in o)e=s[i],r=o[i],s!==r&&(c&&r&&(b.isPlainObject(r)||(n=b.isArray(r)))?(n?(n=!1,a=e&&b.isArray(e)?e:[]):a=e&&b.isPlainObject(e)?e:{},s[i]=b.extend(c,a,r)):r!==t&&(s[i]=r));return s},b.extend({noConflict:function(t){return e.$===b&&(e.$=u),t&&e.jQuery===b&&(e.jQuery=s),b},isReady:!1,readyWait:1,holdReady:function(e){e?b.readyWait++:b.ready(!0)},ready:function(e){if(e===!0?!--b.readyWait:!b.isReady){if(!o.body)return setTimeout(b.ready);b.isReady=!0,e!==!0&&--b.readyWait>0||(n.resolveWith(o,[b]),b.fn.trigger&&b(o).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===b.type(e)},isArray:Array.isArray||function(e){return"array"===b.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[m.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==b.type(e)||e.nodeType||b.isWindow(e))return!1;try{if(e.constructor&&!y.call(e,"constructor")&&!y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||y.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||o;var r=C.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=b.buildFragment([e],t,i),i&&b(i).remove(),b.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=b.trim(n),n&&k.test(n.replace(S,"@").replace(A,"]").replace(E,"")))?Function("return "+n)():(b.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&b.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(j,"ms-").replace(D,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(a){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:v&&!v.call("\ufeff\u00a0")?function(e){return null==e?"":v.call(e)}:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?b.merge(n,"string"==typeof e?[e]:e):d.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(g)return g.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else while(n[o]!==t)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a)for(;o>i;i++)r=t(e[i],i,n),null!=r&&(s[s.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(s[s.length]=r);return f.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),b.isFunction(e)?(r=h.call(arguments,2),i=function(){return e.apply(n||this,r.concat(h.call(arguments)))},i.guid=e.guid=e.guid||b.guid++,i):t},access:function(e,n,r,i,o,a,s){var u=0,l=e.length,c=null==r;if("object"===b.type(r)){o=!0;for(u in r)b.access(e,n,u,r[u],!0,a,s)}else if(i!==t&&(o=!0,b.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(b(e),n)})),n))for(;l>u;u++)n(e[u],r,s?i:i.call(e[u],u,n(e[u],r)));return o?e:c?n.call(e):l?n(e[0],r):a},now:function(){return(new Date).getTime()}}),b.ready.promise=function(t){if(!n)if(n=b.Deferred(),"complete"===o.readyState)setTimeout(b.ready);else if(o.addEventListener)o.addEventListener("DOMContentLoaded",H,!1),e.addEventListener("load",H,!1);else{o.attachEvent("onreadystatechange",H),e.attachEvent("onload",H);var r=!1;try{r=null==e.frameElement&&o.documentElement}catch(i){}r&&r.doScroll&&function a(){if(!b.isReady){try{r.doScroll("left")}catch(e){return setTimeout(a,50)}q(),b.ready()}}()}return n.promise(t)},b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function M(e){var t=e.length,n=b.type(e);return b.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}r=b(o);var _={};function F(e){var t=_[e]={};return b.each(e.match(w)||[],function(e,n){t[n]=!0}),t}b.Callbacks=function(e){e="string"==typeof e?_[e]||F(e):b.extend({},e);var n,r,i,o,a,s,u=[],l=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=u.length,n=!0;u&&o>a;a++)if(u[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,u&&(l?l.length&&c(l.shift()):r?u=[]:p.disable())},p={add:function(){if(u){var t=u.length;(function i(t){b.each(t,function(t,n){var r=b.type(n);"function"===r?e.unique&&p.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=u.length:r&&(s=t,c(r))}return this},remove:function(){return u&&b.each(arguments,function(e,t){var r;while((r=b.inArray(t,u,r))>-1)u.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}),this},has:function(e){return e?b.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],this},disable:function(){return u=l=r=t,this},disabled:function(){return!u},lock:function(){return l=t,r||p.disable(),this},locked:function(){return!l},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||i&&!l||(n?l.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},b.extend({Deferred:function(e){var t=[["resolve","done",b.Callbacks("once memory"),"resolved"],["reject","fail",b.Callbacks("once memory"),"rejected"],["notify","progress",b.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return b.Deferred(function(n){b.each(t,function(t,o){var a=o[0],s=b.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&b.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?b.extend(e,r):r}},i={};return r.pipe=r.then,b.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=h.call(arguments),r=n.length,i=1!==r||e&&b.isFunction(e.promise)?r:0,o=1===i?e:b.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?h.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,u,l;if(r>1)for(s=Array(r),u=Array(r),l=Array(r);r>t;t++)n[t]&&b.isFunction(n[t].promise)?n[t].promise().done(a(t,l,n)).fail(o.reject).progress(a(t,u,s)):--i;return i||o.resolveWith(l,n),o.promise()}}),b.support=function(){var t,n,r,a,s,u,l,c,p,f,d=o.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),r=d.getElementsByTagName("a")[0],!n||!r||!n.length)return{};s=o.createElement("select"),l=s.appendChild(o.createElement("option")),a=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!a.value,optSelected:l.selected,enctype:!!o.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==o.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===o.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!l.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}a=o.createElement("input"),a.setAttribute("value",""),t.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","t"),a.setAttribute("name","t"),u=o.createDocumentFragment(),u.appendChild(a),t.appendChecked=a.checked,t.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in{submit:!0,change:!0,focusin:!0})d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1;return d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip,b(function(){var n,r,a,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",u=o.getElementsByTagName("body")[0];u&&(n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",u.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=d.getElementsByTagName("td"),a[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===a[0].offsetHeight,a[0].style.display="",a[1].style.display="none",t.reliableHiddenOffsets=p&&0===a[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===d.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==u.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(o.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(u.style.zoom=1)),u.removeChild(n),n=d=a=r=null)}),n=s=u=l=r=a=null,t}();var O=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,B=/([A-Z])/g;function P(e,n,r,i){if(b.acceptData(e)){var o,a,s=b.expando,u="string"==typeof n,l=e.nodeType,p=l?b.cache:e,f=l?e[s]:e[s]&&s;if(f&&p[f]&&(i||p[f].data)||!u||r!==t)return f||(l?e[s]=f=c.pop()||b.guid++:f=s),p[f]||(p[f]={},l||(p[f].toJSON=b.noop)),("object"==typeof n||"function"==typeof n)&&(i?p[f]=b.extend(p[f],n):p[f].data=b.extend(p[f].data,n)),o=p[f],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[b.camelCase(n)]=r),u?(a=o[n],null==a&&(a=o[b.camelCase(n)])):a=o,a}}function R(e,t,n){if(b.acceptData(e)){var r,i,o,a=e.nodeType,s=a?b.cache:e,u=a?e[b.expando]:b.expando;if(s[u]){if(t&&(o=n?s[u]:s[u].data)){b.isArray(t)?t=t.concat(b.map(t,b.camelCase)):t in o?t=[t]:(t=b.camelCase(t),t=t in o?[t]:t.split(" "));for(r=0,i=t.length;i>r;r++)delete o[t[r]];if(!(n?$:b.isEmptyObject)(o))return}(n||(delete s[u].data,$(s[u])))&&(a?b.cleanData([e],!0):b.support.deleteExpando||s!=s.window?delete s[u]:s[u]=null)}}}b.extend({cache:{},expando:"jQuery"+(p+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?b.cache[e[b.expando]]:e[b.expando],!!e&&!$(e)},data:function(e,t,n){return P(e,t,n)},removeData:function(e,t){return R(e,t)},_data:function(e,t,n){return P(e,t,n,!0)},_removeData:function(e,t){return R(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&b.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),b.fn.extend({data:function(e,n){var r,i,o=this[0],a=0,s=null;if(e===t){if(this.length&&(s=b.data(o),1===o.nodeType&&!b._data(o,"parsedAttrs"))){for(r=o.attributes;r.length>a;a++)i=r[a].name,i.indexOf("data-")||(i=b.camelCase(i.slice(5)),W(o,i,s[i]));b._data(o,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){b.data(this,e)}):b.access(this,function(n){return n===t?o?W(o,e,b.data(o,e)):null:(this.each(function(){b.data(this,e,n)}),t)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){b.removeData(this,e)})}});function W(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(B,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:O.test(r)?b.parseJSON(r):r}catch(o){}b.data(e,n,r)}else r=t}return r}function $(e){var t;for(t in e)if(("data"!==t||!b.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}b.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=b._data(e,n),r&&(!i||b.isArray(r)?i=b._data(e,n,b.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=b.queue(e,t),r=n.length,i=n.shift(),o=b._queueHooks(e,t),a=function(){b.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),o.cur=i,i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return b._data(e,n)||b._data(e,n,{empty:b.Callbacks("once memory").add(function(){b._removeData(e,t+"queue"),b._removeData(e,n)})})}}),b.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?b.queue(this[0],e):n===t?this:this.each(function(){var t=b.queue(this,e,n);b._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&b.dequeue(this,e)})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},delay:function(e,t){return e=b.fx?b.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=b.Deferred(),a=this,s=this.length,u=function(){--i||o.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(s--)r=b._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(u));return u(),o.promise(n)}});var I,z,X=/[\t\r\n]/g,U=/\r/g,V=/^(?:input|select|textarea|button|object)$/i,Y=/^(?:a|area)$/i,J=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,G=/^(?:checked|selected)$/i,Q=b.support.getSetAttribute,K=b.support.input;b.fn.extend({attr:function(e,t){return b.access(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})},prop:function(e,t){return b.access(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return e=b.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,u="string"==typeof e&&e;if(b.isFunction(e))return this.each(function(t){b(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):" ")){o=0;while(i=t[o++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=b.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,u=0===arguments.length||"string"==typeof e&&e;if(b.isFunction(e))return this.each(function(t){b(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):"")){o=0;while(i=t[o++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?b.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return b.isFunction(e)?this.each(function(n){b(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var o,a=0,s=b(this),u=t,l=e.match(w)||[];while(o=l[a++])u=r?u:!s.hasClass(o),s[u?"addClass":"removeClass"](o)}else(n===i||"boolean"===n)&&(this.className&&b._data(this,"__className__",this.className),this.className=this.className||e===!1?"":b._data(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(X," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=b.isFunction(e),this.each(function(n){var o,a=b(this);1===this.nodeType&&(o=i?e.call(this,n,a.val()):e,null==o?o="":"number"==typeof o?o+="":b.isArray(o)&&(o=b.map(o,function(e){return null==e?"":e+""})),r=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,o,"value")!==t||(this.value=o))});if(o)return r=b.valHooks[o.type]||b.valHooks[o.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(U,""):null==n?"":n)}}}),b.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;for(;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(b.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&b.nodeName(n.parentNode,"optgroup"))){if(t=b(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n=b.makeArray(t);return b(e).find("option").each(function(){this.selected=b.inArray(b(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var o,a,s,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return typeof e.getAttribute===i?b.prop(e,n,r):(a=1!==u||!b.isXMLDoc(e),a&&(n=n.toLowerCase(),o=b.attrHooks[n]||(J.test(n)?z:I)),r===t?o&&a&&"get"in o&&null!==(s=o.get(e,n))?s:(typeof e.getAttribute!==i&&(s=e.getAttribute(n)),null==s?t:s):null!==r?o&&a&&"set"in o&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r):(b.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(w);if(o&&1===e.nodeType)while(n=o[i++])r=b.propFix[n]||n,J.test(n)?!Q&&G.test(n)?e[b.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:b.attr(e,n,""),e.removeAttribute(Q?n:r)},attrHooks:{type:{set:function(e,t){if(!b.support.radioValue&&"radio"===t&&b.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!b.isXMLDoc(e),a&&(n=b.propFix[n]||n,o=b.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):V.test(e.nodeName)||Y.test(e.nodeName)&&e.href?0:t}}}}),z={get:function(e,n){var r=b.prop(e,n),i="boolean"==typeof r&&e.getAttribute(n),o="boolean"==typeof r?K&&Q?null!=i:G.test(n)?e[b.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);return o&&o.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?b.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&b.propFix[n]||n,n):e[b.camelCase("default-"+n)]=e[n]=!0,n}},K&&Q||(b.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return b.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,n,r){return b.nodeName(e,"input")?(e.defaultValue=n,t):I&&I.set(e,n,r)}}),Q||(I=b.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&("id"===n||"name"===n||"coords"===n?""!==r.value:r.specified)?r.value:t},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},b.attrHooks.contenteditable={get:I.get,set:function(e,t,n){I.set(e,""===t?!1:t,n)}},b.each(["width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}})})),b.support.hrefNormalized||(b.each(["href","src","width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null==r?t:r}})}),b.each(["href","src"],function(e,t){b.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),b.support.style||(b.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),b.support.optSelected||(b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),b.support.enctype||(b.propFix.enctype="encoding"),b.support.checkOn||b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,n){return b.isArray(n)?e.checked=b.inArray(b(e).val(),n)>=0:t}})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return!0}function ot(){return!1}b.event={global:{},add:function(e,n,r,o,a){var s,u,l,c,p,f,d,h,g,m,y,v=b._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=b.guid++),(u=v.events)||(u=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof b===i||e&&b.event.triggered===e.type?t:b.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(w)||[""],l=n.length;while(l--)s=rt.exec(n[l])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),p=b.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=b.event.special[g]||{},d=b.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&b.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=u[g])||(h=u[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),b.event.global[g]=!0;e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,p,f,d,h,g,m=b.hasData(e)&&b._data(e);if(m&&(c=m.events)){t=(t||"").match(w)||[""],l=t.length;while(l--)if(s=rt.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=b.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;while(o--)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a));u&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||b.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)b.event.remove(e,d+t[l],n,r,!0);b.isEmptyObject(c)&&(delete m.handle,b._removeData(e,"events"))}},trigger:function(n,r,i,a){var s,u,l,c,p,f,d,h=[i||o],g=y.call(n,"type")?n.type:n,m=y.call(n,"namespace")?n.namespace.split("."):[];if(l=f=i=i||o,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+b.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),u=0>g.indexOf(":")&&"on"+g,n=n[b.expando]?n:new b.Event(g,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:b.makeArray(r,[n]),p=b.event.special[g]||{},a||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!a&&!p.noBubble&&!b.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(l=l.parentNode);l;l=l.parentNode)h.push(l),f=l;f===(i.ownerDocument||o)&&h.push(f.defaultView||f.parentWindow||e)}d=0;while((l=h[d++])&&!n.isPropagationStopped())n.type=d>1?c:p.bindType||g,s=(b._data(l,"events")||{})[n.type]&&b._data(l,"handle"),s&&s.apply(l,r),s=u&&l[u],s&&b.acceptData(l)&&s.apply&&s.apply(l,r)===!1&&n.preventDefault();if(n.type=g,!(a||n.isDefaultPrevented()||p._default&&p._default.apply(i.ownerDocument,r)!==!1||"click"===g&&b.nodeName(i,"a")||!b.acceptData(i)||!u||!i[g]||b.isWindow(i))){f=i[u],f&&(i[u]=null),b.event.triggered=g;try{i[g]()}catch(v){}b.event.triggered=t,f&&(i[u]=f)}return n.result}},dispatch:function(e){e=b.event.fix(e);var n,r,i,o,a,s=[],u=h.call(arguments),l=(b._data(this,"events")||{})[e.type]||[],c=b.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=b.event.handlers.call(this,e,l),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((b.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],u=n.delegateCount,l=e.target;if(u&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(o=[],a=0;u>a;a++)i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?b(r,this).index(l)>=0:b.find(r,this,null,[l]).length),o[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return n.length>u&&s.push({elem:this,handlers:n.slice(u)}),s},fix:function(e){if(e[b.expando])return e;var t,n,r,i=e.type,a=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new b.Event(a),t=r.length;while(t--)n=r[t],e[n]=a[n];return e.target||(e.target=a.srcElement||o),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,a,s=n.button,u=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||o,a=i.documentElement,r=i.body,e.pageX=n.clientX+(a&&a.scrollLeft||r&&r.scrollLeft||0)-(a&&a.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(a&&a.scrollTop||r&&r.scrollTop||0)-(a&&a.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&u&&(e.relatedTarget=u===e.target?n.toElement:u),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return b.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t}},focus:{trigger:function(){if(this!==o.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===o.activeElement&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=b.extend(new b.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?b.event.trigger(i,null,t):b.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},b.removeEvent=o.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},b.Event=function(e,n){return this instanceof b.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&b.extend(this,n),this.timeStamp=e&&e.timeStamp||b.now(),this[b.expando]=!0,t):new b.Event(e,n)},b.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;
return(!i||i!==r&&!b.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),b.support.submitBubbles||(b.event.special.submit={setup:function(){return b.nodeName(this,"form")?!1:(b.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=b.nodeName(n,"input")||b.nodeName(n,"button")?n.form:t;r&&!b._data(r,"submitBubbles")&&(b.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),b._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&b.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return b.nodeName(this,"form")?!1:(b.event.remove(this,"._submit"),t)}}),b.support.changeBubbles||(b.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(b.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),b.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),b.event.simulate("change",this,e,!0)})),!1):(b.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!b._data(t,"changeBubbles")&&(b.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||b.event.simulate("change",this.parentNode,e,!0)}),b._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return b.event.remove(this,"._change"),!Z.test(this.nodeName)}}),b.support.focusinBubbles||b.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){b.event.simulate(t,e.target,b.event.fix(e),!0)};b.event.special[t]={setup:function(){0===n++&&o.addEventListener(e,r,!0)},teardown:function(){0===--n&&o.removeEventListener(e,r,!0)}}}),b.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=ot;else if(!i)return this;return 1===o&&(s=i,i=function(e){return b().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=b.guid++)),this.each(function(){b.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,b(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){b.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?b.event.trigger(e,n,r,!0):t}}),function(e,t){var n,r,i,o,a,s,u,l,c,p,f,d,h,g,m,y,v,x="sizzle"+-new Date,w=e.document,T={},N=0,C=0,k=it(),E=it(),S=it(),A=typeof t,j=1<<31,D=[],L=D.pop,H=D.push,q=D.slice,M=D.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},_="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=F.replace("w","w#"),B="([*^$|!~]?=)",P="\\["+_+"*("+F+")"+_+"*(?:"+B+_+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+O+")|)|)"+_+"*\\]",R=":("+F+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+P.replace(3,8)+")*)|.*)\\)|)",W=RegExp("^"+_+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_+"+$","g"),$=RegExp("^"+_+"*,"+_+"*"),I=RegExp("^"+_+"*([\\x20\\t\\r\\n\\f>+~])"+_+"*"),z=RegExp(R),X=RegExp("^"+O+"$"),U={ID:RegExp("^#("+F+")"),CLASS:RegExp("^\\.("+F+")"),NAME:RegExp("^\\[name=['\"]?("+F+")['\"]?\\]"),TAG:RegExp("^("+F.replace("w","w*")+")"),ATTR:RegExp("^"+P),PSEUDO:RegExp("^"+R),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+_+"*(even|odd|(([+-]|)(\\d*)n|)"+_+"*(?:([+-]|)"+_+"*(\\d+)|))"+_+"*\\)|)","i"),needsContext:RegExp("^"+_+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+_+"*((?:-\\d)?\\d*)"+_+"*\\)|)(?=[^-]|$)","i")},V=/[\x20\t\r\n\f]*[+~]/,Y=/^[^{]+\{\s*\[native code/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,G=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,K=/'|\\/g,Z=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,et=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,tt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{q.call(w.documentElement.childNodes,0)[0].nodeType}catch(nt){q=function(e){var t,n=[];while(t=this[e++])n.push(t);return n}}function rt(e){return Y.test(e+"")}function it(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>i.cacheLength&&delete e[t.shift()],e[n]=r}}function ot(e){return e[x]=!0,e}function at(e){var t=p.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function st(e,t,n,r){var i,o,a,s,u,l,f,g,m,v;if((t?t.ownerDocument||t:w)!==p&&c(t),t=t||p,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(!d&&!r){if(i=J.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&y(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return H.apply(n,q.call(t.getElementsByTagName(e),0)),n;if((a=i[3])&&T.getByClassName&&t.getElementsByClassName)return H.apply(n,q.call(t.getElementsByClassName(a),0)),n}if(T.qsa&&!h.test(e)){if(f=!0,g=x,m=t,v=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){l=ft(e),(f=t.getAttribute("id"))?g=f.replace(K,"\\$&"):t.setAttribute("id",g),g="[id='"+g+"'] ",u=l.length;while(u--)l[u]=g+dt(l[u]);m=V.test(e)&&t.parentNode||t,v=l.join(",")}if(v)try{return H.apply(n,q.call(m.querySelectorAll(v),0)),n}catch(b){}finally{f||t.removeAttribute("id")}}}return wt(e.replace(W,"$1"),t,n,r)}a=st.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},c=st.setDocument=function(e){var n=e?e.ownerDocument||e:w;return n!==p&&9===n.nodeType&&n.documentElement?(p=n,f=n.documentElement,d=a(n),T.tagNameNoComments=at(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),T.attributes=at(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),T.getByClassName=at(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),T.getByName=at(function(e){e.id=x+0,e.innerHTML="<a name='"+x+"'></a><div name='"+x+"'></div>",f.insertBefore(e,f.firstChild);var t=n.getElementsByName&&n.getElementsByName(x).length===2+n.getElementsByName(x+0).length;return T.getIdNotName=!n.getElementById(x),f.removeChild(e),t}),i.attrHandle=at(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==A&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},T.getIdNotName?(i.find.ID=function(e,t){if(typeof t.getElementById!==A&&!d){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(i.find.ID=function(e,n){if(typeof n.getElementById!==A&&!d){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==A&&r.getAttributeNode("id").value===e?[r]:t:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=T.tagNameNoComments?function(e,n){return typeof n.getElementsByTagName!==A?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},i.find.NAME=T.getByName&&function(e,n){return typeof n.getElementsByName!==A?n.getElementsByName(name):t},i.find.CLASS=T.getByClassName&&function(e,n){return typeof n.getElementsByClassName===A||d?t:n.getElementsByClassName(e)},g=[],h=[":focus"],(T.qsa=rt(n.querySelectorAll))&&(at(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||h.push("\\["+_+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||h.push(":checked")}),at(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&h.push("[*^$]="+_+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||h.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),h.push(",.*:")})),(T.matchesSelector=rt(m=f.matchesSelector||f.mozMatchesSelector||f.webkitMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&at(function(e){T.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),g.push("!=",R)}),h=RegExp(h.join("|")),g=RegExp(g.join("|")),y=rt(f.contains)||f.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},v=f.compareDocumentPosition?function(e,t){var r;return e===t?(u=!0,0):(r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&r||e.parentNode&&11===e.parentNode.nodeType?e===n||y(w,e)?-1:t===n||y(w,t)?1:0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t)return u=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:0;if(o===a)return ut(e,t);r=e;while(r=r.parentNode)s.unshift(r);r=t;while(r=r.parentNode)l.unshift(r);while(s[i]===l[i])i++;return i?ut(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},u=!1,[0,0].sort(v),T.detectDuplicates=u,p):p},st.matches=function(e,t){return st(e,null,null,t)},st.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&c(e),t=t.replace(Z,"='$1']"),!(!T.matchesSelector||d||g&&g.test(t)||h.test(t)))try{var n=m.call(e,t);if(n||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return st(t,p,null,[e]).length>0},st.contains=function(e,t){return(e.ownerDocument||e)!==p&&c(e),y(e,t)},st.attr=function(e,t){var n;return(e.ownerDocument||e)!==p&&c(e),d||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):d||T.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},st.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},st.uniqueSort=function(e){var t,n=[],r=1,i=0;if(u=!T.detectDuplicates,e.sort(v),u){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e};function ut(e,t){var n=t&&e,r=n&&(~t.sourceIndex||j)-(~e.sourceIndex||j);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pt(e){return ot(function(t){return t=+t,ot(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}o=st.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=o(t);return n},i=st.selectors={cacheLength:50,createPseudo:ot,match:U,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||st.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&st.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return U.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&z.test(n)&&(t=ft(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(et,tt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[e+" "];return t||(t=RegExp("(^|"+_+")"+e+"("+_+"|$)"))&&k(e,function(e){return t.test(e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=st.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(m){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[x]||(m[x]={}),l=c[e]||[],d=l[0]===N&&l[1],f=l[0]===N&&l[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if(1===p.nodeType&&++f&&p===t){c[e]=[N,d,f];break}}else if(v&&(l=(t[x]||(t[x]={}))[e])&&l[0]===N)f=l[1];else while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[x]||(p[x]={}))[e]=[N,f]),p===t))break;return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||st.error("unsupported pseudo: "+e);return r[x]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ot(function(e,n){var i,o=r(e,t),a=o.length;while(a--)i=M.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:ot(function(e){var t=[],n=[],r=s(e.replace(W,"$1"));return r[x]?ot(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:ot(function(e){return function(t){return st(e,t).length>0}}),contains:ot(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:ot(function(e){return X.test(e||"")||st.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do if(n=d?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,n){return[0>n?n+t:n]}),even:pt(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:pt(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:pt(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:pt(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}};for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[n]=lt(n);for(n in{submit:!0,reset:!0})i.pseudos[n]=ct(n);function ft(e,t){var n,r,o,a,s,u,l,c=E[e+" "];if(c)return t?0:c.slice(0);s=e,u=[],l=i.preFilter;while(s){(!n||(r=$.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),n=!1,(r=I.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(W," ")}),s=s.slice(n.length));for(a in i.filter)!(r=U[a].exec(s))||l[a]&&!(r=l[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?st.error(e):E(e,u).slice(0)}function dt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function ht(e,t,n){var i=t.dir,o=n&&"parentNode"===i,a=C++;return t.first?function(t,n,r){while(t=t[i])if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,s){var u,l,c,p=N+" "+a;if(s){while(t=t[i])if((1===t.nodeType||o)&&e(t,n,s))return!0}else while(t=t[i])if(1===t.nodeType||o)if(c=t[x]||(t[x]={}),(l=c[i])&&l[0]===p){if((u=l[1])===!0||u===r)return u===!0}else if(l=c[i]=[p],l[1]=e(t,n,s)||r,l[1]===!0)return!0}}function gt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function mt(e,t,n,r,i){var o,a=[],s=0,u=e.length,l=null!=t;for(;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function yt(e,t,n,r,i,o){return r&&!r[x]&&(r=yt(r)),i&&!i[x]&&(i=yt(i,o)),ot(function(o,a,s,u){var l,c,p,f=[],d=[],h=a.length,g=o||xt(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:mt(g,f,e,s,u),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,u),r){l=mt(y,d),r(l,[],s,u),c=l.length;while(c--)(p=l[c])&&(y[d[c]]=!(m[d[c]]=p))}if(o){if(i||e){if(i){l=[],c=y.length;while(c--)(p=y[c])&&l.push(m[c]=p);i(null,y=[],l,u)}c=y.length;while(c--)(p=y[c])&&(l=i?M.call(o,p):f[c])>-1&&(o[l]=!(a[l]=p))}}else y=mt(y===a?y.splice(h,y.length):y),i?i(null,a,y,u):H.apply(a,y)})}function vt(e){var t,n,r,o=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],u=a?1:0,c=ht(function(e){return e===t},s,!0),p=ht(function(e){return M.call(t,e)>-1},s,!0),f=[function(e,n,r){return!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;o>u;u++)if(n=i.relative[e[u].type])f=[ht(gt(f),n)];else{if(n=i.filter[e[u].type].apply(null,e[u].matches),n[x]){for(r=++u;o>r;r++)if(i.relative[e[r].type])break;return yt(u>1&&gt(f),u>1&&dt(e.slice(0,u-1)).replace(W,"$1"),n,r>u&&vt(e.slice(u,r)),o>r&&vt(e=e.slice(r)),o>r&&dt(e))}f.push(n)}return gt(f)}function bt(e,t){var n=0,o=t.length>0,a=e.length>0,s=function(s,u,c,f,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,T=l,C=s||a&&i.find.TAG("*",d&&u.parentNode||u),k=N+=null==T?1:Math.random()||.1;for(w&&(l=u!==p&&u,r=n);null!=(h=C[b]);b++){if(a&&h){g=0;while(m=e[g++])if(m(h,u,c)){f.push(h);break}w&&(N=k,r=++n)}o&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,o&&b!==v){g=0;while(m=t[g++])m(x,y,u,c);if(s){if(v>0)while(b--)x[b]||y[b]||(y[b]=L.call(f));y=mt(y)}H.apply(f,y),w&&!s&&y.length>0&&v+t.length>1&&st.uniqueSort(f)}return w&&(N=k,l=T),x};return o?ot(s):s}s=st.compile=function(e,t){var n,r=[],i=[],o=S[e+" "];if(!o){t||(t=ft(e)),n=t.length;while(n--)o=vt(t[n]),o[x]?r.push(o):i.push(o);o=S(e,bt(i,r))}return o};function xt(e,t,n){var r=0,i=t.length;for(;i>r;r++)st(e,t[r],n);return n}function wt(e,t,n,r){var o,a,u,l,c,p=ft(e);if(!r&&1===p.length){if(a=p[0]=p[0].slice(0),a.length>2&&"ID"===(u=a[0]).type&&9===t.nodeType&&!d&&i.relative[a[1].type]){if(t=i.find.ID(u.matches[0].replace(et,tt),t)[0],!t)return n;e=e.slice(a.shift().value.length)}o=U.needsContext.test(e)?0:a.length;while(o--){if(u=a[o],i.relative[l=u.type])break;if((c=i.find[l])&&(r=c(u.matches[0].replace(et,tt),V.test(a[0].type)&&t.parentNode||t))){if(a.splice(o,1),e=r.length&&dt(a),!e)return H.apply(n,q.call(r,0)),n;break}}}return s(e,p)(r,t,d,n,V.test(e)),n}i.pseudos.nth=i.pseudos.eq;function Tt(){}i.filters=Tt.prototype=i.pseudos,i.setFilters=new Tt,c(),st.attr=b.attr,b.find=st,b.expr=st.selectors,b.expr[":"]=b.expr.pseudos,b.unique=st.uniqueSort,b.text=st.getText,b.isXMLDoc=st.isXML,b.contains=st.contains}(e);var at=/Until$/,st=/^(?:parents|prev(?:Until|All))/,ut=/^.[^:#\[\.,]*$/,lt=b.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({find:function(e){var t,n,r,i=this.length;if("string"!=typeof e)return r=this,this.pushStack(b(e).filter(function(){for(t=0;i>t;t++)if(b.contains(r[t],this))return!0}));for(n=[],t=0;i>t;t++)b.find(e,this[t],n);return n=this.pushStack(i>1?b.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=b(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(b.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1))},filter:function(e){return this.pushStack(ft(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?lt.test(e)?b(e,this.context).index(this[0])>=0:b.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,o=[],a=lt.test(e)||"string"!=typeof e?b(e,t||this.context):0;for(;i>r;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&11!==n.nodeType){if(a?a.index(n)>-1:b.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}}return this.pushStack(o.length>1?b.unique(o):o)},index:function(e){return e?"string"==typeof e?b.inArray(this[0],b(e)):b.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?b(e,t):b.makeArray(e&&e.nodeType?[e]:e),r=b.merge(this.get(),n);return this.pushStack(b.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.fn.andSelf=b.fn.addBack;function pt(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}b.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(e,t,n){return b.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(e,t,n){return b.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return b.dir(e,"previousSibling",n)},siblings:function(e){return b.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.merge([],e.childNodes)}},function(e,t){b.fn[e]=function(n,r){var i=b.map(this,t,n);return at.test(e)||(r=n),r&&"string"==typeof r&&(i=b.filter(r,i)),i=this.length>1&&!ct[e]?b.unique(i):i,this.length>1&&st.test(e)&&(i=i.reverse()),this.pushStack(i)}}),b.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?b.find.matchesSelector(t[0],e)?[t[0]]:[]:b.find.matches(e,t)},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!b(o).is(r)))1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});function ft(e,t,n){if(t=t||0,b.isFunction(t))return b.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return b.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=b.grep(e,function(e){return 1===e.nodeType});if(ut.test(t))return b.filter(t,r,!n);t=b.filter(t,r)}return b.grep(e,function(e){return b.inArray(e,t)>=0===n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Nt=/^(?:checkbox|radio)$/i,Ct=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:b.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(o),Dt=jt.appendChild(o.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,b.fn.extend({text:function(e){return b.access(this,function(e){return e===t?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(b.isFunction(e))return this.each(function(t){b(this).wrapAll(e.call(this,t))});if(this[0]){var t=b(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return b.isFunction(e)?this.each(function(t){b(this).wrapInner(e.call(this,t))}):this.each(function(){var t=b(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=b.isFunction(e);return this.each(function(n){b(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,"body")||b(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=0;for(;null!=(n=this[r]);r++)(!e||b.filter(e,[n]).length>0)&&(t||1!==n.nodeType||b.cleanData(Ot(n)),n.parentNode&&(t&&b.contains(n.ownerDocument,n)&&Mt(Ot(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&b.cleanData(Ot(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&b.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return b.clone(this,e,t)})},html:function(e){return b.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(gt,""):t;if(!("string"!=typeof e||Tt.test(e)||!b.support.htmlSerialize&&mt.test(e)||!b.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(b.cleanData(Ot(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=b.isFunction(e);return t||"string"==typeof e||(e=b(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(b(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=f.apply([],e);var i,o,a,s,u,l,c=0,p=this.length,d=this,h=p-1,g=e[0],m=b.isFunction(g);if(m||!(1>=p||"string"!=typeof g||b.support.checkClone)&&Ct.test(g))return this.each(function(i){var o=d.eq(i);m&&(e[0]=g.call(this,i,n?o.html():t)),o.domManip(e,n,r)});if(p&&(l=b.buildFragment(e,this[0].ownerDocument,!1,this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(n=n&&b.nodeName(i,"tr"),s=b.map(Ot(l,"script"),Ht),a=s.length;p>c;c++)o=l,c!==h&&(o=b.clone(o,!0,!0),a&&b.merge(s,Ot(o,"script"))),r.call(n&&b.nodeName(this[c],"table")?Lt(this[c],"tbody"):this[c],o,c);if(a)for(u=s[s.length-1].ownerDocument,b.map(s,qt),c=0;a>c;c++)o=s[c],kt.test(o.type||"")&&!b._data(o,"globalEval")&&b.contains(u,o)&&(o.src?b.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):b.globalEval((o.text||o.textContent||o.innerHTML||"").replace(St,"")));l=i=null}return this}});function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function Ht(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Mt(e,t){var n,r=0;for(;null!=(n=e[r]);r++)b._data(n,"globalEval",!t||b._data(t[r],"globalEval"))}function _t(e,t){if(1===t.nodeType&&b.hasData(e)){var n,r,i,o=b._data(e),a=b._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)b.event.add(t,n,s[n][r])}a.data&&(a.data=b.extend({},a.data))}}function Ft(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!b.support.noCloneEvent&&t[b.expando]){i=b._data(t);for(r in i.events)b.removeEvent(t,r,i.handle);t.removeAttribute(b.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),b.support.html5Clone&&e.innerHTML&&!b.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Nt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){b.fn[e]=function(e){var n,r=0,i=[],o=b(e),a=o.length-1;for(;a>=r;r++)n=r===a?this:this.clone(!0),b(o[r])[t](n),d.apply(i,n.get());return this.pushStack(i)}});function Ot(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++)!n||b.nodeName(o,n)?s.push(o):b.merge(s,Ot(o,n));return n===t||n&&b.nodeName(e,n)?b.merge([e],s):s}function Bt(e){Nt.test(e.type)&&(e.defaultChecked=e.checked)}b.extend({clone:function(e,t,n){var r,i,o,a,s,u=b.contains(e.ownerDocument,e);if(b.support.html5Clone||b.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(b.support.noCloneEvent&&b.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||b.isXMLDoc(e)))for(r=Ot(o),s=Ot(e),a=0;null!=(i=s[a]);++a)r[a]&&Ft(i,r[a]);if(t)if(n)for(s=s||Ot(e),r=r||Ot(o),a=0;null!=(i=s[a]);a++)_t(i,r[a]);else _t(e,o);return r=Ot(o,"script"),r.length>0&&Mt(r,!u&&Ot(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,u,l,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++)if(o=e[h],o||0===o)if("object"===b.type(o))b.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),u=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[u]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];while(i--)s=s.lastChild;if(!b.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!b.support.tbody){o="table"!==u||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;while(i--)b.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l)
}b.merge(d,s.childNodes),s.textContent="";while(s.firstChild)s.removeChild(s.firstChild);s=f.lastChild}else d.push(t.createTextNode(o));s&&f.removeChild(s),b.support.appendChecked||b.grep(Ot(d,"input"),Bt),h=0;while(o=d[h++])if((!r||-1===b.inArray(o,r))&&(a=b.contains(o.ownerDocument,o),s=Ot(f.appendChild(o),"script"),a&&Mt(s),n)){i=0;while(o=s[i++])kt.test(o.type||"")&&n.push(o)}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,u=b.expando,l=b.cache,p=b.support.deleteExpando,f=b.event.special;for(;null!=(n=e[s]);s++)if((t||b.acceptData(n))&&(o=n[u],a=o&&l[o])){if(a.events)for(r in a.events)f[r]?b.event.remove(n,r):b.removeEvent(n,r,a.handle);l[o]&&(delete l[o],p?delete n[u]:typeof n.removeAttribute!==i?n.removeAttribute(u):n[u]=null,c.push(o))}}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+x+")(.*)$","i"),Yt=RegExp("^("+x+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+x+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--)if(t=en[i]+n,t in e)return t;return r}function nn(e,t){return e=t||e,"none"===b.css(e,"display")||!b.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++)r=e[a],r.style&&(o[a]=b._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=b._data(r,"olddisplay",un(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&b._data(r,"olddisplay",i?n:b.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}b.fn.extend({css:function(e,n){return b.access(this,function(e,n,r){var i,o,a={},s=0;if(b.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++)a[n[s]]=b.css(e,n[s],!1,o);return a}return r!==t?b.style(e,n,r):b.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:nn(this))?b(this).show():b(this).hide()})}}),b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,u=b.camelCase(n),l=e.style;if(n=b.cssProps[u]||(b.cssProps[u]=tn(l,u)),s=b.cssHooks[n]||b.cssHooks[u],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:l[n];if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(b.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||b.cssNumber[u]||(r+="px"),b.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(l[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{l[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,u=b.camelCase(n);return n=b.cssProps[u]||(b.cssProps[u]=tn(e.style,u)),s=b.cssHooks[n]||b.cssHooks[u],s&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||b.isNumeric(o)?o||0:a):a},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),u=s?s.getPropertyValue(n)||s[n]:t,l=e.style;return s&&(""!==u||b.contains(e.ownerDocument,e)||(u=b.style(e,n)),Yt.test(u)&&Ut.test(n)&&(i=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=u,u=s.width,l.width=i,l.minWidth=o,l.maxWidth=a)),u}):o.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),u=s?s[n]:t,l=e.style;return null==u&&l&&l[n]&&(u=l[n]),Yt.test(u)&&!zt.test(n)&&(i=l.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),l.left="fontSize"===n?"1em":u,u=l.pixelLeft+"px",l.left=i,a&&(o.left=a)),""===u?"auto":u});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;for(;4>o;o+=2)"margin"===n&&(a+=b.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=b.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=b.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=b.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=b.css(e,"border"+Zt[o]+"Width",!0,i)));return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i))return i;r=a&&(b.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function un(e){var t=o,n=Gt[e];return n||(n=ln(e,t),"none"!==n&&n||(Pt=(Pt||b("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=ln(e,t),Pt.detach()),Gt[e]=n),n}function ln(e,t){var n=b(t.createElement(e)).appendTo(t.body),r=b.css(n[0],"display");return n.remove(),r}b.each(["height","width"],function(e,n){b.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(b.css(e,"display"))?b.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,i),i):0)}}}),b.support.opacity||(b.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=b.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===b.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),b(function(){b.support.reliableMarginRight||(b.cssHooks.marginRight={get:function(e,n){return n?b.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!b.support.pixelPosition&&b.fn.position&&b.each(["top","left"],function(e,n){b.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?b(e).position()[n]+"px":r):t}}})}),b.expr&&b.expr.filters&&(b.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!b.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||b.css(e,"display"))},b.expr.filters.visible=function(e){return!b.expr.filters.hidden(e)}),b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+Zt[r]+t]=o[r]||o[r-2]||o[0];return i}},Ut.test(e)||(b.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Nt.test(e))}).map(function(e,t){var n=b(this).val();return null==n?null:b.isArray(n)?b.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),b.param=function(e,n){var r,i=[],o=function(e,t){t=b.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(e)||e.jquery&&!b.isPlainObject(e))b.each(e,function(){o(this.name,this.value)});else for(r in e)gn(r,e[r],n,o);return i.join("&").replace(cn,"+")};function gn(e,t,n,r){var i;if(b.isArray(t))b.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==b.type(t))r(e,t);else for(i in t)gn(e+"["+i+"]",t[i],n,r)}b.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){b.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),b.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var mn,yn,vn=b.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Nn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Cn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=b.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=a.href}catch(Ln){yn=o.createElement("a"),yn.href="",yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(w)||[];if(b.isFunction(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qn(e,n,r,i){var o={},a=e===jn;function s(u){var l;return o[u]=!0,b.each(e[u]||[],function(e,u){var c=u(n,r,i);return"string"!=typeof c||a||o[c]?a?!(l=c):t:(n.dataTypes.unshift(c),s(c),!1)}),l}return s(n.dataTypes[0])||!o["*"]&&s("*")}function Mn(e,n){var r,i,o=b.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&b.extend(!0,e,r),e}b.fn.load=function(e,n,r){if("string"!=typeof e&&Sn)return Sn.apply(this,arguments);var i,o,a,s=this,u=e.indexOf(" ");return u>=0&&(i=e.slice(u,e.length),e=e.slice(0,u)),b.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&b.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?b("<div>").append(b.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}}),b.each(["get","post"],function(e,n){b[n]=function(e,r,i,o){return b.isFunction(r)&&(o=o||i,i=r,r=t),b.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Nn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Mn(Mn(e,b.ajaxSettings),t):Mn(b.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,u,l,c,p=b.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?b(f):b.event,h=b.Deferred(),g=b.Callbacks("once memory"),m=p.statusCode||{},y={},v={},x=0,T="canceled",N={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!c){c={};while(t=Tn.exec(a))c[t[1].toLowerCase()]=t[2]}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return x||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)m[t]=[m[t],e[t]];else N.always(e[N.status]);return this},abort:function(e){var t=e||T;return l&&l.abort(t),k(0,t),this}};if(h.promise(N).complete=g.add,N.success=N.done,N.error=N.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=b.trim(p.dataType||"*").toLowerCase().match(w)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?80:443))==(mn[3]||("http:"===mn[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),qn(An,p,n,N),2===x)return N;u=p.global,u&&0===b.active++&&b.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Cn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(b.lastModified[o]&&N.setRequestHeader("If-Modified-Since",b.lastModified[o]),b.etag[o]&&N.setRequestHeader("If-None-Match",b.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&N.setRequestHeader("Content-Type",p.contentType),N.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers)N.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(p.beforeSend.call(f,N,p)===!1||2===x))return N.abort();T="abort";for(i in{success:1,error:1,complete:1})N[i](p[i]);if(l=qn(jn,p,n,N)){N.readyState=1,u&&d.trigger("ajaxSend",[N,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){N.abort("timeout")},p.timeout));try{x=1,l.send(y,k)}catch(C){if(!(2>x))throw C;k(-1,C)}}else k(-1,"No Transport");function k(e,n,r,i){var c,y,v,w,T,C=n;2!==x&&(x=2,s&&clearTimeout(s),l=t,a=i||"",N.readyState=e>0?4:0,r&&(w=_n(p,N,r)),e>=200&&300>e||304===e?(p.ifModified&&(T=N.getResponseHeader("Last-Modified"),T&&(b.lastModified[o]=T),T=N.getResponseHeader("etag"),T&&(b.etag[o]=T)),204===e?(c=!0,C="nocontent"):304===e?(c=!0,C="notmodified"):(c=Fn(p,w),C=c.state,y=c.data,v=c.error,c=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),N.status=e,N.statusText=(n||C)+"",c?h.resolveWith(f,[y,C,N]):h.rejectWith(f,[N,C,v]),N.statusCode(m),m=t,u&&d.trigger(c?"ajaxSuccess":"ajaxError",[N,p,c?y:v]),g.fireWith(f,[N,C]),u&&(d.trigger("ajaxComplete",[N,p]),--b.active||b.event.trigger("ajaxStop")))}return N},getScript:function(e,n){return b.get(e,t,n,"script")},getJSON:function(e,t,n){return b.get(e,t,n,"json")}});function _n(e,n,r){var i,o,a,s,u=e.contents,l=e.dataTypes,c=e.responseFields;for(s in c)s in r&&(n[c[s]]=r[s]);while("*"===l[0])l.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in u)if(u[s]&&u[s].test(o)){l.unshift(s);break}if(l[0]in r)a=l[0];else{for(s in r){if(!l[0]||e.converters[s+" "+l[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==l[0]&&l.unshift(a),r[a]):t}function Fn(e,t){var n,r,i,o,a={},s=0,u=e.dataTypes.slice(),l=u[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u[1])for(i in e.converters)a[i.toLowerCase()]=e.converters[i];for(;r=u[++s];)if("*"!==r){if("*"!==l&&l!==r){if(i=a[l+" "+r]||a["* "+r],!i)for(n in a)if(o=n.split(" "),o[1]===r&&(i=a[l+" "+o[0]]||a["* "+o[0]])){i===!0?i=a[n]:a[n]!==!0&&(r=o[0],u.splice(s--,0,r));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+l+" to "+r}}}l=r}return{state:"success",data:t}}b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),b.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=o.head||b("head")[0]||o.documentElement;return{send:function(t,i){n=o.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var On=[],Bn=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=On.pop()||b.expando+"_"+vn++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,u=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return u||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=b.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||b.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,On.push(o)),s&&b.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn)Pn[e](t,!0)};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}b.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&In()||zn()}:In,Rn=b.ajaxSettings.xhr(),b.support.cors=!!Rn&&"withCredentials"in Rn,Rn=b.support.ajax=!!Rn,Rn&&b.ajaxTransport(function(n){if(!n.crossDomain||b.support.cors){var r;return{send:function(i,o){var a,s,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)u[s]=n.xhrFields[s];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)u.setRequestHeader(s,i[s])}catch(l){}u.send(n.hasContent&&n.data||null),r=function(e,i){var s,l,c,p;try{if(r&&(i||4===u.readyState))if(r=t,a&&(u.onreadystatechange=b.noop,$n&&delete Pn[a]),i)4!==u.readyState&&u.abort();else{p={},s=u.status,l=u.getAllResponseHeaders(),"string"==typeof u.responseText&&(p.text=u.responseText);try{c=u.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(d){i||o(-1,d)}p&&o(s,c,p,l)},n.async?4===u.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},b(e).unload($n)),Pn[a]=r),u.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+x+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=Yn.exec(t),a=i.cur(),s=+a||0,u=1,l=20;if(o){if(n=+o[2],r=o[3]||(b.cssNumber[e]?"":"px"),"px"!==r&&s){s=b.css(i.elem,e,!0)||n||1;do u=u||".5",s/=u,b.style(i.elem,e,s+r);while(u!==(u=i.cur()/a)&&1!==u&&--l)}i.unit=r,i.start=s,i.end=o[1]?s+(o[1]+1)*n:n}return i}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=b.now()}function Zn(e,t){b.each(t,function(t,n){var r=(Qn[t]||[]).concat(Qn["*"]),i=0,o=r.length;for(;o>i;i++)if(r[i].call(e,t,n))return})}function er(e,t,n){var r,i,o=0,a=Gn.length,s=b.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;var t=Xn||Kn(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;for(;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=b.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(tr(c,l.opts.specialEasing);a>o;o++)if(r=Gn[o].call(l,e,c,l.opts))return r;return Zn(l,c),b.isFunction(l.opts.start)&&l.opts.start.call(e,l),b.fx.timer(b.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function tr(e,t){var n,r,i,o,a;for(i in e)if(r=b.camelCase(i),o=t[r],n=e[i],b.isArray(n)&&(o=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),a=b.cssHooks[r],a&&"expand"in a){n=a.expand(n),delete e[r];for(i in n)i in e||(e[i]=n[i],t[i]=o)}else t[r]=o}b.Animation=b.extend(er,{tweener:function(e,t){b.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,u,l,c,p,f=this,d=e.style,h={},g=[],m=e.nodeType&&nn(e);n.queue||(c=b._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,p=c.empty.fire,c.empty.fire=function(){c.unqueued||p()}),c.unqueued++,f.always(function(){f.always(function(){c.unqueued--,b.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===b.css(e,"display")&&"none"===b.css(e,"float")&&(b.support.inlineBlockNeedsLayout&&"inline"!==un(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",b.support.shrinkWrapBlocks||f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],Vn.exec(a)){if(delete t[i],u=u||"toggle"===a,a===(m?"hide":"show"))continue;g.push(i)}if(o=g.length){s=b._data(e,"fxshow")||b._data(e,"fxshow",{}),"hidden"in s&&(m=s.hidden),u&&(s.hidden=!m),m?b(e).show():f.done(function(){b(e).hide()}),f.done(function(){var t;b._removeData(e,"fxshow");for(t in h)b.style(e,t,h[t])});for(i=0;o>i;i++)r=g[i],l=f.createTween(r,m?s[r]:0),h[r]=s[r]||b.style(e,r),r in s||(s[r]=l.start,m&&(l.end=l.start,l.start="width"===r||"height"===r?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}b.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(b.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=b.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[b.cssProps[e.prop]]||b.cssHooks[e.prop])?b.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.each(["toggle","show","hide"],function(e,t){var n=b.fn[t];b.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),b.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=b.isEmptyObject(e),o=b.speed(t,n,r),a=function(){var t=er(this,b.extend({},e),o);a.finish=function(){t.stop(!0)},(i||b._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=b.timers,a=b._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Jn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&b.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=b._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=b.timers,a=r?r.length:0;for(n.finish=!0,b.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}b.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),b.speed=function(e,t,n){var r=e&&"object"==typeof e?b.extend({},e):{complete:n||!n&&t||b.isFunction(e)&&e,duration:e,easing:n&&t||t&&!b.isFunction(t)&&t};return r.duration=b.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in b.fx.speeds?b.fx.speeds[r.duration]:b.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){b.isFunction(r.old)&&r.old.call(this),r.queue&&b.dequeue(this,r.queue)},r},b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},b.timers=[],b.fx=rr.prototype.init,b.fx.tick=function(){var e,n=b.timers,r=0;for(Xn=b.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||b.fx.stop(),Xn=t},b.fx.timer=function(e){e()&&b.timers.push(e)&&b.fx.start()},b.fx.interval=13,b.fx.start=function(){Un||(Un=setInterval(b.fx.tick,b.fx.interval))},b.fx.stop=function(){clearInterval(Un),Un=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fx.step={},b.expr&&b.expr.filters&&(b.expr.filters.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length}),b.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){b.offset.setOffset(this,e,t)});var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s)return n=s.documentElement,b.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},b.offset={setOffset:function(e,t,n){var r=b.css(e,"position");"static"===r&&(e.style.position="relative");var i=b(e),o=i.offset(),a=b.css(e,"top"),s=b.css(e,"left"),u=("absolute"===r||"fixed"===r)&&b.inArray("auto",[a,s])>-1,l={},c={},p,f;u?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),b.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(l.top=t.top-o.top+p),null!=t.left&&(l.left=t.left-o.left+f),"using"in t?t.using.call(e,l):i.css(l)}},b.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===b.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),b.nodeName(e[0],"html")||(n=e.offset()),n.top+=b.css(e[0],"borderTopWidth",!0),n.left+=b.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-b.css(r,"marginTop",!0),left:t.left-n.left-b.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||o.documentElement;while(e&&!b.nodeName(e,"html")&&"static"===b.css(e,"position"))e=e.offsetParent;return e||o.documentElement})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);b.fn[e]=function(i){return b.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?b(a).scrollLeft():o,r?o:b(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return b.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}b.each({Height:"height",Width:"width"},function(e,n){b.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){b.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return b.access(this,function(n,r,i){var o;return b.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?b.css(n,r,s):b.style(n,r,i,s)},n,a?i:t,a,null)}})}),e.jQuery=e.$=b,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return b})})(window);
/*! jQuery UI - v1.11.4 - 2015-03-11
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, draggable.js, droppable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, menu.js, progressbar.js, resizable.js, selectable.js, selectmenu.js, slider.js, sortable.js, spinner.js, tabs.js, tooltip.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */

(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(t,s){var n,a,o,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,a=n.name,t.href&&a&&"map"===n.nodeName.toLowerCase()?(o=e("img[usemap='#"+a+"']")[0],!!o&&i(o)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!t.disabled:"a"===r?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function s(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=a(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",o)}function o(){e.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function r(t,i){e.extend(t,i);for(var s in i)null==i[s]&&(t[s]=i[s]);return t}function h(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),s="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return s&&"static"===t.css("position")?!1:n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var s=e.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&t(i,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function s(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){e(this).css(a,s(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(a,s(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,s,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var n,a=e.ui[t].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i,s){var n,a=e.plugins[t];if(a&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}};var l=0,u=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{s=e._data(n,"events"),s&&s.remove&&e(n).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,a,o,r,h={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}(),void 0):(h[t]=s,void 0)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},h,{constructor:o,namespace:l,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,n=u.call(arguments,1),a=0,o=n.length;o>a;a++)for(i in n[a])s=n[a][i],n[a].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(n){var a="string"==typeof n,o=u.call(arguments,1),r=this;return a?this.each(function(){var i,a=e.data(this,s);return"instance"===n?(r=a,!1):a?e.isFunction(a[n])&&"_"!==n.charAt(0)?(i=a[n].apply(a,o),i!==a&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+n+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+n+"'")}):(o.length&&(n=e.widget.extend.apply(null,[n].concat(o))),this.each(function(){var t=e.data(this,s);t?(t.option(n||{}),t._init&&t._init()):e.data(this,s,new i(n,this))})),r}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},s=t.split("."),t=s.shift(),s.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var n,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),e.widget;var d=!1;e(document).mouseup(function(){d=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!d){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,n="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),d=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),d=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function s(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,a,o=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=s.children()[0];return e("body").append(s),t=a.offsetWidth,s.css("overflow","scroll"),i=a.offsetWidth,t===i&&(i=s[0].clientWidth),s.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),s=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,a="scroll"===s||"auto"===s&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||n?i.width():i.outerWidth(),height:s||n?i.height():i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=e.extend({},n);var p,m,g,v,y,b,_=e(n.of),x=e.position.getWithinInfo(n.within),w=e.position.getScrollInfo(x),k=(n.collision||"flip").split(" "),T={};return b=s(_),_[0].preventDefault&&(n.at="left top"),m=b.width,g=b.height,v=b.offset,y=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(n[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=d.exec(i[0]),t=d.exec(i[1]),T[this]=[e?e[0]:0,t?t[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===n.at[0]?y.left+=m:"center"===n.at[0]&&(y.left+=m/2),"bottom"===n.at[1]?y.top+=g:"center"===n.at[1]&&(y.top+=g/2),p=t(T.at,m,g),y.left+=p[0],y.top+=p[1],this.each(function(){var s,l,u=e(this),d=u.outerWidth(),c=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),D=d+f+i(this,"marginRight")+w.width,S=c+b+i(this,"marginBottom")+w.height,M=e.extend({},y),C=t(T.my,u.outerWidth(),u.outerHeight());"right"===n.my[0]?M.left-=d:"center"===n.my[0]&&(M.left-=d/2),"bottom"===n.my[1]?M.top-=c:"center"===n.my[1]&&(M.top-=c/2),M.left+=C[0],M.top+=C[1],a||(M.left=h(M.left),M.top=h(M.top)),s={marginLeft:f,marginTop:b},e.each(["left","top"],function(t,i){e.ui.position[k[t]]&&e.ui.position[k[t]][i](M,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:c,collisionPosition:s,collisionWidth:D,collisionHeight:S,offset:[p[0]+C[0],p[1]+C[1]],my:n.my,at:n.at,within:x,elem:u})}),n.using&&(l=function(e){var t=v.left-M.left,i=t+m-d,s=v.top-M.top,a=s+g-c,h={target:{element:_,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:M.left,top:M.top,width:d,height:c},horizontal:0>i?"left":t>0?"right":"center",vertical:0>a?"top":s>0?"bottom":"middle"};d>m&&m>r(t+i)&&(h.horizontal="center"),c>g&&g>r(s+a)&&(h.vertical="middle"),h.important=o(r(t),r(i))>o(r(s),r(a))?"horizontal":"vertical",n.using.call(this,e,h)}),u.offset(e.extend(M,{using:l}))})},e.ui.position={fit:{left:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=e.left-t.collisionPosition.marginLeft,h=n-r,l=r+t.collisionWidth-a-n;t.collisionWidth>a?h>0&&0>=l?(i=e.left+h+t.collisionWidth-a-n,e.left+=h-i):e.left=l>0&&0>=h?n:h>l?n+a-t.collisionWidth:n:h>0?e.left+=h:l>0?e.left-=l:e.left=o(e.left-r,e.left)},top:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollTop:s.offset.top,a=t.within.height,r=e.top-t.collisionPosition.marginTop,h=n-r,l=r+t.collisionHeight-a-n;t.collisionHeight>a?h>0&&0>=l?(i=e.top+h+t.collisionHeight-a-n,e.top+=h-i):e.top=l>0&&0>=h?n:h>l?n+a-t.collisionHeight:n:h>0?e.top+=h:l>0?e.top-=l:e.top=o(e.top-r,e.top)}},flip:{left:function(e,t){var i,s,n=t.within,a=n.offset.left+n.scrollLeft,o=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=e.left-t.collisionPosition.marginLeft,u=l-h,d=l+t.collisionWidth-o-h,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+c+p+f+t.collisionWidth-o-a,(0>i||r(u)>i)&&(e.left+=c+p+f)):d>0&&(s=e.left-t.collisionPosition.marginLeft+c+p+f-h,(s>0||d>r(s))&&(e.left+=c+p+f))},top:function(e,t){var i,s,n=t.within,a=n.offset.top+n.scrollTop,o=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-h,d=l+t.collisionHeight-o-h,c="top"===t.my[1],p=c?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(s=e.top+p+f+m+t.collisionHeight-o-a,(0>s||r(u)>s)&&(e.top+=p+f+m)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-h,(i>0||d>r(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,n,o,r=document.getElementsByTagName("body")[0],h=document.createElement("div");t=document.createElement(r?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in s)t.style[o]=s[o];t.appendChild(h),i=r||document.documentElement,i.insertBefore(t,i.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",n=e(h).offset().left,a=n>10&&11>n,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position,e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,s=this.headers.length,n=this.headers.index(t.target),a=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:a=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[s-1]}a&&(e(t.target).attr("tabIndex",-1),e(a).attr("tabIndex",0),a.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),s=t.next(),n=s.uniqueId().attr("id");t.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(t=n.height(),this.element.siblings(":visible").each(function(){var i=e(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===s&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n[0]===s[0],o=a&&i.collapsible,r=o?e():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:o?e():n,newPanel:r};t.preventDefault(),a&&!i.collapsible||this._trigger("beforeActivate",t,l)===!1||(i.active=o?!1:this.headers.index(n),this.active=a?e():n,this._toggle(l),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),a||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,s=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,t):(s.hide(),i.show(),this._toggleComplete(t)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,i){var s,n,a,o=this,r=0,h=e.css("box-sizing"),l=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=l&&u.down||u,c=function(){o._toggleComplete(i)};return"number"==typeof d&&(a=d),"string"==typeof d&&(n=d),n=n||d.easing||u.easing,a=a||d.duration||u.duration,t.length?e.length?(s=e.show().outerHeight(),t.animate(this.hideProps,{duration:a,easing:n,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(this.showProps,{duration:a,easing:n,complete:c,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==o.options.heightStyle&&(i.now=Math.round(s-t.outerHeight()-r),r=0)}}),void 0):t.animate(this.hideProps,a,n,c):e.animate(this.showProps,a,n,c)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.currentTarget);
i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,s,n,a,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,s=this.previousFilter||"",n=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),n===s?a=!0:n=s+n,i=this._filterMenuItems(n),i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(t.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(t,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i,s=this,n=this.options.icons.submenu,a=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),a.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),s=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",i.attr("id"))}),t=a.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);s._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,s;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),s=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=t.outerHeight(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(t),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var s;this.active&&(s="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[t]()),this.focus(i,s)},nextPage:function(t){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),0>i.offset().top-s-n}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-s+n>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(e.trim(e(this).text()))})}}),e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,o="input"===n;this.isMultiLine=a?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,s=!0,i=!0,void 0;t=!1,s=!1,i=!1;var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",n);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case a.UP:t=!0,this._keyEvent("previous",n);break;case a.DOWN:t=!0,this._keyEvent("next",n);break;case a.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){return s?(s=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(s){s.target===t.element[0]||s.target===i||e.contains(i,s.target)||t.close()})})},menufocus:function(t,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&e.trim(s).length&&(this.liveRegion.children().hide(),e("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!s)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete;var c,p="ui-button ui-widget ui-state-default ui-corner-all",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},g=function(t){var i=t.name,s=t.form,n=e([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?e(s).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),n};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,s="checkbox"===this.type||"radio"===this.type,n=s?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===c&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||e(this).removeClass(n)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),s&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var s=t.element[0];g(s).not(s).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(e(this).addClass("ui-state-active"),c=this,t.document.one("mouseup",function(){c=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(t){return i.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?g(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(f),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,a=[];s.primary||s.secondary?(this.options.text&&a.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(a.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):a.push("ui-button-text-only"),t.addClass(a.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),s=i.filter(":ui-button");i.not(":ui-button").button(),s.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.4"}});var v;e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var s,n,a;s=t.nodeName.toLowerCase(),n="div"===s||"span"===s,t.id||(this.uuid+=1,t.id="dp"+this.uuid),a=this._newInst(e(t),n),a.settings=e.extend({},i||{}),"input"===s?this._connectDatepicker(t,a):n&&this._inlineDatepicker(t,a)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var s=e(t);i.append=e([]),i.trigger=e([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var s,n,a,o=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[r?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&t.focus(this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),a=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:a,alt:n,title:n}):e("<button type='button'></button>").addClass(this._triggerClass).html(a?e("<img/>").attr({src:a,alt:n,title:n}):n)),t[r?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,s,n,a=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(i=0,s=0,n=0;e.length>n;n++)e[n].length>i&&(i=e[n].length,s=n);return s},a.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),e.input.attr("size",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,i){var s=e(t);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,s,n,a){var o,h,l,u,d,c=this._dialogInst;return c||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},e.data(this._dialogInput[0],"datepicker",c)),r(c.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(c,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,l/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(t){var i,s=e(t),n=e.data(t,"datepicker");s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),v===n&&(v=null))},_enableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,s){var n,a,o,h,l=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):l?"all"===i?e.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),r(l.settings,n),null!==o&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,o)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,a),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,s,n,a=e.datepicker._getInst(t.target),o=!0,r=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return n=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",a.dpDiv),n[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,n[0]),i=e.datepicker._get(a,"onSelect"),i?(s=e.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[s,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,s,n=e.datepicker._getInst(t.target);
return e.datepicker._get(n,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(t){var i,s=e.datepicker._getInst(t.target);if(s.input.val()!==s.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,e.datepicker._getFormatConfig(s)),i&&(e.datepicker._setDateFromField(s),e.datepicker._updateAlternate(s),e.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,a,o,h,l,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(i,"beforeShow"),a=n?n.apply(t,[t,i]):{},a!==!1&&(r(i.settings,a),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),h={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),h=e.datepicker._checkOffset(i,h,o),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",s(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,v=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,s=this._getNumberOfMonths(t),n=s[1],a=17,r=t.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),t.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,s){var n=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:e(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?n-o:0,i.left-=s&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=s&&i.top===t.input.offset().top+r?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+a>l&&l>a?Math.abs(a+r):0),i},_findPos:function(t){for(var i,s=this._getInst(t),n=this._get(s,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,s,n,a,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),s=this._get(o,"duration"),n=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),s,n):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,a=this._get(o,"onClose"),a&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),s=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==s)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,s){var n=e(t),a=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,i+("M"===s?this._get(a,"showCurrentAtPos"):0),s),this._updateDatepicker(a))},_gotoToday:function(t){var i,s=e(t),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(t,i,s){var n=e(t),a=this._getInst(n[0]);a["selected"+("M"===s?"Month":"Year")]=a["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n)},_selectDay:function(t,i,s,n){var a,o=e(t);e(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(a=this._getInst(o[0]),a.selectedDay=a.currentDay=e("a",n).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=s,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var s,n=e(t),a=this._getInst(n[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),s=this._get(a,"onSelect"),s?s.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,s,n,a=this._get(t,"altField");a&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),s=this._getDate(t),n=this.formatDate(i,s,this._getFormatConfig(t)),e(a).each(function(){e(this).val(n)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,s){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,a,o,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,c=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,_=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},x=function(e){var t=_(e),s="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,n="y"===e?s:1,a=RegExp("^\\d{"+n+","+s+"}"),o=i.substring(h).match(a);if(!o)throw"Missing number at position "+h;return h+=o[0].length,parseInt(o[0],10)},w=function(t,s,n){var a=-1,o=e.map(_(t)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var s=t[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(a=t[0],h+=s.length,!1):void 0}),-1!==a)return a+1;throw"Unknown name at position "+h},k=function(){if(i.charAt(h)!==t.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;t.length>n;n++)if(b)"'"!==t.charAt(n)||_("'")?k():b=!1;else switch(t.charAt(n)){case"d":v=x("d");break;case"D":w("D",d,c);break;case"o":y=x("o");break;case"m":g=x("m");break;case"M":g=w("M",p,f);break;case"y":m=x("y");break;case"@":r=new Date(x("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((x("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":_("'")?k():b=!0;break;default:k()}if(i.length>h&&(o=i.substr(h),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),y>-1)for(g=1,v=y;;){if(a=this._getDaysInMonth(m,g-1),a>=v)break;g++,v-=a}if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(t){var i=e.length>s+1&&e.charAt(s+1)===t;return i&&s++,i},l=function(e,t,i){var s=""+t;if(h(e))for(;i>s.length;)s="0"+s;return s},u=function(e,t,i,s){return h(e)?s[t]:i[t]},d="",c=!1;if(t)for(s=0;e.length>s;s++)if(c)"'"!==e.charAt(s)||h("'")?d+=e.charAt(s):c=!1;else switch(e.charAt(s)){case"d":d+=l("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),n,a);break;case"o":d+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=l("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),o,r);break;case"y":d+=h("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":h("'")?d+="'":c=!0;break;default:d+=e.charAt(s)}return d},_possibleChars:function(e){var t,i="",s=!1,n=function(i){var s=e.length>t+1&&e.charAt(t+1)===i;return s&&t++,s};for(t=0;e.length>t;t++)if(s)"'"!==e.charAt(t)||n("'")?i+=e.charAt(t):s=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),s=e.lastVal=e.input?e.input.val():null,n=this._getDefaultDate(e),a=n,o=this._getFormatConfig(e);try{a=this.parseDate(i,s,o)||n}catch(r){s=t?"":s}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=s?a.getDate():0,e.currentMonth=s?a.getMonth():0,e.currentYear=s?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,s){var n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=n.getFullYear(),o=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o));break;case"y":case"Y":a+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o))}l=h.exec(i)}return new Date(a,o,r)},o=null==i||""===i?s:"string"==typeof i?a(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return o=o&&"Invalid Date"==""+o?s:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var s=!t,n=e.selectedMonth,a=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),n===e.selectedMonth&&a===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),s="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(s,-i,"M")},next:function(){e.datepicker._adjustDate(s,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(s)},selectDay:function(){return e.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(s,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,s,n,a,o,r,h,l,u,d,c,p,f,m,g,v,y,b,_,x,w,k,T,D,S,M,C,N,A,P,I,H,z,F,E,O,j,W,L=new Date,R=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),Y=this._get(e,"isRTL"),B=this._get(e,"showButtonPanel"),J=this._get(e,"hideIfNoPrevNext"),q=this._get(e,"navigationAsDateFormat"),K=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),U=this._get(e,"stepMonths"),Q=1!==K[0]||1!==K[1],G=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),$=this._getMinMaxDate(e,"max"),Z=e.drawMonth-V,et=e.drawYear;if(0>Z&&(Z+=12,et--),$)for(t=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-K[0]*K[1]+1,$.getDate())),t=X&&X>t?X:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-U,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":J?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(e,"nextText"),n=q?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z+U,1)),this._getFormatConfig(e)):n,a=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":J?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",o=this._get(e,"currentText"),r=this._get(e,"gotoCurrent")&&e.currentDay?G:R,o=q?this.formatDate(o,r,this._getFormatConfig(e)):o,h=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",l=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(e,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(Y?"":h)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),c=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),_="",w=0;K[0]>w;w++){for(k="",this.maxRows=4,T=0;K[1]>T;T++){if(D=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),S=" ui-corner-all",M="",Q){if(M+="<div class='ui-datepicker-group",K[1]>1)switch(T){case 0:M+=" ui-datepicker-group-first",S=" ui-corner-"+(Y?"right":"left");break;case K[1]-1:M+=" ui-datepicker-group-last",S=" ui-corner-"+(Y?"left":"right");break;default:M+=" ui-datepicker-group-middle",S=""}M+="'>"}for(M+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===w?Y?a:s:"")+(/all|right/.test(S)&&0===w?Y?s:a:"")+this._generateMonthYearHeader(e,Z,et,X,$,w>0||T>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",C=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;7>x;x++)N=(x+u)%7,C+="<th scope='col'"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+c[N]+"'>"+p[N]+"</span></th>";for(M+=C+"</tr></thead><tbody>",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),P=(this._getFirstDayOfMonth(et,Z)-u+7)%7,I=Math.ceil((P+A)/7),H=Q?this.maxRows>I?this.maxRows:I:I,this.maxRows=H,z=this._daylightSavingAdjust(new Date(et,Z,1-P)),F=0;H>F;F++){for(M+="<tr>",E=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(z)+"</td>":"",x=0;7>x;x++)O=g?g.apply(e.input?e.input[0]:null,[z]):[!0,""],j=z.getMonth()!==Z,W=j&&!y||!O[0]||X&&X>z||$&&z>$,E+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(j?" ui-datepicker-other-month":"")+(z.getTime()===D.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===z.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(W?" "+this._unselectableClass+" ui-state-disabled":"")+(j&&!v?"":" "+O[1]+(z.getTime()===G.getTime()?" "+this._currentClass:"")+(z.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(j&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(W?"":" data-handler='selectDay' data-event='click' data-month='"+z.getMonth()+"' data-year='"+z.getFullYear()+"'")+">"+(j&&!v?"&#xa0;":W?"<span class='ui-state-default'>"+z.getDate()+"</span>":"<a class='ui-state-default"+(z.getTime()===R.getTime()?" ui-state-highlight":"")+(z.getTime()===G.getTime()?" ui-state-active":"")+(j?" ui-priority-secondary":"")+"' href='#'>"+z.getDate()+"</a>")+"</td>",z.setDate(z.getDate()+1),z=this._daylightSavingAdjust(z);M+=E+"</tr>"}Z++,Z>11&&(Z=0,et++),M+="</tbody></table>"+(Q?"</div>"+(K[0]>0&&T===K[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=M}_+=k}return _+=l,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,i,s,n,a,o,r){var h,l,u,d,c,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(a||!g)_+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!h||u>=s.getMonth())&&(!l||n.getMonth()>=u)&&(_+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+r[u]+"</option>");_+="</select>"}if(y||(b+=_+(!a&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(e,"yearRange").split(":"),c=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?c+parseInt(e,10):parseInt(e,10);return isNaN(t)?c:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=s?Math.max(f,s.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!a&&g&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(e,t,i){var s=e.drawYear+("Y"===i?t:0),n=e.drawMonth+("M"===i?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(s,n))+("D"===i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,n,a)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),n=i&&i>t?i:t;return s&&n>s?s:n},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,s){var n=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(i,s+(0>t?t:n[0]*n[1]),1));return 0>t&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var i,s,n=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),o=null,r=null,h=this._get(e,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),o=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||t.getTime()>=n.getTime())&&(!a||t.getTime()<=a.getTime())&&(!o||t.getFullYear()>=o)&&(!r||r>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,s){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var n=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(s,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),n,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4",e.datepicker,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(s){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",t,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,s=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper),n=s?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options,a=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=e(n.containment),s=i[0],s&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)
},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,s,n,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),h=e.pageX,l=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a),"y"===o.axis&&(h=this.originalPageX),"x"===o.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,s){var n=e.extend({},i,{item:s.element});s.sortables=[],e(s.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,n))})},stop:function(t,i,s){var n=e.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,e.each(s.sortables,function(){var e=this;e.isOver?(e.isOver=0,s.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,n))})},drag:function(t,i,s){e.each(s.sortables,function(){var n=!1,a=this;a.positionAbs=s.positionAbs,a.helperProportions=s.helperProportions,a.offset.click=s.offset.click,a._intersectsWith(a.containerCache)&&(n=!0,e.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(n=!1),n})),n?(a.isOver||(a.isOver=1,s._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=s.offset.click.top,a.offset.click.left=s.offset.click.left,a.offset.parent.left-=s.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=s.offset.parent.top-a.offset.parent.top,s._trigger("toSortable",t),s.dropped=a.element,e.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,a.fromOutside=s),a.currentItem&&(a._mouseDrag(t),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(t),i.position=s._generatePosition(t,!0),s._trigger("fromSortable",t),s.dropped=!1,e.each(s.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,s){var n=e("body"),a=s.options;n.css("cursor")&&(a._cursor=n.css("cursor")),n.css("cursor",a.cursor)},stop:function(t,i,s){var n=s.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("opacity")&&(a._opacity=n.css("opacity")),n.css("opacity",a.opacity)},stop:function(t,i,s){var n=s.options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,s){var n=s.options,a=!1,o=s.scrollParentNotHidden[0],r=s.document[0];o!==r&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+o.offsetHeight-t.pageY<n.scrollSensitivity?o.scrollTop=a=o.scrollTop+n.scrollSpeed:t.pageY-s.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+o.offsetWidth-t.pageX<n.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+n.scrollSpeed:t.pageX-s.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(r).scrollTop()<n.scrollSensitivity?a=e(r).scrollTop(e(r).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<n.scrollSensitivity&&(a=e(r).scrollTop(e(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(r).scrollLeft()<n.scrollSensitivity?a=e(r).scrollLeft(e(r).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<n.scrollSensitivity&&(a=e(r).scrollLeft(e(r).scrollLeft()+n.scrollSpeed)))),a!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(s,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,s){var n=s.options;s.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=e(this),i=t.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,s){var n,a,o,r,h,l,u,d,c,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,y=i.offset.top,b=y+s.helperProportions.height;for(c=s.snapElements.length-1;c>=0;c--)h=s.snapElements[c].left-s.margins.left,l=h+s.snapElements[c].width,u=s.snapElements[c].top-s.margins.top,d=u+s.snapElements[c].height,h-m>v||g>l+m||u-m>b||y>d+m||!e.contains(s.snapElements[c].item.ownerDocument,s.snapElements[c].item)?(s.snapElements[c].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(u-b),a=m>=Math.abs(d-y),o=m>=Math.abs(h-v),r=m>=Math.abs(l-g),n&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||a||o||r,"outer"!==f.snapMode&&(n=m>=Math.abs(u-y),a=m>=Math.abs(d-b),o=m>=Math.abs(h-g),r=m>=Math.abs(l-v),n&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d-s.helperProportions.height,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[c].snapping&&(n||a||o||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=n||a||o||r||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,s){var n,a=s.options,o=e.makeArray(e(a.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});o.length&&(n=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",n+t)}),this.css("zIndex",n+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("zIndex")&&(a._zIndex=n.css("zIndex")),n.css("zIndex",a.zIndex)},stop:function(t,i,s){var n=s.options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return t[s]>0?!0:(t[s]=1,n=t[s]>0,t[s]=0,n)},_create:function(){var t,i,s,n,a,o=this,r=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)s=e.trim(t[i]),a="ui-resizable-"+s,n=e("<div class='ui-resizable-handle "+a+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(t){var i,s,n,a;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,s,n=!1;for(i in this.handles)s=e(this.handles[i])[0],(s===t.target||e.contains(s,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,s,n,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),a.containment&&(i+=e(a.containment).scrollLeft()||0,s+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,s,n=this.originalMousePosition,a=this.axis,o=t.pageX-n.left||0,r=t.pageY-n.top||0,h=this._change[a];return this._updatePrevProperties(),h?(i=h.apply(this,[t,o,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,a=s?0:u.sizeDiff.width,o={width:u.helper.width()-a,height:u.helper.height()-n},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(e.extend(o,{top:h,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,s,n,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),s>a.minHeight&&(a.minHeight=s),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>n&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,s=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),a&&l&&(e.left=r-t.minWidth),s&&l&&(e.left=r-t.maxWidth),o&&u&&(e.top=h-t.minHeight),n&&u&&(e.top=h-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],s=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)i[t]=parseInt(s[t],10)||0,i[t]+=parseInt(n[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&e(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,s,n,a,o,r,h=e(this).resizable("instance"),l=h.options,u=h.element,d=l.containment,c=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;c&&(h.containerElement=e(c),/document/.test(d)||d===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(c),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,s){i[e]=h._num(t.css("padding"+s))}),h.containerOffset=t.offset(),h.containerPosition=t.position(),h.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,a=h.containerSize.width,o=h._hasScroll(c,"left")?c.scrollWidth:a,r=h._hasScroll(c)?c.scrollHeight:n,h.parentData={element:c,left:s.left,top:s.top,width:o,height:r}))},resize:function(t){var i,s,n,a,o=e(this).resizable("instance"),r=o.options,h=o.containerOffset,l=o.position,u=o._aspectRatio||t.shiftKey,d={top:0,left:0},c=o.containerElement,p=!0;c[0]!==document&&/static/.test(c.css("position"))&&(d=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-d.left),u&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?h.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),n&&a?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-h.left)),s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-h.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,u&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,s=t.containerOffset,n=t.containerPosition,a=t.containerElement,o=e(t.helper),r=o.offset(),h=o.outerWidth()-t.sizeDiff.width,l=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var s=e(this).resizable("instance"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0};e(n.alsoResize).each(function(){var t=e(this),s=e(this).data("ui-resizable-alsoresize"),n={},a=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var i=(s[t]||0)+(r[t]||0);i&&i>=0&&(n[t]=i||null)}),t.css(n)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),s=i.options,n=i.size,a=i.originalSize,o=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,u=h[1]||1,d=Math.round((n.width-a.width)/l)*l,c=Math.round((n.height-a.height)/u)*u,p=a.width+d,f=a.height+c,m=s.maxWidth&&p>s.maxWidth,g=s.maxHeight&&f>s.maxHeight,v=s.minWidth&&s.minWidth>p,y=s.minHeight&&s.minHeight>f;s.grid=h,v&&(p+=l),y&&(f+=u),m&&(p-=l),g&&(f-=u),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=o.top-c):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=o.left-d):((0>=f-u||0>=p-l)&&(t=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=o.top-c):(f=u-t.height,i.size.height=f,i.position.top=o.top+a.height-f),p-l>0?(i.size.width=p,i.position.left=o.left-d):(p=l-t.width,i.size.width=p,i.position.left=o.left+a.width-p))}}),e.ui.resizable,e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,s=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),a=Math.max.apply(null,n);return a>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",a+1),s=!0),s&&!i&&this._trigger("focus",t),s},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;
if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==s[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.focus()}),t.preventDefault()):(this._delay(function(){s.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(e.each(i,function(i,s){var n,a;s=e.isFunction(s)?{click:s,text:i}:s,s=e.extend({type:"button"},s),n=s.click,s.click=function(){n.apply(t.element[0],arguments)},a={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,e("<button></button>",s).button(a).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,t(n))},drag:function(e,s){i._trigger("drag",e,t(s))},stop:function(n,a){var o=a.offset.left-i.document.scrollLeft(),r=a.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" "+"top"+(r>=0?"+":"")+r,of:i.window},e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,t(a))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,s=this.options,n=s.resizable,a=this.uiDialog.css("position"),o="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:o,start:function(s,n){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,t(n))},resize:function(e,s){i._trigger("resize",e,t(s))},stop:function(n,a){var o=i.uiDialog.offset(),r=o.left-i.document.scrollLeft(),h=o.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(h>=0?"+":"")+h,of:i.window},e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,t(a))}}).css("position",a)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,s=!1,n={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(s=!0),e in i.resizableRelatedOptions&&(n[e]=t)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,t){var i,s,n=this.uiDialog;"dialogClass"===e&&n.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=n.is(":data(ui-draggable)"),i&&!t&&n.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(s=n.is(":data(ui-resizable)"),s&&!t&&n.resizable("destroy"),s&&"string"==typeof t&&n.resizable("option","handles",t),s||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),e=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),t=Math.max(0,s.minHeight-e),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-e):"none","auto"===s.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(s)?s:function(e){return e.is(s)},this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var s=e.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(s)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,s,n){if(!i.offset)return!1;var a=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,r=a+t.helperProportions.width,h=o+t.helperProportions.height,l=i.offset.left,u=i.offset.top,d=l+i.proportions().width,c=u+i.proportions().height;switch(s){case"fit":return a>=l&&d>=r&&o>=u&&c>=h;case"intersect":return a+t.helperProportions.width/2>l&&d>r-t.helperProportions.width/2&&o+t.helperProportions.height/2>u&&c>h-t.helperProportions.height/2;case"pointer":return e(n.pageY,u,i.proportions().height)&&e(n.pageX,l,i.proportions().width);case"touch":return(o>=u&&c>=o||h>=u&&c>=h||u>o&&h>c)&&(a>=l&&d>=a||r>=l&&d>=r||l>a&&r>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var s,n,a=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,r=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||t&&!a[s].accept.call(a[s].element[0],t.currentItem||t.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue e}a[s].visible="none"!==a[s].element.css("display"),a[s].visible&&("mousedown"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(t,i){var s=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=e.ui.intersect(t,this,this.options.tolerance,i),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===n}),a.length&&(s=e(a[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable;var y="ui-effects-",b=e;e.effects={effect:{}},function(e,t){function i(e,t,i){var s=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=s.floor?~~e:parseFloat(e),isNaN(e)?t.def:s.mod?(e+s.mod)%s.mod:0>e?0:e>s.max?s.max:e)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(e,a){var o,r=a.re.exec(i),h=r&&a.parse(r),l=a.space||"rgba";return h?(o=s[l](h),s[u[l].cache]=o[u[l].cache],n=s._rgba=o._rgba,!1):t}),n.length?("0,0,0,0"===n.join()&&e.extend(n,a.transparent),s):a[i]}function n(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,i,s,n){return new e.Color.fn.parse(t,i,s,n)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=l.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(n,o,r,h){if(n===t)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=e(n).css(o),o=t);var d=this,c=e.type(n),p=this._rgba=[];return o!==t&&(n=[n,o,r,h],c="array"),"string"===c?this.parse(s(n)||a._default):"array"===c?(f(u.rgba.props,function(e,t){p[t.idx]=i(n[t.idx],t)}),this):"object"===c?(n instanceof l?f(u,function(e,t){n[t.cache]&&(d[t.cache]=n[t.cache].slice())}):f(u,function(t,s){var a=s.cache;f(s.props,function(e,t){if(!d[a]&&s.to){if("alpha"===e||null==n[e])return;d[a]=s.to(d._rgba)}d[a][t.idx]=i(n[e],t,!0)}),d[a]&&0>e.inArray(null,d[a].slice(0,3))&&(d[a][3]=1,s.from&&(d._rgba=s.from(d[a])))}),this):t},is:function(e){var i=l(e),s=!0,n=this;return f(u,function(e,a){var o,r=i[a.cache];return r&&(o=n[a.cache]||a.to&&a.to(n._rgba)||[],f(a.props,function(e,i){return null!=r[i.idx]?s=r[i.idx]===o[i.idx]:t})),s}),s},_space:function(){var e=[],t=this;return f(u,function(i,s){t[s.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var s=l(e),n=s._space(),a=u[n],o=0===this.alpha()?l("transparent"):this,r=o[a.cache]||a.to(o._rgba),h=r.slice();return s=s[a.cache],f(a.props,function(e,n){var a=n.idx,o=r[a],l=s[a],u=d[n.type]||{};null!==l&&(null===o?h[a]=l:(u.mod&&(l-o>u.mod/2?o+=u.mod:o-l>u.mod/2&&(o-=u.mod)),h[a]=i((l-o)*t+o,n)))}),this[n](h)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(t)._rgba;return l(e.map(i,function(e,t){return(1-s)*n[t]+s*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),s=i.pop();return t&&i.push(~~(255*s)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,s=e[0]/255,n=e[1]/255,a=e[2]/255,o=e[3],r=Math.max(s,n,a),h=Math.min(s,n,a),l=r-h,u=r+h,d=.5*u;return t=h===r?0:s===r?60*(n-a)/l+360:n===r?60*(a-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=d?l/u:l/(2-u),[Math.round(t)%360,i,d,null==o?1:o]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],s=e[2],a=e[3],o=.5>=s?s*(1+i):s+i-s*i,r=2*s-o;return[Math.round(255*n(r,o,t+1/3)),Math.round(255*n(r,o,t)),Math.round(255*n(r,o,t-1/3)),a]},f(u,function(s,n){var a=n.props,o=n.cache,h=n.to,u=n.from;l.fn[s]=function(s){if(h&&!this[o]&&(this[o]=h(this._rgba)),s===t)return this[o].slice();var n,r=e.type(s),d="array"===r||"object"===r?s:arguments,c=this[o].slice();return f(a,function(e,t){var s=d["object"===r?e:t.idx];null==s&&(s=c[t.idx]),c[t.idx]=i(s,t)}),u?(n=l(u(c)),n[o]=c,n):l(c)},f(a,function(t,i){l.fn[t]||(l.fn[t]=function(n){var a,o=e.type(n),h="alpha"===t?this._hsla?"hsla":"rgba":s,l=this[h](),u=l[i.idx];return"undefined"===o?u:("function"===o&&(n=n.call(this,u),o=e.type(n)),null==n&&i.empty?this:("string"===o&&(a=r.exec(n),a&&(n=u+parseFloat(a[2])*("+"===a[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,n){var a,o,r="";if("transparent"!==n&&("string"!==e.type(n)||(a=s(n)))){if(n=l(a||n),!c.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===i?t.parentNode:t;(""===r||"transparent"===r)&&o&&o.style;)try{r=e.css(o,"backgroundColor"),o=o.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{t.style[i]=n}catch(h){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=l(t.elem,i),t.end=l(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,s){t["border"+s+"Color"]=e}),t}},a=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(b),function(){function t(t){var i,s,n=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(a[e.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(a[i]=n[i]);return a}function i(t,i){var s,a,o={};for(s in i)a=i[s],t[s]!==a&&(n[s]||(e.fx.step[s]||!isNaN(parseFloat(a)))&&(o[s]=a));return o}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(b.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(n,a,o,r){var h=e.speed(a,o,r);return this.queue(function(){var a,o=e(this),r=o.attr("class")||"",l=h.children?o.find("*").addBack():o;l=l.map(function(){var i=e(this);return{el:i,start:t(this)}}),a=function(){e.each(s,function(e,t){n[t]&&o[t+"Class"](n[t])})},a(),l=l.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),o.attr("class",r),l=l.map(function(){var t=this,i=e.Deferred(),s=e.extend({},h,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,s),i.promise()}),e.when.apply(e,l.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),h.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(i,s,n,a){return s?e.effects.animateClass.call(this,{add:i},s,n,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,s,n,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},s,n,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,s,n,a,o){return"boolean"==typeof s||void 0===s?n?e.effects.animateClass.call(this,s?{add:i}:{remove:i},n,a,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},s,n,a)}}(e.fn.toggleClass),switchClass:function(t,i,s,n,a){return e.effects.animateClass.call(this,{add:i,remove:t},s,n,a)}})}(),function(){function t(t,i,s,n){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(n=s,s=i,i={}),e.isFunction(s)&&(n=s,s=null),i&&e.extend(t,i),s=s||i.duration,t.duration=e.fx.off?0:"number"==typeof s?s:s in e.fx.speeds?e.fx.speeds[s]:e.fx.speeds._default,t.complete=n||i.complete,t}function i(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(y+t[i],e[0].style[t[i]])},restore:function(e,t){var i,s;for(s=0;t.length>s;s++)null!==t[s]&&(i=e.data(y+t[s]),void 0===i&&(i=""),e.css(t[s],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,s;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=e[1]/t.width}return{x:s,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},s=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return t.wrap(s),(t[0]===a||e.contains(t[0],a))&&e(a).focus(),s=t.parent(),"static"===t.css("position")?(s.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(n),s.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,s,n){return n=n||{},e.each(i,function(e,i){var a=t.cssUnit(i);a[0]>0&&(n[i]=a[0]*s+a[1])}),n}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(a)&&a.call(n[0]),e.isFunction(t)&&t()}var n=e(this),a=s.complete,r=s.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),i()):o.call(n[0],s,i)}var s=t.apply(this,arguments),n=s.mode,a=s.queue,o=e.effects.effect[s.effect];return e.fx.off||!o?n?this[n](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):a===!1?this.each(i):this.queue(a||"fx",i)},show:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(s){if(i(s)||"boolean"==typeof s)return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),s=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(s=[parseFloat(i),t])}),s}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects,e.effects.effect.blind=function(t,i){var s,n,a,o=e(this),r=/up|down|vertical/,h=/up|left|vertical|horizontal/,l=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(o,t.mode||"hide"),d=t.direction||"up",c=r.test(d),p=c?"height":"width",f=c?"top":"left",m=h.test(d),g={},v="show"===u;o.parent().is(".ui-effects-wrapper")?e.effects.save(o.parent(),l):e.effects.save(o,l),o.show(),s=e.effects.createWrapper(o).css({overflow:"hidden"}),n=s[p](),a=parseFloat(s.css(f))||0,g[p]=v?n:0,m||(o.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),g[f]=v?a:n+a),v&&(s.css(p,0),m||s.css(f,a+n)),s.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===u&&o.hide(),e.effects.restore(o,l),e.effects.removeWrapper(o),i()}})},e.effects.effect.bounce=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(o,t.mode||"effect"),l="hide"===h,u="show"===h,d=t.direction||"up",c=t.distance,p=t.times||5,f=2*p+(u||l?1:0),m=t.duration/f,g=t.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=o.queue(),_=b.length;for((u||l)&&r.push("opacity"),e.effects.save(o,r),o.show(),e.effects.createWrapper(o),c||(c=o["top"===v?"outerHeight":"outerWidth"]()/3),u&&(a={opacity:1},a[v]=0,o.css("opacity",0).css(v,y?2*-c:2*c).animate(a,m,g)),l&&(c/=Math.pow(2,p-1)),a={},a[v]=0,s=0;p>s;s++)n={},n[v]=(y?"-=":"+=")+c,o.animate(n,m,g).animate(a,m,g),c=l?2*c:c/2;l&&(n={opacity:0},n[v]=(y?"-=":"+=")+c,o.animate(n,m,g)),o.queue(function(){l&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}),_>1&&b.splice.apply(b,[1,0].concat(b.splice(_,f+1))),o.dequeue()},e.effects.effect.clip=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(o,t.mode||"hide"),l="show"===h,u=t.direction||"vertical",d="vertical"===u,c=d?"height":"width",p=d?"top":"left",f={};e.effects.save(o,r),o.show(),s=e.effects.createWrapper(o).css({overflow:"hidden"}),n="IMG"===o[0].tagName?s:o,a=n[c](),l&&(n.css(c,0),n.css(p,a/2)),f[c]=l?a:0,f[p]=l?0:a/2,n.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){l||o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}})},e.effects.effect.drop=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","opacity","height","width"],o=e.effects.setMode(n,t.mode||"hide"),r="show"===o,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h?"pos":"neg",d={opacity:r?1:0};e.effects.save(n,a),n.show(),e.effects.createWrapper(n),s=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(l,"pos"===u?-s:s),d[l]=(r?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})},e.effects.effect.explode=function(t,i){function s(){b.push(this),b.length===d*c&&n()}function n(){p.css({visibility:"visible"}),e(b).remove(),m||p.hide(),i()}var a,o,r,h,l,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=d,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/c),y=Math.ceil(p.outerHeight()/d),b=[];for(a=0;d>a;a++)for(h=g.top+a*y,u=a-(d-1)/2,o=0;c>o;o++)r=g.left+o*v,l=o-(c-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-a*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:r+(m?l*v:0),top:h+(m?u*y:0),opacity:m?0:1}).animate({left:r+(m?0:l*v),top:h+(m?0:u*y),opacity:m?1:0},t.duration||500,t.easing,s)},e.effects.effect.fade=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||"toggle");s.animate({opacity:n},{queue:!1,duration:t.duration,easing:t.easing,complete:i})},e.effects.effect.fold=function(t,i){var s,n,a=e(this),o=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(a,t.mode||"hide"),h="show"===r,l="hide"===r,u=t.size||15,d=/([0-9]+)%/.exec(u),c=!!t.horizFirst,p=h!==c,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(a,o),a.show(),s=e.effects.createWrapper(a).css({overflow:"hidden"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],d&&(u=parseInt(d[1],10)/100*n[l?0:1]),h&&s.css(c?{height:0,width:u}:{height:u,width:0}),g[f[0]]=h?n[0]:u,v[f[1]]=h?n[1]:0,s.animate(g,m,t.easing).animate(v,m,t.easing,function(){l&&a.hide(),e.effects.restore(a,o),e.effects.removeWrapper(a),i()})},e.effects.effect.highlight=function(t,i){var s=e(this),n=["backgroundImage","backgroundColor","opacity"],a=e.effects.setMode(s,t.mode||"show"),o={backgroundColor:s.css("backgroundColor")};"hide"===a&&(o.opacity=0),e.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&s.hide(),e.effects.restore(s,n),i()}})},e.effects.effect.size=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=o.css("position"),y=f?r:h,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&o.show(),s={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===t.mode&&"show"===p?(o.from=t.to||b,o.to=t.from||s):(o.from=t.from||("show"===p?b:s),o.to=t.to||("hide"===p?b:s)),a={from:{y:o.from.height/s.height,x:o.from.width/s.width},to:{y:o.to.height/s.height,x:o.to.width/s.width}},("box"===m||"both"===m)&&(a.from.y!==a.to.y&&(y=y.concat(d),o.from=e.effects.setTransition(o,d,a.from.y,o.from),o.to=e.effects.setTransition(o,d,a.to.y,o.to)),a.from.x!==a.to.x&&(y=y.concat(c),o.from=e.effects.setTransition(o,c,a.from.x,o.from),o.to=e.effects.setTransition(o,c,a.to.x,o.to))),("content"===m||"both"===m)&&a.from.y!==a.to.y&&(y=y.concat(u).concat(l),o.from=e.effects.setTransition(o,u,a.from.y,o.from),o.to=e.effects.setTransition(o,u,a.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),g&&(n=e.effects.getBaseline(g,s),o.from.top=(s.outerHeight-o.outerHeight())*n.y,o.from.left=(s.outerWidth-o.outerWidth())*n.x,o.to.top=(s.outerHeight-o.to.outerHeight)*n.y,o.to.left=(s.outerWidth-o.to.outerWidth)*n.x),o.css(o.from),("content"===m||"both"===m)&&(d=d.concat(["marginTop","marginBottom"]).concat(u),c=c.concat(["marginLeft","marginRight"]),l=r.concat(d).concat(c),o.find("*[width]").each(function(){var i=e(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};
f&&e.effects.save(i,l),i.from={height:s.height*a.from.y,width:s.width*a.from.x,outerHeight:s.outerHeight*a.from.y,outerWidth:s.outerWidth*a.from.x},i.to={height:s.height*a.to.y,width:s.width*a.to.x,outerHeight:s.height*a.to.y,outerWidth:s.width*a.to.x},a.from.y!==a.to.y&&(i.from=e.effects.setTransition(i,d,a.from.y,i.from),i.to=e.effects.setTransition(i,d,a.to.y,i.to)),a.from.x!==a.to.x&&(i.from=e.effects.setTransition(i,c,a.from.x,i.from),i.to=e.effects.setTransition(i,c,a.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,l)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),e.effects.restore(o,y),f||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,i){var s=parseInt(i,10),n=e?o.to.left:o.to.top;return"auto"===i?n+"px":s+n+"px"})})),e.effects.removeWrapper(o),i()}})},e.effects.effect.scale=function(t,i){var s=e(this),n=e.extend(!0,{},t),a=e.effects.setMode(s,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===a?0:100),r=t.direction||"both",h=t.origin,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},u={y:"horizontal"!==r?o/100:1,x:"vertical"!==r?o/100:1};n.effect="size",n.queue=!1,n.complete=i,"effect"!==a&&(n.origin=h||["middle","center"],n.restore=!0),n.from=t.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*u.y,width:l.width*u.x,outerHeight:l.outerHeight*u.y,outerWidth:l.outerWidth*u.x},n.fade&&("show"===a&&(n.from.opacity=0,n.to.opacity=1),"hide"===a&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},e.effects.effect.puff=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||"hide"),a="hide"===n,o=parseInt(t.percent,10)||150,r=o/100,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:a?o:100,from:a?h:{height:h.height*r,width:h.width*r,outerHeight:h.outerHeight*r,outerWidth:h.outerWidth*r}}),s.effect(t)},e.effects.effect.pulsate=function(t,i){var s,n=e(this),a=e.effects.setMode(n,t.mode||"show"),o="show"===a,r="hide"===a,h=o||"hide"===a,l=2*(t.times||5)+(h?1:0),u=t.duration/l,d=0,c=n.queue(),p=c.length;for((o||!n.is(":visible"))&&(n.css("opacity",0).show(),d=1),s=1;l>s;s++)n.animate({opacity:d},u,t.easing),d=1-d;n.animate({opacity:d},u,t.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&c.splice.apply(c,[1,0].concat(c.splice(p,l+1))),n.dequeue()},e.effects.effect.shake=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(n,t.mode||"effect"),r=t.direction||"left",h=t.distance||20,l=t.times||3,u=2*l+1,d=Math.round(t.duration/u),c="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},m={},g={},v=n.queue(),y=v.length;for(e.effects.save(n,a),n.show(),e.effects.createWrapper(n),f[c]=(p?"-=":"+=")+h,m[c]=(p?"+=":"-=")+2*h,g[c]=(p?"-=":"+=")+2*h,n.animate(f,d,t.easing),s=1;l>s;s++)n.animate(m,d,t.easing).animate(g,d,t.easing);n.animate(m,d,t.easing).animate(f,d/2,t.easing).queue(function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),n.dequeue()},e.effects.effect.slide=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(n,t.mode||"show"),r="show"===o,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h,d={};e.effects.save(n,a),n.show(),s=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(l,u?isNaN(s)?"-"+s:-s:s),d[l]=(r?u?"+=":"-=":u?"-=":"+=")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})},e.effects.effect.transfer=function(t,i){var s=e(this),n=e(t.to),a="fixed"===n.css("position"),o=e("body"),r=a?o.scrollTop():0,h=a?o.scrollLeft():0,l=n.offset(),u={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},d=s.offset(),c=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-r,left:d.left-h,height:s.innerHeight(),width:s.innerWidth(),position:a?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){c.remove(),i()})},e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),void 0)},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,s=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(s.filter,this.element[0]),this._trigger("start",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=e.data(this,"selectable-item");s.startselected=!0,t.metaKey||t.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",t,{unselecting:s.element}))}),e(t.target).parents().addBack().each(function(){var s,n=e.data(this,"selectable-item");return n?(s=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",t,{selecting:n.element}):i._trigger("unselecting",t,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=t.pageX,h=t.pageY;return a>r&&(i=r,r=a,a=i),o>h&&(i=h,h=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:h-o}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),l=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?l=!(i.left>r||a>i.right||i.top>h||o>i.bottom):"fit"===n.tolerance&&(l=i.left>a&&r>i.right&&i.top>o&&h>i.bottom),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",t,{unselected:s.element})}),e(".ui-selecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",t,{selected:s.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data("ui-selectmenu-item"),e)},focus:function(e,i){var s=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&s.index!==t.focusIndex&&(t._trigger("focus",e,{item:s}),t.isOpen||t._select(s,e)),t.focusIndex=s.index,t.button.attr("aria-activedescendant",t.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var s=this,n="";e.each(i,function(i,a){a.optgroup!==n&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(a.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:a.optgroup}).appendTo(t),n=a.optgroup),s._renderItemData(t,a)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var s=e("<li>");return i.disabled&&s.addClass("ui-state-disabled"),this._setText(s,i.label),s.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),n+=":not(.ui-state-disabled)"),s="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](n).eq(-1):i[e+"All"](n).eq(0),s.length&&this.menuInstance.focus(t,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,s){var n=e(s),a=n.parent("optgroup");i.push({element:n,index:t,value:n.val(),label:n.text(),optgroup:a.attr("label")||"",disabled:a.prop("disabled")||n.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),t=n.length;i>t;t++)o.push(a);this.handles=n.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,s,n,a,o,r,h,l,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(s-u.values(t));(n>i||n===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(n=i,a=e(this),o=t)}),r=this._start(t,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),h=a.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-h.left-a.width()/2,top:t.pageY-h.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,s,n,a;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/t,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>s||1===t&&s>i)&&(i=s),i!==this.values(t)&&(n=this.values(),n[t]=i,a=this._trigger("slide",e,{handle:this.handles[t],value:i,values:n}),s=this.values(t?0:1),a!==!1&&this.values(t,i))):i!==this.value()&&(a=this._trigger("slide",e,{handle:this.handles[t],value:i}),a!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var s,n,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var s,n=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(n=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,s;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,s=e-i;return 2*Math.abs(i)>=t&&(s+=i>0?t:-t),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step,s=Math.floor(+(e-t).toFixed(this._precision())/i)*i;e=s+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,s,n,a,o=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u["horizontal"===h.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[l?"animate":"css"](u,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:r.animate}))),t=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(t){var i,s,n,a,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,o),i===!1))return}switch(a=this.options.step,s=n=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-a)}this._slide(t,o,n)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var s=null,n=!1,a=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,a.widgetName+"-item")===a?(s=e(this),!1):void 0}),e.data(t.target,a.widgetName+"-item")===a&&(s=e(t.target)),s?!this.options.handle||i||(e(this.options.handle,s).find("*").addBack().each(function(){this===t.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,s){var n,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));
return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,s,n,a,o=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],a=this._intersectsWithPointer(s),a&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==n&&!e.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],n):!0)){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this,n=this.placeholder.offset(),a=this.options.axis,o={};a&&"x"!==a||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&s.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")}),s},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,a=e.left,o=a+e.width,r=e.top,h=r+e.height,l=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||s+l>r&&h>s+l,c="y"===this.options.axis||t+u>a&&o>t+u,p=d&&c;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>a&&o>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=t&&i,n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return s?this.floating?a&&"right"===a||"down"===n?2:1:n&&("down"===n?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&t||"up"===s&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){r.push(this)}var s,n,a,o,r=[],h=[],l=this._connectWith();if(l&&t)for(s=l.length-1;s>=0;s--)for(a=e(l[s],this.document[0]),n=a.length-1;n>=0;n--)o=e.data(a[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&h.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(h.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,s,n,a,o,r,h,l,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(i=c.length-1;i>=0;i--)for(n=e(c[i],this.document[0]),s=n.length-1;s>=0;s--)a=e.data(n[s],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(d.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(i=d.length-1;i>=0;i--)for(o=d[i][1],r=d[i][0],s=0,l=r.length;l>s;s++)h=e(r[s]),h.data(this.widgetName+"-item",o),u.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,a;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item,t||(s.width=n.outerWidth(),s.height=n.outerHeight()),a=n.offset(),s.left=a.left,s.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,s=t.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=t.currentItem[0].nodeName.toLowerCase(),n=e("<"+s+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===s?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(n)):"tr"===s?t._createTrPlaceholder(t.currentItem,n):"img"===s&&n.attr("src",t.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(e,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(s.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),s.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var s=this;t.children().each(function(){e("<td>&#160;</td>",s.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,s,n,a,o,r,h,l,u,d,c=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(c&&e.contains(this.containers[i].element[0],c.element[0]))continue;c=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,a=null,u=c.floating||this._isFloating(this.currentItem),o=u?"left":"top",r=u?"width":"height",d=u?"clientX":"clientY",s=this.items.length-1;s>=0;s--)e.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[o],l=!1,t[d]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(t[d]-h)&&(n=Math.abs(t[d]-h),a=this.items[s],this.direction=l?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=e(n.containment)[0],i=e(n.containment).offset(),s="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var s="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*s}},_generatePosition:function(t){var i,s,n=this.options,a=t.pageX,o=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0],a=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(e,t){function i(e,t,i){return function(s){i._trigger(e,s,t._uiHash(t))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)t||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(s=0;n.length>s;s++)n[s].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,s){var n=i.attr(s);void 0!==n&&n.length&&(t[s]=n)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,s=e.ui.keyCode;switch(t.keyCode){case s.UP:return this._repeat(null,1,t),!0;case s.DOWN:return this._repeat(null,-1,t),!0;case s.PAGE_UP:return this._repeat(null,i.page,t),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,s=this.options;return t=null!==s.min?s.min:0,i=e-t,i=Math.round(i/s.step)*s.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==s.max&&e>s.max?s.max:null!==s.min&&s.min>e?s.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(i)),void 0}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:h(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:h(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:h(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:h(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:h(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(h(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,s;t=t.cloneNode(!1),i=t.href.replace(e,""),s=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return t.hash.length>1&&i===s}}(),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===t&&(s&&this.tabs.each(function(i,n){return e(n).attr("aria-controls")===s?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:s++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:n=!1,s--;break;case e.ui.keyCode.END:s=this.anchors.length-1;break;case e.ui.keyCode.HOME:s=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}t.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),t.ctrlKey||t.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function s(){return t>n&&(t=0),0>t&&(t=n),t}for(var n=this.tabs.length-1;-1!==e.inArray(s(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):"disabled"===e?(this._setupDisabled(t),void 0):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t),void 0)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,s=this.anchors,n=this.panels;
this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,s){var n,a,o,r=e(s).uniqueId().attr("id"),h=e(s).closest("li"),l=h.attr("aria-controls");t._isLocal(s)?(n=s.hash,o=n.substring(1),a=t.element.find(t._sanitizeSelector(n))):(o=h.attr("aria-controls")||e({}).uniqueId()[0].id,n="#"+o,a=t.element.find(n),a.length||(a=t._createPanel(o),a.insertAfter(t.panels[i-1]||t.tablist)),a.attr("aria-live","polite")),a.length&&(t.panels=t.panels.add(a)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":o,"aria-labelledby":r}),a.attr("aria-labelledby",r)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,s=0;i=this.tabs[s];s++)t===!0||-1!==e.inArray(s,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,s=this.element.parent();"fill"===t?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),s=t.css("position");"absolute"!==s&&"fixed"!==s&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n.closest("li"),o=a[0]===s[0],r=o&&i.collapsible,h=r?e():this._getPanelForTab(a),l=s.length?this._getPanelForTab(s):e(),u={oldTab:s,oldPanel:l,newTab:r?e():a,newPanel:h};t.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=r?!1:this.tabs.index(a),this.active=o?e():a,this.xhr&&this.xhr.abort(),l.length||h.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(a),t),this._toggle(t,u))},_toggle:function(t,i){function s(){a.running=!1,a._trigger("activate",t,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.options.show?a._show(o,a.options.show,s):(o.show(),s())}var a=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&r.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,s=this._findActive(t);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var s=this,n=this.tabs.eq(t),a=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),r={tab:n,panel:o},h=function(e,t){"abort"===t&&s.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===s.xhr&&delete s.xhr};this._isLocal(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,n){setTimeout(function(){o.html(e),s._trigger("load",i,r),h(n,t)},1)}).fail(function(e,t){setTimeout(function(){h(e,t)},1)})))},_ajaxSettings:function(t,i,s){var n=this;return{url:t.attr("href"),beforeSend:function(t,a){return n._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:a},s))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var s=(t.attr("aria-describedby")||"").split(/\s+/);s.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(s.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),s=(t.attr("aria-describedby")||"").split(/\s+/),n=e.inArray(i,s);-1!==n&&s.splice(n,1),t.removeData("ui-tooltip-id"),s=e.trim(s.join(" ")),s?t.attr("aria-describedby",s):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var s=this;return"disabled"===t?(this[i?"_disable":"_enable"](),this.options[t]=i,void 0):(this._super(t,i),"content"===t&&e.each(this.tooltips,function(e,t){s._updateContent(t.element)}),void 0)},_disable:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event("blur");n.target=n.currentTarget=s.element[0],t.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,s=e(t?t.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&s.parents().each(function(){var t,s=e(this);s.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(t,s),this._updateContent(s,t))},_updateContent:function(e,t){var i,s=this.options.content,n=this,a=t?t.type:null;return"string"==typeof s?this._open(t,e,s):(i=s.call(e[0],function(i){n._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=a),this._open(t,e,i))})}),i&&this._open(t,e,i),void 0)},_open:function(t,i,s){function n(e){l.of=e,o.is(":hidden")||o.position(l)}var a,o,r,h,l=e.extend({},this.options.position);if(s){if(a=this._find(i))return a.tooltip.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),a=this._tooltip(i),o=a.tooltip,this._addDescribedBy(i,o.attr("id")),o.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),s.clone?(h=s.clone(),h.removeAttr("id").find("[id]").removeAttr("id")):h=s,e("<div>").html(h).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:n}),n(t)):o.position(e.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){o.is(":visible")&&(n(l.of),clearInterval(r))},e.fx.interval)),this._trigger("open",t,{tooltip:o})}},_registerCloseHandlers:function(t,i){var s={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var s=e.Event(t);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&"mouseover"!==t.type||(s.mouseleave="close"),t&&"focusin"!==t.type||(s.focusout="close"),this._on(!0,i,s)},close:function(t){var i,s=this,n=e(t?t.currentTarget:this.element),a=this._find(n);return a?(i=a.tooltip,a.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),a.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(e(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete s.parents[t]}),a.closing=!0,this._trigger("close",t,{tooltip:i}),a.hiding||(a.closing=!1)),void 0):(n.removeData("ui-tooltip-open"),void 0)},_tooltip:function(t){var i=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),s=i.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[s]={element:t,tooltip:i}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event("blur"),a=s.element;n.target=n.currentTarget=a[0],t.close(n,!0),e("#"+i).remove(),a.data("ui-tooltip-title")&&(a.attr("title")||a.attr("title",a.data("ui-tooltip-title")),a.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})});
(function e(e,t,n){function i(r,o){if(!t[r]){if(!e[r]){var u=typeof require=="function"&&require;if(!o&&u)return u(r,!0);if(s)return s(r,!0);var a=new Error("Cannot find module '"+r+"'");throw a.code="MODULE_NOT_FOUND",a}var l=t[r]={exports:{}};e[r][0].call(l.exports,function(t){var n=e[r][1][t];return i(n?n:t)},l,l.exports,e,e,t,n)}return t[r].exports}var s=typeof require=="function"&&require;for(var r=0;r<n.length;r++)i(n[r]);return i})({1:[function(n,r,s){var i,t,e;e=n("./Utils");t=n("./Inline");i=function(){function n(){}n.indentation=4;n.prototype.dump=function(n,s,a,l,u){var f,h,p,o,c,r,i;if(s==null){s=0}if(a==null){a=0}if(l==null){l=false}if(u==null){u=null}o="";c=a?e.strRepeat(" ",a):"";if(s<=0||typeof n!=="object"||n instanceof Date||e.isEmpty(n)){o+=c+t.dump(n,l,u)}else{if(n instanceof Array){for(f=0,p=n.length;f<p;f++){r=n[f];i=s-1<=0||typeof r!=="object"||e.isEmpty(r);o+=c+"-"+(i?" ":"\n")+this.dump(r,s-1,i?0:a+this.indentation,l,u)+(i?"\n":"")}}else{for(h in n){r=n[h];i=s-1<=0||typeof r!=="object"||e.isEmpty(r);o+=c+t.dump(h,l,u)+":"+(i?" ":"\n")+this.dump(r,s-1,i?0:a+this.indentation,l,u)+(i?"\n":"")}}}return o};return n}();r.exports=i},{"./Inline":5,"./Utils":9}],2:[function(n,i,r){var t,e;e=n("./Pattern");t=function(){var n;function t(){}t.LIST_ESCAPEES=["\\","\\\\",'\\"','"',"\x00","","","","","","","","\b","	","\n","\x0B","\f","\r","","","","","","","","","","","","","","","","","","",(n=String.fromCharCode)(133),n(160),n(8232),n(8233)];t.LIST_ESCAPED=["\\\\",'\\"','\\"','\\"',"\\0","\\x01","\\x02","\\x03","\\x04","\\x05","\\x06","\\a","\\b","\\t","\\n","\\v","\\f","\\r","\\x0e","\\x0f","\\x10","\\x11","\\x12","\\x13","\\x14","\\x15","\\x16","\\x17","\\x18","\\x19","\\x1a","\\e","\\x1c","\\x1d","\\x1e","\\x1f","\\N","\\_","\\L","\\P"];t.MAPPING_ESCAPEES_TO_ESCAPED=function(){var i,e,r,n;r={};for(i=e=0,n=t.LIST_ESCAPEES.length;0<=n?e<n:e>n;i=0<=n?++e:--e){r[t.LIST_ESCAPEES[i]]=t.LIST_ESCAPED[i]}return r}();t.PATTERN_CHARACTERS_TO_ESCAPE=new e("[\\x00-\\x1f]||||");t.PATTERN_MAPPING_ESCAPEES=new e(t.LIST_ESCAPEES.join("|").split("\\").join("\\\\"));t.PATTERN_SINGLE_QUOTING=new e("[\\s'\":{}[\\],&*#?]|^[-?|<>=!%@`]");t.requiresDoubleQuoting=function(e){return this.PATTERN_CHARACTERS_TO_ESCAPE.test(e)};t.escapeWithDoubleQuotes=function(t){var e;e=this.PATTERN_MAPPING_ESCAPEES.replace(t,function(e){return function(t){return e.MAPPING_ESCAPEES_TO_ESCAPED[t]}}(this));return'"'+e+'"'};t.requiresSingleQuoting=function(e){return this.PATTERN_SINGLE_QUOTING.test(e)};t.escapeWithSingleQuotes=function(e){return"'"+e.replace(/'/g,"''")+"'"};return t}();i.exports=t},{"./Pattern":7}],3:[function(r,t,s){var e,n=function(e,t){for(var n in t){if(i.call(t,n))e[n]=t[n]}function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e},i={}.hasOwnProperty;e=function(t){n(e,t);function e(e,t,n){this.message=e;this.parsedLine=t;this.snippet=n}e.prototype.toString=function(){if(this.parsedLine!=null&&this.snippet!=null){return"<DumpException> "+this.message+" (line "+this.parsedLine+": '"+this.snippet+"')"}else{return"<DumpException> "+this.message}};return e}(Error);t.exports=e},{}],4:[function(r,t,s){var e,n=function(e,t){for(var n in t){if(i.call(t,n))e[n]=t[n]}function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e},i={}.hasOwnProperty;e=function(t){n(e,t);function e(e,t,n){this.message=e;this.parsedLine=t;this.snippet=n}e.prototype.toString=function(){if(this.parsedLine!=null&&this.snippet!=null){return"<ParseException> "+this.message+" (line "+this.parsedLine+": '"+this.snippet+"')"}else{return"<ParseException> "+this.message}};return e}(Error);t.exports=e},{}],5:[function(n,a,f){var o,i,u,t,r,s,e,l=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++){if(e in this&&this[e]===t)return e}return-1};r=n("./Pattern");s=n("./Unescaper");i=n("./Escaper");e=n("./Utils");t=n("./Exception/ParseException");o=n("./Exception/DumpException");u=function(){function n(){}n.REGEX_QUOTED_STRING="(?:\"(?:[^\"\\\\]*(?:\\\\.[^\"\\\\]*)*)\"|'(?:[^']*(?:''[^']*)*)')";n.PATTERN_TRAILING_COMMENTS=new r("^\\s*#.*$");n.PATTERN_QUOTED_SCALAR=new r("^"+n.REGEX_QUOTED_STRING);n.PATTERN_THOUSAND_NUMERIC_SCALAR=new r("^(-|\\+)?[0-9,]+(\\.[0-9]+)?$");n.PATTERN_SCALAR_BY_DELIMITERS={};n.settings={};n.configure=function(e,t){if(e==null){e=null}if(t==null){t=null}this.settings.exceptionOnInvalidType=e;this.settings.objectDecoder=t};n.parse=function(n,r,s){var i,l;if(r==null){r=false}if(s==null){s=null}this.settings.exceptionOnInvalidType=r;this.settings.objectDecoder=s;if(n==null){return""}n=e.trim(n);if(0===n.length){return""}i={exceptionOnInvalidType:r,objectDecoder:s,i:0};switch(n.charAt(0)){case"[":l=this.parseSequence(n,i);++i.i;break;case"{":l=this.parseMapping(n,i);++i.i;break;default:l=this.parseScalar(n,null,['"',"'"],i)}if(this.PATTERN_TRAILING_COMMENTS.replace(n.slice(i.i),"")!==""){throw new t('Unexpected characters near "'+n.slice(i.i)+'".')}return l};n.dump=function(t,u,r){var s,l,n;if(u==null){u=false}if(r==null){r=null}if(t==null){return"null"}n=typeof t;if(n==="object"){if(t instanceof Date){return t.toISOString()}else if(r!=null){l=r(t);if(typeof l==="string"||l!=null){return l}}return this.dumpObject(t)}if(n==="boolean"){return t?"true":"false"}if(e.isDigits(t)){return n==="string"?"'"+t+"'":String(parseInt(t))}if(e.isNumeric(t)){return n==="string"?"'"+t+"'":String(parseFloat(t))}if(n==="number"){return t===Infinity?".Inf":t===-Infinity?"-.Inf":isNaN(t)?".NaN":t}if(i.requiresDoubleQuoting(t)){return i.escapeWithDoubleQuotes(t)}if(i.requiresSingleQuoting(t)){return i.escapeWithSingleQuotes(t)}if(""===t){return'""'}if(e.PATTERN_DATE.test(t)){return"'"+t+"'"}if((s=t.toLowerCase())==="null"||s==="~"||s==="true"||s==="false"){return"'"+t+"'"}return t};n.dumpObject=function(t,u,s){var n,r,l,e,i;if(s==null){s=null}if(t instanceof Array){e=[];for(n=0,l=t.length;n<l;n++){i=t[n];e.push(this.dump(i))}return"["+e.join(", ")+"]"}else{e=[];for(r in t){i=t[r];e.push(this.dump(r)+": "+this.dump(i))}return"{"+e.join(", ")+"}"}};n.parseScalar=function(u,a,c,s,h){var i,f,_,n,o,E,T,p,A;if(a==null){a=null}if(c==null){c=['"',"'"]}if(s==null){s=null}if(h==null){h=true}if(s==null){s={exceptionOnInvalidType:this.settings.exceptionOnInvalidType,objectDecoder:this.settings.objectDecoder,i:0}}i=s.i;if(E=u.charAt(i),l.call(c,E)>=0){n=this.parseQuotedScalar(u,s);i=s.i;if(a!=null){A=e.ltrim(u.slice(i)," ");if(!(T=A.charAt(0),l.call(a,T)>=0)){throw new t("Unexpected characters ("+u.slice(i)+").")}}}else{if(!a){n=u.slice(i);i+=n.length;p=n.indexOf(" #");if(p!==-1){n=e.rtrim(n.slice(0,p))}}else{f=a.join("|");o=this.PATTERN_SCALAR_BY_DELIMITERS[f];if(o==null){o=new r("^(.+?)("+f+")");this.PATTERN_SCALAR_BY_DELIMITERS[f]=o}if(_=o.exec(u.slice(i))){n=_[1];i+=n.length}else{throw new t("Malformed inline YAML string ("+u+").")}}if(h){n=this.evaluateScalar(n,s)}}s.i=i;return n};n.parseQuotedScalar=function(r,l){var e,i,n;e=l.i;if(!(i=this.PATTERN_QUOTED_SCALAR.exec(r.slice(e)))){throw new t("Malformed inline YAML string ("+r.slice(e)+").")}n=i[0].substr(1,i[0].length-2);if('"'===r.charAt(e)){n=s.unescapeDoubleQuotedString(n)}else{n=s.unescapeSingleQuotedString(n)}e+=i[0].length;l.i=e;return n};n.parseSequence=function(i,n){var o,f,e,l,u,s,a,r;s=[];u=i.length;e=n.i;e+=1;while(e<u){n.i=e;switch(i.charAt(e)){case"[":s.push(this.parseSequence(i,n));e=n.i;break;case"{":s.push(this.parseMapping(i,n));e=n.i;break;case"]":return s;case",":case" ":case"\n":break;default:l=(a=i.charAt(e))==='"'||a==="'";r=this.parseScalar(i,[",","]"],['"',"'"],n);e=n.i;if(!l&&typeof r==="string"&&(r.indexOf(": ")!==-1||r.indexOf(":\n")!==-1)){try{r=this.parseMapping("{"+r+"}")}catch(f){o=f}}s.push(r);--e}++e}throw new t("Malformed inline YAML string "+i)};n.parseMapping=function(i,n){var u,e,s,o,r,a,l;r={};o=i.length;e=n.i;e+=1;a=false;while(e<o){n.i=e;switch(i.charAt(e)){case" ":case",":case"\n":++e;n.i=e;a=true;break;case"}":return r}if(a){a=false;continue}s=this.parseScalar(i,[":"," ","\n"],['"',"'"],n,false);e=n.i;u=false;while(e<o){n.i=e;switch(i.charAt(e)){case"[":l=this.parseSequence(i,n);e=n.i;if(r[s]===void 0){r[s]=l}u=true;break;case"{":l=this.parseMapping(i,n);e=n.i;if(r[s]===void 0){r[s]=l}u=true;break;case":":case" ":case"\n":break;default:l=this.parseScalar(i,[",","}"],['"',"'"],n);e=n.i;if(r[s]===void 0){r[s]=l}u=true;--e}++e;if(u){break}}}throw new t("Malformed inline YAML string "+i)};n.evaluateScalar=function(n,a){var s,h,p,E,i,c,o,r,l,f,u;n=e.trim(n);l=n.toLowerCase();switch(l){case"null":case"":case"~":return null;case"true":return true;case"false":return false;case".inf":return Infinity;case".nan":return NaN;case"-.inf":return Infinity;default:E=l.charAt(0);switch(E){case"!":i=n.indexOf(" ");if(i===-1){c=l}else{c=l.slice(0,i)}switch(c){case"!":if(i!==-1){return parseInt(this.parseScalar(n.slice(2)))}return null;case"!str":return e.ltrim(n.slice(4));case"!!str":return e.ltrim(n.slice(5));case"!!int":return parseInt(this.parseScalar(n.slice(5)));case"!!bool":return e.parseBoolean(this.parseScalar(n.slice(6)),false);case"!!float":return parseFloat(this.parseScalar(n.slice(7)));case"!!timestamp":return e.stringToDate(e.ltrim(n.slice(11)));default:if(a==null){a={exceptionOnInvalidType:this.settings.exceptionOnInvalidType,objectDecoder:this.settings.objectDecoder,i:0}}o=a.objectDecoder,p=a.exceptionOnInvalidType;if(o){u=e.rtrim(n);i=u.indexOf(" ");if(i===-1){return o(u,null)}else{f=e.ltrim(u.slice(i+1));if(!(f.length>0)){f=null}return o(u.slice(0,i),f)}}if(p){throw new t("Custom object support when parsing a YAML file has been disabled.")}return null}break;case"0":if("0x"===n.slice(0,2)){return e.hexDec(n)}else if(e.isDigits(n)){return e.octDec(n)}else if(e.isNumeric(n)){return parseFloat(n)}else{return n}break;case"+":if(e.isDigits(n)){r=n;s=parseInt(r);if(r===String(s)){return s}else{return r}}else if(e.isNumeric(n)){return parseFloat(n)}else if(this.PATTERN_THOUSAND_NUMERIC_SCALAR.test(n)){return parseFloat(n.replace(",",""))}return n;case"-":if(e.isDigits(n.slice(1))){if("0"===n.charAt(1)){return-e.octDec(n.slice(1))}else{r=n.slice(1);s=parseInt(r);if(r===String(s)){return-s}else{return-r}}}else if(e.isNumeric(n)){return parseFloat(n)}else if(this.PATTERN_THOUSAND_NUMERIC_SCALAR.test(n)){return parseFloat(n.replace(",",""))}return n;default:if(h=e.stringToDate(n)){return h}else if(e.isNumeric(n)){return parseFloat(n)}else if(this.PATTERN_THOUSAND_NUMERIC_SCALAR.test(n)){return parseFloat(n.replace(",",""))}return n}}};return n}();a.exports=u},{"./Escaper":2,"./Exception/DumpException":3,"./Exception/ParseException":4,"./Pattern":7,"./Unescaper":8,"./Utils":9}],6:[function(r,l,u){var i,n,s,t,e;i=r("./Inline");t=r("./Pattern");e=r("./Utils");n=r("./Exception/ParseException");s=function(){r.prototype.PATTERN_FOLDED_SCALAR_ALL=new t("^(?:(?<type>![^\\|>]*)\\s+)?(?<separator>\\||>)(?<modifiers>\\+|\\-|\\d+|\\+\\d+|\\-\\d+|\\d+\\+|\\d+\\-)?(?<comments> +#.*)?$");r.prototype.PATTERN_FOLDED_SCALAR_END=new t("(?<separator>\\||>)(?<modifiers>\\+|\\-|\\d+|\\+\\d+|\\-\\d+|\\d+\\+|\\d+\\-)?(?<comments> +#.*)?$");r.prototype.PATTERN_SEQUENCE_ITEM=new t("^\\-((?<leadspaces>\\s+)(?<value>.+?))?\\s*$");r.prototype.PATTERN_ANCHOR_VALUE=new t("^&(?<ref>[^ ]+) *(?<value>.*)");r.prototype.PATTERN_COMPACT_NOTATION=new t("^(?<key>"+i.REGEX_QUOTED_STRING+"|[^ '\"\\{\\[].*?) *\\:(\\s+(?<value>.+?))?\\s*$");r.prototype.PATTERN_MAPPING_ITEM=new t("^(?<key>"+i.REGEX_QUOTED_STRING+"|[^ '\"\\[\\{].*?) *\\:(\\s+(?<value>.+?))?\\s*$");r.prototype.PATTERN_DECIMAL=new t("\\d+");r.prototype.PATTERN_INDENT_SPACES=new t("^ +");r.prototype.PATTERN_TRAILING_LINES=new t("(\n*)$");r.prototype.PATTERN_YAML_HEADER=new t("^\\%YAML[: ][\\d\\.]+.*\n");r.prototype.PATTERN_LEADING_COMMENTS=new t("^(\\#.*?\n)+");r.prototype.PATTERN_DOCUMENT_MARKER_START=new t("^\\-\\-\\-.*?\n");r.prototype.PATTERN_DOCUMENT_MARKER_END=new t("^\\.\\.\\.\\s*$");r.prototype.PATTERN_FOLDED_SCALAR_BY_INDENTATION={};r.prototype.CONTEXT_NONE=0;r.prototype.CONTEXT_SEQUENCE=1;r.prototype.CONTEXT_MAPPING=2;function r(e){this.offset=e!=null?e:0;this.lines=[];this.currentLineNb=-1;this.currentLine="";this.refs={}}r.prototype.parse=function(l,f,c){var U,N,v,p,d,t,o,Q,B,Y,g,E,G,L,S,b,u,R,y,j,X,D,O,P,m,_,w,x,M,A,h,a,F,k,H,I,T,C,s;if(f==null){f=false}if(c==null){c=null}this.currentLineNb=-1;this.currentLine="";this.lines=this.cleanup(l).split("\n");t=null;d=this.CONTEXT_NONE;N=false;while(this.moveToNextLine()){if(this.isCurrentLineEmpty()){continue}if("	"===this.currentLine[0]){throw new n("A YAML file cannot contain tabs as indentation.",this.getRealCurrentLineNb()+1,this.currentLine)}L=w=false;if(s=this.PATTERN_SEQUENCE_ITEM.exec(this.currentLine)){if(this.CONTEXT_MAPPING===d){throw new n("You cannot define a sequence item when in a mapping")}d=this.CONTEXT_SEQUENCE;if(t==null){t=[]}if(s.value!=null&&(_=this.PATTERN_ANCHOR_VALUE.exec(s.value))){L=_.ref;s.value=_.value}if(!(s.value!=null)||""===e.trim(s.value," ")||e.ltrim(s.value," ").indexOf("#")===0){if(this.currentLineNb<this.lines.length-1&&!this.isNextLineUnIndentedCollection()){p=this.getRealCurrentLineNb()+1;a=new r(p);a.refs=this.refs;t.push(a.parse(this.getNextEmbedBlock(null,true),f,c))}else{t.push(null)}}else{if(((F=s.leadspaces)!=null?F.length:void 0)&&(_=this.PATTERN_COMPACT_NOTATION.exec(s.value))){p=this.getRealCurrentLineNb();a=new r(p);a.refs=this.refs;v=s.value;G=this.getCurrentLineIndentation();if(this.isNextLineIndented(false)){v+="\n"+this.getNextEmbedBlock(G+s.leadspaces.length+1,true)}t.push(a.parse(v,f,c))}else{t.push(this.parseValue(s.value,f,c))}}}else if((s=this.PATTERN_MAPPING_ITEM.exec(this.currentLine))&&s.key.indexOf(" #")===-1){if(this.CONTEXT_SEQUENCE===d){throw new n("You cannot define a mapping item when in a sequence")}d=this.CONTEXT_MAPPING;if(t==null){t={}}i.configure(f,c);try{u=i.parseScalar(s.key)}catch(Q){o=Q;o.parsedLine=this.getRealCurrentLineNb()+1;o.snippet=this.currentLine;throw o}if("<<"===u){w=true;N=true;if(((k=s.value)!=null?k.indexOf("*"):void 0)===0){I=s.value.slice(1);if(this.refs[I]==null){throw new n('Reference "'+I+'" does not exist.',this.getRealCurrentLineNb()+1,this.currentLine)}T=this.refs[I];if(typeof T!=="object"){throw new n("YAML merge keys used with a scalar value instead of an object.",this.getRealCurrentLineNb()+1,this.currentLine)}if(T instanceof Array){for(E=S=0,j=T.length;S<j;E=++S){l=T[E];if(t[M=String(E)]==null){t[M]=l}}}else{for(u in T){l=T[u];if(t[u]==null){t[u]=l}}}}else{if(s.value!=null&&s.value!==""){l=s.value}else{l=this.getNextEmbedBlock()}p=this.getRealCurrentLineNb()+1;a=new r(p);a.refs=this.refs;A=a.parse(l,f);if(typeof A!=="object"){throw new n("YAML merge keys used with a scalar value instead of an object.",this.getRealCurrentLineNb()+1,this.currentLine)}if(A instanceof Array){for(R=0,X=A.length;R<X;R++){h=A[R];if(typeof h!=="object"){throw new n("Merge items must be objects.",this.getRealCurrentLineNb()+1,h)}if(h instanceof Array){for(E=m=0,D=h.length;m<D;E=++m){l=h[E];b=String(E);if(!t.hasOwnProperty(b)){t[b]=l}}}else{for(u in h){l=h[u];if(!t.hasOwnProperty(u)){t[u]=l}}}}}else{for(u in A){l=A[u];if(!t.hasOwnProperty(u)){t[u]=l}}}}}else if(s.value!=null&&(_=this.PATTERN_ANCHOR_VALUE.exec(s.value))){L=_.ref;s.value=_.value}if(w){}else if(!(s.value!=null)||""===e.trim(s.value," ")||e.ltrim(s.value," ").indexOf("#")===0){if(!this.isNextLineIndented()&&!this.isNextLineUnIndentedCollection()){if(N||t[u]===void 0){t[u]=null}}else{p=this.getRealCurrentLineNb()+1;a=new r(p);a.refs=this.refs;C=a.parse(this.getNextEmbedBlock(),f,c);if(N||t[u]===void 0){t[u]=C}}}else{C=this.parseValue(s.value,f,c);if(N||t[u]===void 0){t[u]=C}}}else{P=this.lines.length;if(1===P||2===P&&e.isEmpty(this.lines[1])){try{l=i.parse(this.lines[0],f,c)}catch(B){o=B;o.parsedLine=this.getRealCurrentLineNb()+1;o.snippet=this.currentLine;throw o}if(typeof l==="object"){if(l instanceof Array){g=l[0]}else{for(u in l){g=l[u];break}}if(typeof g==="string"&&g.indexOf("*")===0){t=[];for(x=0,O=l.length;x<O;x++){U=l[x];t.push(this.refs[U.slice(1)])}l=t}}return l}else if((H=e.ltrim(l).charAt(0))==="["||H==="{"){try{return i.parse(l,f,c)}catch(Y){o=Y;o.parsedLine=this.getRealCurrentLineNb()+1;o.snippet=this.currentLine;throw o}}throw new n("Unable to parse.",this.getRealCurrentLineNb()+1,this.currentLine)}if(L){if(t instanceof Array){this.refs[L]=t[t.length-1]}else{y=null;for(u in t){y=u}this.refs[L]=t[y]}}}if(e.isEmpty(t)){return null}else{return t}};r.prototype.getRealCurrentLineNb=function(){return this.currentLineNb+this.offset};r.prototype.getCurrentLineIndentation=function(){return this.currentLine.length-e.ltrim(this.currentLine," ").length};r.prototype.getNextEmbedBlock=function(r,l){var s,i,o,t,u,a,f;if(r==null){r=null}if(l==null){l=false}this.moveToNextLine();if(r==null){t=this.getCurrentLineIndentation();f=this.isStringUnIndentedCollectionItem(this.currentLine);if(!this.isCurrentLineEmpty()&&0===t&&!f){throw new n("Indentation problem.",this.getRealCurrentLineNb()+1,this.currentLine)}}else{t=r}s=[this.currentLine.slice(t)];if(!l){o=this.isStringUnIndentedCollectionItem(this.currentLine)}a=this.PATTERN_FOLDED_SCALAR_END;u=!a.test(this.currentLine);while(this.moveToNextLine()){i=this.getCurrentLineIndentation();if(i===t){u=!a.test(this.currentLine)}if(o&&!this.isStringUnIndentedCollectionItem(this.currentLine)&&i===t){this.moveToPreviousLine();break}if(this.isCurrentLineBlank()){s.push(this.currentLine.slice(t));continue}if(u&&this.isCurrentLineComment()){if(i===t){continue}}if(i>=t){s.push(this.currentLine.slice(t))}else if(e.ltrim(this.currentLine).charAt(0)==="#"){}else if(0===i){this.moveToPreviousLine();break}else{throw new n("Indentation problem.",this.getRealCurrentLineNb()+1,this.currentLine)}}return s.join("\n")};r.prototype.moveToNextLine=function(){if(this.currentLineNb>=this.lines.length-1){return false}this.currentLine=this.lines[++this.currentLineNb];return true};r.prototype.moveToPreviousLine=function(){this.currentLine=this.lines[--this.currentLineNb]};r.prototype.parseValue=function(e,l,u){var t,p,E,s,r,a,o,c,h,f;if(0===e.indexOf("*")){o=e.indexOf("#");if(o!==-1){e=e.substr(1,o-2)}else{e=e.slice(1)}if(this.refs[e]===void 0){throw new n('Reference "'+e+'" does not exist.',this.currentLine)}return this.refs[e]}if(r=this.PATTERN_FOLDED_SCALAR_ALL.exec(e)){a=(c=r.modifiers)!=null?c:"";s=Math.abs(parseInt(a));if(isNaN(s)){s=0}f=this.parseFoldedScalar(r.separator,this.PATTERN_DECIMAL.replace(a,""),s);if(r.type!=null){i.configure(l,u);return i.parseScalar(r.type+" "+f)}else{return f}}try{return i.parse(e,l,u)}catch(p){t=p;if(((h=e.charAt(0))==="["||h==="{")&&t instanceof n&&this.isNextLineIndented()){e+="\n"+this.getNextEmbedBlock();try{return i.parse(e,l,u)}catch(E){t=E;t.parsedLine=this.getRealCurrentLineNb()+1;t.snippet=this.currentLine;throw t}}else{t.parsedLine=this.getRealCurrentLineNb()+1;t.snippet=this.currentLine;throw t}}};r.prototype.parseFoldedScalar=function(T,o,i){var l,h,E,a,c,f,s,u,p,n;if(o==null){o=""}if(i==null){i=0}s=this.moveToNextLine();if(!s){return""}l=this.isCurrentLineBlank();n="";while(s&&l){if(s=this.moveToNextLine()){n+="\n";l=this.isCurrentLineBlank()}}if(0===i){if(c=this.PATTERN_INDENT_SPACES.exec(this.currentLine)){i=c[0].length}}if(i>0){u=this.PATTERN_FOLDED_SCALAR_BY_INDENTATION[i];if(u==null){u=new t("^ {"+i+"}(.*)$");r.prototype.PATTERN_FOLDED_SCALAR_BY_INDENTATION[i]=u}while(s&&(l||(c=u.exec(this.currentLine)))){if(l){n+=this.currentLine.slice(i)}else{n+=c[1]}if(s=this.moveToNextLine()){n+="\n";l=this.isCurrentLineBlank()}}}else if(s){n+="\n"}if(s){this.moveToPreviousLine()}if(">"===T){f="";p=n.split("\n");for(h=0,E=p.length;h<E;h++){a=p[h];if(a.length===0||a.charAt(0)===" "){f=e.rtrim(f," ")+a+"\n"}else{f+=a+" "}}n=f}if("+"!==o){n=e.rtrim(n)}if(""===o){n=this.PATTERN_TRAILING_LINES.replace(n,"\n")}else if("-"===o){n=this.PATTERN_TRAILING_LINES.replace(n,"")}return n};r.prototype.isNextLineIndented=function(t){var e,i,n;if(t==null){t=true}i=this.getCurrentLineIndentation();e=!this.moveToNextLine();if(t){while(!e&&this.isCurrentLineEmpty()){e=!this.moveToNextLine()}}else{while(!e&&this.isCurrentLineBlank()){e=!this.moveToNextLine()}}if(e){return false}n=false;if(this.getCurrentLineIndentation()>i){n=true}this.moveToPreviousLine();return n};r.prototype.isCurrentLineEmpty=function(){var t;t=e.trim(this.currentLine," ");return t.length===0||t.charAt(0)==="#"};r.prototype.isCurrentLineBlank=function(){return""===e.trim(this.currentLine," ")};r.prototype.isCurrentLineComment=function(){var t;t=e.ltrim(this.currentLine," ");return t.charAt(0)==="#"};r.prototype.cleanup=function(t){var i,a,f,u,o,E,T,s,n,c,h,p,l,r;if(t.indexOf("\r")!==-1){t=t.split("\r\n").join("\n").split("\r").join("\n")}i=0;c=this.PATTERN_YAML_HEADER.replaceAll(t,""),t=c[0],i=c[1];this.offset+=i;h=this.PATTERN_LEADING_COMMENTS.replaceAll(t,"",1),r=h[0],i=h[1];if(i===1){this.offset+=e.subStrCount(t,"\n")-e.subStrCount(r,"\n");t=r}p=this.PATTERN_DOCUMENT_MARKER_START.replaceAll(t,"",1),r=p[0],i=p[1];if(i===1){this.offset+=e.subStrCount(t,"\n")-e.subStrCount(r,"\n");t=r;t=this.PATTERN_DOCUMENT_MARKER_END.replace(t,"")}n=t.split("\n");l=-1;for(u=0,E=n.length;u<E;u++){s=n[u];if(e.trim(s," ").length===0){continue}f=s.length-e.ltrim(s).length;if(l===-1||f<l){l=f}}if(l>0){for(a=o=0,T=n.length;o<T;a=++o){s=n[a];n[a]=s.slice(l)}t=n.join("\n")}return t};r.prototype.isNextLineUnIndentedCollection=function(e){var t,n;if(e==null){e=null}if(e==null){e=this.getCurrentLineIndentation()}t=this.moveToNextLine();while(t&&this.isCurrentLineEmpty()){t=this.moveToNextLine()}if(false===t){return false}n=false;if(this.getCurrentLineIndentation()===e&&this.isStringUnIndentedCollectionItem(this.currentLine)){n=true}this.moveToPreviousLine();return n};r.prototype.isStringUnIndentedCollectionItem=function(){return this.currentLine==="-"||this.currentLine.slice(0,2)==="- "};return r}();l.exports=s},{"./Exception/ParseException":4,"./Inline":5,"./Pattern":7,"./Utils":9}],7:[function(n,t,i){var e;e=function(){e.prototype.regex=null;e.prototype.rawRegex=null;e.prototype.cleanedRegex=null;e.prototype.mapping=null;function e(i,o){var n,s,t,e,l,r,u,a,f;if(o==null){o=""}t="";l=i.length;r=null;s=0;e=0;while(e<l){n=i.charAt(e);if(n==="\\"){t+=i.slice(e,+(e+1)+1||9e9);e++}else if(n==="("){if(e<l-2){a=i.slice(e,+(e+2)+1||9e9);if(a==="(?:"){e+=2;t+=a}else if(a==="(?<"){s++;e+=2;u="";while(e+1<l){f=i.charAt(e+1);if(f===">"){t+="(";e++;if(u.length>0){if(r==null){r={}}r[u]=s}break}else{u+=f}e++}}else{t+=n;s++}}else{t+=n}}else{t+=n}e++}this.rawRegex=i;this.cleanedRegex=t;this.regex=new RegExp(this.cleanedRegex,"g"+o.replace("g",""));this.mapping=r}e.prototype.exec=function(r){var i,e,t,n;this.regex.lastIndex=0;e=this.regex.exec(r);if(e==null){return null}if(this.mapping!=null){n=this.mapping;for(t in n){i=n[t];e[t]=e[i]}}return e};e.prototype.test=function(e){this.regex.lastIndex=0;return this.regex.test(e)};e.prototype.replace=function(e,t){this.regex.lastIndex=0;return e.replace(this.regex,t)};e.prototype.replaceAll=function(e,i,t){var n;if(t==null){t=0}this.regex.lastIndex=0;n=0;while(this.regex.test(e)&&(t===0||n<t)){this.regex.lastIndex=0;e=e.replace(this.regex,"");n++}return[e,n]};return e}();t.exports=e},{}],8:[function(t,r,s){var n,i,e;e=t("./Utils");n=t("./Pattern");i=function(){function t(){}t.PATTERN_ESCAPED_CHARACTER=new n('\\\\([0abt	nvfre "\\/\\\\N_LP]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})');t.unescapeSingleQuotedString=function(e){return e.replace(/\'\'/g,"'")};t.unescapeDoubleQuotedString=function(e){if(this._unescapeCallback==null){this._unescapeCallback=function(e){return function(t){return e.unescapeCharacter(t)}}(this)}return this.PATTERN_ESCAPED_CHARACTER.replace(e,this._unescapeCallback)};t.unescapeCharacter=function(n){var t;t=String.fromCharCode;switch(n.charAt(1)){case"0":return t(0);case"a":return t(7);case"b":return t(8);case"t":return"	";case"	":return"	";case"n":return"\n";case"v":return t(11);case"f":return t(12);case"r":return t(13);case"e":return t(27);case" ":return" ";case'"':return'"';case"/":return"/";case"\\":return"\\";case"N":return t(133);case"_":return t(160);case"L":return t(8232);case"P":return t(8233);case"x":return e.utf8chr(e.hexDec(n.substr(2,2)));case"u":return e.utf8chr(e.hexDec(n.substr(2,4)));case"U":return e.utf8chr(e.hexDec(n.substr(2,8)));default:return""}};return t}();r.exports=i},{"./Pattern":7,"./Utils":9}],9:[function(e,i,r){var t,n;t=e("./Pattern");n=function(){function n(){}n.REGEX_LEFT_TRIM_BY_CHAR={};n.REGEX_RIGHT_TRIM_BY_CHAR={};n.REGEX_SPACES=/\s+/g;n.REGEX_DIGITS=/^\d+$/;n.REGEX_OCTAL=/[^0-7]/gi;n.REGEX_HEXADECIMAL=/[^a-f0-9]/gi;n.PATTERN_DATE=new t("^"+"(?<year>[0-9][0-9][0-9][0-9])"+"-(?<month>[0-9][0-9]?)"+"-(?<day>[0-9][0-9]?)"+"(?:(?:[Tt]|[ 	]+)"+"(?<hour>[0-9][0-9]?)"+":(?<minute>[0-9][0-9])"+":(?<second>[0-9][0-9])"+"(?:.(?<fraction>[0-9]*))?"+"(?:[ 	]*(?<tz>Z|(?<tz_sign>[-+])(?<tz_hour>[0-9][0-9]?)"+"(?::(?<tz_minute>[0-9][0-9]))?))?)?"+"$","i");n.LOCAL_TIMEZONE_OFFSET=(new Date).getTimezoneOffset()*60*1e3;n.trim=function(i,e){var t,n;if(e==null){e="\\s"}return i.trim();t=this.REGEX_LEFT_TRIM_BY_CHAR[e];if(t==null){this.REGEX_LEFT_TRIM_BY_CHAR[e]=t=new RegExp("^"+e+""+e+"*")}t.lastIndex=0;n=this.REGEX_RIGHT_TRIM_BY_CHAR[e];if(n==null){this.REGEX_RIGHT_TRIM_BY_CHAR[e]=n=new RegExp(e+""+e+"*$")}n.lastIndex=0;return i.replace(t,"").replace(n,"")};n.ltrim=function(n,e){var t;if(e==null){e="\\s"}t=this.REGEX_LEFT_TRIM_BY_CHAR[e];if(t==null){this.REGEX_LEFT_TRIM_BY_CHAR[e]=t=new RegExp("^"+e+""+e+"*")}t.lastIndex=0;return n.replace(t,"")};n.rtrim=function(n,e){var t;if(e==null){e="\\s"}t=this.REGEX_RIGHT_TRIM_BY_CHAR[e];if(t==null){this.REGEX_RIGHT_TRIM_BY_CHAR[e]=t=new RegExp(e+""+e+"*$")}t.lastIndex=0;return n.replace(t,"")};n.isEmpty=function(e){return!e||e===""||e==="0"||e instanceof Array&&e.length===0};n.subStrCount=function(e,i,u,a){var s,r,t,o,n,l;s=0;e=""+e;i=""+i;if(u!=null){e=e.slice(u)}if(a!=null){e=e.slice(0,a)}o=e.length;l=i.length;for(r=t=0,n=o;0<=n?t<n:t>n;r=0<=n?++t:--t){if(i===e.slice(r,l)){s++;r+=l-1}}return s};n.isDigits=function(e){this.REGEX_DIGITS.lastIndex=0;return this.REGEX_DIGITS.test(e)};n.octDec=function(e){this.REGEX_OCTAL.lastIndex=0;return parseInt((e+"").replace(this.REGEX_OCTAL,""),8)};n.hexDec=function(e){this.REGEX_HEXADECIMAL.lastIndex=0;e=this.trim(e);if((e+"").slice(0,2)==="0x"){e=(e+"").slice(2)}return parseInt((e+"").replace(this.REGEX_HEXADECIMAL,""),16)};n.utf8chr=function(e){var t;t=String.fromCharCode;if(128>(e%=2097152)){return t(e)}if(2048>e){return t(192|e>>6)+t(128|e&63)}if(65536>e){return t(224|e>>12)+t(128|e>>6&63)+t(128|e&63)}return t(240|e>>18)+t(128|e>>12&63)+t(128|e>>6&63)+t(128|e&63)};n.parseBoolean=function(t,n){var e;if(n==null){n=true}if(typeof t==="string"){e=t.toLowerCase();if(!n){if(e==="no"){return false}}if(e==="0"){return false}if(e==="false"){return false}if(e===""){return false}return true}return!!t};n.isNumeric=function(e){this.REGEX_SPACES.lastIndex=0;return typeof e==="number"||typeof e==="string"&&!isNaN(e)&&e.replace(this.REGEX_SPACES,"")!==""};n.stringToDate=function(r){var n,l,t,c,e,h,u,f,o,a,i,s;if(!(r!=null?r.length:void 0)){return null}e=this.PATTERN_DATE.exec(r);if(!e){return null}s=parseInt(e.year,10);u=parseInt(e.month,10)-1;l=parseInt(e.day,10);if(e.hour==null){n=new Date(Date.UTC(s,u,l));return n}c=parseInt(e.hour,10);h=parseInt(e.minute,10);f=parseInt(e.second,10);if(e.fraction!=null){t=e.fraction.slice(0,3);while(t.length<3){t+="0"}t=parseInt(t,10)}else{t=0}if(e.tz!=null){o=parseInt(e.tz_hour,10);if(e.tz_minute!=null){a=parseInt(e.tz_minute,10)}else{a=0}i=(o*60+a)*6e4;if("-"===e.tz_sign){i*=-1}}n=new Date(Date.UTC(s,u,l,c,h,f,t));if(i){n.setTime(n.getTime()+i)}return n};n.strRepeat=function(n,i){var e,t;t="";e=0;while(e<i){t+=n;e++}return t};n.getStringFromFile=function(i,n){var s,l,r,a,f,u,o,t;if(n==null){n=null}t=null;if(typeof window!=="undefined"&&window!==null){if(window.XMLHttpRequest){t=new XMLHttpRequest}else if(window.ActiveXObject){u=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP","Microsoft.XMLHTTP"];for(r=0,a=u.length;r<a;r++){f=u[r];try{t=new ActiveXObject(f)}catch(c){}}}}if(t!=null){if(n!=null){t.onreadystatechange=function(){if(t.readyState===4){if(t.status===200||t.status===0){return n(t.responseText)}else{return n(null)}}};t.open("GET",i,true);return t.send(null)}else{t.open("GET",i,false);t.send(null);if(t.status===200||t.status===0){return t.responseText}return null}}else{o=e;l=o("fs");if(n!=null){return l.readFile(i,function(e,t){if(e){return n(null)}else{return n(String(t))}})}else{s=l.readFileSync(i);if(s!=null){return String(s)}return null}}};return n}();i.exports=n},{"./Pattern":7}],10:[function(e,s,l){var i,r,n,t;r=e("./Parser");i=e("./Dumper");n=e("./Utils");t=function(){function t(){}t.parse=function(n,e,t){if(e==null){e=false}if(t==null){t=null}return(new r).parse(n,e,t)};t.parseFile=function(s,e,t,i){var r;if(e==null){e=null}if(t==null){t=false}if(i==null){i=null}if(e!=null){return n.getStringFromFile(s,function(n){return function(s){var r;r=null;if(s!=null){r=n.parse(s,t,i)}e(r)}}(this))}else{r=n.getStringFromFile(s);if(r!=null){return this.parse(r,t,i)}return null}};t.dump=function(l,e,t,n,r){var s;if(e==null){e=2}if(t==null){t=4}if(n==null){n=false}if(r==null){r=null}s=new i;s.indentation=t;return s.dump(l,e,0,n,r)};t.register=function(){var t;t=function(e,t){return e.exports=YAML.parseFile(t)};if((typeof e!=="undefined"&&e!==null?e.extensions:void 0)!=null){e.extensions[".yml"]=t;return e.extensions[".yaml"]=t}};t.stringify=function(e,t,n,i,r){return this.dump(e,t,n,i,r)};t.load=function(e,t,n,i){return this.parseFile(e,t,n,i)};return t}();if(typeof window!=="undefined"&&window!==null){window.YAML=t}if(typeof window==="undefined"||window===null){this.YAML=t}s.exports=t},{"./Dumper":1,"./Parser":6,"./Utils":9}]},{},[10]);

/*!
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2016 Twitter, Inc. and other contributors; Licensed MIT
 */

!function(a,b){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(c){return a.Bloodhound=b(c)}):"object"==typeof exports?module.exports=b(require("jquery")):a.Bloodhound=b(jQuery)}(this,function(a){var b=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"==typeof a},isElement:function(a){return!(!a||1!==a.nodeType)},isJQuery:function(b){return b instanceof a},toStr:function(a){return b.isUndefined(a)||null===a?"":a+""},bind:a.proxy,each:function(b,c){function d(a,b){return c(b,a)}a.each(b,d)},map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?void 0:!1}),!!d):d},some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?!1:void 0}),!!d):d},mixin:a.extend,identity:function(a){return a},clone:function(b){return a.extend(!0,{},b)},getIdGenerator:function(){var a=0;return function(){return a++}},templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},stringify:function(a){return b.isString(a)?a:JSON.stringify(a)},noop:function(){}}}(),c="0.11.1",d=function(){"use strict";function a(a){return a=b.toStr(a),a?a.split(/\s+/):[]}function c(a){return a=b.toStr(a),a?a.split(/\W+/):[]}function d(a){return function(c){return c=b.isArray(c)?c:[].slice.call(arguments,0),function(d){var e=[];return b.each(c,function(c){e=e.concat(a(b.toStr(d[c])))}),e}}}return{nonword:c,whitespace:a,obj:{nonword:d(c),whitespace:d(a)}}}(),e=function(){"use strict";function c(c){this.maxSize=b.isNumber(c)?c:100,this.reset(),this.maxSize<=0&&(this.set=this.get=a.noop)}function d(){this.head=this.tail=null}function e(a,b){this.key=a,this.val=b,this.prev=this.next=null}return b.mixin(c.prototype,{set:function(a,b){var c,d=this.list.tail;this.size>=this.maxSize&&(this.list.remove(d),delete this.hash[d.key],this.size--),(c=this.hash[a])?(c.val=b,this.list.moveToFront(c)):(c=new e(a,b),this.list.add(c),this.hash[a]=c,this.size++)},get:function(a){var b=this.hash[a];return b?(this.list.moveToFront(b),b.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new d}}),b.mixin(d.prototype,{add:function(a){this.head&&(a.next=this.head,this.head.prev=a),this.head=a,this.tail=this.tail||a},remove:function(a){a.prev?a.prev.next=a.next:this.head=a.next,a.next?a.next.prev=a.prev:this.tail=a.prev},moveToFront:function(a){this.remove(a),this.add(a)}}),c}(),f=function(){"use strict";function c(a,c){this.prefix=["__",a,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+b.escapeRegExChars(this.prefix)),this.ls=c||h,!this.ls&&this._noop()}function d(){return(new Date).getTime()}function e(a){return JSON.stringify(b.isUndefined(a)?null:a)}function f(b){return a.parseJSON(b)}function g(a){var b,c,d=[],e=h.length;for(b=0;e>b;b++)(c=h.key(b)).match(a)&&d.push(c.replace(a,""));return d}var h;try{h=window.localStorage,h.setItem("~~~","!"),h.removeItem("~~~")}catch(i){h=null}return b.mixin(c.prototype,{_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=b.noop},_safeSet:function(a,b){try{this.ls.setItem(a,b)}catch(c){"QuotaExceededError"===c.name&&(this.clear(),this._noop())}},get:function(a){return this.isExpired(a)&&this.remove(a),f(this.ls.getItem(this._prefix(a)))},set:function(a,c,f){return b.isNumber(f)?this._safeSet(this._ttlKey(a),e(d()+f)):this.ls.removeItem(this._ttlKey(a)),this._safeSet(this._prefix(a),e(c))},remove:function(a){return this.ls.removeItem(this._ttlKey(a)),this.ls.removeItem(this._prefix(a)),this},clear:function(){var a,b=g(this.keyMatcher);for(a=b.length;a--;)this.remove(b[a]);return this},isExpired:function(a){var c=f(this.ls.getItem(this._ttlKey(a)));return b.isNumber(c)&&d()>c?!0:!1}}),c}(),g=function(){"use strict";function c(a){a=a||{},this.cancelled=!1,this.lastReq=null,this._send=a.transport,this._get=a.limiter?a.limiter(this._get):this._get,this._cache=a.cache===!1?new e(0):h}var d=0,f={},g=6,h=new e(10);return c.setMaxPendingRequests=function(a){g=a},c.resetCache=function(){h.reset()},b.mixin(c.prototype,{_fingerprint:function(b){return b=b||{},b.url+b.type+a.param(b.data||{})},_get:function(a,b){function c(a){b(null,a),k._cache.set(i,a)}function e(){b(!0)}function h(){d--,delete f[i],k.onDeckRequestArgs&&(k._get.apply(k,k.onDeckRequestArgs),k.onDeckRequestArgs=null)}var i,j,k=this;i=this._fingerprint(a),this.cancelled||i!==this.lastReq||((j=f[i])?j.done(c).fail(e):g>d?(d++,f[i]=this._send(a).done(c).fail(e).always(h)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(c,d){var e,f;d=d||a.noop,c=b.isString(c)?{url:c}:c||{},f=this._fingerprint(c),this.cancelled=!1,this.lastReq=f,(e=this._cache.get(f))?d(null,e):this._get(c,d)},cancel:function(){this.cancelled=!0}}),c}(),h=window.SearchIndex=function(){"use strict";function c(c){c=c||{},c.datumTokenizer&&c.queryTokenizer||a.error("datumTokenizer and queryTokenizer are both required"),this.identify=c.identify||b.stringify,this.datumTokenizer=c.datumTokenizer,this.queryTokenizer=c.queryTokenizer,this.reset()}function d(a){return a=b.filter(a,function(a){return!!a}),a=b.map(a,function(a){return a.toLowerCase()})}function e(){var a={};return a[i]=[],a[h]={},a}function f(a){for(var b={},c=[],d=0,e=a.length;e>d;d++)b[a[d]]||(b[a[d]]=!0,c.push(a[d]));return c}function g(a,b){var c=0,d=0,e=[];a=a.sort(),b=b.sort();for(var f=a.length,g=b.length;f>c&&g>d;)a[c]<b[d]?c++:a[c]>b[d]?d++:(e.push(a[c]),c++,d++);return e}var h="c",i="i";return b.mixin(c.prototype,{bootstrap:function(a){this.datums=a.datums,this.trie=a.trie},add:function(a){var c=this;a=b.isArray(a)?a:[a],b.each(a,function(a){var f,g;f=c.identify(a),c.datums[f]=a,g=d(c.datumTokenizer(a)),b.each(g,function(a){var b,d,g;for(b=c.trie,d=a.split("");g=d.shift();)b=b[h][g]||(b[h][g]=e()),b[i].push(f)})})},get:function(a){var c=this;return b.map(a,function(a){return c.datums[a]})},getByPropertyName:function(a,c){var d=this,e=b.map(d.datums,function(a){return a});return b.filter(e,function(d){var e=d[a];return b.filter(c,function(a){return a==e}).length>0})},search:function(a){var c,e,j=this;return c=d(this.queryTokenizer(a)),b.each(c,function(a){var b,c,d,f;if(e&&0===e.length)return!1;for(b=j.trie,c=a.split("");b&&(d=c.shift());)b=b[h][d];return b&&0===c.length?(f=b[i].slice(0),void(e=e?g(e,f):f)):(e=[],!1)}),e?b.map(f(e),function(a){return j.datums[a]}):[]},all:function(){var a=[];for(var b in this.datums)a.push(this.datums[b]);return a},reset:function(){this.datums={},this.trie=e()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),c}(),i=function(){"use strict";function a(a){this.url=a.url,this.dataType=a.dataType,this.ttl=a.ttl,this.cache=a.cache,this.prepare=a.prepare,this.transform=a.transform,this.transport=a.transport,this.thumbprint=a.thumbprint,this.storage=new f(a.cacheKey)}var c;return c={data:"data",protocol:"protocol",thumbprint:"thumbprint"},b.mixin(a.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:this.dataType||"json"}},store:function(a){this.cache&&(this.storage.clear(),this.storage.set(c.data,a,this.ttl),this.storage.set(c.protocol,location.protocol,this.ttl),this.storage.set(c.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var a,b={};return this.cache?(b.data=this.storage.get(c.data),b.protocol=this.storage.get(c.protocol),b.thumbprint=this.storage.get(c.thumbprint),a=b.thumbprint!==this.thumbprint||b.protocol!==location.protocol,b.data&&!a?b.data:null):null},fromNetwork:function(a){function b(){a(!0)}function c(b){a(null,e.transform(b,e.url)),void 0!=e.eventBus&&e.eventBus.trigger("change",e.input.getQuery())}var d,e=this;a&&(d=this.prepare(this._settings()),this.transport(d).fail(b).done(c))},clear:function(){return this.storage.clear(),this}}),a}(),j=function(){"use strict";function a(a){this.url=a.url,this.dataType=a.dataType,this.prepare=a.prepare,this.transform=a.transform,this.transport=new g({cache:a.cache,limiter:a.limiter,transport:a.transport})}return b.mixin(a.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:this.dataType||"json"}},get:function(a,b){function c(a,c){b(a?[]:e.transform(c,e.url))}var d,e=this;if(b)return a=a||"",d=this.prepare(a,this._settings()),this.transport.get(d,c)},cancelLastRequest:function(){this.transport.cancel()}}),a}(),k=function(){"use strict";function d(d){var e;return d?(e={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:b.identity,transform:b.identity,transport:null},d=b.isString(d)?{url:d}:d,d=b.mixin(e,d),!d.url&&a.error("prefetch requires url to be set"),d.transform=d.filter||d.transform,d.cacheKey=d.cacheKey||d.url,d.thumbprint=c+d.thumbprint,d.transport=d.transport?h(d.transport):a.ajax,d):null}function e(c){var d;if(c)return d={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:b.identity,transport:null},c=b.isString(c)?{url:c}:c,c=b.mixin(d,c),!c.url&&a.error("remote requires url to be set"),c.transform=c.filter||c.transform,c.prepare=f(c),c.limiter=g(c),c.transport=c.transport?h(c.transport):a.ajax,delete c.replace,delete c.wildcard,delete c.rateLimitBy,delete c.rateLimitWait,c}function f(a){function b(a,b){return b.url=f(b.url,a),b}function c(a,b){return b.url=b.url.replace(g,encodeURIComponent(a)),b}function d(a,b){return b}var e,f,g;return e=a.prepare,f=a.replace,g=a.wildcard,e?e:e=f?b:a.wildcard?c:d}function g(a){function c(a){return function(c){return b.debounce(c,a)}}function d(a){return function(c){return b.throttle(c,a)}}var e,f,g;return e=a.limiter,f=a.rateLimitBy,g=a.rateLimitWait,e||(e=/^throttle$/i.test(f)?d(g):c(g)),e}function h(c){return function(d){function e(a){b.defer(function(){g.resolve(a)})}function f(a){b.defer(function(){g.reject(a)})}var g=a.Deferred();return c(d,e,f),g}}return function(c){var f,g;return f={initialize:!0,identify:b.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},c=b.mixin(f,c||{}),!c.datumTokenizer&&a.error("datumTokenizer is required"),!c.queryTokenizer&&a.error("queryTokenizer is required"),g=c.sorter,c.sorter=g?function(a){return a.sort(g)}:b.identity,c.local=b.isFunction(c.local)?c.local():c.local,c.prefetch=d(c.prefetch),c.remote=e(c.remote),c}}(),l=function(){"use strict";function c(a){a=k(a),this.sorter=a.sorter,this.identify=a.identify,this.sufficient=a.sufficient,this.local=a.local,this.remote=a.remote?new j(a.remote):null,this.prefetch=a.prefetch?new i(a.prefetch):null,this.index=new h({identify:this.identify,datumTokenizer:a.datumTokenizer,queryTokenizer:a.queryTokenizer}),a.initialize!==!1&&this.initialize()}var e;return e=window&&window.Bloodhound,c.noConflict=function(){return window&&(window.Bloodhound=e),c},c.tokenizers=d,b.mixin(c.prototype,{__ttAdapter:function(){function a(a,b,d){return c.search(a,b,d)}function b(a,b){return c.search(a,b)}var c=this;return this.remote?a:b},_loadPrefetch:function(){function b(a,b){return a?c.reject():(e.clear(),e.add(b),e.prefetch.store(e.index.serialize()),void c.resolve())}var c,d,e=this;return c=a.Deferred(),this.prefetch?(d=this.prefetch.fromCache())?(this.index.bootstrap(d),c.resolve()):this.prefetch.fromNetwork(b):c.resolve(),c.promise()},_initialize:function(){var a=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(function(){a.local.length>0&&(a.clear(),a.add(a.local))}),this.initPromise},initialize:function(a){return!this.initPromise||a?this._initialize():this.initPromise},add:function(a){return this.index.add(a),this},get:function(a){return a=b.isArray(a)?a:[].slice.call(arguments),this.index.get(a)},getByPropertyName:function(a,c){return c=b.isArray(c)?c:[c],this.index.getByPropertyName(a,c)},search:function(c,d,e,f){function g(c){var d=[];if(b.each(c,function(a){!b.some(h,function(b){return i.identify(a)===i.identify(b)})&&d.push(a)}),i.clear(),i.add(c),""==k)d=a.map(i.sorter(i.index.datums),function(a,b){return a});else{for(var f=0;f<l.length;f++)d=l[f](d,j);d=i.sorter(i.index.search(k))}e&&e(d)}var h,i=this,j=c,k=c.free||c,l=f||[];return h=""==c?a.map(this.sorter(this.index.datums),function(a,b){return a}):this.sorter(this.index.search(k)),d(this.remote?h.slice():h),this.remote&&h.length<this.sufficient?this.remote.get(k,g):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return g.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),c}();return l}),function(a,b){"function"==typeof define&&define.amd?define("typeahead",["jquery"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(this,function(a){var b=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"==typeof a},isElement:function(a){return!(!a||1!==a.nodeType)},isJQuery:function(b){return b instanceof a},toStr:function(a){return b.isUndefined(a)||null===a?"":a+""},bind:a.proxy,each:function(b,c){function d(a,b){return c(b,a)}a.each(b,d)},map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?void 0:!1}),!!d):d},some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?!1:void 0}),!!d):d},mixin:a.extend,identity:function(a){return a},clone:function(b){return a.extend(!0,{},b)},getIdGenerator:function(){var a=0;return function(){return a++}},templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},stringify:function(a){return b.isString(a)?a:JSON.stringify(a)},noop:function(){}}}(),c=function(){"use strict";function a(a){var g,h;return h=b.mixin({},f,a),g={css:e(),classes:h,html:c(h),selectors:d(h)},{css:g.css,html:g.html,classes:g.classes,selectors:g.selectors,mixin:function(a){b.mixin(a,g)}}}function c(a){return{wrapper:'<span class="'+a.wrapper+'"></span>',menu:'<div class="'+a.menu+'"></div>'}}function d(a){var c={};return b.each(a,function(a,b){c[b]="."+a}),c}function e(){var a={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return b.isMsie()&&b.mixin(a.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),a}var f={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return a}(),d=function(){"use strict";function c(b){b&&b.el||a.error("EventBus initialized without el"),this.$el=a(b.el)}var d,e;return d="typeahead:",e={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},b.mixin(c.prototype,{_trigger:function(b,c){var e;return e=a.Event(d+b),(c=c||[]).unshift(e),this.$el.trigger.apply(this.$el,c),e},before:function(a){var b,c;return b=[].slice.call(arguments,1),c=this._trigger("before"+a,b),c.isDefaultPrevented()},trigger:function(a){var b;this._trigger(a,[].slice.call(arguments,1)),(b=e[a])&&this._trigger(b,[].slice.call(arguments,1))}}),c}(),e=function(){"use strict";function a(a,b,c,d){var e;if(!c)return this;for(b=b.split(i),c=d?h(c,d):c,this._callbacks=this._callbacks||{};e=b.shift();)this._callbacks[e]=this._callbacks[e]||{sync:[],async:[]},this._callbacks[e][a].push(c);return this}function b(b,c,d){return a.call(this,"async",b,c,d)}function c(b,c,d){return a.call(this,"sync",b,c,d)}function d(a){var b;if(!this._callbacks)return this;for(a=a.split(i);b=a.shift();)delete this._callbacks[b];return this}function e(a){var b,c,d,e,g;if(!this._callbacks)return this;for(a=a.split(i),d=[].slice.call(arguments,1);(b=a.shift())&&(c=this._callbacks[b]);)e=f(c.sync,this,[b].concat(d)),g=f(c.async,this,[b].concat(d)),e()&&j(g);return this}function f(a,b,c){function d(){for(var d,e=0,f=a.length;!d&&f>e;e+=1)d=a[e].apply(b,c)===!1;return!d}return d}function g(){var a;return a=window.setImmediate?function(a){setImmediate(function(){a()})}:function(a){setTimeout(function(){a()},0)}}function h(a,b){return a.bind?a.bind(b):function(){a.apply(b,[].slice.call(arguments,0))}}var i=/\s+/,j=g();return{onSync:c,onAsync:b,off:d,trigger:e}}(),f=function(a){"use strict";function c(a,c,d){for(var e,f=[],g=0,h=a.length;h>g;g++)f.push(b.escapeRegExChars(a[g]));return e=d?"\\b("+f.join("|")+")\\b":"("+f.join("|")+")",c?new RegExp(e):new RegExp(e,"i")}var d={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(e){function f(b){var c,d,f;return(c=h.exec(b.data))&&(f=a.createElement(e.tagName),e.className&&(f.className=e.className),d=b.splitText(c.index),d.splitText(c[0].length),f.appendChild(d.cloneNode(!0)),b.parentNode.replaceChild(f,d)),!!c}function g(a,b){for(var c,d=3,e=0;e<a.childNodes.length;e++)c=a.childNodes[e],c.nodeType===d?e+=b(c)?1:0:g(c,b)}var h;e=b.mixin({},d,e),e.node&&e.pattern&&(e.pattern=b.isArray(e.pattern)?e.pattern:[e.pattern],h=c(e.pattern,e.caseSensitive,e.wordsOnly),g(e.node,f))}}(window.document),g=function(){"use strict";function c(c,e){c=c||{},c.input||a.error("input is missing"),e.mixin(this),this.$hint=a(c.hint),this.$input=a(c.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=d(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=b.noop)}function d(b){return a('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:b.css("font-family"),fontSize:b.css("font-size"),fontStyle:b.css("font-style"),fontVariant:b.css("font-variant"),fontWeight:b.css("font-weight"),wordSpacing:b.css("word-spacing"),letterSpacing:b.css("letter-spacing"),textIndent:b.css("text-indent"),textRendering:b.css("text-rendering"),textTransform:b.css("text-transform")}).insertAfter(b)}function f(a,b){return c.normalizeQuery(a)===c.normalizeQuery(b)}function g(a){return a.altKey||a.ctrlKey||a.metaKey||a.shiftKey}var h;return h={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},c.normalizeQuery=function(a){return b.toStr(a).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},b.mixin(c.prototype,e,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(a){var b=h[a.which||a.keyCode];this._managePreventDefault(b,a),b&&this._shouldTrigger(b,a)&&this.trigger(b+"Keyed",a)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(a,b){var c;switch(a){case"up":case"down":c=!g(b);break;default:c=!1}c&&b.preventDefault()},_shouldTrigger:function(a,b){var c;switch(a){case"tab":c=!g(b);break;default:c=!0}return c},_checkLanguageDirection:function(){var a=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==a&&(this.dir=a,this.$hint.attr("dir",a),this.trigger("langDirChanged",a))},_setQuery:function(a,b){var c,d;c=f(a,this.query),d=c?this.query.length!==a.length:!1,this.query=a,b||c?!b&&d&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var a,c,d,e,f=this;return a=b.bind(this._onBlur,this),c=b.bind(this._onFocus,this),d=b.bind(this._onKeydown,this),e=b.bind(this._onInput,this),this.$input.on("blur.tt",a).on("focus.tt",c).on("keydown.tt",d),!b.isMsie()||b.isMsie()>9?this.$input.on("input.tt",e):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(a){h[a.which||a.keyCode]||b.defer(b.bind(f._onInput,f,a))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(a,b){this.setInputValue(a),this._setQuery(a,b)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(a){this.$input.val(a),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(a){this.$hint.val(a)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var a,b,c,d;a=this.getInputValue(),b=this.getHint(),c=a!==b&&0===b.indexOf(a),d=""!==a&&c&&!this.hasOverflow(),!d&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var a=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=a},isCursorAtEnd:function(){var a,c,d;return a=this.$input.val().length,c=this.$input[0].selectionStart,b.isNumber(c)?c===a:document.selection?(d=document.selection.createRange(),d.moveStart("character",-a),a===d.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=a("<div>")}}),c}(),h=function(){"use strict";function c(c,e){c=c||{},c.templates=c.templates||{},c.templates.notFound=c.templates.notFound||c.templates.empty,c.source||a.error("missing source"),c.node||a.error("missing node"),c.name&&!h(c.name)&&a.error("invalid dataset name: "+c.name),e.mixin(this),this.highlight=!!c.highlight,this.name=c.name||j(),this.limit=c.limit||5,this.displayFn=d(c.display||c.displayKey),this.templates=g(c.templates,this.displayFn),this.engine=c.engine,this.source=c.source.__ttAdapter?c.source.__ttAdapter():c.source,this.async=b.isUndefined(c.async)?this.source.length>2:!!c.async,this._resetLastSuggestion(),this.$el=a(c.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function d(a){function c(b){return b[a]}return a=a||b.stringify,b.isFunction(a)?a:c}function g(c,d){function e(b){return a("<div>").text(d(b))}return{notFound:c.notFound&&b.templatify(c.notFound),pending:c.pending&&b.templatify(c.pending),header:c.header&&b.templatify(c.header),footer:c.footer&&b.templatify(c.footer),suggestion:c.suggestion||e}}function h(a){return/^[_a-zA-Z0-9-]+$/.test(a)}var i,j;return i={val:"tt-selectable-display",obj:"tt-selectable-object"},j=b.getIdGenerator(),c.extractData=function(b){var c=a(b);return c.data(i.obj)?{val:c.data(i.val)||"",obj:c.data(i.obj)||null}:null},b.mixin(c.prototype,e,{_overwrite:function(a,b){b=b||[],b.length>0?this._renderSuggestions(a,b):this.async&&this.templates.pending?this._renderPending(a):!this.async&&this.templates.notFound?this._renderNotFound(a):this._empty(),this.trigger("rendered",this.name,b,!1)},_render:function(a,b){b=b||[],b.length>0?this._renderSuggestions(a,b):this.templates.notFound&&this._renderNotFound(a),this.trigger("rendered",this.name,b,!0)},_renderSuggestions:function(a,b){var c;c=this._getSuggestionsFragment(a,b),this.$lastSuggestion=c.children().last(),this.$el.html(c).prepend(this._getHeader(a,b)).append(this._getFooter(a,b))},_appendSuggestions:function(a,b){var c,d;c=this._getSuggestionsFragment(a,b),d=c.children().last(),this.$lastSuggestion.after(c),this.$lastSuggestion=d},_renderPending:function(a){var b=this.templates.pending;this._resetLastSuggestion(),b&&this.$el.html(b({query:a,dataset:this.name}))},_renderNotFound:function(a){var b=this.templates.notFound;this._resetLastSuggestion(),b&&this.$el.html(b({query:a,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(c,d){var e,g=this;return e=document.createDocumentFragment(),b.each(d,function(b){var d,f;f=g._injectQuery(c,b),d=a(g.templates.suggestion(f)).data(i.obj,b).data(i.val,g.displayFn(b)).addClass(g.classes.suggestion+" "+g.classes.selectable),e.appendChild(d[0])}),this.highlight&&f({className:this.classes.highlight,node:e,pattern:c}),a(e)},_getFooter:function(a,b){return this.templates.footer?this.templates.footer({query:a,suggestions:b,dataset:this.name}):null},_getHeader:function(a,b){return this.templates.header?this.templates.header({query:a,suggestions:b,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=a()},_injectQuery:function(a,c){return b.isObject(c)?b.mixin({_query:a},c):c},update:function(b){function c(a){g||(g=!0,a=(a||[]).slice(0,e.limit),h=a.length,e._overwrite(b,a),h<e.limit&&e.async&&e.trigger("asyncRequested",b))}function d(c){c=c||[],!f&&h<e.limit&&(e.cancel=a.noop,h+=c.length,e._render(b,c.slice(0,e.limit)),e.async&&e.trigger("asyncReceived",b))}var e=this,f=!1,g=!1,h=0;this.cancel(),this.cancel=function(){f=!0,e.cancel=a.noop,e.async&&e.trigger("asyncCanceled",b)},this.source(b,c,d),!g&&c([])},cancel:a.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=a("<div>")}}),c}(),i=function(){"use strict";function c(c,d){function e(b){var c=f.$node.find(b.node).first();return b.node=c.length?c:a("<div>").appendTo(f.$node),new h(b,d)}var f=this;c=c||{},c.node||a.error("node is required"),d.mixin(this),this.$node=a(c.node),this.query=null,this.datasets=b.map(c.datasets,e)}return b.mixin(c.prototype,e,{_onSelectableClick:function(b){this.trigger("selectableClicked",a(b.currentTarget))},_onRendered:function(a,b,c,d){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",b,c,d)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function a(a){return a.isEmpty()}return b.every(this.datasets,a)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var a=this.getActiveSelectable();a&&a.removeClass(this.classes.cursor)},_ensureVisible:function(a){var b,c,d,e;b=a.position().top,c=b+a.outerHeight(!0),d=this.$node.scrollTop(),e=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>b?this.$node.scrollTop(d+b):c>e&&this.$node.scrollTop(d+(c-e))},bind:function(){var a,c=this;return a=b.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,a),b.each(this.datasets,function(a){a.onSync("asyncRequested",c._propagate,c).onSync("asyncCanceled",c._propagate,c).onSync("asyncReceived",c._propagate,c).onSync("rendered",c._onRendered,c).onSync("cleared",c._onCleared,c)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(a){this.$node.attr("dir",a)},selectableRelativeToCursor:function(a){var b,c,d,e;return c=this.getActiveSelectable(),b=this._getSelectables(),d=c?b.index(c):-1,e=d+a,e=(e+1)%(b.length+1)-1,e=-1>e?b.length-1:e,-1===e?null:b.eq(e)},setCursor:function(a){this._removeCursor(),(a=a&&a.first())&&(a.addClass(this.classes.cursor),this._ensureVisible(a))},getSelectableData:function(a){return a&&a.length?h.extractData(a):null},getActiveSelectable:function(){var a=this._getSelectables().filter(this.selectors.cursor).first();return a.length?a:null},getTopSelectable:function(){var a=this._getSelectables().first();return a.length?a:null},update:function(a){function c(b){b.update(a)}var d=a!==this.query;return d&&(this.query=a,b.each(this.datasets,c)),d},empty:function(){function a(a){a.clear()}b.each(this.datasets,a),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function c(a){a.destroy()}this.$node.off(".tt"),this.$node=a("<div>"),b.each(this.datasets,c)}}),c}(),j=function(){"use strict";function a(){i.apply(this,[].slice.call(arguments,0))}var c=i.prototype;return b.mixin(a.prototype,i.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),c.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),c.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),c._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),c._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(a){return this.$node.css("ltr"===a?this.css.ltr:this.css.rtl),c.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),a}(),k=function(){"use strict";function c(c,e){var f,g,h,i,j,k,l,m,n,o,p;c=c||{},c.input||a.error("missing input"),c.menu||a.error("missing menu"),c.eventBus||a.error("missing event bus"),e.mixin(this),this.eventBus=c.eventBus,this.minLength=b.isNumber(c.minLength)?c.minLength:1,this.input=c.input,this.menu=c.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),f=d(this,"activate","open","_onFocused"),g=d(this,"deactivate","_onBlurred"),h=d(this,"isActive","isOpen","_onEnterKeyed"),i=d(this,"isActive","isOpen","_onTabKeyed"),j=d(this,"isActive","_onEscKeyed"),k=d(this,"isActive","open","_onUpKeyed"),l=d(this,"isActive","open","_onDownKeyed"),m=d(this,"isActive","isOpen","_onLeftKeyed"),n=d(this,"isActive","isOpen","_onRightKeyed"),
o=d(this,"_openIfActive","_onQueryChanged"),p=d(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",f,this).onSync("blurred",g,this).onSync("enterKeyed",h,this).onSync("tabKeyed",i,this).onSync("escKeyed",j,this).onSync("upKeyed",k,this).onSync("downKeyed",l,this).onSync("leftKeyed",m,this).onSync("rightKeyed",n,this).onSync("queryChanged",o,this).onSync("whitespaceChanged",p,this).onSync("langDirChanged",this._onLangDirChanged,this)}function d(a){var c=[].slice.call(arguments,1);return function(){var d=[].slice.call(arguments);b.each(c,function(b){return a[b].apply(a,d)})}}return b.mixin(c.prototype,{_hacks:function(){var c,d;c=this.input.$input||a("<div>"),d=this.menu.$node||a("<div>"),c.on("blur.tt",function(a){var e,f,g;e=document.activeElement,f=d.is(e),g=d.has(e).length>0,b.isMsie()&&(f||g)&&(a.preventDefault(),a.stopImmediatePropagation(),b.defer(function(){c.focus()}))}),d.on("mousedown.tt",function(a){a.preventDefault()})},_onSelectableClicked:function(a,b){this.select(b)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(a,b,c,d){this._updateHint(),this.eventBus.trigger("render",c,d,b)},_onAsyncRequested:function(a,b,c){this.eventBus.trigger("asyncrequest",c,b)},_onAsyncCanceled:function(a,b,c){this.eventBus.trigger("asynccancel",c,b)},_onAsyncReceived:function(a,b,c){this.eventBus.trigger("asyncreceive",c,b)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(a,b){var c;(c=this.menu.getActiveSelectable())&&this.select(c)&&b.preventDefault()},_onTabKeyed:function(a,b){var c;(c=this.menu.getActiveSelectable())?this.select(c)&&b.preventDefault():(c=this.menu.getTopSelectable())&&this.autocomplete(c)&&b.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(a,b){this._minLengthMet(b)?this.menu.update(b):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(a,b){this.dir!==b&&(this.dir=b,this.menu.setLanguageDirection(b))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(a){return 0==this.minLength?!0:(a=b.isString(a)?a:this.input.getQuery()||"",a.length>=this.minLength)},_updateHint:function(){var a,c,d,e,f,h,i;a=this.menu.getTopSelectable(),c=this.menu.getSelectableData(a),d=this.input.getInputValue(),!c||b.isBlankString(d)||this.input.hasOverflow()?this.input.clearHint():(e=g.normalizeQuery(d),f=b.escapeRegExChars(e),h=new RegExp("^(?:"+f+")(.+$)","i"),i=h.exec(c.val),i&&this.input.setHint(d+i[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(a){this.input.setQuery(b.toStr(a))},getVal:function(){return this.input.getQuery()},select:function(a){var b=this.menu.getSelectableData(a);return b&&!this.eventBus.before("select",b.obj)?(this.input.setQuery(b.val,!0),this.eventBus.trigger("select",b.obj),this.close(),!0):!1},autocomplete:function(a){var b,c,d;return b=this.input.getQuery(),c=this.menu.getSelectableData(a),d=c&&b!==c.val,d&&!this.eventBus.before("autocomplete",c.obj)?(this.input.setQuery(c.val),this.eventBus.trigger("autocomplete",c.obj),!0):!1},moveCursor:function(a){var b,c,d,e,f;return b=this.input.getQuery(),c=this.menu.selectableRelativeToCursor(a),d=this.menu.getSelectableData(c),e=d?d.obj:null,f=this._minLengthMet()&&this.menu.update(b),f||this.eventBus.before("cursorchange",e)?!1:(this.menu.setCursor(c),d?this.input.setInputValue(d.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",e),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),c}();!function(){"use strict";function e(b,c){b.each(function(){var b,d=a(this);(b=d.data(p.typeahead))&&c(b,d)})}function f(a,b){return a.clone().addClass(b.classes.hint).removeData().css(b.css.hint).css(l(a)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function h(a,b){a.data(p.attrs,{dir:a.attr("dir"),autocomplete:a.attr("autocomplete"),spellcheck:a.attr("spellcheck"),style:a.attr("style")}),a.addClass(b.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!a.attr("dir")&&a.attr("dir","auto")}catch(c){}return a}function l(a){return{backgroundAttachment:a.css("background-attachment"),backgroundClip:a.css("background-clip"),backgroundColor:a.css("background-color"),backgroundImage:a.css("background-image"),backgroundOrigin:a.css("background-origin"),backgroundPosition:a.css("background-position"),backgroundRepeat:a.css("background-repeat"),backgroundSize:a.css("background-size")}}function m(a){var c,d;c=a.data(p.www),d=a.parent().filter(c.selectors.wrapper),b.each(a.data(p.attrs),function(c,d){b.isUndefined(c)?a.removeAttr(d):a.attr(d,c)}),a.removeData(p.typeahead).removeData(p.www).removeData(p.attr).removeClass(c.classes.input),d.length&&(a.detach().insertAfter(d),d.remove())}function n(c){var d,e;return d=b.isJQuery(c)||b.isElement(c),e=d?a(c).first():[],e.length?e:null}var o,p,q;o=a.fn.typeahead,p={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},q={initialize:function(e,l){function m(){var c,m,q,r,s,t,u,v,w,x,y;b.each(l,function(a){a.highlight=!!e.highlight}),c=a(this),m=a(o.html.wrapper),q=n(e.hint),r=n(e.menu),s=e.hint!==!1&&!q,t=e.menu!==!1&&!r,s&&(q=f(c,o)),t&&(r=a(o.html.menu).css(o.css.menu)),q&&q.val(""),c=h(c,o),(s||t)&&(m.css(o.css.wrapper),c.css(s?o.css.input:o.css.inputWithNoHint),c.wrap(m).parent().prepend(s?q:null).append(t?r:null)),y=t?j:i,u=new d({el:c}),v=new g({hint:q,input:c},o),w=new y({node:r,datasets:l},o),x=new k({input:v,menu:w,eventBus:u,minLength:e.minLength},o),c.data(p.www,o),c.data(p.typeahead,x)}var o;return l=b.isArray(l)?l:[].slice.call(arguments,1),e=e||{},o=c(e.classNames),this.each(m)},isEnabled:function(){var a;return e(this.first(),function(b){a=b.isEnabled()}),a},enable:function(){return e(this,function(a){a.enable()}),this},disable:function(){return e(this,function(a){a.disable()}),this},isActive:function(){var a;return e(this.first(),function(b){a=b.isActive()}),a},activate:function(){return e(this,function(a){a.activate()}),this},deactivate:function(){return e(this,function(a){a.deactivate()}),this},isOpen:function(){var a;return e(this.first(),function(b){a=b.isOpen()}),a},open:function(){return e(this,function(a){a.open()}),this},close:function(){return e(this,function(a){a.close()}),this},select:function(b){var c=!1,d=a(b);return e(this.first(),function(a){c=a.select(d)}),c},autocomplete:function(b){var c=!1,d=a(b);return e(this.first(),function(a){c=a.autocomplete(d)}),c},moveCursor:function(a){var b=!1;return e(this.first(),function(c){b=c.moveCursor(a)}),b},val:function(a){var b;return arguments.length?(e(this,function(b){b.setVal(a)}),this):(e(this.first(),function(a){b=a.getVal()}),b)},destroy:function(){return e(this,function(a,b){m(b),a.destroy()}),this}},a.fn.typeahead=function(a){return q[a]?q[a].apply(this,[].slice.call(arguments,1)):q.initialize.apply(this,arguments)},a.fn.typeahead.noConflict=function(){return a.fn.typeahead=o,this}}()});
/*
 AngularJS v1.4.0-beta.4
 (c) 2010-2015 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(O,Y,u){'use strict';function R(b){return function(){var a=arguments[0],c;c="["+(b?b+":":"")+a+"] http://errors.angularjs.org/1.4.0-beta.4/"+(b?b+"/":"")+a;for(a=1;a<arguments.length;a++){c=c+(1==a?"?":"&")+"p"+(a-1)+"=";var d=encodeURIComponent,e;e=arguments[a];e="function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e;c+=d(e)}return Error(c)}}function Oa(b){if(null==b||Pa(b))return!1;var a=b.length;return b.nodeType===
na&&a?!0:M(b)||J(b)||0===a||"number"===typeof a&&0<a&&a-1 in b}function r(b,a,c){var d,e;if(b)if(C(b))for(d in b)"prototype"==d||"length"==d||"name"==d||b.hasOwnProperty&&!b.hasOwnProperty(d)||a.call(c,b[d],d,b);else if(J(b)||Oa(b)){var f="object"!==typeof b;d=0;for(e=b.length;d<e;d++)(f||d in b)&&a.call(c,b[d],d,b)}else if(b.forEach&&b.forEach!==r)b.forEach(a,c,b);else for(d in b)b.hasOwnProperty(d)&&a.call(c,b[d],d,b);return b}function Jd(b,a,c){for(var d=Object.keys(b).sort(),e=0;e<d.length;e++)a.call(c,
b[d[e]],d[e]);return d}function hc(b){return function(a,c){b(c,a)}}function Kd(){return++eb}function ic(b,a){a?b.$$hashKey=a:delete b.$$hashKey}function P(b){for(var a=b.$$hashKey,c=1,d=arguments.length;c<d;c++){var e=arguments[c];if(e)for(var f=Object.keys(e),g=0,h=f.length;g<h;g++){var l=f[g];b[l]=e[l]}}ic(b,a);return b}function ba(b){return parseInt(b,10)}function Jb(b,a){return P(Object.create(b),a)}function D(){}function Qa(b){return b}function oa(b){return function(){return b}}function H(b){return"undefined"===
typeof b}function w(b){return"undefined"!==typeof b}function F(b){return null!==b&&"object"===typeof b}function M(b){return"string"===typeof b}function S(b){return"number"===typeof b}function pa(b){return"[object Date]"===sa.call(b)}function C(b){return"function"===typeof b}function fb(b){return"[object RegExp]"===sa.call(b)}function Pa(b){return b&&b.window===b}function Ra(b){return b&&b.$evalAsync&&b.$watch}function Sa(b){return"boolean"===typeof b}function jc(b){return!(!b||!(b.nodeName||b.prop&&
b.attr&&b.find))}function Ld(b){var a={};b=b.split(",");var c;for(c=0;c<b.length;c++)a[b[c]]=!0;return a}function ta(b){return G(b.nodeName||b[0]&&b[0].nodeName)}function Ta(b,a){var c=b.indexOf(a);0<=c&&b.splice(c,1);return c}function ua(b,a,c,d){if(Pa(b)||Ra(b))throw Ba("cpws");if(kc.test(sa.call(a)))throw Ba("cpta");if(a){if(b===a)throw Ba("cpi");c=c||[];d=d||[];if(F(b)){var e=c.indexOf(b);if(-1!==e)return d[e];c.push(b);d.push(a)}if(J(b))for(var f=a.length=0;f<b.length;f++)e=ua(b[f],null,c,d),
F(b[f])&&(c.push(b[f]),d.push(e)),a.push(e);else{var g=a.$$hashKey;J(a)?a.length=0:r(a,function(b,c){delete a[c]});for(f in b)b.hasOwnProperty(f)&&(e=ua(b[f],null,c,d),F(b[f])&&(c.push(b[f]),d.push(e)),a[f]=e);ic(a,g)}}else if(a=b)J(b)?a=ua(b,[],c,d):kc.test(sa.call(b))?a=new b.constructor(b):pa(b)?a=new Date(b.getTime()):fb(b)?(a=new RegExp(b.source,b.toString().match(/[^\/]*$/)[0]),a.lastIndex=b.lastIndex):F(b)&&(e=Object.create(Object.getPrototypeOf(b)),a=ua(b,e,c,d));return a}function fa(b,a){if(J(b)){a=
a||[];for(var c=0,d=b.length;c<d;c++)a[c]=b[c]}else if(F(b))for(c in a=a||{},b)if("$"!==c.charAt(0)||"$"!==c.charAt(1))a[c]=b[c];return a||b}function ka(b,a){if(b===a)return!0;if(null===b||null===a)return!1;if(b!==b&&a!==a)return!0;var c=typeof b,d;if(c==typeof a&&"object"==c)if(J(b)){if(!J(a))return!1;if((c=b.length)==a.length){for(d=0;d<c;d++)if(!ka(b[d],a[d]))return!1;return!0}}else{if(pa(b))return pa(a)?ka(b.getTime(),a.getTime()):!1;if(fb(b)&&fb(a))return b.toString()==a.toString();if(Ra(b)||
Ra(a)||Pa(b)||Pa(a)||J(a))return!1;c={};for(d in b)if("$"!==d.charAt(0)&&!C(b[d])){if(!ka(b[d],a[d]))return!1;c[d]=!0}for(d in a)if(!c.hasOwnProperty(d)&&"$"!==d.charAt(0)&&a[d]!==u&&!C(a[d]))return!1;return!0}return!1}function Ua(b,a,c){return b.concat(Va.call(a,c))}function lc(b,a){var c=2<arguments.length?Va.call(arguments,2):[];return!C(a)||a instanceof RegExp?a:c.length?function(){return arguments.length?a.apply(b,Ua(c,arguments,0)):a.apply(b,c)}:function(){return arguments.length?a.apply(b,
arguments):a.call(b)}}function Md(b,a){var c=a;"string"===typeof b&&"$"===b.charAt(0)&&"$"===b.charAt(1)?c=u:Pa(a)?c="$WINDOW":a&&Y===a?c="$DOCUMENT":Ra(a)&&(c="$SCOPE");return c}function Wa(b,a){if("undefined"===typeof b)return u;S(a)||(a=a?2:null);return JSON.stringify(b,Md,a)}function mc(b){return M(b)?JSON.parse(b):b}function va(b){b=I(b).clone();try{b.empty()}catch(a){}var c=I("<div>").append(b).html();try{return b[0].nodeType===gb?G(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,
b){return"<"+G(b)})}catch(d){return G(c)}}function nc(b){try{return decodeURIComponent(b)}catch(a){}}function oc(b){var a={},c,d;r((b||"").split("&"),function(b){b&&(c=b.replace(/\+/g,"%20").split("="),d=nc(c[0]),w(d)&&(b=w(c[1])?nc(c[1]):!0,pc.call(a,d)?J(a[d])?a[d].push(b):a[d]=[a[d],b]:a[d]=b))});return a}function Kb(b){var a=[];r(b,function(b,d){J(b)?r(b,function(b){a.push(Ca(d,!0)+(!0===b?"":"="+Ca(b,!0)))}):a.push(Ca(d,!0)+(!0===b?"":"="+Ca(b,!0)))});return a.length?a.join("&"):""}function hb(b){return Ca(b,
!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Ca(b,a){return encodeURIComponent(b).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,a?"%20":"+")}function qc(b,a){var c,d,e=Ja.length;b=I(b);for(d=0;d<e;++d)if(c=Ja[d]+a,M(c=b.attr(c)))return c;return null}function Nd(b,a){var c,d,e={};r(Ja,function(a){a+="app";!c&&b.hasAttribute&&b.hasAttribute(a)&&(c=b,d=b.getAttribute(a))});r(Ja,function(a){a+="app";
var e;!c&&(e=b.querySelector("["+a.replace(":","\\:")+"]"))&&(c=e,d=e.getAttribute(a))});c&&(e.strictDi=null!==qc(c,"strict-di"),a(c,d?[d]:[],e))}function rc(b,a,c){F(c)||(c={});c=P({strictDi:!1},c);var d=function(){b=I(b);if(b.injector()){var d=b[0]===Y?"document":va(b);throw Ba("btstrpd",d.replace(/</,"&lt;").replace(/>/,"&gt;"));}a=a||[];a.unshift(["$provide",function(a){a.value("$rootElement",b)}]);c.debugInfoEnabled&&a.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]);a.unshift("ng");
d=Xa(a,c.strictDi);d.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d);c(b)(a)})}]);return d},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;O&&e.test(O.name)&&(c.debugInfoEnabled=!0,O.name=O.name.replace(e,""));if(O&&!f.test(O.name))return d();O.name=O.name.replace(f,"");ca.resumeBootstrap=function(b){r(b,function(b){a.push(b)});return d()};C(ca.resumeDeferredBootstrap)&&ca.resumeDeferredBootstrap()}function Od(){O.name="NG_ENABLE_DEBUG_INFO!"+
O.name;O.location.reload()}function Pd(b){b=ca.element(b).injector();if(!b)throw Ba("test");return b.get("$$testability")}function sc(b,a){a=a||"_";return b.replace(Qd,function(b,d){return(d?a:"")+b.toLowerCase()})}function Rd(){var b;if(!tc){var a=ib();la=O.jQuery;w(a)&&(la=null===a?u:O[a]);la&&la.fn.on?(I=la,P(la.fn,{scope:Ka.scope,isolateScope:Ka.isolateScope,controller:Ka.controller,injector:Ka.injector,inheritedData:Ka.inheritedData}),b=la.cleanData,la.cleanData=function(a){var d;if(Lb)Lb=!1;
else for(var e=0,f;null!=(f=a[e]);e++)(d=la._data(f,"events"))&&d.$destroy&&la(f).triggerHandler("$destroy");b(a)}):I=Q;ca.element=I;tc=!0}}function Mb(b,a,c){if(!b)throw Ba("areq",a||"?",c||"required");return b}function jb(b,a,c){c&&J(b)&&(b=b[b.length-1]);Mb(C(b),a,"not a function, got "+(b&&"object"===typeof b?b.constructor.name||"Object":typeof b));return b}function La(b,a){if("hasOwnProperty"===b)throw Ba("badname",a);}function uc(b,a,c){if(!a)return b;a=a.split(".");for(var d,e=b,f=a.length,
g=0;g<f;g++)d=a[g],b&&(b=(e=b)[d]);return!c&&C(b)?lc(e,b):b}function kb(b){var a=b[0];b=b[b.length-1];var c=[a];do{a=a.nextSibling;if(!a)break;c.push(a)}while(a!==b);return I(c)}function qa(){return Object.create(null)}function Sd(b){function a(a,b,c){return a[b]||(a[b]=c())}var c=R("$injector"),d=R("ng");b=a(b,"angular",Object);b.$$minErr=b.$$minErr||R;return a(b,"module",function(){var b={};return function(f,g,h){if("hasOwnProperty"===f)throw d("badname","module");g&&b.hasOwnProperty(f)&&(b[f]=
null);return a(b,f,function(){function a(c,d,e,f){f||(f=b);return function(){f[e||"push"]([c,d,arguments]);return s}}if(!g)throw c("nomod",f);var b=[],d=[],e=[],t=a("$injector","invoke","push",d),s={_invokeQueue:b,_configBlocks:d,_runBlocks:e,requires:g,name:f,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider",
"register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:t,run:function(a){e.push(a);return this}};h&&t(h);return s})}})}function Td(b){P(b,{bootstrap:rc,copy:ua,extend:P,equals:ka,element:I,forEach:r,injector:Xa,noop:D,bind:lc,toJson:Wa,fromJson:mc,identity:Qa,isUndefined:H,isDefined:w,isString:M,isFunction:C,isObject:F,isNumber:S,isElement:jc,isArray:J,version:Ud,isDate:pa,lowercase:G,uppercase:lb,callbacks:{counter:0},getTestability:Pd,$$minErr:R,
$$csp:Ya,reloadWithDebugInfo:Od});Za=Sd(O);try{Za("ngLocale")}catch(a){Za("ngLocale",[]).provider("$locale",Vd)}Za("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Wd});a.provider("$compile",vc).directive({a:Xd,input:wc,textarea:wc,form:Yd,script:Zd,select:$d,style:ae,option:be,ngBind:ce,ngBindHtml:de,ngBindTemplate:ee,ngClass:fe,ngClassEven:ge,ngClassOdd:he,ngCloak:ie,ngController:je,ngForm:ke,ngHide:le,ngIf:me,ngInclude:ne,ngInit:oe,ngNonBindable:pe,ngPluralize:qe,ngRepeat:re,
ngShow:se,ngStyle:te,ngSwitch:ue,ngSwitchWhen:ve,ngSwitchDefault:we,ngOptions:xe,ngTransclude:ye,ngModel:ze,ngList:Ae,ngChange:Be,pattern:xc,ngPattern:xc,required:yc,ngRequired:yc,minlength:zc,ngMinlength:zc,maxlength:Ac,ngMaxlength:Ac,ngValue:Ce,ngModelOptions:De}).directive({ngInclude:Ee}).directive(mb).directive(Bc);a.provider({$anchorScroll:Fe,$animate:Ge,$browser:He,$cacheFactory:Ie,$controller:Je,$document:Ke,$exceptionHandler:Le,$filter:Cc,$interpolate:Me,$interval:Ne,$http:Oe,$httpBackend:Pe,
$location:Qe,$log:Re,$parse:Se,$rootScope:Te,$q:Ue,$$q:Ve,$sce:We,$sceDelegate:Xe,$sniffer:Ye,$templateCache:Ze,$templateRequest:$e,$$testability:af,$timeout:bf,$window:cf,$$rAF:df,$$asyncCallback:ef,$$jqLite:ff})}])}function $a(b){return b.replace(gf,function(a,b,d,e){return e?d.toUpperCase():d}).replace(hf,"Moz$1")}function Dc(b){b=b.nodeType;return b===na||!b||9===b}function Ec(b,a){var c,d,e=a.createDocumentFragment(),f=[];if(Nb.test(b)){c=c||e.appendChild(a.createElement("div"));d=(jf.exec(b)||
["",""])[1].toLowerCase();d=ga[d]||ga._default;c.innerHTML=d[1]+b.replace(kf,"<$1></$2>")+d[2];for(d=d[0];d--;)c=c.lastChild;f=Ua(f,c.childNodes);c=e.firstChild;c.textContent=""}else f.push(a.createTextNode(b));e.textContent="";e.innerHTML="";r(f,function(a){e.appendChild(a)});return e}function Q(b){if(b instanceof Q)return b;var a;M(b)&&(b=W(b),a=!0);if(!(this instanceof Q)){if(a&&"<"!=b.charAt(0))throw Ob("nosel");return new Q(b)}if(a){a=Y;var c;b=(c=lf.exec(b))?[a.createElement(c[1])]:(c=Ec(b,
a))?c.childNodes:[]}Fc(this,b)}function Pb(b){return b.cloneNode(!0)}function nb(b,a){a||ob(b);if(b.querySelectorAll)for(var c=b.querySelectorAll("*"),d=0,e=c.length;d<e;d++)ob(c[d])}function Gc(b,a,c,d){if(w(d))throw Ob("offargs");var e=(d=pb(b))&&d.events,f=d&&d.handle;if(f)if(a)r(a.split(" "),function(a){if(w(c)){var d=e[a];Ta(d||[],c);if(d&&0<d.length)return}b.removeEventListener(a,f,!1);delete e[a]});else for(a in e)"$destroy"!==a&&b.removeEventListener(a,f,!1),delete e[a]}function ob(b,a){var c=
b.ng339,d=c&&qb[c];d&&(a?delete d.data[a]:(d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),Gc(b)),delete qb[c],b.ng339=u))}function pb(b,a){var c=b.ng339,c=c&&qb[c];a&&!c&&(b.ng339=c=++mf,c=qb[c]={events:{},data:{},handle:u});return c}function Qb(b,a,c){if(Dc(b)){var d=w(c),e=!d&&a&&!F(a),f=!a;b=(b=pb(b,!e))&&b.data;if(d)b[a]=c;else{if(f)return b;if(e)return b&&b[a];P(b,a)}}}function rb(b,a){return b.getAttribute?-1<(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+
a+" "):!1}function sb(b,a){a&&b.setAttribute&&r(a.split(" "),function(a){b.setAttribute("class",W((" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+W(a)+" "," ")))})}function tb(b,a){if(a&&b.setAttribute){var c=(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(a.split(" "),function(a){a=W(a);-1===c.indexOf(" "+a+" ")&&(c+=a+" ")});b.setAttribute("class",W(c))}}function Fc(b,a){if(a)if(a.nodeType)b[b.length++]=a;else{var c=a.length;if("number"===typeof c&&a.window!==
a){if(c)for(var d=0;d<c;d++)b[b.length++]=a[d]}else b[b.length++]=a}}function Hc(b,a){return ub(b,"$"+(a||"ngController")+"Controller")}function ub(b,a,c){9==b.nodeType&&(b=b.documentElement);for(a=J(a)?a:[a];b;){for(var d=0,e=a.length;d<e;d++)if((c=I.data(b,a[d]))!==u)return c;b=b.parentNode||11===b.nodeType&&b.host}}function Ic(b){for(nb(b,!0);b.firstChild;)b.removeChild(b.firstChild)}function Rb(b,a){a||nb(b);var c=b.parentNode;c&&c.removeChild(b)}function nf(b,a){a=a||O;if("complete"===a.document.readyState)a.setTimeout(b);
else I(a).on("load",b)}function Jc(b,a){var c=vb[a.toLowerCase()];return c&&Kc[ta(b)]&&c}function of(b,a){var c=b.nodeName;return("INPUT"===c||"TEXTAREA"===c)&&Lc[a]}function pf(b,a){var c=function(c,e){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=a[e||c.type],g=f?f.length:0;if(g){if(H(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();h&&h.call(c)}}c.isImmediatePropagationStopped=
function(){return!0===c.immediatePropagationStopped};1<g&&(f=fa(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||f[l].call(b,c)}};c.elem=b;return c}function ff(){this.$get=function(){return P(Q,{hasClass:function(b,a){b.attr&&(b=b[0]);return rb(b,a)},addClass:function(b,a){b.attr&&(b=b[0]);return tb(b,a)},removeClass:function(b,a){b.attr&&(b=b[0]);return sb(b,a)}})}}function Da(b,a){var c=b&&b.$$hashKey;if(c)return"function"===typeof c&&(c=b.$$hashKey()),c;c=typeof b;return c="function"==
c||"object"==c&&null!==b?b.$$hashKey=c+":"+(a||Kd)():c+":"+b}function wb(b,a){if(a){var c=0;this.nextUid=function(){return++c}}r(b,this.put,this)}function qf(b){return(b=b.toString().replace(Mc,"").match(Nc))?"function("+(b[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Xa(b,a){function c(a){return function(b,c){if(F(b))r(b,hc(a));else return a(b,c)}}function d(a,b){La(a,"service");if(C(b)||J(b))b=t.instantiate(b);if(!b.$get)throw Ea("pget",a);return m[a+"Provider"]=b}function e(a,b){return function(){var c=
x.invoke(b,this);if(H(c))throw Ea("undef",a);return c}}function f(a,b,c){return d(a,{$get:!1!==c?e(a,b):b})}function g(a){var b=[],c;r(a,function(a){function d(a){var b,c;b=0;for(c=a.length;b<c;b++){var e=a[b],f=t.get(e[0]);f[e[1]].apply(f,e[2])}}if(!n.get(a)){n.put(a,!0);try{M(a)?(c=Za(a),b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):C(a)?b.push(t.invoke(a)):J(a)?b.push(t.invoke(a)):jb(a,"module")}catch(e){throw J(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==
e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Ea("modulerr",a,e.stack||e.message||e);}}});return b}function h(b,c){function d(a,e){if(b.hasOwnProperty(a)){if(b[a]===l)throw Ea("cdep",a+" <- "+k.join(" <- "));return b[a]}try{return k.unshift(a),b[a]=l,b[a]=c(a,e)}catch(f){throw b[a]===l&&delete b[a],f;}finally{k.shift()}}function e(b,c,f,h){"string"===typeof f&&(h=f,f=null);var g=[],k=Xa.$$annotate(b,a,h),l,t,m;t=0;for(l=k.length;t<l;t++){m=k[t];if("string"!==typeof m)throw Ea("itkn",m);g.push(f&&
f.hasOwnProperty(m)?f[m]:d(m,h))}J(b)&&(b=b[l]);return b.apply(c,g)}return{invoke:e,instantiate:function(a,b,c){var d=Object.create((J(a)?a[a.length-1]:a).prototype||null);a=e(a,d,b,c);return F(a)||C(a)?a:d},get:d,annotate:Xa.$$annotate,has:function(a){return m.hasOwnProperty(a+"Provider")||b.hasOwnProperty(a)}}}a=!0===a;var l={},k=[],n=new wb([],!0),m={$provide:{provider:c(d),factory:c(f),service:c(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:c(function(a,
b){return f(a,oa(b),!1)}),constant:c(function(a,b){La(a,"constant");m[a]=b;s[a]=b}),decorator:function(a,b){var c=t.get(a+"Provider"),d=c.$get;c.$get=function(){var a=x.invoke(d,c);return x.invoke(b,null,{$delegate:a})}}}},t=m.$injector=h(m,function(a,b){ca.isString(b)&&k.push(b);throw Ea("unpr",k.join(" <- "));}),s={},x=s.$injector=h(s,function(a,b){var c=t.get(a+"Provider",b);return x.invoke(c.$get,c,u,a)});r(g(b),function(a){x.invoke(a||D)});return x}function Fe(){var b=!0;this.disableAutoScrolling=
function(){b=!1};this.$get=["$window","$location","$rootScope",function(a,c,d){function e(a){var b=null;Array.prototype.some.call(a,function(a){if("a"===ta(a))return b=a,!0});return b}function f(b){if(b){b.scrollIntoView();var c;c=g.yOffset;C(c)?c=c():jc(c)?(c=c[0],c="fixed"!==a.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):S(c)||(c=0);c&&(b=b.getBoundingClientRect().top,a.scrollBy(0,b-c))}else a.scrollTo(0,0)}function g(){var a=c.hash(),b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?
f(b):"top"===a&&f(null):f(null)}var h=a.document;b&&d.$watch(function(){return c.hash()},function(a,b){a===b&&""===a||nf(function(){d.$evalAsync(g)})});return g}]}function ef(){this.$get=["$$rAF","$timeout",function(b,a){return b.supported?function(a){return b(a)}:function(b){return a(b,0,!1)}}]}function rf(b,a,c,d){function e(a){try{a.apply(null,Va.call(arguments,1))}finally{if(z--,0===z)for(;A.length;)try{A.pop()()}catch(b){c.error(b)}}}function f(a,b){(function sf(){r(v,function(a){a()});B=b(sf,
a)})()}function g(){h();l()}function h(){K=b.history.state;K=H(K)?null:K;ka(K,Z)&&(K=Z);Z=K}function l(){if(E!==n.url()||N!==K)E=n.url(),N=K,r(da,function(a){a(n.url(),K)})}function k(a){try{return decodeURIComponent(a)}catch(b){return a}}var n=this,m=a[0],t=b.location,s=b.history,x=b.setTimeout,y=b.clearTimeout,q={};n.isMock=!1;var z=0,A=[];n.$$completeOutstandingRequest=e;n.$$incOutstandingRequestCount=function(){z++};n.notifyWhenNoOutstandingRequests=function(a){r(v,function(a){a()});0===z?a():
A.push(a)};var v=[],B;n.addPollFn=function(a){H(B)&&f(100,x);v.push(a);return a};var K,N,E=t.href,V=a.find("base"),T=null;h();N=K;n.url=function(a,c,e){H(e)&&(e=null);t!==b.location&&(t=b.location);s!==b.history&&(s=b.history);if(a){var f=N===e;if(E===a&&(!d.history||f))return n;var g=E&&Ga(E)===Ga(a);E=a;N=e;!d.history||g&&f?(g||(T=a),c?t.replace(a):g?(c=t,e=a.indexOf("#"),a=-1===e?"":a.substr(e+1),c.hash=a):t.href=a):(s[c?"replaceState":"pushState"](e,"",a),h(),N=K);return n}return T||t.href.replace(/%27/g,
"'")};n.state=function(){return K};var da=[],Fa=!1,Z=null;n.onUrlChange=function(a){if(!Fa){if(d.history)I(b).on("popstate",g);I(b).on("hashchange",g);Fa=!0}da.push(a);return a};n.$$checkUrlChange=l;n.baseHref=function(){var a=V.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var p={},w="",C=n.baseHref();n.cookies=function(a,b){var d,e,f,h;if(a)b===u?m.cookie=encodeURIComponent(a)+"=;path="+C+";expires=Thu, 01 Jan 1970 00:00:00 GMT":M(b)&&(d=(m.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+
";path="+C).length+1,4096<d&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+d+" > 4096 bytes)!"));else{if(m.cookie!==w)for(w=m.cookie,d=w.split("; "),p={},f=0;f<d.length;f++)e=d[f],h=e.indexOf("="),0<h&&(a=k(e.substring(0,h)),p[a]===u&&(p[a]=k(e.substring(h+1))));return p}};n.defer=function(a,b){var c;z++;c=x(function(){delete q[c];e(a)},b||0);q[c]=!0;return c};n.defer.cancel=function(a){return q[a]?(delete q[a],y(a),e(D),!0):!1}}function He(){this.$get=["$window",
"$log","$sniffer","$document",function(b,a,c,d){return new rf(b,d,a,c)}]}function Ie(){this.$get=function(){function b(b,d){function e(a){a!=m&&(t?t==a&&(t=a.n):t=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(b in a)throw R("$cacheFactory")("iid",b);var g=0,h=P({},d,{id:b}),l={},k=d&&d.capacity||Number.MAX_VALUE,n={},m=null,t=null;return a[b]={put:function(a,b){if(!H(b)){if(k<Number.MAX_VALUE){var c=n[a]||(n[a]={key:a});e(c)}a in l||g++;l[a]=b;g>k&&this.remove(t.key);
return b}},get:function(a){if(k<Number.MAX_VALUE){var b=n[a];if(!b)return;e(b)}return l[a]},remove:function(a){if(k<Number.MAX_VALUE){var b=n[a];if(!b)return;b==m&&(m=b.p);b==t&&(t=b.n);f(b.n,b.p);delete n[a]}delete l[a];g--},removeAll:function(){l={};g=0;n={};m=t=null},destroy:function(){n=h=l=null;delete a[b]},info:function(){return P({},h,{size:g})}}}var a={};b.info=function(){var b={};r(a,function(a,e){b[e]=a.info()});return b};b.get=function(b){return a[b]};return b}}function Ze(){this.$get=
["$cacheFactory",function(b){return b("templates")}]}function vc(b,a){function c(a,b,c){var d=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,e={};r(a,function(a,f){var h=a.match(d);if(!h)throw ia("iscp",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:h[1][0],collection:"*"===h[2],optional:"?"===h[3],attrName:h[4]||f}});return e}var d={},e=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,g=Ld("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,l=
/^(on[a-z]+|formaction)$/;this.directive=function m(a,e){La(a,"directive");M(a)?(Mb(e,"directiveFactory"),d.hasOwnProperty(a)||(d[a]=[],b.factory(a+"Directive",["$injector","$exceptionHandler",function(b,e){var f=[];r(d[a],function(d,h){try{var g=b.invoke(d);C(g)?g={compile:oa(g)}:!g.compile&&g.link&&(g.compile=oa(g.link));g.priority=g.priority||0;g.index=h;g.name=g.name||a;g.require=g.require||g.controller&&g.name;g.restrict=g.restrict||"EA";var k=g,l=g,m=g.name,s={isolateScope:null,bindToController:null};
F(l.scope)&&(!0===l.bindToController?(s.bindToController=c(l.scope,m,!0),s.isolateScope={}):s.isolateScope=c(l.scope,m,!1));F(l.bindToController)&&(s.bindToController=c(l.bindToController,m,!0));if(F(s.bindToController)){var r=l.controller,T=l.controllerAs;if(!r)throw ia("noctrl",m);var da;a:if(T&&M(T))da=T;else{if(M(r)){var p=Pc.exec(r);if(p){da=p[3];break a}}da=void 0}if(!da)throw ia("noident",m);}var Z=k.$$bindings=s;F(Z.isolateScope)&&(g.$$isolateBindings=Z.isolateScope);f.push(g)}catch(u){e(u)}});
return f}])),d[a].push(e)):r(a,hc(m));return this};this.aHrefSanitizationWhitelist=function(b){return w(b)?(a.aHrefSanitizationWhitelist(b),this):a.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(b){return w(b)?(a.imgSrcSanitizationWhitelist(b),this):a.imgSrcSanitizationWhitelist()};var k=!0;this.debugInfoEnabled=function(a){return w(a)?(k=a,this):k};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document",
"$sce","$animate","$$sanitizeUri",function(a,b,c,x,y,q,z,A,v,B,K){function N(a,b){try{a.addClass(b)}catch(c){}}function E(a,b,c,d,e){a instanceof I||(a=I(a));r(a,function(b,c){b.nodeType==gb&&b.nodeValue.match(/\S+/)&&(a[c]=I(b).wrap("<span></span>").parent()[0])});var f=V(a,b,a,c,d,e);E.$$addScopeClass(a);var h=null;return function(b,c,d){Mb(b,"scope");d=d||{};var e=d.parentBoundTranscludeFn,g=d.transcludeControllers;d=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude);h||(h=(d=
d&&d[0])?"foreignobject"!==ta(d)&&d.toString().match(/SVG/)?"svg":"html":"html");d="html"!==h?I(Ub(h,I("<div>").append(a).html())):c?Ka.clone.call(a):a;if(g)for(var k in g)d.data("$"+k+"Controller",g[k].instance);E.$$addScopeInfo(d,b);c&&c(d,b);f&&f(b,d,d,e);return d}}function V(a,b,c,d,e,f){function h(a,c,d,e){var f,k,l,t,m,q,v;if(s)for(v=Array(c.length),t=0;t<g.length;t+=3)f=g[t],v[f]=c[f];else v=c;t=0;for(m=g.length;t<m;)if(k=v[g[t++]],c=g[t++],f=g[t++],c){if(c.scope){if(l=a.$new(),E.$$addScopeInfo(I(k),
l),q=c.$$destroyBindings)c.$$destroyBindings=null,l.$on("$destroyed",q)}else l=a;q=c.transcludeOnThisElement?T(a,c.transclude,e,c.elementTranscludeOnThisElement):!c.templateOnThisElement&&e?e:!e&&b?T(a,b):null;c(f,l,k,d,q,c)}else f&&f(a,k.childNodes,u,e)}for(var g=[],k,l,t,m,s,q=0;q<a.length;q++){k=new ea;l=da(a[q],[],k,0===q?d:u,e);(f=l.length?w(l,a[q],k,b,c,null,[],[],f):null)&&f.scope&&E.$$addScopeClass(k.$$element);k=f&&f.terminal||!(t=a[q].childNodes)||!t.length?null:V(t,f?(f.transcludeOnThisElement||
!f.templateOnThisElement)&&f.transclude:b);if(f||k)g.push(q,f,k),m=!0,s=s||f;f=null}return m?h:null}function T(a,b,c,d){return function(d,e,f,h,g){d||(d=a.$new(!1,g),d.$$transcluded=!0);return b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:h})}}function da(a,b,c,d,h){var g=c.$attr,k;switch(a.nodeType){case na:X(b,wa(ta(a)),"E",d,h);for(var l,t,m,s=a.attributes,q=0,v=s&&s.length;q<v;q++){var N=!1,x=!1;l=s[q];k=l.name;t=W(l.value);l=wa(k);if(m=ja.test(l))k=k.replace(Rc,
"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()});var E=l.replace(/(Start|End)$/,"");ma(E)&&l===E+"Start"&&(N=k,x=k.substr(0,k.length-5)+"end",k=k.substr(0,k.length-6));l=wa(k.toLowerCase());g[l]=k;if(m||!c.hasOwnProperty(l))c[l]=t,Jc(a,l)&&(c[l]=!0);U(a,b,t,l,m);X(b,l,"A",d,h,N,x)}a=a.className;F(a)&&(a=a.animVal);if(M(a)&&""!==a)for(;k=f.exec(a);)l=wa(k[2]),X(b,l,"C",d,h)&&(c[l]=W(k[3])),a=a.substr(k.index+k[0].length);break;case gb:Q(b,a.nodeValue);break;case 8:try{if(k=e.exec(a.nodeValue))l=
wa(k[1]),X(b,l,"M",d,h)&&(c[l]=W(k[2]))}catch(z){}}b.sort(O);return b}function p(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ia("uterdir",b,c);a.nodeType==na&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return I(d)}function Z(a,b,c){return function(d,e,f,h,g){e=p(e[0],b,c);return a(d,e,f,h,g)}}function w(a,b,d,e,f,g,k,l,t){function m(a,b,c,d){if(a){c&&(a=Z(a,c,d));a.require=L.require;a.directiveName=ma;if(B===
L||L.$$isolateScope)a=aa(a,{isolateScope:!0});k.push(a)}if(b){c&&(b=Z(b,c,d));b.require=L.require;b.directiveName=ma;if(B===L||L.$$isolateScope)b=aa(b,{isolateScope:!0});l.push(b)}}function v(a,b,c,d){var e,f="data",g=!1,k=c,l;if(M(b)){l=b.match(h);b=b.substring(l[0].length);l[3]&&(l[1]?l[3]=null:l[1]=l[3]);"^"===l[1]?f="inheritedData":"^^"===l[1]&&(f="inheritedData",k=c.parent());"?"===l[2]&&(g=!0);e=null;d&&"data"===f&&(e=d[b])&&(e=e.instance);e=e||k[f]("$"+b+"Controller");if(!e&&!g)throw ia("ctreq",
b,a);return e||null}J(b)&&(e=[],r(b,function(b){e.push(v(a,b,c,d))}));return e}function N(a,c,e,f,g,h){function t(a,b,c){var d;Ra(a)||(c=b,b=a,a=u);D&&(d=da);c||(c=D?V.parent():V);return g(a,b,d,c,w)}var m,s,x,ra,da,T,V,p;b===e?(p=d,V=d.$$element):(V=I(e),p=new ea(V,d));B&&(ra=c.$new(!0));g&&(T=t,T.$$boundTransclude=g);K&&(y={},da={},r(K,function(a){var b={$scope:a===B||a.$$isolateScope?ra:c,$element:V,$attrs:p,$transclude:T};x=a.controller;"@"==x&&(x=p[a.name]);b=q(x,b,!0,a.controllerAs);da[a.name]=
b;D||V.data("$"+a.name+"Controller",b.instance);y[a.name]=b}));B&&(E.$$addScopeInfo(V,ra,!0,!(A&&(A===B||A===B.$$originalDirective))),E.$$addScopeClass(V,!0),ra.$$isolateBindings=B.$$isolateBindings,ca(c,p,ra,ra.$$isolateBindings,B,ra));if(y){var Z=B||z,Fa,Qc;Z&&y[Z.name]&&(Fa=Z.$$bindings.bindToController,(x=y[Z.name])&&x.identifier&&Fa&&(Qc=x,h.$$destroyBindings=ca(c,p,x.instance,Fa,Z)));r(y,function(a){var b=a();b!==a.instance&&a===Qc&&(h.$$destroyBindings(),h.$$destroyBindings=ca(c,p,b,Fa,Z))});
y=null}f=0;for(m=k.length;f<m;f++)s=k[f],ba(s,s.isolateScope?ra:c,V,p,s.require&&v(s.directiveName,s.require,V,da),T);var w=c;B&&(B.template||null===B.templateUrl)&&(w=ra);a&&a(w,e.childNodes,u,g);for(f=l.length-1;0<=f;f--)s=l[f],ba(s,s.isolateScope?ra:c,V,p,s.require&&v(s.directiveName,s.require,V,da),T)}t=t||{};for(var x=-Number.MAX_VALUE,z,K=t.controllerDirectives,y,B=t.newIsolateScopeDirective,A=t.templateDirective,T=t.nonTlbTranscludeDirective,V=!1,Sb=!1,D=t.hasElementTranscludeDirective,X=d.$$element=
I(b),L,ma,G,O=e,Q,P=0,S=a.length;P<S;P++){L=a[P];var U=L.$$start,Tb=L.$$end;U&&(X=p(b,U,Tb));G=u;if(x>L.priority)break;if(G=L.scope)L.templateUrl||(F(G)?(Ma("new/isolated scope",B||z,L,X),B=L):Ma("new/isolated scope",B,L,X)),z=z||L;ma=L.name;!L.templateUrl&&L.controller&&(G=L.controller,K=K||{},Ma("'"+ma+"' controller",K[ma],L,X),K[ma]=L);if(G=L.transclude)V=!0,L.$$tlb||(Ma("transclusion",T,L,X),T=L),"element"==G?(D=!0,x=L.priority,G=X,X=d.$$element=I(Y.createComment(" "+ma+": "+d[ma]+" ")),b=X[0],
$(f,Va.call(G,0),b),O=E(G,e,x,g&&g.name,{nonTlbTranscludeDirective:T})):(G=I(Pb(b)).contents(),X.empty(),O=E(G,e));if(L.template)if(Sb=!0,Ma("template",A,L,X),A=L,G=C(L.template)?L.template(X,d):L.template,G=ha(G),L.replace){g=L;G=Nb.test(G)?Sc(Ub(L.templateNamespace,W(G))):[];b=G[0];if(1!=G.length||b.nodeType!==na)throw ia("tplrt",ma,"");$(f,X,b);S={$attr:{}};G=da(b,[],S);var fa=a.splice(P+1,a.length-(P+1));B&&H(G);a=a.concat(G).concat(fa);Oc(d,S);S=a.length}else X.html(G);if(L.templateUrl)Sb=!0,
Ma("template",A,L,X),A=L,L.replace&&(g=L),N=R(a.splice(P,a.length-P),X,d,f,V&&O,k,l,{controllerDirectives:K,newIsolateScopeDirective:B,templateDirective:A,nonTlbTranscludeDirective:T}),S=a.length;else if(L.compile)try{Q=L.compile(X,d,O),C(Q)?m(null,Q,U,Tb):Q&&m(Q.pre,Q.post,U,Tb)}catch(ga){c(ga,va(X))}L.terminal&&(N.terminal=!0,x=Math.max(x,L.priority))}N.scope=z&&!0===z.scope;N.transcludeOnThisElement=V;N.elementTranscludeOnThisElement=D;N.templateOnThisElement=Sb;N.transclude=O;t.hasElementTranscludeDirective=
D;return N}function H(a){for(var b=0,c=a.length;b<c;b++)a[b]=Jb(a[b],{$$isolateScope:!0})}function X(b,e,f,g,h,l,k){if(e===h)return null;h=null;if(d.hasOwnProperty(e)){var t;e=a.get(e+"Directive");for(var q=0,v=e.length;q<v;q++)try{t=e[q],(g===u||g>t.priority)&&-1!=t.restrict.indexOf(f)&&(l&&(t=Jb(t,{$$start:l,$$end:k})),b.push(t),h=t)}catch(x){c(x)}}return h}function ma(b){if(d.hasOwnProperty(b))for(var c=a.get(b+"Directive"),e=0,f=c.length;e<f;e++)if(b=c[e],b.multiElement)return!0;return!1}function Oc(a,
b){var c=b.$attr,d=a.$attr,e=a.$$element;r(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))});r(b,function(b,f){"class"==f?(N(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function R(a,b,c,d,e,f,g,h){var l=[],k,t,m=b[0],s=a.shift(),q=Jb(s,{templateUrl:null,transclude:null,replace:null,$$originalDirective:s}),
z=C(s.templateUrl)?s.templateUrl(b,c):s.templateUrl,E=s.templateNamespace;b.empty();x(v.getTrustedResourceUrl(z)).then(function(v){var x,K;v=ha(v);if(s.replace){v=Nb.test(v)?Sc(Ub(E,W(v))):[];x=v[0];if(1!=v.length||x.nodeType!==na)throw ia("tplrt",s.name,z);v={$attr:{}};$(d,b,x);var y=da(x,[],v);F(s.scope)&&H(y);a=y.concat(a);Oc(c,v)}else x=m,b.html(v);a.unshift(q);k=w(a,x,c,e,b,s,f,g,h);r(d,function(a,c){a==x&&(d[c]=b[0])});for(t=V(b[0].childNodes,e);l.length;){v=l.shift();K=l.shift();var B=l.shift(),
A=l.shift(),y=b[0];if(!v.$$destroyed){if(K!==m){var p=K.className;h.hasElementTranscludeDirective&&s.replace||(y=Pb(x));$(B,I(K),y);N(I(y),p)}K=k.transcludeOnThisElement?T(v,k.transclude,A):A;k(t,v,y,d,K,k)}}l=null});return function(a,b,c,d,e){a=e;b.$$destroyed||(l?l.push(b,c,d,a):(k.transcludeOnThisElement&&(a=T(b,k.transclude,e)),k(t,b,c,d,a,k)))}}function O(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Ma(a,b,c,d){if(b)throw ia("multidir",
b.name,c.name,a,va(d));}function Q(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;b&&E.$$addBindingClass(a);return function(a,c){var e=c.parent();b||E.$$addBindingClass(e);E.$$addBindingInfo(e,d.expressions);a.$watch(d,function(a){c[0].nodeValue=a})}}})}function Ub(a,b){a=G(a||"html");switch(a){case "svg":case "math":var c=Y.createElement("div");c.innerHTML="<"+a+">"+b+"</"+a+">";return c.childNodes[0].childNodes;default:return b}}function S(a,b){if("srcdoc"==
b)return v.HTML;var c=ta(a);if("xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b))return v.RESOURCE_URL}function U(a,c,d,e,f){var h=S(a,e);f=g[e]||f;var k=b(d,!0,h,f);if(k){if("multiple"===e&&"select"===ta(a))throw ia("selmulti",va(a));c.push({priority:100,compile:function(){return{pre:function(a,c,g){c=g.$$observers||(g.$$observers={});if(l.test(e))throw ia("nodomevents");var m=g[e];m!==d&&(k=m&&b(m,!0,h,f),d=m);k&&(g[e]=k(a),(c[e]||(c[e]=[])).$$inter=!0,(g.$$observers&&g.$$observers[e].$$scope||
a).$watch(k,function(a,b){"class"===e&&a!=b?g.$updateClass(a,b):g.$set(e,a)}))}}}})}}function $(a,b,c){var d=b[0],e=b.length,f=d.parentNode,g,h;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]==d){a[g++]=c;h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1;a.context===d&&(a.context=c);break}f&&f.replaceChild(c,d);a=Y.createDocumentFragment();a.appendChild(d);I(c).data(I(d).data());la?(Lb=!0,la.cleanData([d])):delete I.cache[d[I.expando]];d=1;for(e=b.length;d<e;d++)f=b[d],I(f).remove(),
a.appendChild(f),delete b[d];b[0]=c;b.length=1}function aa(a,b){return P(function(){return a.apply(null,arguments)},a,b)}function ba(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,va(d))}}function ca(a,c,d,e,f,g){var h;r(e,function(e,g){var k=e.attrName,l=e.optional,m,s,q,v;switch(e.mode){case "@":c.$observe(k,function(a){d[g]=a});c.$$observers[k].$$scope=a;c[k]&&(d[g]=b(c[k])(a));break;case "=":if(l&&!c[k])break;s=y(c[k]);v=s.literal?ka:function(a,b){return a===b||a!==a&&b!==b};q=s.assign||function(){m=
d[g]=s(a);throw ia("nonassign",c[k],f.name);};m=d[g]=s(a);l=function(b){v(b,d[g])||(v(b,m)?q(a,b=d[g]):d[g]=b);return m=b};l.$stateful=!0;l=e.collection?a.$watchCollection(c[k],l):a.$watch(y(c[k],l),null,s.literal);h=h||[];h.push(l);break;case "&":if(!c.hasOwnProperty(k)&&l)break;s=y(c[k]);if(s===D&&l)break;d[g]=function(b){return s(a,b)}}});e=h?function(){for(var a=0,b=h.length;a<b;++a)h[a]()}:D;return g&&e!==D?(g.$on("$destroy",e),D):e}var ea=function(a,b){if(b){var c=Object.keys(b),d,e,f;d=0;for(e=
c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a};ea.prototype={$normalize:wa,$addClass:function(a){a&&0<a.length&&B.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&B.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=Tc(a,b);c&&c.length&&B.addClass(this.$$element,c);(c=Tc(b,a))&&c.length&&B.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=this.$$element[0],g=Jc(f,a),h=of(f,a),f=a;g?(this.$$element.prop(a,b),e=g):h&&(this[h]=b,f=
h);this[a]=b;e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=sc(a,"-"));g=ta(this.$$element);if("a"===g&&"href"===a||"img"===g&&"src"===a)this[a]=b=K(b,"src"===a);else if("img"===g&&"srcset"===a){for(var g="",h=W(b),k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,k=/\s/.test(h)?k:/(,)/,h=h.split(k),k=Math.floor(h.length/2),l=0;l<k;l++)var t=2*l,g=g+K(W(h[t]),!0),g=g+(" "+W(h[t+1]));h=W(h[2*l]).split(/\s/);g+=K(W(h[0]),!0);2===h.length&&(g+=" "+W(h[1]));this[a]=b=g}!1!==d&&(null===b||b===u?this.$$element.removeAttr(e):
this.$$element.attr(e,b));(a=this.$$observers)&&r(a[f],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=qa()),e=d[a]||(d[a]=[]);e.push(b);z.$evalAsync(function(){!e.$$inter&&c.hasOwnProperty(a)&&b(c[a])});return function(){Ta(e,b)}}};var fa=b.startSymbol(),ga=b.endSymbol(),ha="{{"==fa||"}}"==ga?Qa:function(a){return a.replace(/\{\{/g,fa).replace(/}}/g,ga)},ja=/^ngAttr[A-Z]/;E.$$addBindingInfo=k?function(a,b){var c=a.data("$binding")||[];J(b)?
c=c.concat(b):c.push(b);a.data("$binding",c)}:D;E.$$addBindingClass=k?function(a){N(a,"ng-binding")}:D;E.$$addScopeInfo=k?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:D;E.$$addScopeClass=k?function(a,b){N(a,b?"ng-isolate-scope":"ng-scope")}:D;return E}]}function wa(b){return $a(b.replace(Rc,""))}function Tc(b,a){var c="",d=b.split(/\s+/),e=a.split(/\s+/),f=0;a:for(;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(0<c.length?" ":"")+
g}return c}function Sc(b){b=I(b);var a=b.length;if(1>=a)return b;for(;a--;)8===b[a].nodeType&&tf.call(b,a,1);return b}function Je(){var b={},a=!1;this.register=function(a,d){La(a,"controller");F(a)?P(b,a):b[a]=d};this.allowGlobals=function(){a=!0};this.$get=["$injector","$window",function(c,d){function e(a,b,c,d){if(!a||!F(a.$scope))throw R("$controller")("noscp",d,b);a.$scope[b]=c}return function(f,g,h,l){var k,n,m;h=!0===h;l&&M(l)&&(m=l);if(M(f)){l=f.match(Pc);if(!l)throw uf("ctrlfmt",f);n=l[1];
m=m||l[3];f=b.hasOwnProperty(n)?b[n]:uc(g.$scope,n,!0)||(a?uc(d,n,!0):u);jb(f,n,!0)}if(h)return h=(J(f)?f[f.length-1]:f).prototype,k=Object.create(h||null),m&&e(g,m,k,n||f.name),P(function(){var a=c.invoke(f,k,g,n);a!==k&&(F(a)||C(a))&&(k=a,m&&e(g,m,k,n||f.name));return k},{instance:k,identifier:m});k=c.instantiate(f,g,n);m&&e(g,m,k,n||f.name);return k}}]}function Ke(){this.$get=["$window",function(b){return I(b.document)}]}function Le(){this.$get=["$log",function(b){return function(a,c){b.error.apply(b,
arguments)}}]}function Vb(b,a){if(M(b)){var c=b.replace(vf,"").trim();if(c){var d=a("Content-Type");(d=d&&0===d.indexOf(Uc))||(d=(d=c.match(wf))&&xf[d[0]].test(c));d&&(b=mc(c))}}return b}function Vc(b){var a=qa(),c,d,e;if(!b)return a;r(b.split("\n"),function(b){e=b.indexOf(":");c=G(W(b.substr(0,e)));d=W(b.substr(e+1));c&&(a[c]=a[c]?a[c]+", "+d:d)});return a}function Wc(b){var a=F(b)?b:u;return function(c){a||(a=Vc(b));return c?(c=a[G(c)],void 0===c&&(c=null),c):a}}function Xc(b,a,c,d){if(C(d))return d(b,
a,c);r(d,function(d){b=d(b,a,c)});return b}function Oe(){var b=this.defaults={transformResponse:[Vb],transformRequest:[function(a){return F(a)&&"[object File]"!==sa.call(a)&&"[object Blob]"!==sa.call(a)&&"[object FormData]"!==sa.call(a)?Wa(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:fa(Wb),put:fa(Wb),patch:fa(Wb)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},a=!1;this.useApplyAsync=function(b){return w(b)?(a=!!b,this):a};var c=this.interceptors=[];this.$get=
["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(d,e,f,g,h,l){function k(a){function c(a){var b=P({},a);b.data=a.data?Xc(a.data,a.headers,a.status,e.transformResponse):a.data;a=a.status;return 200<=a&&300>a?b:h.reject(b)}function d(a,b){var c,e={};r(a,function(a,d){C(a)?(c=a(b),null!=c&&(e[d]=c)):e[d]=a});return e}if(!ca.isObject(a))throw R("$http")("badreq",a);var e=P({method:"get",transformRequest:b.transformRequest,transformResponse:b.transformResponse},a);e.headers=
function(a){var c=b.headers,e=P({},a.headers),f,g,h,c=P({},c.common,c[G(a.method)]);a:for(f in c){g=G(f);for(h in e)if(G(h)===g)continue a;e[f]=c[f]}return d(e,fa(a))}(a);e.method=lb(e.method);var f=[function(a){var d=a.headers,e=Xc(a.data,Wc(d),u,a.transformRequest);H(e)&&r(d,function(a,b){"content-type"===G(b)&&delete d[b]});H(a.withCredentials)&&!H(b.withCredentials)&&(a.withCredentials=b.withCredentials);return n(a,e).then(c,c)},u],g=h.when(e);for(r(s,function(a){(a.request||a.requestError)&&
f.unshift(a.request,a.requestError);(a.response||a.responseError)&&f.push(a.response,a.responseError)});f.length;){a=f.shift();var k=f.shift(),g=g.then(a,k)}g.success=function(a){g.then(function(b){a(b.data,b.status,b.headers,e)});return g};g.error=function(a){g.then(null,function(b){a(b.data,b.status,b.headers,e)});return g};return g}function n(c,f){function l(b,c,d,e){function f(){n(c,b,d,e)}N&&(200<=b&&300>b?N.put(p,[b,c,Vc(d),e]):N.remove(p));a?g.$applyAsync(f):(f(),g.$$phase||g.$apply())}function n(a,
b,d,e){b=Math.max(b,0);(200<=b&&300>b?B.resolve:B.reject)({data:a,status:b,headers:Wc(d),config:c,statusText:e})}function s(a){n(a.data,a.status,fa(a.headers()),a.statusText)}function v(){var a=k.pendingRequests.indexOf(c);-1!==a&&k.pendingRequests.splice(a,1)}var B=h.defer(),K=B.promise,N,E,r=c.headers,p=m(c.url,c.params);k.pendingRequests.push(c);K.then(v,v);!c.cache&&!b.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(N=F(c.cache)?c.cache:F(b.cache)?b.cache:t);N&&(E=N.get(p),w(E)?E&&
C(E.then)?E.then(s,s):J(E)?n(E[1],E[0],fa(E[2]),E[3]):n(E,200,{},"OK"):N.put(p,K));H(E)&&((E=Yc(c.url)?e.cookies()[c.xsrfCookieName||b.xsrfCookieName]:u)&&(r[c.xsrfHeaderName||b.xsrfHeaderName]=E),d(c.method,p,f,l,r,c.timeout,c.withCredentials,c.responseType));return K}function m(a,b){if(!b)return a;var c=[];Jd(b,function(a,b){null===a||H(a)||(J(a)||(a=[a]),r(a,function(a){F(a)&&(a=pa(a)?a.toISOString():Wa(a));c.push(Ca(b)+"="+Ca(a))}))});0<c.length&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&"));
return a}var t=f("$http"),s=[];r(c,function(a){s.unshift(M(a)?l.get(a):l.invoke(a))});k.pendingRequests=[];(function(a){r(arguments,function(a){k[a]=function(b,c){return k(P(c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){r(arguments,function(a){k[a]=function(b,c,d){return k(P(d||{},{method:a,url:b,data:c}))}})})("post","put","patch");k.defaults=b;return k}]}function yf(){return new O.XMLHttpRequest}function Pe(){this.$get=["$browser","$window","$document",function(b,a,c){return zf(b,
yf,b.defer,a.angular.callbacks,c[0])}]}function zf(b,a,c,d,e){function f(a,b,c){var f=e.createElement("script"),n=null;f.type="text/javascript";f.src=a;f.async=!0;n=function(a){f.removeEventListener("load",n,!1);f.removeEventListener("error",n,!1);e.body.removeChild(f);f=null;var g=-1,s="unknown";a&&("load"!==a.type||d[b].called||(a={type:"error"}),s=a.type,g="error"===a.type?404:200);c&&c(g,s)};f.addEventListener("load",n,!1);f.addEventListener("error",n,!1);e.body.appendChild(f);return n}return function(e,
h,l,k,n,m,t,s){function x(){z&&z();A&&A.abort()}function y(a,d,e,f,g){B!==u&&c.cancel(B);z=A=null;a(d,e,f,g);b.$$completeOutstandingRequest(D)}b.$$incOutstandingRequestCount();h=h||b.url();if("jsonp"==G(e)){var q="_"+(d.counter++).toString(36);d[q]=function(a){d[q].data=a;d[q].called=!0};var z=f(h.replace("JSON_CALLBACK","angular.callbacks."+q),q,function(a,b){y(k,a,d[q].data,"",b);d[q]=D})}else{var A=a();A.open(e,h,!0);r(n,function(a,b){w(a)&&A.setRequestHeader(b,a)});A.onload=function(){var a=A.statusText||
"",b="response"in A?A.response:A.responseText,c=1223===A.status?204:A.status;0===c&&(c=b?200:"file"==ya(h).protocol?404:0);y(k,c,b,A.getAllResponseHeaders(),a)};e=function(){y(k,-1,null,null,"")};A.onerror=e;A.onabort=e;t&&(A.withCredentials=!0);if(s)try{A.responseType=s}catch(v){if("json"!==s)throw v;}A.send(l||null)}if(0<m)var B=c(x,m);else m&&C(m.then)&&m.then(x)}}function Me(){var b="{{",a="}}";this.startSymbol=function(a){return a?(b=a,this):b};this.endSymbol=function(b){return b?(a=b,this):
a};this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(n,b).replace(m,a)}function h(f,h,m,n){function q(a){try{var b=a;a=m?e.getTrusted(m,b):e.valueOf(b);var c;if(n&&!w(a))c=a;else if(null==a)c="";else{switch(typeof a){case "string":break;case "number":a=""+a;break;default:a=Wa(a)}c=a}return c}catch(g){c=Xb("interr",f,g.toString()),d(c)}}n=!!n;for(var z,r,v=0,B=[],K=[],N=f.length,E=[],p=[];v<N;)if(-1!=(z=f.indexOf(b,v))&&-1!=
(r=f.indexOf(a,z+l)))v!==z&&E.push(g(f.substring(v,z))),v=f.substring(z+l,r),B.push(v),K.push(c(v,q)),v=r+k,p.push(E.length),E.push("");else{v!==N&&E.push(g(f.substring(v)));break}if(m&&1<E.length)throw Xb("noconcat",f);if(!h||B.length){var T=function(a){for(var b=0,c=B.length;b<c;b++){if(n&&H(a[b]))return;E[p[b]]=a[b]}return E.join("")};return P(function(a){var b=0,c=B.length,e=Array(c);try{for(;b<c;b++)e[b]=K[b](a);return T(e)}catch(g){a=Xb("interr",f,g.toString()),d(a)}},{exp:f,expressions:B,$$watchDelegate:function(a,
b,c){var d;return a.$watchGroup(K,function(c,e){var f=T(c);C(b)&&b.call(this,f,c!==e?d:f,a);d=f},c)}})}}var l=b.length,k=a.length,n=new RegExp(b.replace(/./g,f),"g"),m=new RegExp(a.replace(/./g,f),"g");h.startSymbol=function(){return b};h.endSymbol=function(){return a};return h}]}function Ne(){this.$get=["$rootScope","$window","$q","$$q",function(b,a,c,d){function e(e,h,l,k){var n=a.setInterval,m=a.clearInterval,t=0,s=w(k)&&!k,x=(s?d:c).defer(),y=x.promise;l=w(l)?l:0;y.then(null,null,e);y.$$intervalId=
n(function(){x.notify(t++);0<l&&t>=l&&(x.resolve(t),m(y.$$intervalId),delete f[y.$$intervalId]);s||b.$apply()},h);f[y.$$intervalId]=x;return y}var f={};e.cancel=function(b){return b&&b.$$intervalId in f?(f[b.$$intervalId].reject("canceled"),a.clearInterval(b.$$intervalId),delete f[b.$$intervalId],!0):!1};return e}]}function Vd(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,
lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"\u00a4",posSuf:"",negPre:"(\u00a4",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",
fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(b){return 1===b?"one":"other"}}}}function Yb(b){b=b.split("/");for(var a=b.length;a--;)b[a]=hb(b[a]);return b.join("/")}function Zc(b,a){var c=ya(b);a.$$protocol=c.protocol;a.$$host=c.hostname;a.$$port=ba(c.port)||Af[c.protocol]||null}function $c(b,a){var c="/"!==b.charAt(0);c&&(b="/"+b);var d=ya(b);a.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?
d.pathname.substring(1):d.pathname);a.$$search=oc(d.search);a.$$hash=decodeURIComponent(d.hash);a.$$path&&"/"!=a.$$path.charAt(0)&&(a.$$path="/"+a.$$path)}function xa(b,a){if(0===a.indexOf(b))return a.substr(b.length)}function Ga(b){var a=b.indexOf("#");return-1==a?b:b.substr(0,a)}function xb(b){return b.replace(/(#.+)|#$/,"$1")}function Zb(b){return b.substr(0,Ga(b).lastIndexOf("/")+1)}function $b(b,a){this.$$html5=!0;a=a||"";var c=Zb(b);Zc(b,this);this.$$parse=function(a){var b=xa(c,a);if(!M(b))throw yb("ipthprfx",
a,c);$c(b,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var a=Kb(this.$$search),b=this.$$hash?"#"+hb(this.$$hash):"";this.$$url=Yb(this.$$path)+(a?"?"+a:"")+b;this.$$absUrl=c+this.$$url.substr(1)};this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;(f=xa(b,d))!==u?(g=f,g=(f=xa(a,f))!==u?c+(xa("/",f)||f):b+g):(f=xa(c,d))!==u?g=c+f:c==d+"/"&&(g=c);g&&this.$$parse(g);return!!g}}function ac(b,a){var c=Zb(b);Zc(b,this);this.$$parse=
function(d){d=xa(b,d)||xa(c,d);var e;"#"===d.charAt(0)?(e=xa(a,d),H(e)&&(e=d)):e=this.$$html5?d:"";$c(e,this);d=this.$$path;var f=/^\/[A-Z]:(\/.*)/;0===e.indexOf(b)&&(e=e.replace(b,""));f.exec(e)||(d=(e=f.exec(d))?e[1]:d);this.$$path=d;this.$$compose()};this.$$compose=function(){var c=Kb(this.$$search),e=this.$$hash?"#"+hb(this.$$hash):"";this.$$url=Yb(this.$$path)+(c?"?"+c:"")+e;this.$$absUrl=b+(this.$$url?a+this.$$url:"")};this.$$parseLinkUrl=function(a,c){return Ga(b)==Ga(a)?(this.$$parse(a),!0):
!1}}function ad(b,a){this.$$html5=!0;ac.apply(this,arguments);var c=Zb(b);this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;b==Ga(d)?f=d:(g=xa(c,d))?f=b+a+g:c===d+"/"&&(f=c);f&&this.$$parse(f);return!!f};this.$$compose=function(){var c=Kb(this.$$search),e=this.$$hash?"#"+hb(this.$$hash):"";this.$$url=Yb(this.$$path)+(c?"?"+c:"")+e;this.$$absUrl=b+a+this.$$url}}function zb(b){return function(){return this[b]}}function bd(b,a){return function(c){if(H(c))return this[b];
this[b]=a(c);this.$$compose();return this}}function Qe(){var b="",a={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(a){return w(a)?(b=a,this):b};this.html5Mode=function(b){return Sa(b)?(a.enabled=b,this):F(b)?(Sa(b.enabled)&&(a.enabled=b.enabled),Sa(b.requireBase)&&(a.requireBase=b.requireBase),Sa(b.rewriteLinks)&&(a.rewriteLinks=b.rewriteLinks),this):a};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=k.url(),
f=k.$$state;try{d.url(a,b,c),k.$$state=d.state()}catch(g){throw k.url(e),k.$$state=f,g;}}function l(a,b){c.$broadcast("$locationChangeSuccess",k.absUrl(),a,k.$$state,b)}var k,n;n=d.baseHref();var m=d.url(),t;if(a.enabled){if(!n&&a.requireBase)throw yb("nobase");t=m.substring(0,m.indexOf("/",m.indexOf("//")+2))+(n||"/");n=e.history?$b:ad}else t=Ga(m),n=ac;k=new n(t,"#"+b);k.$$parseLinkUrl(m,m);k.$$state=d.state();var s=/^\s*(javascript|mailto):/i;f.on("click",function(b){if(a.rewriteLinks&&!b.ctrlKey&&
!b.metaKey&&!b.shiftKey&&2!=b.which&&2!=b.button){for(var e=I(b.target);"a"!==ta(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),l=e.attr("href")||e.attr("xlink:href");F(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=ya(h.animVal).href);s.test(h)||!h||e.attr("target")||b.isDefaultPrevented()||!k.$$parseLinkUrl(h,l)||(b.preventDefault(),k.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}});xb(k.absUrl())!=xb(m)&&d.url(k.absUrl(),!0);var x=!0;d.onUrlChange(function(a,
b){c.$evalAsync(function(){var d=k.absUrl(),e=k.$$state,f;k.$$parse(a);k.$$state=b;f=c.$broadcast("$locationChangeStart",a,d,b,e).defaultPrevented;k.absUrl()===a&&(f?(k.$$parse(d),k.$$state=e,h(d,!1,e)):(x=!1,l(d,e)))});c.$$phase||c.$digest()});c.$watch(function(){var a=xb(d.url()),b=xb(k.absUrl()),f=d.state(),g=k.$$replace,t=a!==b||k.$$html5&&e.history&&f!==k.$$state;if(x||t)x=!1,c.$evalAsync(function(){var b=k.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,k.$$state,f).defaultPrevented;k.absUrl()===
b&&(d?(k.$$parse(a),k.$$state=f):(t&&h(b,g,f===k.$$state?null:k.$$state),l(a,f)))});k.$$replace=!1});return k}]}function Re(){var b=!0,a=this;this.debugEnabled=function(a){return w(a)?(b=a,this):b};this.$get=["$window",function(c){function d(a){a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=c.console||{},e=b[a]||b.log||D;a=!1;try{a=!!e.apply}catch(l){}return a?
function(){var a=[];r(arguments,function(b){a.push(d(b))});return e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){b&&c.apply(a,arguments)}}()}}]}function za(b,a){if("__defineGetter__"===b||"__defineSetter__"===b||"__lookupGetter__"===b||"__lookupSetter__"===b||"__proto__"===b)throw ea("isecfld",a);return b}function ha(b,a){if(b){if(b.constructor===b)throw ea("isecfn",a);if(b.window===
b)throw ea("isecwindow",a);if(b.children&&(b.nodeName||b.prop&&b.attr&&b.find))throw ea("isecdom",a);if(b===Object)throw ea("isecobj",a);}return b}function cd(b,a){if(b){if(b.constructor===b)throw ea("isecfn",a);if(b===Bf||b===Cf||b===Df)throw ea("isecff",a);}}function Ef(b,a){return"undefined"!==typeof b?b:a}function dd(b,a){return"undefined"===typeof b?a:"undefined"===typeof a?b:b+a}function U(b,a){var c,d;switch(b.type){case p.Program:c=!0;r(b.body,function(b){U(b.expression,a);c=c&&b.expression.constant});
b.constant=c;break;case p.Literal:b.constant=!0;b.toWatch=[];break;case p.UnaryExpression:U(b.argument,a);b.constant=b.argument.constant;b.toWatch=b.argument.toWatch;break;case p.BinaryExpression:U(b.left,a);U(b.right,a);b.constant=b.left.constant&&b.right.constant;b.toWatch=b.left.toWatch.concat(b.right.toWatch);break;case p.LogicalExpression:U(b.left,a);U(b.right,a);b.constant=b.left.constant&&b.right.constant;b.toWatch=b.constant?[]:[b];break;case p.ConditionalExpression:U(b.test,a);U(b.alternate,
a);U(b.consequent,a);b.constant=b.test.constant&&b.alternate.constant&&b.consequent.constant;b.toWatch=b.constant?[]:[b];break;case p.Identifier:b.constant=!1;b.toWatch=[b];break;case p.MemberExpression:U(b.object,a);b.computed&&U(b.property,a);b.constant=b.object.constant&&(!b.computed||b.property.constant);b.toWatch=[b];break;case p.CallExpression:c=b.filter?!a(b.callee.name).$stateful:!1;d=[];r(b.arguments,function(b){U(b,a);c=c&&b.constant;b.constant||d.push.apply(d,b.toWatch)});b.constant=c;
b.toWatch=b.filter&&!a(b.callee.name).$stateful?d:[b];break;case p.AssignmentExpression:U(b.left,a);U(b.right,a);b.constant=b.left.constant&&b.right.constant;b.toWatch=[b];break;case p.ArrayExpression:c=!0;d=[];r(b.elements,function(b){U(b,a);c=c&&b.constant;b.constant||d.push.apply(d,b.toWatch)});b.constant=c;b.toWatch=d;break;case p.ObjectExpression:c=!0;d=[];r(b.properties,function(b){U(b.value,a);c=c&&b.value.constant;b.value.constant||d.push.apply(d,b.value.toWatch)});b.constant=c;b.toWatch=
d;break;case p.ThisExpression:b.constant=!1,b.toWatch=[]}}function ed(b){if(1==b.length){b=b[0].expression;var a=b.toWatch;return 1!==a.length?a:a[0]!==b?a:u}}function fd(b){return b.type===p.Identifier||b.type===p.MemberExpression}function gd(b){if(1===b.body.length&&fd(b.body[0].expression))return{type:p.AssignmentExpression,left:b.body[0].expression,right:{type:p.NGValueParameter},operator:"="}}function hd(b){return 0===b.body.length||1===b.body.length&&(b.body[0].expression.type===p.Literal||
b.body[0].expression.type===p.ArrayExpression||b.body[0].expression.type===p.ObjectExpression)}function id(b,a){this.astBuilder=b;this.$filter=a}function jd(b,a){this.astBuilder=b;this.$filter=a}function Ab(b,a,c,d){ha(b,d);a=a.split(".");for(var e,f=0;1<a.length;f++){e=za(a.shift(),d);var g=ha(b[e],d);g||(g={},b[e]=g);b=g}e=za(a.shift(),d);ha(b[e],d);return b[e]=c}function Bb(b){return"constructor"==b}function bc(b){return C(b.valueOf)?b.valueOf():Ff.call(b)}function Se(){var b=qa(),a=qa();this.$get=
["$filter","$sniffer",function(c,d){function e(a,b){return null==a||null==b?a===b:"object"===typeof a&&(a=bc(a),"object"===typeof a)?!1:a===b||a!==a&&b!==b}function f(a,b,c,d,f){var g=d.inputs,h;if(1===g.length){var l=e,g=g[0];return a.$watch(function(a){var b=g(a);e(b,l)||(h=d(a,u,u,[b]),l=b&&bc(b));return h},b,c,f)}for(var k=[],m=[],n=0,E=g.length;n<E;n++)k[n]=e,m[n]=null;return a.$watch(function(a){for(var b=!1,c=0,f=g.length;c<f;c++){var l=g[c](a);if(b||(b=!e(l,k[c])))m[c]=l,k[c]=l&&bc(l)}b&&
(h=d(a,u,u,m));return h},b,c,f)}function g(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a;C(b)&&b.apply(this,arguments);w(a)&&d.$$postDigest(function(){w(f)&&e()})},c)}function h(a,b,c,d){function e(a){var b=!0;r(a,function(a){w(a)||(b=!1)});return b}var f,g;return f=a.$watch(function(a){return d(a)},function(a,c,d){g=a;C(b)&&b.call(this,a,c,d);e(a)&&d.$$postDigest(function(){e(g)&&f()})},c)}function l(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(a,
c,d){C(b)&&b.apply(this,arguments);e()},c)}function k(a,b){if(!b)return a;var c=a.$$watchDelegate,c=c!==h&&c!==g?function(c,d,e,f){e=a(c,d,e,f);return b(e,c,d)}:function(c,d,e,f){e=a(c,d,e,f);c=b(e,c,d);return w(e)?c:e};a.$$watchDelegate&&a.$$watchDelegate!==f?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=f,c.inputs=a.inputs?a.inputs:[a]);return c}var n={csp:d.csp,expensiveChecks:!1},m={csp:d.csp,expensiveChecks:!0};return function(d,e,x){var y,q,z;switch(typeof d){case "string":z=
d=d.trim();var r=x?a:b;y=r[z];y||(":"===d.charAt(0)&&":"===d.charAt(1)&&(q=!0,d=d.substring(2)),x=x?m:n,y=new cc(x),y=(new dc(y,c,x)).parse(d),y.constant?y.$$watchDelegate=l:q?y.$$watchDelegate=y.literal?h:g:y.inputs&&(y.$$watchDelegate=f),r[z]=y);return k(y,e);case "function":return k(d,e);default:return D}}}]}function Ue(){this.$get=["$rootScope","$exceptionHandler",function(b,a){return kd(function(a){b.$evalAsync(a)},a)}]}function Ve(){this.$get=["$browser","$exceptionHandler",function(b,a){return kd(function(a){b.defer(a)},
a)}]}function kd(b,a){function c(a,b,c){function d(b){return function(c){e||(e=!0,b.call(a,c))}}var e=!1;return[d(b),d(c)]}function d(){this.$$state={status:0}}function e(a,b){return function(c){b.call(a,c)}}function f(c){!c.processScheduled&&c.pending&&(c.processScheduled=!0,b(function(){var b,d,e;e=c.pending;c.processScheduled=!1;c.pending=u;for(var f=0,g=e.length;f<g;++f){d=e[f][0];b=e[f][c.status];try{C(b)?d.resolve(b(c.value)):1===c.status?d.resolve(c.value):d.reject(c.value)}catch(h){d.reject(h),
a(h)}}}))}function g(){this.promise=new d;this.resolve=e(this,this.resolve);this.reject=e(this,this.reject);this.notify=e(this,this.notify)}var h=R("$q",TypeError);d.prototype={then:function(a,b,c){var d=new g;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&f(this.$$state);return d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return k(b,!0,a)},function(b){return k(b,!1,a)},b)}};
g.prototype={resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(h("qcycle",a)):this.$$resolve(a))},$$resolve:function(b){var d,e;e=c(this,this.$$resolve,this.$$reject);try{if(F(b)||C(b))d=b&&b.then;C(d)?(this.promise.$$state.status=-1,d.call(b,e[0],e[1],this.notify)):(this.promise.$$state.value=b,this.promise.$$state.status=1,f(this.promise.$$state))}catch(g){e[1](g),a(g)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=
a;this.promise.$$state.status=2;f(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&b(function(){for(var b,e,f=0,g=d.length;f<g;f++){e=d[f][0];b=d[f][3];try{e.notify(C(b)?b(c):c)}catch(h){a(h)}}})}};var l=function(a,b){var c=new g;b?c.resolve(a):c.reject(a);return c.promise},k=function(a,b,c){var d=null;try{C(c)&&(d=c())}catch(e){return l(e,!1)}return d&&C(d.then)?d.then(function(){return l(a,b)},function(a){return l(a,!1)}):
l(a,b)},n=function(a,b,c,d){var e=new g;e.resolve(a);return e.promise.then(b,c,d)},m=function s(a){if(!C(a))throw h("norslvr",a);if(!(this instanceof s))return new s(a);var b=new g;a(function(a){b.resolve(a)},function(a){b.reject(a)});return b.promise};m.defer=function(){return new g};m.reject=function(a){var b=new g;b.reject(a);return b.promise};m.when=n;m.all=function(a){var b=new g,c=0,d=J(a)?[]:{};r(a,function(a,e){c++;n(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||
b.reject(a)})});0===c&&b.resolve(d);return b.promise};return m}function df(){this.$get=["$window","$timeout",function(b,a){var c=b.requestAnimationFrame||b.webkitRequestAnimationFrame,d=b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(b){var c=a(b,16.66,!1);return function(){a.cancel(c)}};f.supported=e;return f}]}function Te(){var b=10,a=R("$rootScope"),c=null,d=null;this.digestTtl=function(a){arguments.length&&
(b=a);return b};this.$get=["$injector","$exceptionHandler","$parse","$browser",function(e,f,g,h){function l(){this.$id=++eb;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}function k(b){if(p.$$phase)throw a("inprog",p.$$phase);p.$$phase=b}function n(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function m(a,
b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function t(){}function s(){for(;u.length;)try{u.shift()()}catch(a){f(a)}d=null}function x(){null===d&&(d=h.defer(function(){p.$apply(s)}))}l.prototype={constructor:l,$new:function(a,b){function c(){d.$$destroyed=!0}var d;b=b||this;a?(d=new l,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners=
{};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++eb;this.$$ChildScope=null},this.$$ChildScope.prototype=this),d=new this.$$ChildScope);d.$parent=b;d.$$prevSibling=b.$$childTail;b.$$childHead?(b.$$childTail.$$nextSibling=d,b.$$childTail=d):b.$$childHead=b.$$childTail=d;(a||b!=this)&&d.$on("$destroy",c);return d},$watch:function(a,b,d,e){var f=g(a);if(f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,a);var h=this,l=h.$$watchers,k={fn:b,last:t,get:f,exp:e||a,eq:!!d};c=null;C(b)||(k.fn=
D);l||(l=h.$$watchers=[]);l.unshift(k);n(this,1);return function(){0<=Ta(l,k)&&n(h,-1);c=null}},$watchGroup:function(a,b){function c(){h=!1;l?(l=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,l=!0;if(!a.length){var k=!0;g.$evalAsync(function(){k&&b(e,e,g)});return function(){k=!1}}if(1===a.length)return this.$watch(a[0],function(a,c,f){e[0]=a;d[0]=c;b(e,a===c?e:d,f)});r(a,function(a,b){var l=g.$watch(a,function(a,f){e[b]=a;d[b]=f;h||(h=!0,g.$evalAsync(c))});f.push(l)});
return function(){for(;f.length;)f.shift()()}},$watchCollection:function(a,b){function c(a){e=a;var b,d,g,h;if(!H(e)){if(F(e))if(Oa(e))for(f!==n&&(f=n,q=f.length=0,k++),a=e.length,q!==a&&(k++,f.length=q=a),b=0;b<a;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(k++,f[b]=g);else{f!==t&&(f=t={},q=0,k++);a=0;for(b in e)e.hasOwnProperty(b)&&(a++,g=e[b],h=f[b],b in f?(d=h!==h&&g!==g,d||h===g||(k++,f[b]=g)):(q++,f[b]=g,k++));if(q>a)for(b in k++,f)e.hasOwnProperty(b)||(q--,delete f[b])}else f!==e&&(f=e,k++);
return k}}c.$stateful=!0;var d=this,e,f,h,l=1<b.length,k=0,m=g(a,c),n=[],t={},s=!0,q=0;return this.$watch(m,function(){s?(s=!1,b(e,e,d)):b(e,h,d);if(l)if(F(e))if(Oa(e)){h=Array(e.length);for(var a=0;a<e.length;a++)h[a]=e[a]}else for(a in h={},e)pc.call(e,a)&&(h[a]=e[a]);else h=e})},$digest:function(){var e,g,l,m,n,r,x=b,u,A=[],Z,w;k("$digest");h.$$checkUrlChange();this===p&&null!==d&&(h.defer.cancel(d),s());c=null;do{r=!1;for(u=this;q.length;){try{w=q.shift(),w.scope.$eval(w.expression,w.locals)}catch(I){f(I)}c=
null}a:do{if(m=u.$$watchers)for(n=m.length;n--;)try{if(e=m[n])if((g=e.get(u))!==(l=e.last)&&!(e.eq?ka(g,l):"number"===typeof g&&"number"===typeof l&&isNaN(g)&&isNaN(l)))r=!0,c=e,e.last=e.eq?ua(g,null):g,e.fn(g,l===t?g:l,u),5>x&&(Z=4-x,A[Z]||(A[Z]=[]),A[Z].push({msg:C(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:g,oldVal:l}));else if(e===c){r=!1;break a}}catch(D){f(D)}if(!(m=u.$$watchersCount&&u.$$childHead||u!==this&&u.$$nextSibling))for(;u!==this&&!(m=u.$$nextSibling);)u=u.$parent}while(u=
m);if((r||q.length)&&!x--)throw p.$$phase=null,a("infdig",b,A);}while(r||q.length);for(p.$$phase=null;z.length;)try{z.shift()()}catch(G){f(G)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;if(this!==p){n(this,-this.$$watchersCount);for(var b in this.$$listenerCount)m(this,this.$$listenerCount[b],b);a.$$childHead==this&&(a.$$childHead=this.$$nextSibling);a.$$childTail==this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=
this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=D;this.$on=this.$watch=this.$watchGroup=function(){return D};this.$$listeners={};this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){p.$$phase||q.length||h.defer(function(){q.length&&p.$digest()});q.push({scope:this,
expression:a,locals:b})},$$postDigest:function(a){z.push(a)},$apply:function(a){try{return k("$apply"),this.$eval(a)}catch(b){f(b)}finally{p.$$phase=null;try{p.$digest()}catch(c){throw f(c),c;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&u.push(b);x()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);
-1!==d&&(c[d]=null,m(e,1,a))}},$emit:function(a,b){var c=[],d,e=this,g=!1,h={name:a,targetScope:e,stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},l=Ua([h],arguments,1),k,m;do{d=e.$$listeners[a]||c;h.currentScope=e;k=0;for(m=d.length;k<m;k++)if(d[k])try{d[k].apply(null,l)}catch(n){f(n)}else d.splice(k,1),k--,m--;if(g)return h.currentScope=null,h;e=e.$parent}while(e);h.currentScope=null;return h},$broadcast:function(a,b){var c=this,d=this,e={name:a,
targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var g=Ua([e],arguments,1),h,l;c=d;){e.currentScope=c;d=c.$$listeners[a]||[];h=0;for(l=d.length;h<l;h++)if(d[h])try{d[h].apply(null,g)}catch(k){f(k)}else d.splice(h,1),h--,l--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}e.currentScope=null;return e}};var p=new l,q=p.$$asyncQueue=[],z=p.$$postDigestQueue=
[],u=p.$$applyAsyncQueue=[];return p}]}function Wd(){var b=/^\s*(https?|ftp|mailto|tel|file):/,a=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(a){return w(a)?(b=a,this):b};this.imgSrcSanitizationWhitelist=function(b){return w(b)?(a=b,this):a};this.$get=function(){return function(c,d){var e=d?a:b,f;f=ya(c).href;return""===f||f.match(e)?c:"unsafe:"+f}}}function Gf(b){if("self"===b)return b;if(M(b)){if(-1<b.indexOf("***"))throw Aa("iwcard",b);b=ld(b).replace("\\*\\*",
".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+b+"$")}if(fb(b))return new RegExp("^"+b.source+"$");throw Aa("imatcher");}function md(b){var a=[];w(b)&&r(b,function(b){a.push(Gf(b))});return a}function Xe(){this.SCE_CONTEXTS=ja;var b=["self"],a=[];this.resourceUrlWhitelist=function(a){arguments.length&&(b=md(a));return b};this.resourceUrlBlacklist=function(b){arguments.length&&(a=md(b));return a};this.$get=["$injector",function(c){function d(a,b){return"self"===a?Yc(b):!!a.exec(b.href)}function e(a){var b=
function(a){this.$$unwrapTrustedValue=function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var f=function(a){throw Aa("unsafe");};c.has("$sanitize")&&(f=c.get("$sanitize"));var g=e(),h={};h[ja.HTML]=e(g);h[ja.CSS]=e(g);h[ja.URL]=e(g);h[ja.JS]=e(g);h[ja.RESOURCE_URL]=e(h[ja.URL]);return{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw Aa("icontext",
a,b);if(null===b||b===u||""===b)return b;if("string"!==typeof b)throw Aa("itype",a);return new c(b)},getTrusted:function(c,e){if(null===e||e===u||""===e)return e;var g=h.hasOwnProperty(c)?h[c]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(c===ja.RESOURCE_URL){var g=ya(e.toString()),m,t,s=!1;m=0;for(t=b.length;m<t;m++)if(d(b[m],g)){s=!0;break}if(s)for(m=0,t=a.length;m<t;m++)if(d(a[m],g)){s=!1;break}if(s)return e;throw Aa("insecurl",e.toString());}if(c===ja.HTML)return f(e);throw Aa("unsafe");
},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function We(){var b=!0;this.enabled=function(a){arguments.length&&(b=!!a);return b};this.$get=["$parse","$sceDelegate",function(a,c){if(b&&8>ab)throw Aa("iequirks");var d=fa(ja);d.isEnabled=function(){return b};d.trustAs=c.trustAs;d.getTrusted=c.getTrusted;d.valueOf=c.valueOf;b||(d.trustAs=d.getTrusted=function(a,b){return b},d.valueOf=Qa);d.parseAs=function(b,c){var e=a(c);return e.literal&&e.constant?e:a(c,function(a){return d.getTrusted(b,
a)})};var e=d.parseAs,f=d.getTrusted,g=d.trustAs;r(ja,function(a,b){var c=G(b);d[$a("parse_as_"+c)]=function(b){return e(a,b)};d[$a("get_trusted_"+c)]=function(b){return f(a,b)};d[$a("trust_as_"+c)]=function(b){return g(a,b)}});return d}]}function Ye(){this.$get=["$window","$document",function(b,a){var c={},d=ba((/android (\d+)/.exec(G((b.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((b.navigator||{}).userAgent),f=a[0]||{},g,h=/^(Moz|webkit|ms)(?=[A-Z])/,l=f.body&&f.body.style,k=!1,n=!1;if(l){for(var m in l)if(k=
h.exec(m)){g=k[0];g=g.substr(0,1).toUpperCase()+g.substr(1);break}g||(g="WebkitOpacity"in l&&"webkit");k=!!("transition"in l||g+"Transition"in l);n=!!("animation"in l||g+"Animation"in l);!d||k&&n||(k=M(l.webkitTransition),n=M(l.webkitAnimation))}return{history:!(!b.history||!b.history.pushState||4>d||e),hasEvent:function(a){if("input"===a&&11>=ab)return!1;if(H(c[a])){var b=f.createElement("div");c[a]="on"+a in b}return c[a]},csp:Ya(),vendorPrefix:g,transitions:k,animations:n,android:d}}]}function $e(){this.$get=
["$templateCache","$http","$q",function(b,a,c){function d(e,f){d.totalPendingRequests++;var g=a.defaults&&a.defaults.transformResponse;J(g)?g=g.filter(function(a){return a!==Vb}):g===Vb&&(g=null);return a.get(e,{cache:b,transformResponse:g}).finally(function(){d.totalPendingRequests--}).then(function(a){b.put(e,a.data);return a.data},function(a){if(!f)throw ia("tpload",e,a.status,a.statusText);return c.reject(a)})}d.totalPendingRequests=0;return d}]}function af(){this.$get=["$rootScope","$browser",
"$location",function(b,a,c){return{findBindings:function(a,b,c){a=a.getElementsByClassName("ng-binding");var g=[];r(a,function(a){var d=ca.element(a).data("$binding");d&&r(d,function(d){c?(new RegExp("(^|\\s)"+ld(b)+"(\\s|\\||$)")).test(d)&&g.push(a):-1!=d.indexOf(b)&&g.push(a)})});return g},findModels:function(a,b,c){for(var g=["ng-","data-ng-","ng\\:"],h=0;h<g.length;++h){var l=a.querySelectorAll("["+g[h]+"model"+(c?"=":"*=")+'"'+b+'"]');if(l.length)return l}},getLocation:function(){return c.url()},
setLocation:function(a){a!==c.url()&&(c.url(a),b.$digest())},whenStable:function(b){a.notifyWhenNoOutstandingRequests(b)}}}]}function bf(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(b,a,c,d,e){function f(f,l,k){C(f)||(k=l,l=f,f=D);var n=w(k)&&!k,m=(n?d:c).defer(),t=m.promise;l=a.defer(function(){try{m.resolve(f())}catch(a){m.reject(a),e(a)}finally{delete g[t.$$timeoutId]}n||b.$apply()},l);t.$$timeoutId=l;g[l]=m;return t}var g={};f.cancel=function(b){return b&&b.$$timeoutId in
g?(g[b.$$timeoutId].reject("canceled"),delete g[b.$$timeoutId],a.defer.cancel(b.$$timeoutId)):!1};return f}]}function ya(b){ab&&($.setAttribute("href",b),b=$.href);$.setAttribute("href",b);return{href:$.href,protocol:$.protocol?$.protocol.replace(/:$/,""):"",host:$.host,search:$.search?$.search.replace(/^\?/,""):"",hash:$.hash?$.hash.replace(/^#/,""):"",hostname:$.hostname,port:$.port,pathname:"/"===$.pathname.charAt(0)?$.pathname:"/"+$.pathname}}function Yc(b){b=M(b)?ya(b):b;return b.protocol===
nd.protocol&&b.host===nd.host}function cf(){this.$get=oa(O)}function Cc(b){function a(c,d){if(F(c)){var e={};r(c,function(b,c){e[c]=a(c,b)});return e}return b.factory(c+"Filter",d)}this.register=a;this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}];a("currency",od);a("date",pd);a("filter",Hf);a("json",If);a("limitTo",Jf);a("lowercase",Kf);a("number",qd);a("orderBy",rd);a("uppercase",Lf)}function Hf(){return function(b,a,c){if(!J(b)){if(null==b)return b;throw R("filter")("notarray",
b);}var d;switch(typeof a){case "function":break;case "boolean":case "number":case "string":d=!0;case "object":a=Mf(a,c,d);break;default:return b}return b.filter(a)}}function Mf(b,a,c){var d=F(b)&&"$"in b;!0===a?a=ka:C(a)||(a=function(a,b){if(F(a)||F(b))return!1;a=G(""+a);b=G(""+b);return-1!==a.indexOf(b)});return function(e){return d&&!F(e)?Ha(e,b.$,a,!1):Ha(e,b,a,c)}}function Ha(b,a,c,d,e){var f=typeof b,g=typeof a;if("string"===g&&"!"===a.charAt(0))return!Ha(b,a.substring(1),c,d);if(J(b))return b.some(function(b){return Ha(b,
a,c,d)});switch(f){case "object":var h;if(d){for(h in b)if("$"!==h.charAt(0)&&Ha(b[h],a,c,!0))return!0;return e?!1:Ha(b,a,c,!1)}if("object"===g){for(h in a)if(e=a[h],!C(e)&&(f="$"===h,!Ha(f?b:b[h],e,c,f,f)))return!1;return!0}return c(b,a);case "function":return!1;default:return c(b,a)}}function od(b){var a=b.NUMBER_FORMATS;return function(b,d,e){H(d)&&(d=a.CURRENCY_SYM);H(e)&&(e=a.PATTERNS[1].maxFrac);return null==b?b:sd(b,a.PATTERNS[1],a.GROUP_SEP,a.DECIMAL_SEP,e).replace(/\u00A4/g,d)}}function qd(b){var a=
b.NUMBER_FORMATS;return function(b,d){return null==b?b:sd(b,a.PATTERNS[0],a.GROUP_SEP,a.DECIMAL_SEP,d)}}function sd(b,a,c,d,e){if(F(b))return"";var f=0>b;b=Math.abs(b);var g=Infinity===b;if(!g&&!isFinite(b))return"";var h=b+"",l="",k=!1,n=[];g&&(l="\u221e");if(!g&&-1!==h.indexOf("e")){var m=h.match(/([\d\.]+)e(-?)(\d+)/);m&&"-"==m[2]&&m[3]>e+1?b=0:(l=h,k=!0)}if(g||k)0<e&&1>b&&(l=b.toFixed(e),b=parseFloat(l));else{g=(h.split(td)[1]||"").length;H(e)&&(e=Math.min(Math.max(a.minFrac,g),a.maxFrac));b=
+(Math.round(+(b.toString()+"e"+e)).toString()+"e"+-e);var g=(""+b).split(td),h=g[0],g=g[1]||"",m=0,t=a.lgSize,s=a.gSize;if(h.length>=t+s)for(m=h.length-t,k=0;k<m;k++)0===(m-k)%s&&0!==k&&(l+=c),l+=h.charAt(k);for(k=m;k<h.length;k++)0===(h.length-k)%t&&0!==k&&(l+=c),l+=h.charAt(k);for(;g.length<e;)g+="0";e&&"0"!==e&&(l+=d+g.substr(0,e))}0===b&&(f=!1);n.push(f?a.negPre:a.posPre,l,f?a.negSuf:a.posSuf);return n.join("")}function Cb(b,a,c){var d="";0>b&&(d="-",b=-b);for(b=""+b;b.length<a;)b="0"+b;c&&(b=
b.substr(b.length-a));return d+b}function aa(b,a,c,d){c=c||0;return function(e){e=e["get"+b]();if(0<c||e>-c)e+=c;0===e&&-12==c&&(e=12);return Cb(e,a,d)}}function Db(b,a){return function(c,d){var e=c["get"+b](),f=lb(a?"SHORT"+b:b);return d[f][e]}}function ud(b){var a=(new Date(b,0,1)).getDay();return new Date(b,0,(4>=a?5:12)-a)}function vd(b){return function(a){var c=ud(a.getFullYear());a=+new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))-+c;a=1+Math.round(a/6048E5);return Cb(a,b)}}
function pd(b){function a(a){var b;if(b=a.match(c)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,l=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=ba(b[9]+b[10]),g=ba(b[9]+b[11]));h.call(a,ba(b[1]),ba(b[2])-1,ba(b[3]));f=ba(b[4]||0)-f;g=ba(b[5]||0)-g;h=ba(b[6]||0);b=Math.round(1E3*parseFloat("0."+(b[7]||0)));l.call(a,f,g,h,b)}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,e,f){var g="",h=[],l,k;e=e||
"mediumDate";e=b.DATETIME_FORMATS[e]||e;M(c)&&(c=Nf.test(c)?ba(c):a(c));S(c)&&(c=new Date(c));if(!pa(c)||!isFinite(c.getTime()))return c;for(;e;)(k=Of.exec(e))?(h=Ua(h,k,1),e=h.pop()):(h.push(e),e=null);var n=c.getTimezoneOffset();f&&(e=Date.parse("Jan 01, 1970 00:00:00 "+f)/6E4,isNaN(e)||(c=new Date(c.getTime()),c.setMinutes(c.getMinutes()+n-e),n=e));r(h,function(a){l=Pf[a];g+=l?l(c,b.DATETIME_FORMATS,n):a.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function If(){return function(b,a){H(a)&&
(a=2);return Wa(b,a)}}function Jf(){return function(b,a){a=Infinity===Math.abs(Number(a))?Number(a):ba(a);if(isNaN(a))return b;S(b)&&(b=b.toString());return J(b)||M(b)?0<=a?b.slice(0,a):b.slice(a):b}}function rd(b){return function(a,c,d){function e(a,b){return b?function(b,c){return a(c,b)}:a}function f(a){switch(typeof a){case "number":case "boolean":case "string":return!0;default:return!1}}function g(a){return null===a?"null":"function"===typeof a.valueOf&&(a=a.valueOf(),f(a))||"function"===typeof a.toString&&
(a=a.toString(),f(a))?a:""}function h(a,b){var c=typeof a,d=typeof b;c===d&&"object"===c&&(a=g(a),b=g(b));return c===d?("string"===c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:a<b?-1:1):c<d?-1:1}if(!Oa(a))return a;c=J(c)?c:[c];0===c.length&&(c=["+"]);c=c.map(function(a){var c=!1,d=a||Qa;if(M(a)){if("+"==a.charAt(0)||"-"==a.charAt(0))c="-"==a.charAt(0),a=a.substring(1);if(""===a)return e(h,c);d=b(a);if(d.constant){var f=d();return e(function(a,b){return h(a[f],b[f])},c)}}return e(function(a,b){return h(d(a),
d(b))},c)});return Va.call(a).sort(e(function(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0},d))}}function Ia(b){C(b)&&(b={link:b});b.restrict=b.restrict||"AC";return oa(b)}function wd(b,a,c,d,e){var f=this,g=[],h=f.$$parentForm=b.parent().controller("form")||Eb;f.$error={};f.$$success={};f.$pending=u;f.$name=e(a.name||a.ngForm||"")(c);f.$dirty=!1;f.$pristine=!0;f.$valid=!0;f.$invalid=!1;f.$submitted=!1;h.$addControl(f);f.$rollbackViewValue=function(){r(g,function(a){a.$rollbackViewValue()})};
f.$commitViewValue=function(){r(g,function(a){a.$commitViewValue()})};f.$addControl=function(a){La(a.$name,"input");g.push(a);a.$name&&(f[a.$name]=a)};f.$$renameControl=function(a,b){var c=a.$name;f[c]===a&&delete f[c];f[b]=a;a.$name=b};f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name];r(f.$pending,function(b,c){f.$setValidity(c,null,a)});r(f.$error,function(b,c){f.$setValidity(c,null,a)});r(f.$$success,function(b,c){f.$setValidity(c,null,a)});Ta(g,a)};xd({ctrl:this,$element:b,
set:function(a,b,c){var d=a[b];d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(Ta(d,c),0===d.length&&delete a[b])},parentForm:h,$animate:d});f.$setDirty=function(){d.removeClass(b,Na);d.addClass(b,Fb);f.$dirty=!0;f.$pristine=!1;h.$setDirty()};f.$setPristine=function(){d.setClass(b,Na,Fb+" ng-submitted");f.$dirty=!1;f.$pristine=!0;f.$submitted=!1;r(g,function(a){a.$setPristine()})};f.$setUntouched=function(){r(g,function(a){a.$setUntouched()})};f.$setSubmitted=function(){d.addClass(b,
"ng-submitted");f.$submitted=!0;h.$setSubmitted()}}function ec(b){b.$formatters.push(function(a){return b.$isEmpty(a)?a:a.toString()})}function bb(b,a,c,d,e,f){var g=G(a[0].type);if(!e.android){var h=!1;a.on("compositionstart",function(a){h=!0});a.on("compositionend",function(){h=!1;l()})}var l=function(b){k&&(f.defer.cancel(k),k=null);if(!h){var e=a.val();b=b&&b.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=W(e));(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,b)}};
if(e.hasEvent("input"))a.on("input",l);else{var k,n=function(a,b,c){k||(k=f.defer(function(){k=null;b&&b.value===c||l(a)}))};a.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||n(a,this,this.value)});if(e.hasEvent("paste"))a.on("paste cut",n)}a.on("change",l);d.$render=function(){a.val(d.$isEmpty(d.$viewValue)?"":d.$viewValue)}}function Gb(b,a){return function(c,d){var e,f;if(pa(c))return c;if(M(c)){'"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1));
if(Qf.test(c))return new Date(c);b.lastIndex=0;if(e=b.exec(c))return e.shift(),f=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(e,function(b,c){c<a.length&&(f[a[c]]=+b)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1E3*f.sss||0)}return NaN}}function cb(b,a,c,d){return function(e,f,g,h,l,k,n){function m(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function t(a){return w(a)?
pa(a)?a:c(a):u}yd(e,f,g,h);bb(e,f,g,h,l,k);var s=h&&h.$options&&h.$options.timezone,p;h.$$parserName=b;h.$parsers.push(function(b){return h.$isEmpty(b)?null:a.test(b)?(b=c(b,p),"UTC"===s&&b.setMinutes(b.getMinutes()-b.getTimezoneOffset()),b):u});h.$formatters.push(function(a){if(a&&!pa(a))throw Hb("datefmt",a);if(m(a)){if((p=a)&&"UTC"===s){var b=6E4*p.getTimezoneOffset();p=new Date(p.getTime()+b)}return n("date")(a,d,s)}p=null;return""});if(w(g.min)||g.ngMin){var r;h.$validators.min=function(a){return!m(a)||
H(r)||c(a)>=r};g.$observe("min",function(a){r=t(a);h.$validate()})}if(w(g.max)||g.ngMax){var q;h.$validators.max=function(a){return!m(a)||H(q)||c(a)<=q};g.$observe("max",function(a){q=t(a);h.$validate()})}}}function yd(b,a,c,d){(d.$$hasNativeValidators=F(a[0].validity))&&d.$parsers.push(function(b){var c=a.prop("validity")||{};return c.badInput&&!c.typeMismatch?u:b})}function zd(b,a,c,d,e){if(w(d)){b=b(d);if(!b.constant)throw R("ngModel")("constexpr",c,d);return b(a)}return e}function fc(b,a){b="ngClass"+
b;return["$animate",function(c){function d(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],n=0;n<b.length;n++)if(e==b[n])continue a;c.push(e)}return c}function e(a){if(J(a))return a.join(" ").split(" ");if(M(a))return a.split(" ");if(F(a)){var b=[];r(a,function(a,c){a&&(b=b.concat(c.split(" ")))});return b}return a}return{restrict:"AC",link:function(f,g,h){function l(a,b){var c=g.data("$classCounts")||{},d=[];r(a,function(a){if(0<b||c[a])c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a)});g.data("$classCounts",
c);return d.join(" ")}function k(b){if(!0===a||f.$index%2===a){var k=e(b||[]);if(!n){var s=l(k,1);h.$addClass(s)}else if(!ka(b,n)){var p=e(n),s=d(k,p),k=d(p,k),s=l(s,1),k=l(k,-1);s&&s.length&&c.addClass(g,s);k&&k.length&&c.removeClass(g,k)}}n=fa(b)}var n;f.$watch(h[b],k,!0);h.$observe("class",function(a){k(f.$eval(h[b]))});"ngClass"!==b&&f.$watch("$index",function(c,d){var g=c&1;if(g!==(d&1)){var k=e(f.$eval(h[b]));g===a?(g=l(k,1),h.$addClass(g)):(g=l(k,-1),h.$removeClass(g))}})}}}]}function xd(b){function a(a,
b){b&&!f[a]?(k.addClass(e,a),f[a]=!0):!b&&f[a]&&(k.removeClass(e,a),f[a]=!1)}function c(b,c){b=b?"-"+sc(b,"-"):"";a(db+b,!0===c);a(Ad+b,!1===c)}var d=b.ctrl,e=b.$element,f={},g=b.set,h=b.unset,l=b.parentForm,k=b.$animate;f[Ad]=!(f[db]=e.hasClass(db));d.$setValidity=function(b,e,f){e===u?(d.$pending||(d.$pending={}),g(d.$pending,b,f)):(d.$pending&&h(d.$pending,b,f),Bd(d.$pending)&&(d.$pending=u));Sa(e)?e?(h(d.$error,b,f),g(d.$$success,b,f)):(g(d.$error,b,f),h(d.$$success,b,f)):(h(d.$error,b,f),h(d.$$success,
b,f));d.$pending?(a(Cd,!0),d.$valid=d.$invalid=u,c("",null)):(a(Cd,!1),d.$valid=Bd(d.$error),d.$invalid=!d.$valid,c("",d.$valid));e=d.$pending&&d.$pending[b]?u:d.$error[b]?!1:d.$$success[b]?!0:null;c(b,e);l.$setValidity(b,e,d)}}function Bd(b){if(b)for(var a in b)return!1;return!0}var Rf=/^\/(.+)\/([a-z]*)$/,G=function(b){return M(b)?b.toLowerCase():b},pc=Object.prototype.hasOwnProperty,lb=function(b){return M(b)?b.toUpperCase():b},ab,I,la,Va=[].slice,tf=[].splice,Sf=[].push,sa=Object.prototype.toString,
Ba=R("ng"),ca=O.angular||(O.angular={}),Za,eb=0;ab=Y.documentMode;D.$inject=[];Qa.$inject=[];var J=Array.isArray,kc=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,W=function(b){return M(b)?b.trim():b},ld=function(b){return b.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ya=function(){if(w(Ya.isActive_))return Ya.isActive_;var b=!(!Y.querySelector("[ng-csp]")&&!Y.querySelector("[data-ng-csp]"));if(!b)try{new Function("")}catch(a){b=
!0}return Ya.isActive_=b},ib=function(){if(w(ib.name_))return ib.name_;var b,a,c=Ja.length;for(a=0;a<c&&!(b=Y.querySelector("["+Ja[a].replace(":","\\:")+"jq]"));++a);var d;b&&(d=qc(b,"jq"));return ib.name_=d},Ja=["ng-","data-ng-","ng:","x-ng-"],Qd=/[A-Z]/g,tc=!1,Lb,na=1,gb=3,Ud={full:"1.4.0-beta.4",major:1,minor:4,dot:0,codeName:"overlyexplosive-poprocks"};Q.expando="ng339";var qb=Q.cache={},mf=1;Q._data=function(b){return this.cache[b[this.expando]]||{}};var gf=/([\:\-\_]+(.))/g,hf=/^moz([A-Z])/,
Tf={mouseleave:"mouseout",mouseenter:"mouseover"},Ob=R("jqLite"),lf=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Nb=/<|&#?\w+;/,jf=/<([\w:]+)/,kf=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ga={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ga.optgroup=ga.option;ga.tbody=ga.tfoot=ga.colgroup=
ga.caption=ga.thead;ga.th=ga.td;var Ka=Q.prototype={ready:function(b){function a(){c||(c=!0,b())}var c=!1;"complete"===Y.readyState?setTimeout(a):(this.on("DOMContentLoaded",a),Q(O).on("load",a))},toString:function(){var b=[];r(this,function(a){b.push(""+a)});return"["+b.join(", ")+"]"},eq:function(b){return 0<=b?I(this[b]):I(this[this.length+b])},length:0,push:Sf,sort:[].sort,splice:[].splice},vb={};r("multiple selected checked disabled readOnly required open".split(" "),function(b){vb[G(b)]=b});
var Kc={};r("input select option textarea button form details".split(" "),function(b){Kc[b]=!0});var Lc={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:Qb,removeData:ob},function(b,a){Q[a]=b});r({data:Qb,inheritedData:ub,scope:function(b){return I.data(b,"$scope")||ub(b.parentNode||b,["$isolateScope","$scope"])},isolateScope:function(b){return I.data(b,"$isolateScope")||I.data(b,"$isolateScopeNoTemplate")},controller:Hc,injector:function(b){return ub(b,
"$injector")},removeAttr:function(b,a){b.removeAttribute(a)},hasClass:rb,css:function(b,a,c){a=$a(a);if(w(c))b.style[a]=c;else return b.style[a]},attr:function(b,a,c){var d=G(a);if(vb[d])if(w(c))c?(b[a]=!0,b.setAttribute(a,d)):(b[a]=!1,b.removeAttribute(d));else return b[a]||(b.attributes.getNamedItem(a)||D).specified?d:u;else if(w(c))b.setAttribute(a,c);else if(b.getAttribute)return b=b.getAttribute(a,2),null===b?u:b},prop:function(b,a,c){if(w(c))b[a]=c;else return b[a]},text:function(){function b(a,
b){if(H(b)){var d=a.nodeType;return d===na||d===gb?a.textContent:""}a.textContent=b}b.$dv="";return b}(),val:function(b,a){if(H(a)){if(b.multiple&&"select"===ta(b)){var c=[];r(b.options,function(a){a.selected&&c.push(a.value||a.text)});return 0===c.length?null:c}return b.value}b.value=a},html:function(b,a){if(H(a))return b.innerHTML;nb(b,!0);b.innerHTML=a},empty:Ic},function(b,a){Q.prototype[a]=function(a,d){var e,f,g=this.length;if(b!==Ic&&(2==b.length&&b!==rb&&b!==Hc?a:d)===u){if(F(a)){for(e=0;e<
g;e++)if(b===Qb)b(this[e],a);else for(f in a)b(this[e],f,a[f]);return this}e=b.$dv;g=e===u?Math.min(g,1):g;for(f=0;f<g;f++){var h=b(this[f],a,d);e=e?e+h:h}return e}for(e=0;e<g;e++)b(this[e],a,d);return this}});r({removeData:ob,on:function a(c,d,e,f){if(w(f))throw Ob("onargs");if(Dc(c)){var g=pb(c,!0);f=g.events;var h=g.handle;h||(h=g.handle=pf(c,f));for(var g=0<=d.indexOf(" ")?d.split(" "):[d],l=g.length;l--;){d=g[l];var k=f[d];k||(f[d]=[],"mouseenter"===d||"mouseleave"===d?a(c,Tf[d],function(a){var c=
a.relatedTarget;c&&(c===this||this.contains(c))||h(a,d)}):"$destroy"!==d&&c.addEventListener(d,h,!1),k=f[d]);k.push(e)}}},off:Gc,one:function(a,c,d){a=I(a);a.on(c,function f(){a.off(c,d);a.off(c,f)});a.on(c,d)},replaceWith:function(a,c){var d,e=a.parentNode;nb(a);r(new Q(c),function(c){d?e.insertBefore(c,d.nextSibling):e.replaceChild(c,a);d=c})},children:function(a){var c=[];r(a.childNodes,function(a){a.nodeType===na&&c.push(a)});return c},contents:function(a){return a.contentDocument||a.childNodes||
[]},append:function(a,c){var d=a.nodeType;if(d===na||11===d){c=new Q(c);for(var d=0,e=c.length;d<e;d++)a.appendChild(c[d])}},prepend:function(a,c){if(a.nodeType===na){var d=a.firstChild;r(new Q(c),function(c){a.insertBefore(c,d)})}},wrap:function(a,c){c=I(c).eq(0).clone()[0];var d=a.parentNode;d&&d.replaceChild(c,a);c.appendChild(a)},remove:Rb,detach:function(a){Rb(a,!0)},after:function(a,c){var d=a,e=a.parentNode;c=new Q(c);for(var f=0,g=c.length;f<g;f++){var h=c[f];e.insertBefore(h,d.nextSibling);
d=h}},addClass:tb,removeClass:sb,toggleClass:function(a,c,d){c&&r(c.split(" "),function(c){var f=d;H(f)&&(f=!rb(a,c));(f?tb:sb)(a,c)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,c){return a.getElementsByTagName?a.getElementsByTagName(c):[]},clone:Pb,triggerHandler:function(a,c,d){var e,f,g=c.type||c,h=pb(a);if(h=(h=h&&h.events)&&h[g])e={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===
this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:D,type:g,target:a},c.type&&(e=P(e,c)),c=fa(h),f=d?[e].concat(d):[e],r(c,function(c){e.isImmediatePropagationStopped()||c.apply(a,f)})}},function(a,c){Q.prototype[c]=function(c,e,f){for(var g,h=0,l=this.length;h<l;h++)H(g)?(g=a(this[h],c,e,f),w(g)&&(g=I(g))):Fc(g,a(this[h],c,e,f));return w(g)?g:this};Q.prototype.bind=
Q.prototype.on;Q.prototype.unbind=Q.prototype.off});wb.prototype={put:function(a,c){this[Da(a,this.nextUid)]=c},get:function(a){return this[Da(a,this.nextUid)]},remove:function(a){var c=this[a=Da(a,this.nextUid)];delete this[a];return c}};var Nc=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Uf=/,/,Vf=/^\s*(_?)(\S+?)\1\s*$/,Mc=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Ea=R("$injector");Xa.$$annotate=function(a,c,d){var e;if("function"===typeof a){if(!(e=a.$inject)){e=[];if(a.length){if(c)throw M(d)&&d||(d=a.name||
qf(a)),Ea("strictdi",d);c=a.toString().replace(Mc,"");c=c.match(Nc);r(c[1].split(Uf),function(a){a.replace(Vf,function(a,c,d){e.push(d)})})}a.$inject=e}}else J(a)?(c=a.length-1,jb(a[c],"fn"),e=a.slice(0,c)):jb(a,"fn",!0);return e};var Wf=R("$animate"),Ge=["$provide",function(a){this.$$selectors={};this.register=function(c,d){var e=c+"-animation";if(c&&"."!=c.charAt(0))throw Wf("notcsel",c);this.$$selectors[c.substr(1)]=e;a.factory(e,d)};this.classNameFilter=function(a){1===arguments.length&&(this.$$classNameFilter=
a instanceof RegExp?a:null);return this.$$classNameFilter};this.$get=["$$q","$$asyncCallback","$rootScope",function(a,d,e){function f(d){var f,g=a.defer();g.promise.$$cancelFn=function(){f&&f()};e.$$postDigest(function(){f=d(function(){g.resolve()})});return g.promise}function g(a,c){var d=[],e=[],f=qa();r((a.attr("class")||"").split(/\s+/),function(a){f[a]=!0});r(c,function(a,c){var g=f[c];!1===a&&g?e.push(c):!0!==a||g||d.push(c)});return 0<d.length+e.length&&[d.length?d:null,e.length?e:null]}function h(a,
c,d){for(var e=0,f=c.length;e<f;++e)a[c[e]]=d}function l(){n||(n=a.defer(),d(function(){n.resolve();n=null}));return n.promise}function k(a,c){if(ca.isObject(c)){var d=P(c.from||{},c.to||{});a.css(d)}}var n;return{animate:function(a,c,d){k(a,{from:c,to:d});return l()},enter:function(a,c,d,e){k(a,e);d?d.after(a):c.prepend(a);return l()},leave:function(a,c){a.remove();return l()},move:function(a,c,d,e){return this.enter(a,c,d,e)},addClass:function(a,c,d){return this.setClass(a,c,[],d)},$$addClassImmediately:function(a,
c,d){a=I(a);c=M(c)?c:J(c)?c.join(" "):"";r(a,function(a){tb(a,c)});k(a,d);return l()},removeClass:function(a,c,d){return this.setClass(a,[],c,d)},$$removeClassImmediately:function(a,c,d){a=I(a);c=M(c)?c:J(c)?c.join(" "):"";r(a,function(a){sb(a,c)});k(a,d);return l()},setClass:function(a,c,d,e){var k=this,l=!1;a=I(a);var n=a.data("$$animateClasses");n?e&&n.options&&(n.options=ca.extend(n.options||{},e)):(n={classes:{},options:e},l=!0);e=n.classes;c=J(c)?c:c.split(" ");d=J(d)?d:d.split(" ");h(e,c,!0);
h(e,d,!1);l&&(n.promise=f(function(c){var d=a.data("$$animateClasses");a.removeData("$$animateClasses");if(d){var e=g(a,d.classes);e&&k.$$setClassImmediately(a,e[0],e[1],d.options)}c()}),a.data("$$animateClasses",n));return n.promise},$$setClassImmediately:function(a,c,d,e){c&&this.$$addClassImmediately(a,c);d&&this.$$removeClassImmediately(a,d);k(a,e);return l()},enabled:D,cancel:D}}]}],ia=R("$compile");vc.$inject=["$provide","$$sanitizeUriProvider"];var Rc=/^((?:x|data)[\:\-_])/i,uf=R("$controller"),
Pc=/^(\S+)(\s+as\s+(\w+))?$/,Uc="application/json",Wb={"Content-Type":Uc+";charset=utf-8"},wf=/^\[|^\{(?!\{)/,xf={"[":/]$/,"{":/}$/},vf=/^\)\]\}',?\n/,Xb=R("$interpolate"),Xf=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Af={http:80,https:443,ftp:21},yb=R("$location"),Yf={$$html5:!1,$$replace:!1,absUrl:zb("$$absUrl"),url:function(a){if(H(a))return this.$$url;var c=Xf.exec(a);(c[1]||""===a)&&this.path(decodeURIComponent(c[1]));(c[2]||c[1]||""===a)&&this.search(c[3]||"");this.hash(c[5]||"");return this},protocol:zb("$$protocol"),
host:zb("$$host"),port:zb("$$port"),path:bd("$$path",function(a){a=null!==a?a.toString():"";return"/"==a.charAt(0)?a:"/"+a}),search:function(a,c){switch(arguments.length){case 0:return this.$$search;case 1:if(M(a)||S(a))a=a.toString(),this.$$search=oc(a);else if(F(a))a=ua(a,{}),r(a,function(c,e){null==c&&delete a[e]}),this.$$search=a;else throw yb("isrcharg");break;default:H(c)||null===c?delete this.$$search[a]:this.$$search[a]=c}this.$$compose();return this},hash:bd("$$hash",function(a){return null!==
a?a.toString():""}),replace:function(){this.$$replace=!0;return this}};r([ad,ac,$b],function(a){a.prototype=Object.create(Yf);a.prototype.state=function(c){if(!arguments.length)return this.$$state;if(a!==$b||!this.$$html5)throw yb("nostate");this.$$state=H(c)?null:c;return this}});var ea=R("$parse"),Bf=Function.prototype.call,Cf=Function.prototype.apply,Df=Function.prototype.bind,Ib=qa();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Ib[a]=!0});var Zf={n:"\n",f:"\f",r:"\r",
t:"\t",v:"\v","'":"'",'"':'"'},cc=function(a){this.options=a};cc.prototype={constructor:cc,lex:function(a){this.text=a;this.index=0;for(this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(a))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;
else{var c=a+this.peek(),d=c+this.peek(2),e=Ib[c],f=Ib[d];Ib[a]||e||f?(a=f?d:e?c:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,c){return-1!==c.indexOf(a)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&"9">=a&&"string"===typeof a},isWhitespace:function(a){return" "===a||"\r"===a||
"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdent:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,c,d){d=d||this.index;c=w(c)?"s "+c+"-"+this.index+" ["+this.text.substring(c,d)+"]":" "+d;throw ea("lexerr",a,c,this.text);},readNumber:function(){for(var a="",c=this.index;this.index<this.text.length;){var d=G(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var e=this.peek();
if("e"==d&&this.isExpOperator(e))a+=d;else if(this.isExpOperator(d)&&e&&this.isNumber(e)&&"e"==a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||e&&this.isNumber(e)||"e"!=a.charAt(a.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:c,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var c=this.text.charAt(this.index);if(!this.isIdent(c)&&!this.isNumber(c))break;this.index++}this.tokens.push({index:a,
text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var c=this.index;this.index++;for(var d="",e=a,f=!1;this.index<this.text.length;){var g=this.text.charAt(this.index),e=e+g;if(f)"u"===g?(f=this.text.substring(this.index+1,this.index+5),f.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+f+"]"),this.index+=4,d+=String.fromCharCode(parseInt(f,16))):d+=Zf[g]||g,f=!1;else if("\\"===g)f=!0;else{if(g===a){this.index++;this.tokens.push({index:c,text:e,constant:!0,
value:d});return}d+=g}this.index++}this.throwError("Unterminated quote",c)}};var p=function(a,c){this.lexer=a;this.options=c};p.Program="Program";p.ExpressionStatement="ExpressionStatement";p.AssignmentExpression="AssignmentExpression";p.ConditionalExpression="ConditionalExpression";p.LogicalExpression="LogicalExpression";p.BinaryExpression="BinaryExpression";p.UnaryExpression="UnaryExpression";p.CallExpression="CallExpression";p.MemberExpression="MemberExpression";p.Identifier="Identifier";p.Literal=
"Literal";p.ArrayExpression="ArrayExpression";p.Property="Property";p.ObjectExpression="ObjectExpression";p.ThisExpression="ThisExpression";p.NGValueParameter="NGValueParameter";p.prototype={ast:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.program();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);return a},program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:p.Program,
body:a}},expressionStatement:function(){return{type:p.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();this.expect("=")&&(a={type:p.AssignmentExpression,left:a,right:this.assignment(),operator:"="});return a},ternary:function(){var a=this.logicalOR(),c,d;return this.expect("?")&&(c=this.expression(),this.consume(":"))?
(d=this.expression(),{type:p.ConditionalExpression,test:a,alternate:c,consequent:d}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:p.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:p.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a=this.relational(),c;c=this.expect("==","!=","===","!==");)a={type:p.BinaryExpression,
operator:c.text,left:a,right:this.relational()};return a},relational:function(){for(var a=this.additive(),c;c=this.expect("<",">","<=",">=");)a={type:p.BinaryExpression,operator:c.text,left:a,right:this.additive()};return a},additive:function(){for(var a=this.multiplicative(),c;c=this.expect("+","-");)a={type:p.BinaryExpression,operator:c.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var a=this.unary(),c;c=this.expect("*","/","%");)a={type:p.BinaryExpression,operator:c.text,
left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:p.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.constants.hasOwnProperty(this.peek().text)?a=ua(this.constants[this.consume().text]):this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():
this.throwError("not a primary expression",this.peek());for(var c;c=this.expect("(","[",".");)"("===c.text?(a={type:p.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===c.text?(a={type:p.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===c.text?a={type:p.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var c={type:p.CallExpression,callee:this.identifier(),
arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return c},parseArguments:function(){var a=[];if(")"!==this.peekToken().text){do a.push(this.expression());while(this.expect(","))}return a},identifier:function(){var a=this.consume();a.identifier||this.throwError("is not a valid identifier",a);return{type:p.Identifier,name:a.text}},constant:function(){return{type:p.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text){do{if(this.peek("]"))break;
a.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:p.ArrayExpression,elements:a}},object:function(){var a=[],c;if("}"!==this.peekToken().text){do{if(this.peek("}"))break;c={type:p.Property,kind:"init"};this.peek().constant?c.key=this.constant():this.peek().identifier?c.key=this.identifier():this.throwError("invalid key",this.peek());this.consume(":");c.value=this.expression();a.push(c)}while(this.expect(","))}this.consume("}");return{type:p.ObjectExpression,properties:a}},
throwError:function(a,c){throw ea("syntax",c.text,a,c.index+1,this.text,this.text.substring(c.index));},consume:function(a){if(0===this.tokens.length)throw ea("ueoe",this.text);var c=this.expect(a);c||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return c},peekToken:function(){if(0===this.tokens.length)throw ea("ueoe",this.text);return this.tokens[0]},peek:function(a,c,d,e){return this.peekAhead(0,a,c,d,e)},peekAhead:function(a,c,d,e,f){if(this.tokens.length>a){a=this.tokens[a];
var g=a.text;if(g===c||g===d||g===e||g===f||!(c||d||e||f))return a}return!1},expect:function(a,c,d,e){return(a=this.peek(a,c,d,e))?(this.tokens.shift(),a):!1},constants:{"true":{type:p.Literal,value:!0},"false":{type:p.Literal,value:!1},"null":{type:p.Literal,value:null},undefined:{type:p.Literal,value:u},"this":{type:p.ThisExpression}}};id.prototype={compile:function(a,c){var d=this,e=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:c,fn:{vars:[],body:[],own:{}},assign:{vars:[],
body:[],own:{}},inputs:[]};U(e,d.$filter);var f="",g;this.stage="assign";if(g=gd(e))this.state.computing="assign",f=this.nextId(),this.recurse(g,f),f="fn.assign="+this.generateFunction("assign","s,v,l");g=ed(e.body);d.stage="inputs";r(g,function(a,c){var e="fn"+c;d.state[e]={vars:[],body:[],own:{}};d.state.computing=e;var f=d.nextId();d.recurse(a,f);d.return(f);d.state.inputs.push(e);a.watchId=c});this.state.computing="fn";this.stage="main";this.recurse(e);f='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+
"var fn="+this.generateFunction("fn","s,l,a,i")+f+this.watchFns()+"return fn;";f=(new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",f))(this.$filter,za,ha,cd,Ef,dd,a);this.state=this.stage=u;f.literal=hd(e);f.constant=e.constant;return f},USE:"use",STRICT:"strict",watchFns:function(){var a=[],c=this.state.inputs,d=this;r(c,function(c){a.push("var "+c+"="+d.generateFunction(c,"s"))});c.length&&a.push("fn.inputs=["+c.join(",")+"];");return a.join("")},
generateFunction:function(a,c){return"function("+c+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],c=this;r(this.state.filters,function(d,e){a.push(d+"=$filter("+c.escape(e)+")")});return a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,c,d,e,f,g){var h,l,k=this,n,m;e=e||D;if(!g&&w(a.watchId))c=c||this.nextId(),this.if("i",
this.lazyAssign(c,this.computedMember("i",a.watchId)),this.lazyRecurse(a,c,d,e,f,!0));else switch(a.type){case p.Program:r(a.body,function(c,d){k.recurse(c.expression,u,u,function(a){l=a});d!==a.body.length-1?k.current().body.push(l,";"):k.return(l)});break;case p.Literal:m=this.escape(a.value);this.assign(c,m);e(m);break;case p.UnaryExpression:this.recurse(a.argument,u,u,function(a){l=a});m=a.operator+"("+this.ifDefined(l,0)+")";this.assign(c,m);e(m);break;case p.BinaryExpression:this.recurse(a.left,
u,u,function(a){h=a});this.recurse(a.right,u,u,function(a){l=a});m="+"===a.operator?this.plus(h,l):"-"===a.operator?this.ifDefined(h,0)+a.operator+this.ifDefined(l,0):"("+h+")"+a.operator+"("+l+")";this.assign(c,m);e(m);break;case p.LogicalExpression:c=c||this.nextId();k.recurse(a.left,c);k.if("&&"===a.operator?c:k.not(c),k.lazyRecurse(a.right,c));e(c);break;case p.ConditionalExpression:c=c||this.nextId();k.recurse(a.test,c);k.if(c,k.lazyRecurse(a.alternate,c),k.lazyRecurse(a.consequent,c));e(c);
break;case p.Identifier:c=c||this.nextId();d&&(d.context="inputs"===k.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name);za(a.name);k.if("inputs"===k.stage||k.not(k.getHasOwnProperty("l",a.name)),function(){k.if("inputs"===k.stage||"s",function(){f&&1!==f&&k.if(k.not(k.nonComputedMember("s",a.name)),k.lazyAssign(k.nonComputedMember("s",a.name),"{}"));k.assign(c,k.nonComputedMember("s",a.name))})},c&&k.lazyAssign(c,k.nonComputedMember("l",a.name)));
(k.state.expensiveChecks||Bb(a.name))&&k.addEnsureSafeObject(c);e(c);break;case p.MemberExpression:h=d&&(d.context=this.nextId())||this.nextId();c=c||this.nextId();k.recurse(a.object,h,u,function(){k.if(k.notNull(h),function(){if(a.computed)l=k.nextId(),k.recurse(a.property,l),k.addEnsureSafeMemberName(l),f&&1!==f&&k.if(k.not(k.computedMember(h,l)),k.lazyAssign(k.computedMember(h,l),"{}")),m=k.ensureSafeObject(k.computedMember(h,l)),k.assign(c,m),d&&(d.computed=!0,d.name=l);else{za(a.property.name);
f&&1!==f&&k.if(k.not(k.nonComputedMember(h,a.property.name)),k.lazyAssign(k.nonComputedMember(h,a.property.name),"{}"));m=k.nonComputedMember(h,a.property.name);if(k.state.expensiveChecks||Bb(a.property.name))m=k.ensureSafeObject(m);k.assign(c,m);d&&(d.computed=!1,d.name=a.property.name)}e(c)})},!!f);break;case p.CallExpression:c=c||this.nextId();a.filter?(l=k.filter(a.callee.name),n=[],r(a.arguments,function(a){var c=k.nextId();k.recurse(a,c);n.push(c)}),m=l+"("+n.join(",")+")",k.assign(c,m),e(c)):
(l=k.nextId(),h={},n=[],k.recurse(a.callee,l,h,function(){k.if(k.notNull(l),function(){k.addEnsureSafeFunction(l);r(a.arguments,function(a){k.recurse(a,k.nextId(),u,function(a){n.push(k.ensureSafeObject(a))})});h.name?(k.state.expensiveChecks||k.addEnsureSafeObject(h.context),m=k.member(h.context,h.name,h.computed)+"("+n.join(",")+")"):m=l+"("+n.join(",")+")";m=k.ensureSafeObject(m);k.assign(c,m);e(c)})}));break;case p.AssignmentExpression:l=this.nextId();h={};if(!fd(a.left))throw ea("lval");this.recurse(a.left,
u,h,function(){k.if(k.notNull(h.context),function(){k.recurse(a.right,l);k.addEnsureSafeObject(k.member(h.context,h.name,h.computed));m=k.member(h.context,h.name,h.computed)+a.operator+l;k.assign(c,m);e(c||m)})},1);break;case p.ArrayExpression:n=[];r(a.elements,function(a){k.recurse(a,k.nextId(),u,function(a){n.push(a)})});m="["+n.join(",")+"]";this.assign(c,m);e(m);break;case p.ObjectExpression:n=[];r(a.properties,function(a){k.recurse(a.value,k.nextId(),u,function(c){n.push(k.escape(a.key.type===
p.Identifier?a.key.name:""+a.key.value)+":"+c)})});m="{"+n.join(",")+"}";this.assign(c,m);e(m);break;case p.ThisExpression:this.assign(c,"s");e("s");break;case p.NGValueParameter:this.assign(c,"v"),e("v")}},getHasOwnProperty:function(a,c){var d=a+"."+c,e=this.current().own;e.hasOwnProperty(d)||(e[d]=this.nextId(!1,a+"&&("+this.escape(c)+" in "+a+")"));return e[d]},assign:function(a,c){if(a)return this.current().body.push(a,"=",c,";"),a},filter:function(a){this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=
this.nextId(!0));return this.state.filters[a]},ifDefined:function(a,c){return"ifDefined("+a+","+this.escape(c)+")"},plus:function(a,c){return"plus("+a+","+c+")"},"return":function(a){this.current().body.push("return ",a,";")},"if":function(a,c,d){if(!0===a)c();else{var e=this.current().body;e.push("if(",a,"){");c();e.push("}");d&&(e.push("else{"),d(),e.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,c){return a+"."+c},computedMember:function(a,
c){return a+"["+c+"]"},member:function(a,c,d){return d?this.computedMember(a,c):this.nonComputedMember(a,c)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+
a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},lazyRecurse:function(a,c,d,e,f,g){var h=this;return function(){h.recurse(a,c,d,e,f,g)}},lazyAssign:function(a,c){var d=this;return function(){d.assign(a,c)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(M(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(S(a))return a.toString();if(!0===a)return"true";
if(!1===a)return"false";if(null===a)return"null";if("undefined"===typeof a)return"undefined";throw ea("esc");},nextId:function(a,c){var d="v"+this.state.nextId++;a||this.current().vars.push(d+(c?"="+c:""));return d},current:function(){return this.state[this.state.computing]}};jd.prototype={compile:function(a,c){var d=this,e=this.astBuilder.ast(a);this.expression=a;this.expensiveChecks=c;U(e,d.$filter);var f,g;if(f=gd(e))g=this.recurse(f);f=ed(e.body);var h;f&&(h=[],r(f,function(a,c){var e=d.recurse(a);
a.input=e;h.push(e);a.watchId=c}));var l=[];r(e.body,function(a){l.push(d.recurse(a.expression))});f=0===e.body.length?function(){}:1===e.body.length?l[0]:function(a,c){var d;r(l,function(e){d=e(a,c)});return d};g&&(f.assign=function(a,c,d){return g(a,d,c)});h&&(f.inputs=h);f.literal=hd(e);f.constant=e.constant;return f},recurse:function(a,c,d){var e,f,g=this,h;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case p.Literal:return this.value(a.value,c);case p.UnaryExpression:return f=
this.recurse(a.argument),this["unary"+a.operator](f,c);case p.BinaryExpression:return e=this.recurse(a.left),f=this.recurse(a.right),this["binary"+a.operator](e,f,c);case p.LogicalExpression:return e=this.recurse(a.left),f=this.recurse(a.right),this["binary"+a.operator](e,f,c);case p.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),c);case p.Identifier:return za(a.name,g.expression),g.identifier(a.name,g.expensiveChecks||Bb(a.name),
c,d,g.expression);case p.MemberExpression:return e=this.recurse(a.object,!1,!!d),a.computed||(za(a.property.name,g.expression),f=a.property.name),a.computed&&(f=this.recurse(a.property)),a.computed?this.computedMember(e,f,c,d,g.expression):this.nonComputedMember(e,f,g.expensiveChecks,c,d,g.expression);case p.CallExpression:return h=[],r(a.arguments,function(a){h.push(g.recurse(a))}),a.filter&&(f=this.$filter(a.callee.name)),a.filter||(f=this.recurse(a.callee,!0)),a.filter?function(a,d,e,g){for(var t=
[],p=0;p<h.length;++p)t.push(h[p](a,d,e,g));a=f.apply(u,t,g);return c?{context:u,name:u,value:a}:a}:function(a,d,e,m){var t=f(a,d,e,m),p;if(null!=t.value){ha(t.context,g.expression);cd(t.value,g.expression);p=[];for(var r=0;r<h.length;++r)p.push(ha(h[r](a,d,e,m),g.expression));p=ha(t.value.apply(t.context,p),g.expression)}return c?{value:p}:p};case p.AssignmentExpression:return e=this.recurse(a.left,!0,1),f=this.recurse(a.right),function(a,d,h,m){var t=e(a,d,h,m);a=f(a,d,h,m);ha(t.value,g.expression);
t.context[t.name]=a;return c?{value:a}:a};case p.ArrayExpression:return h=[],r(a.elements,function(a){h.push(g.recurse(a))}),function(a,d,e,f){for(var g=[],p=0;p<h.length;++p)g.push(h[p](a,d,e,f));return c?{value:g}:g};case p.ObjectExpression:return h=[],r(a.properties,function(a){h.push({key:a.key.type===p.Identifier?a.key.name:""+a.key.value,value:g.recurse(a.value)})}),function(a,d,e,f){for(var g={},p=0;p<h.length;++p)g[h[p].key]=h[p].value(a,d,e,f);return c?{value:g}:g};case p.ThisExpression:return function(a){return c?
{value:a}:a};case p.NGValueParameter:return function(a,d,e,f){return c?{value:e}:e}}},"unary+":function(a,c){return function(d,e,f,g){d=a(d,e,f,g);d=w(d)?+d:0;return c?{value:d}:d}},"unary-":function(a,c){return function(d,e,f,g){d=a(d,e,f,g);d=w(d)?-d:0;return c?{value:d}:d}},"unary!":function(a,c){return function(d,e,f,g){d=!a(d,e,f,g);return c?{value:d}:d}},"binary+":function(a,c,d){return function(e,f,g,h){var l=a(e,f,g,h);e=c(e,f,g,h);l=dd(l,e);return d?{value:l}:l}},"binary-":function(a,c,d){return function(e,
f,g,h){var l=a(e,f,g,h);e=c(e,f,g,h);l=(w(l)?l:0)-(w(e)?e:0);return d?{value:l}:l}},"binary*":function(a,c,d){return function(e,f,g,h){e=a(e,f,g,h)*c(e,f,g,h);return d?{value:e}:e}},"binary/":function(a,c,d){return function(e,f,g,h){e=a(e,f,g,h)/c(e,f,g,h);return d?{value:e}:e}},"binary%":function(a,c,d){return function(e,f,g,h){e=a(e,f,g,h)%c(e,f,g,h);return d?{value:e}:e}},"binary===":function(a,c,d){return function(e,f,g,h){e=a(e,f,g,h)===c(e,f,g,h);return d?{value:e}:e}},"binary!==":function(a,
c,d){return function(e,f,g,h){e=a(e,f,g,h)!==c(e,f,g,h);return d?{value:e}:e}},"binary==":function(a,c,d){return function(e,f,g,h){e=a(e,f,g,h)==c(e,f,g,h);return d?{value:e}:e}},"binary!=":function(a,c,d){return function(e,f,g,h){e=a(e,f,g,h)!=c(e,f,g,h);return d?{value:e}:e}},"binary<":function(a,c,d){return function(e,f,g,h){e=a(e,f,g,h)<c(e,f,g,h);return d?{value:e}:e}},"binary>":function(a,c,d){return function(e,f,g,h){e=a(e,f,g,h)>c(e,f,g,h);return d?{value:e}:e}},"binary<=":function(a,c,d){return function(e,
f,g,h){e=a(e,f,g,h)<=c(e,f,g,h);return d?{value:e}:e}},"binary>=":function(a,c,d){return function(e,f,g,h){e=a(e,f,g,h)>=c(e,f,g,h);return d?{value:e}:e}},"binary&&":function(a,c,d){return function(e,f,g,h){e=a(e,f,g,h)&&c(e,f,g,h);return d?{value:e}:e}},"binary||":function(a,c,d){return function(e,f,g,h){e=a(e,f,g,h)||c(e,f,g,h);return d?{value:e}:e}},"ternary?:":function(a,c,d,e){return function(f,g,h,l){f=a(f,g,h,l)?c(f,g,h,l):d(f,g,h,l);return e?{value:f}:f}},value:function(a,c){return function(){return c?
{context:u,name:u,value:a}:a}},identifier:function(a,c,d,e,f){return function(g,h,l,k){g=h&&a in h?h:g;e&&1!==e&&g&&!g[a]&&(g[a]={});h=g?g[a]:u;c&&ha(h,f);return d?{context:g,name:a,value:h}:h}},computedMember:function(a,c,d,e,f){return function(g,h,l,k){var n=a(g,h,l,k),m,p;null!=n&&(m=c(g,h,l,k),za(m,f),e&&1!==e&&n&&!n[m]&&(n[m]={}),p=n[m],ha(p,f));return d?{context:n,name:m,value:p}:p}},nonComputedMember:function(a,c,d,e,f,g){return function(h,l,k,n){h=a(h,l,k,n);f&&1!==f&&h&&!h[c]&&(h[c]={});
l=null!=h?h[c]:u;(d||Bb(c))&&ha(l,g);return e?{context:h,name:c,value:l}:l}},inputs:function(a,c){return function(d,e,f,g){return g?g[c]:a(d,e,f)}}};var dc=function(a,c,d){this.lexer=a;this.$filter=c;this.options=d;this.ast=new p(this.lexer);this.astCompiler=d.csp?new jd(this.ast,c):new id(this.ast,c)};dc.prototype={constructor:dc,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};qa();qa();var Ff=Object.prototype.valueOf,Aa=R("$sce"),ja={HTML:"html",CSS:"css",URL:"url",
RESOURCE_URL:"resourceUrl",JS:"js"},ia=R("$compile"),$=Y.createElement("a"),nd=ya(O.location.href);Cc.$inject=["$provide"];od.$inject=["$locale"];qd.$inject=["$locale"];var td=".",Pf={yyyy:aa("FullYear",4),yy:aa("FullYear",2,0,!0),y:aa("FullYear",1),MMMM:Db("Month"),MMM:Db("Month",!0),MM:aa("Month",2,1),M:aa("Month",1,1),dd:aa("Date",2),d:aa("Date",1),HH:aa("Hours",2),H:aa("Hours",1),hh:aa("Hours",2,-12),h:aa("Hours",1,-12),mm:aa("Minutes",2),m:aa("Minutes",1),ss:aa("Seconds",2),s:aa("Seconds",1),
sss:aa("Milliseconds",3),EEEE:Db("Day"),EEE:Db("Day",!0),a:function(a,c){return 12>a.getHours()?c.AMPMS[0]:c.AMPMS[1]},Z:function(a,c,d){a=-1*d;return a=(0<=a?"+":"")+(Cb(Math[0<a?"floor":"ceil"](a/60),2)+Cb(Math.abs(a%60),2))},ww:vd(2),w:vd(1)},Of=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,Nf=/^\-?\d+$/;pd.$inject=["$locale"];var Kf=oa(G),Lf=oa(lb);rd.$inject=["$parse"];var Xd=oa({restrict:"E",compile:function(a,c){if(!c.href&&!c.xlinkHref)return function(a,
c){if("a"===c[0].nodeName.toLowerCase()){var f="[object SVGAnimatedString]"===sa.call(c.prop("href"))?"xlink:href":"href";c.on("click",function(a){c.attr(f)||a.preventDefault()})}}}}),mb={};r(vb,function(a,c){function d(a,d,f){a.$watch(f[e],function(a){f.$set(c,!!a)})}if("multiple"!=a){var e=wa("ng-"+c),f=d;"checked"===a&&(f=function(a,c,f){f.ngModel!==f[e]&&d(a,c,f)});mb[e]=function(){return{restrict:"A",priority:100,link:f}}}});r(Lc,function(a,c){mb[c]=function(){return{priority:100,link:function(a,
e,f){if("ngPattern"===c&&"/"==f.ngPattern.charAt(0)&&(e=f.ngPattern.match(Rf))){f.$set("ngPattern",new RegExp(e[1],e[2]));return}a.$watch(f[c],function(a){f.$set(c,a)})}}}});r(["src","srcset","href"],function(a){var c=wa("ng-"+a);mb[c]=function(){return{priority:99,link:function(d,e,f){var g=a,h=a;"href"===a&&"[object SVGAnimatedString]"===sa.call(e.prop("href"))&&(h="xlinkHref",f.$attr[h]="xlink:href",g=null);f.$observe(c,function(c){c?(f.$set(h,c),ab&&g&&e.prop(g,f[h])):"href"===a&&f.$set(h,null)})}}}});
var Eb={$addControl:D,$$renameControl:function(a,c){a.$name=c},$removeControl:D,$setValidity:D,$setDirty:D,$setPristine:D,$setSubmitted:D};wd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Dd=function(a){return["$timeout",function(c){return{name:"form",restrict:a?"EAC":"E",controller:wd,compile:function(a){a.addClass(Na).addClass(db);return{pre:function(a,d,g,h){if(!("action"in g)){var l=function(c){a.$apply(function(){h.$commitViewValue();h.$setSubmitted()});c.preventDefault()};
d[0].addEventListener("submit",l,!1);d.on("$destroy",function(){c(function(){d[0].removeEventListener("submit",l,!1)},0,!1)})}var k=h.$$parentForm,n=h.$name;n&&(Ab(a,n,h,n),g.$observe(g.name?"name":"ngForm",function(c){n!==c&&(Ab(a,n,u,n),n=c,Ab(a,n,h,n),k.$$renameControl(h,n))}));d.on("$destroy",function(){k.$removeControl(h);n&&Ab(a,n,u,n);P(h,Eb)})}}}}}]},Yd=Dd(),ke=Dd(!0),Qf=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,$f=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,
ag=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,bg=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Ed=/^(\d{4})-(\d{2})-(\d{2})$/,Fd=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,gc=/^(\d{4})-W(\d\d)$/,Gd=/^(\d{4})-(\d\d)$/,Hd=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Id={text:function(a,c,d,e,f,g){bb(a,c,d,e,f,g);ec(e)},date:cb("date",Ed,Gb(Ed,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":cb("datetimelocal",Fd,Gb(Fd,"yyyy MM dd HH mm ss sss".split(" ")),
"yyyy-MM-ddTHH:mm:ss.sss"),time:cb("time",Hd,Gb(Hd,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:cb("week",gc,function(a,c){if(pa(a))return a;if(M(a)){gc.lastIndex=0;var d=gc.exec(a);if(d){var e=+d[1],f=+d[2],g=d=0,h=0,l=0,k=ud(e),f=7*(f-1);c&&(d=c.getHours(),g=c.getMinutes(),h=c.getSeconds(),l=c.getMilliseconds());return new Date(e,0,k.getDate()+f,d,g,h,l)}}return NaN},"yyyy-Www"),month:cb("month",Gd,Gb(Gd,["yyyy","MM"]),"yyyy-MM"),number:function(a,c,d,e,f,g){yd(a,c,d,e);bb(a,c,d,e,f,g);e.$$parserName=
"number";e.$parsers.push(function(a){return e.$isEmpty(a)?null:bg.test(a)?parseFloat(a):u});e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!S(a))throw Hb("numfmt",a);a=a.toString()}return a});if(d.min||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||H(h)||a>=h};d.$observe("min",function(a){w(a)&&!S(a)&&(a=parseFloat(a,10));h=S(a)&&!isNaN(a)?a:u;e.$validate()})}if(d.max||d.ngMax){var l;e.$validators.max=function(a){return e.$isEmpty(a)||H(l)||a<=l};d.$observe("max",function(a){w(a)&&
!S(a)&&(a=parseFloat(a,10));l=S(a)&&!isNaN(a)?a:u;e.$validate()})}},url:function(a,c,d,e,f,g){bb(a,c,d,e,f,g);ec(e);e.$$parserName="url";e.$validators.url=function(a,c){var d=a||c;return e.$isEmpty(d)||$f.test(d)}},email:function(a,c,d,e,f,g){bb(a,c,d,e,f,g);ec(e);e.$$parserName="email";e.$validators.email=function(a,c){var d=a||c;return e.$isEmpty(d)||ag.test(d)}},radio:function(a,c,d,e){H(d.name)&&c.attr("name",++eb);c.on("click",function(a){c[0].checked&&e.$setViewValue(d.value,a&&a.type)});e.$render=
function(){c[0].checked=d.value==e.$viewValue};d.$observe("value",e.$render)},checkbox:function(a,c,d,e,f,g,h,l){var k=zd(l,a,"ngTrueValue",d.ngTrueValue,!0),n=zd(l,a,"ngFalseValue",d.ngFalseValue,!1);c.on("click",function(a){e.$setViewValue(c[0].checked,a&&a.type)});e.$render=function(){c[0].checked=e.$viewValue};e.$isEmpty=function(a){return!1===a};e.$formatters.push(function(a){return ka(a,k)});e.$parsers.push(function(a){return a?k:n})},hidden:D,button:D,submit:D,reset:D,file:D},wc=["$browser",
"$sniffer","$filter","$parse",function(a,c,d,e){return{restrict:"E",require:["?ngModel"],link:{pre:function(f,g,h,l){l[0]&&(Id[G(h.type)]||Id.text)(f,g,h,l[0],c,a,d,e)}}}}],cg=/^(true|false|\d+)$/,Ce=function(){return{restrict:"A",priority:100,compile:function(a,c){return cg.test(c.ngValue)?function(a,c,f){f.$set("value",a.$eval(f.ngValue))}:function(a,c,f){a.$watch(f.ngValue,function(a){f.$set("value",a)})}}}},ce=["$compile",function(a){return{restrict:"AC",compile:function(c){a.$$addBindingClass(c);
return function(c,e,f){a.$$addBindingInfo(e,f.ngBind);e=e[0];c.$watch(f.ngBind,function(a){e.textContent=a===u?"":a})}}}}],ee=["$interpolate","$compile",function(a,c){return{compile:function(d){c.$$addBindingClass(d);return function(d,f,g){d=a(f.attr(g.$attr.ngBindTemplate));c.$$addBindingInfo(f,d.expressions);f=f[0];g.$observe("ngBindTemplate",function(a){f.textContent=a===u?"":a})}}}}],de=["$sce","$parse","$compile",function(a,c,d){return{restrict:"A",compile:function(e,f){var g=c(f.ngBindHtml),
h=c(f.ngBindHtml,function(a){return(a||"").toString()});d.$$addBindingClass(e);return function(c,e,f){d.$$addBindingInfo(e,f.ngBindHtml);c.$watch(h,function(){e.html(a.getTrustedHtml(g(c))||"")})}}}}],Be=oa({restrict:"A",require:"ngModel",link:function(a,c,d,e){e.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),fe=fc("",!0),he=fc("Odd",0),ge=fc("Even",1),ie=Ia({compile:function(a,c){c.$set("ngCloak",u);a.removeClass("ng-cloak")}}),je=[function(){return{restrict:"A",scope:!0,controller:"@",
priority:500}}],Bc={},dg={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var c=wa("ng-"+a);Bc[c]=["$parse","$rootScope",function(d,e){return{restrict:"A",compile:function(f,g){var h=d(g[c],null,!0);return function(c,d){d.on(a,function(d){var f=function(){h(c,{$event:d})};dg[a]&&e.$$phase?c.$evalAsync(f):c.$apply(f)})}}}}]});var me=["$animate",function(a){return{multiElement:!0,
transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,l,k;c.$watch(e.ngIf,function(c){c?l||g(function(c,f){l=f;c[c.length++]=Y.createComment(" end ngIf: "+e.ngIf+" ");h={clone:c};a.enter(c,d.parent(),d)}):(k&&(k.remove(),k=null),l&&(l.$destroy(),l=null),h&&(k=kb(h.clone),a.leave(k).then(function(){k=null}),h=null))})}}}],ne=["$templateRequest","$anchorScroll","$animate","$sce",function(a,c,d,e){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",
controller:ca.noop,compile:function(f,g){var h=g.ngInclude||g.src,l=g.onload||"",k=g.autoscroll;return function(f,g,p,r,u){var y=0,q,z,A,v=function(){z&&(z.remove(),z=null);q&&(q.$destroy(),q=null);A&&(d.leave(A).then(function(){z=null}),z=A,A=null)};f.$watch(e.parseAsResourceUrl(h),function(e){var h=function(){!w(k)||k&&!f.$eval(k)||c()},p=++y;e?(a(e,!0).then(function(a){if(p===y){var c=f.$new();r.template=a;a=u(c,function(a){v();d.enter(a,null,g).then(h)});q=c;A=a;q.$emit("$includeContentLoaded",
e);f.$eval(l)}},function(){p===y&&(v(),f.$emit("$includeContentError",e))}),f.$emit("$includeContentRequested",e)):(v(),r.template=null)})}}}}],Ee=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){/SVG/.test(d[0].toString())?(d.empty(),a(Ec(f.template,Y).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),a(d.contents())(c))}}}],oe=Ia({priority:450,compile:function(){return{pre:function(a,c,d){a.$eval(d.ngInit)}}}}),
Ae=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,c,d,e){var f=c.attr(d.$attr.ngList)||", ",g="false"!==d.ngTrim,h=g?W(f):f;e.$parsers.push(function(a){if(!H(a)){var c=[];a&&r(a.split(h),function(a){a&&c.push(g?W(a):a)});return c}});e.$formatters.push(function(a){return J(a)?a.join(f):u});e.$isEmpty=function(a){return!a||!a.length}}}},db="ng-valid",Ad="ng-invalid",Na="ng-pristine",Fb="ng-dirty",Cd="ng-pending",Hb=new R("ngModel"),eg=["$scope","$exceptionHandler","$attrs",
"$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,c,d,e,f,g,h,l,k,n){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=u;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=u;this.$name=n(d.name||"",!1)(a);var m=f(d.ngModel),p=m.assign,s=m,x=p,
y=null,q=this;this.$$setOptions=function(a){if((q.$options=a)&&a.getterSetter){var c=f(d.ngModel+"()"),g=f(d.ngModel+"($$$p)");s=function(a){var d=m(a);C(d)&&(d=c(a));return d};x=function(a,c){C(m(a))?g(a,{$$$p:q.$modelValue}):p(a,q.$modelValue)}}else if(!m.assign)throw Hb("nonassign",d.ngModel,va(e));};this.$render=D;this.$isEmpty=function(a){return H(a)||""===a||null===a||a!==a};var z=e.inheritedData("$formController")||Eb,A=0;xd({ctrl:this,$element:e,set:function(a,c){a[c]=!0},unset:function(a,
c){delete a[c]},parentForm:z,$animate:g});this.$setPristine=function(){q.$dirty=!1;q.$pristine=!0;g.removeClass(e,Fb);g.addClass(e,Na)};this.$setDirty=function(){q.$dirty=!0;q.$pristine=!1;g.removeClass(e,Na);g.addClass(e,Fb);z.$setDirty()};this.$setUntouched=function(){q.$touched=!1;q.$untouched=!0;g.setClass(e,"ng-untouched","ng-touched")};this.$setTouched=function(){q.$touched=!0;q.$untouched=!1;g.setClass(e,"ng-touched","ng-untouched")};this.$rollbackViewValue=function(){h.cancel(y);q.$viewValue=
q.$$lastCommittedViewValue;q.$render()};this.$validate=function(){if(!S(q.$modelValue)||!isNaN(q.$modelValue)){var a=q.$$rawModelValue,c=q.$valid,d=q.$modelValue,e=q.$options&&q.$options.allowInvalid;q.$$runValidators(q.$error[q.$$parserName||"parse"]?!1:u,a,q.$$lastCommittedViewValue,function(f){e||c===f||(q.$modelValue=f?a:u,q.$modelValue!==d&&q.$$writeModelToScope())})}};this.$$runValidators=function(a,c,d,e){function f(){var a=!0;r(q.$validators,function(e,f){var g=e(c,d);a=a&&g;h(f,g)});return a?
!0:(r(q.$asyncValidators,function(a,c){h(c,null)}),!1)}function g(){var a=[],e=!0;r(q.$asyncValidators,function(f,g){var k=f(c,d);if(!k||!C(k.then))throw Hb("$asyncValidators",k);h(g,u);a.push(k.then(function(){h(g,!0)},function(a){e=!1;h(g,!1)}))});a.length?k.all(a).then(function(){l(e)},D):l(!0)}function h(a,c){m===A&&q.$setValidity(a,c)}function l(a){m===A&&e(a)}A++;var m=A;(function(a){var c=q.$$parserName||"parse";if(a===u)h(c,null);else if(h(c,a),!a)return r(q.$validators,function(a,c){h(c,
null)}),r(q.$asyncValidators,function(a,c){h(c,null)}),!1;return!0})(a)?f()?g():l(!1):l(!1)};this.$commitViewValue=function(){var a=q.$viewValue;h.cancel(y);if(q.$$lastCommittedViewValue!==a||""===a&&q.$$hasNativeValidators)q.$$lastCommittedViewValue=a,q.$pristine&&this.$setDirty(),this.$$parseAndValidate()};this.$$parseAndValidate=function(){var c=q.$$lastCommittedViewValue,d=H(c)?u:!0;if(d)for(var e=0;e<q.$parsers.length;e++)if(c=q.$parsers[e](c),H(c)){d=!1;break}S(q.$modelValue)&&isNaN(q.$modelValue)&&
(q.$modelValue=s(a));var f=q.$modelValue,g=q.$options&&q.$options.allowInvalid;q.$$rawModelValue=c;g&&(q.$modelValue=c,q.$modelValue!==f&&q.$$writeModelToScope());q.$$runValidators(d,c,q.$$lastCommittedViewValue,function(a){g||(q.$modelValue=a?c:u,q.$modelValue!==f&&q.$$writeModelToScope())})};this.$$writeModelToScope=function(){x(a,q.$modelValue);r(q.$viewChangeListeners,function(a){try{a()}catch(d){c(d)}})};this.$setViewValue=function(a,c){q.$viewValue=a;q.$options&&!q.$options.updateOnDefault||
q.$$debounceViewValueCommit(c)};this.$$debounceViewValueCommit=function(c){var d=0,e=q.$options;e&&w(e.debounce)&&(e=e.debounce,S(e)?d=e:S(e[c])?d=e[c]:S(e["default"])&&(d=e["default"]));h.cancel(y);d?y=h(function(){q.$commitViewValue()},d):l.$$phase?q.$commitViewValue():a.$apply(function(){q.$commitViewValue()})};a.$watch(function(){var c=s(a);if(c!==q.$modelValue){q.$modelValue=q.$$rawModelValue=c;for(var d=q.$formatters,e=d.length,f=c;e--;)f=d[e](f);q.$viewValue!==f&&(q.$viewValue=q.$$lastCommittedViewValue=
f,q.$render(),q.$$runValidators(u,c,f,D))}return c})}],ze=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:eg,priority:1,compile:function(c){c.addClass(Na).addClass("ng-untouched").addClass(db);return{pre:function(a,c,f,g){var h=g[0],l=g[1]||Eb;h.$$setOptions(g[2]&&g[2].$options);l.$addControl(h);f.$observe("name",function(a){h.$name!==a&&l.$$renameControl(h,a)});a.$on("$destroy",function(){l.$removeControl(h)})},post:function(c,e,f,g){var h=
g[0];if(h.$options&&h.$options.updateOn)e.on(h.$options.updateOn,function(a){h.$$debounceViewValueCommit(a&&a.type)});e.on("blur",function(e){h.$touched||(a.$$phase?c.$evalAsync(h.$setTouched):c.$apply(h.$setTouched))})}}}}}],fg=/(\s+|^)default(\s+|$)/,De=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,c){var d=this;this.$options=ua(a.$eval(c.ngModelOptions));this.$options.updateOn!==u?(this.$options.updateOnDefault=!1,this.$options.updateOn=W(this.$options.updateOn.replace(fg,
function(){d.$options.updateOnDefault=!0;return" "}))):this.$options.updateOnDefault=!0}]}},pe=Ia({terminal:!0,priority:1E3}),gg=R("ngOptions"),hg=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,xe=["$compile","$parse",function(a,c){function d(a,d,e){function f(a,c,d,e){this.selectValue=a;this.viewValue=c;this.label=d;this.group=e}var n=a.match(hg);
if(!n)throw gg("iexp",a,va(d));var m=n[4]||n[6],p=n[5];a=/ as /.test(n[0])&&n[1];d=n[8];var r=c(n[2]?n[1]:m),u=a&&c(a)||r,y=d&&c(d),q=d?function(a,c){return y(e,c)}:function(a){return Da(a)},z=c(n[2]||n[1]),A=c(n[3]||""),v=c(n[7]),B={},K=p?function(a,c){B[p]=c;B[m]=a;return B}:function(a){B[m]=a;return B};return{getWatchables:c(v,function(a){var c=[];a=a||[];Object.keys(a).forEach(function(d){var f=K(a[d],d),g=z(e,f);d=q(a[d],f);c.push(d);c.push(g)});return c}),getOptions:function(){var a=[],c={},
d=v(e)||[];Object.keys(d).forEach(function(g){if("$"!==g.charAt(0)){var h=K(d[g],g),m=u(e,h);g=q(m,h);var n=z(e,h),h=A(e,h),m=new f(g,m,n,h);a.push(m);c[g]=m}});return{items:a,selectValueMap:c,getOptionFromViewValue:function(a){return c[q(a,K(a))]}}}}}var e=Y.createElement("option"),f=Y.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(c,h,l,k){function n(a,c){a.element=c;a.value!==c.value&&(c.value=a.selectValue);a.label!==c.label&&(c.label=a.label,
c.textContent=a.label)}function m(a,c,d,e){c&&G(c.nodeName)===d?d=c:(d=e.cloneNode(!1),c?a.insertBefore(d,c):a.appendChild(d));return d}function p(a){for(var c;a;)c=a.nextSibling,Rb(a),a=c}function r(a){var c=z&&z[0],d=v&&v[0];if(c||d)for(;a&&(a===c||a===d);)a=a.nextSibling;return a}function u(){var a=B&&q.readValue();B=K.getOptions();var c={},d=h[0].firstChild;A&&h.prepend(z);d=r(d);B.items.forEach(function(a){var g,k;a.group?(g=c[a.group],g||(g=m(h[0],d,"optgroup",f),d=g.nextSibling,g.label=a.group,
g=c[a.group]={groupElement:g,currentOptionElement:g.firstChild}),k=m(g.groupElement,g.currentOptionElement,"option",e),n(a,k),g.currentOptionElement=k.nextSibling):(k=m(h[0],d,"option",e),n(a,k),d=k.nextSibling)});Object.keys(c).forEach(function(a){p(c[a].currentOptionElement)});p(d);y.$render();if(!y.$isEmpty(a)){var g=q.readValue();ka(a,g)||y.$setViewValue(g)}}var y=k[1];if(y){var q=k[0];k=l.multiple;var z=q.emptyOption,A=!!z,v=I(e.cloneNode(!1));v.val("?");var B,K=d(l.ngOptions,h,c);q.writeValue=
function(a){var c=B.getOptionFromViewValue(a);c?h[0].value!==c.selectValue&&(v.remove(),A||z.remove(),h[0].value=c.selectValue,c.element.selected=!0,c.element.setAttribute("selected","selected")):null===a||A?(v.remove(),A||h.prepend(z),h.val(""),z.prop("selected",!0),z.attr("selected",!0)):(A||z.remove(),h.prepend(v),h.val("?"),v.prop("selected",!0),v.attr("selected",!0))};q.readValue=function(){var a=B.selectValueMap[h.val()];return a?(A||z.remove(),v.remove(),a.viewValue):null};k&&(y.$isEmpty=function(a){return!a||
0===a.length},q.writeValue=function(a){B.items.forEach(function(a){a.element.selected=!1});a&&a.forEach(function(a){if(a=B.getOptionFromViewValue(a))a.element.selected=!0})},q.readValue=function(){return(h.val()||[]).map(function(a){return B.selectValueMap[a].viewValue})});A?(z.remove(),a(z)(c),z.removeClass("ng-scope")):z=I(e.cloneNode(!1));u();c.$watchCollection(K.getWatchables,u)}}}}],qe=["$locale","$interpolate","$log",function(a,c,d){var e=/{}/g,f=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(g,
h,l){function k(a){h.text(a||"")}var n=l.count,m=l.$attr.when&&h.attr(l.$attr.when),p=l.offset||0,s=g.$eval(m)||{},u={},y=c.startSymbol(),q=c.endSymbol(),z=y+n+"-"+p+q,A=ca.noop,v;r(l,function(a,c){var d=f.exec(c);d&&(d=(d[1]?"-":"")+G(d[2]),s[d]=h.attr(l.$attr[c]))});r(s,function(a,d){u[d]=c(a.replace(e,z))});g.$watch(n,function(c){var e=parseFloat(c),f=isNaN(e);f||e in s||(e=a.pluralCat(e-p));e===v||f&&S(v)&&isNaN(v)||(A(),f=u[e],H(f)?(null!=c&&d.debug("ngPluralize: no rule defined for '"+e+"' in "+
m),A=D,k()):A=g.$watch(f,k),v=e)})}}}],re=["$parse","$animate",function(a,c){var d=R("ngRepeat"),e=function(a,c,d,e,k,n,m){a[d]=e;k&&(a[k]=n);a.$index=c;a.$first=0===c;a.$last=c===m-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=0===(c&1))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,compile:function(f,g){var h=g.ngRepeat,l=Y.createComment(" end ngRepeat: "+h+" "),k=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);
if(!k)throw d("iexp",h);var n=k[1],m=k[2],p=k[3],s=k[4],k=n.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!k)throw d("iidexp",n);var x=k[3]||k[1],y=k[2];if(p&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(p)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(p)))throw d("badident",p);var q,z,A,v,w={$id:Da};s?q=a(s):(A=function(a,c){return Da(c)},v=function(a){return a});return function(a,f,g,k,n){q&&(z=function(c,d,e){y&&(w[y]=c);w[x]=d;w.$index=
e;return q(a,w)});var s=qa();a.$watchCollection(m,function(g){var k,m,q=f[0],w,B=qa(),E,D,G,C,H,F,J;p&&(a[p]=g);if(Oa(g))H=g,m=z||A;else for(J in m=z||v,H=[],g)g.hasOwnProperty(J)&&"$"!==J.charAt(0)&&H.push(J);E=H.length;J=Array(E);for(k=0;k<E;k++)if(D=g===H?k:H[k],G=g[D],C=m(D,G,k),s[C])F=s[C],delete s[C],B[C]=F,J[k]=F;else{if(B[C])throw r(J,function(a){a&&a.scope&&(s[a.id]=a)}),d("dupes",h,C,G);J[k]={id:C,scope:u,clone:u};B[C]=!0}for(w in s){F=s[w];C=kb(F.clone);c.leave(C);if(C[0].parentNode)for(k=
0,m=C.length;k<m;k++)C[k].$$NG_REMOVED=!0;F.scope.$destroy()}for(k=0;k<E;k++)if(D=g===H?k:H[k],G=g[D],F=J[k],F.scope){w=q;do w=w.nextSibling;while(w&&w.$$NG_REMOVED);F.clone[0]!=w&&c.move(kb(F.clone),null,I(q));q=F.clone[F.clone.length-1];e(F.scope,k,x,G,y,D,E)}else n(function(a,d){F.scope=d;var f=l.cloneNode(!1);a[a.length++]=f;c.enter(a,null,I(q));q=f;F.clone=a;B[F.id]=F;e(F.scope,k,x,G,y,D,E)});s=B})}}}}],se=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(c,d,e){c.$watch(e.ngShow,
function(c){a[c?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],le=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(c,d,e){c.$watch(e.ngHide,function(c){a[c?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],te=Ia(function(a,c,d){a.$watchCollection(d.ngStyle,function(a,d){d&&a!==d&&r(d,function(a,d){c.css(d,"")});a&&c.css(a)})}),ue=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases=
{}}],link:function(c,d,e,f){var g=[],h=[],l=[],k=[],n=function(a,c){return function(){a.splice(c,1)}};c.$watch(e.ngSwitch||e.on,function(c){var d,e;d=0;for(e=l.length;d<e;++d)a.cancel(l[d]);d=l.length=0;for(e=k.length;d<e;++d){var p=kb(h[d].clone);k[d].$destroy();(l[d]=a.leave(p)).then(n(l,d))}h.length=0;k.length=0;(g=f.cases["!"+c]||f.cases["?"])&&r(g,function(c){c.transclude(function(d,e){k.push(e);var f=c.element;d[d.length++]=Y.createComment(" end ngSwitchWhen: ");h.push({clone:d});a.enter(d,
f.parent(),f)})})})}}}],ve=Ia({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,c,d,e,f){e.cases["!"+d.ngSwitchWhen]=e.cases["!"+d.ngSwitchWhen]||[];e.cases["!"+d.ngSwitchWhen].push({transclude:f,element:c})}}),we=Ia({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,c,d,e,f){e.cases["?"]=e.cases["?"]||[];e.cases["?"].push({transclude:f,element:c})}}),ye=Ia({restrict:"EAC",link:function(a,c,d,e,f){if(!f)throw R("ngTransclude")("orphan",
va(c));f(function(a){c.empty();c.append(a)})}}),Zd=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(c,d){"text/ng-template"==d.type&&a.put(d.id,c[0].text)}}}],ig={$setViewValue:D,$render:D},jg=["$element","$scope","$attrs",function(a,c,d){var e=this,f=new wb;e.ngModelCtrl=ig;e.unknownOption=I(Y.createElement("option"));e.renderUnknownOption=function(c){c="? "+Da(c)+" ?";e.unknownOption.val(c);a.prepend(e.unknownOption);a.val(c)};c.$on("$destroy",function(){e.renderUnknownOption=
D});e.removeUnknownOption=function(){e.unknownOption.parent()&&e.unknownOption.remove()};c=0;d=a.children();for(var g=d.length;c<g;c++)if(""===d[c].value){e.emptyOption=d.eq(c);break}e.readValue=function(){e.removeUnknownOption();return a.val()};e.writeValue=function(c){e.hasOption(c)?(e.removeUnknownOption(),a.val(c),""===c&&e.emptyOption.prop("selected",!0)):H(c)&&e.emptyOption?a.val(""):e.renderUnknownOption(c)};e.addOption=function(a){La(a,'"option value"');var c=f.get(a)||0;f.put(a,c+1)};e.removeOption=
function(a){var c=f.get(a);c&&(1===c?f.remove(a):f.put(a,c-1))};e.hasOption=function(a){return!!f.get(a)}}],$d=function(){var a;return{restrict:"E",require:["select","?ngModel"],controller:jg,link:function(c,d,e,f){var g=f[1];if(g){var h=f[0];h.ngModelCtrl=g;g.$render=function(){h.writeValue(g.$viewValue)};d.on("change",function(){c.$apply(function(){g.$setViewValue(h.readValue())})});e.multiple&&(h.readValue=function(){var a=[];r(d.find("option"),function(c){c.selected&&a.push(c.value)});return a},
h.writeValue=function(a){var c=new wb(a);r(d.find("option"),function(a){a.selected=w(c.get(a.value))})},c.$watch(function(){ka(a,g.$viewValue)||(a=fa(g.$viewValue),g.$render())}),g.$isEmpty=function(a){return!a||0===a.length})}}}},be=["$interpolate",function(a){function c(a){a[0].hasAttribute("selected")&&(a[0].selected=!0)}return{restrict:"E",priority:100,compile:function(d,e){if(H(e.value)){var f=a(d.text(),!0);f||e.$set("value",d.text())}return function(a,d,e){var k=d.parent(),n=k.data("$selectController")||
k.parent().data("$selectController");n&&n.ngModelCtrl&&(f?a.$watch(f,function(a,f){e.$set("value",a);f!==a&&n.removeOption(f);n.addOption(a,d);n.ngModelCtrl.$render();c(d)}):(n.addOption(e.value,d),n.ngModelCtrl.$render(),c(d)),d.on("$destroy",function(){n.removeOption(e.value);n.ngModelCtrl.$render()}))}}}}],ae=oa({restrict:"E",terminal:!1}),yc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){e&&(d.required=!0,e.$validators.required=function(a,c){return!d.required||!e.$isEmpty(c)},
d.$observe("required",function(){e.$validate()}))}}},xc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f,g=d.ngPattern||d.pattern;d.$observe("pattern",function(a){M(a)&&0<a.length&&(a=new RegExp("^"+a+"$"));if(a&&!a.test)throw R("ngPattern")("noregexp",g,a,va(c));f=a||u;e.$validate()});e.$validators.pattern=function(a){return e.$isEmpty(a)||H(f)||f.test(a)}}}}},Ac=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f=-1;d.$observe("maxlength",
function(a){a=ba(a);f=isNaN(a)?-1:a;e.$validate()});e.$validators.maxlength=function(a,c){return 0>f||e.$isEmpty(c)||c.length<=f}}}}},zc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f=0;d.$observe("minlength",function(a){f=ba(a)||0;e.$validate()});e.$validators.minlength=function(a,c){return e.$isEmpty(c)||c.length>=f}}}}};O.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(Rd(),Td(ca),I(Y).ready(function(){Nd(Y,rc)}))})(window,
document);!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>');
//# sourceMappingURL=angular.min.js.map

/*
 AngularJS v1.4.0-beta.4
 (c) 2010-2015 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(q,d,C){'use strict';function v(r,k,h){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,f,b,c,y){function z(){l&&(h.cancel(l),l=null);m&&(m.$destroy(),m=null);n&&(l=h.leave(n),l.then(function(){l=null}),n=null)}function x(){var b=r.current&&r.current.locals;if(d.isDefined(b&&b.$template)){var b=a.$new(),c=r.current;n=y(b,function(b){h.enter(b,null,n||f).then(function(){!d.isDefined(t)||t&&!a.$eval(t)||k()});z()});m=c.scope=b;m.$emit("$viewContentLoaded");
m.$eval(w)}else z()}var m,n,l,t=b.autoscroll,w=b.onload||"";a.$on("$routeChangeSuccess",x);x()}}}function A(d,k,h){return{restrict:"ECA",priority:-400,link:function(a,f){var b=h.current,c=b.locals;f.html(c.$template);var y=d(f.contents());b.controller&&(c.$scope=a,c=k(b.controller,c),b.controllerAs&&(a[b.controllerAs]=c),f.data("$ngControllerController",c),f.children().data("$ngControllerController",c));y(a)}}}q=d.module("ngRoute",["ng"]).provider("$route",function(){function r(a,f){return d.extend(Object.create(a),
f)}function k(a,d){var b=d.caseInsensitiveMatch,c={originalPath:a,regexp:a},h=c.keys=[];a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,d,b,c){a="?"===c?c:null;c="*"===c?c:null;h.push({name:b,optional:!!a});d=d||"";return""+(a?"":d)+"(?:"+(a?d:"")+(c&&"(.+?)"||"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1");c.regexp=new RegExp("^"+a+"$",b?"i":"");return c}var h={};this.when=function(a,f){var b=d.copy(f);d.isUndefined(b.reloadOnSearch)&&(b.reloadOnSearch=!0);
d.isUndefined(b.caseInsensitiveMatch)&&(b.caseInsensitiveMatch=this.caseInsensitiveMatch);h[a]=d.extend(b,a&&k(a,b));if(a){var c="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";h[c]=d.extend({redirectTo:a},k(c,b))}return this};this.caseInsensitiveMatch=!1;this.otherwise=function(a){"string"===typeof a&&(a={redirectTo:a});this.when(null,a);return this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(a,f,b,c,k,q,x){function m(b){var e=s.current;
(v=(p=l())&&e&&p.$$route===e.$$route&&d.equals(p.pathParams,e.pathParams)&&!p.reloadOnSearch&&!w)||!e&&!p||a.$broadcast("$routeChangeStart",p,e).defaultPrevented&&b&&b.preventDefault()}function n(){var u=s.current,e=p;if(v)u.params=e.params,d.copy(u.params,b),a.$broadcast("$routeUpdate",u);else if(e||u)w=!1,(s.current=e)&&e.redirectTo&&(d.isString(e.redirectTo)?f.path(t(e.redirectTo,e.params)).search(e.params).replace():f.url(e.redirectTo(e.pathParams,f.path(),f.search())).replace()),c.when(e).then(function(){if(e){var a=
d.extend({},e.resolve),b,g;d.forEach(a,function(b,e){a[e]=d.isString(b)?k.get(b):k.invoke(b,null,null,e)});d.isDefined(b=e.template)?d.isFunction(b)&&(b=b(e.params)):d.isDefined(g=e.templateUrl)&&(d.isFunction(g)&&(g=g(e.params)),g=x.getTrustedResourceUrl(g),d.isDefined(g)&&(e.loadedTemplateUrl=g,b=q(g)));d.isDefined(b)&&(a.$template=b);return c.all(a)}}).then(function(c){e==s.current&&(e&&(e.locals=c,d.copy(e.params,b)),a.$broadcast("$routeChangeSuccess",e,u))},function(b){e==s.current&&a.$broadcast("$routeChangeError",
e,u,b)})}function l(){var a,b;d.forEach(h,function(c,h){var g;if(g=!b){var k=f.path();g=c.keys;var m={};if(c.regexp)if(k=c.regexp.exec(k)){for(var l=1,n=k.length;l<n;++l){var p=g[l-1],q=k[l];p&&q&&(m[p.name]=q)}g=m}else g=null;else g=null;g=a=g}g&&(b=r(c,{params:d.extend({},f.search(),a),pathParams:a}),b.$$route=c)});return b||h[null]&&r(h[null],{params:{},pathParams:{}})}function t(a,b){var c=[];d.forEach((a||"").split(":"),function(a,d){if(0===d)c.push(a);else{var f=a.match(/(\w+)(?:[?*])?(.*)/),
h=f[1];c.push(b[h]);c.push(f[2]||"");delete b[h]}});return c.join("")}var w=!1,p,v,s={routes:h,reload:function(){w=!0;a.$evalAsync(function(){m();n()})},updateParams:function(a){if(this.current&&this.current.$$route)a=d.extend({},this.current.params,a),f.path(t(this.current.$$route.originalPath,a)),f.search(a);else throw B("norout");}};a.$on("$locationChangeStart",m);a.$on("$locationChangeSuccess",n);return s}]});var B=d.$$minErr("ngRoute");q.provider("$routeParams",function(){this.$get=function(){return{}}});
q.directive("ngView",v);q.directive("ngView",A);v.$inject=["$route","$anchorScroll","$animate"];A.$inject=["$compile","$controller","$route"]})(window,window.angular);
//# sourceMappingURL=angular-route.min.js.map

/*
 AngularJS v1.4.0-beta.4
 (c) 2010-2015 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(n,h,p){'use strict';function E(a){var d=[];s(d,h.noop).chars(a);return d.join("")}function g(a){var d={};a=a.split(",");var c;for(c=0;c<a.length;c++)d[a[c]]=!0;return d}function F(a,d){function c(a,b,c,l){b=h.lowercase(b);if(t[b])for(;f.last()&&u[f.last()];)e("",f.last());v[b]&&f.last()==b&&e("",b);(l=w[b]||!!l)||f.push(b);var m={};c.replace(G,function(a,b,d,c,e){m[b]=r(d||c||e||"")});d.start&&d.start(b,m,l)}function e(a,b){var c=0,e;if(b=h.lowercase(b))for(c=f.length-1;0<=c&&f[c]!=b;c--);
if(0<=c){for(e=f.length-1;e>=c;e--)d.end&&d.end(f[e]);f.length=c}}"string"!==typeof a&&(a=null===a||"undefined"===typeof a?"":""+a);var b,k,f=[],m=a,l;for(f.last=function(){return f[f.length-1]};a;){l="";k=!0;if(f.last()&&x[f.last()])a=a.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+f.last()+"[^>]*>","i"),function(a,b){b=b.replace(H,"$1").replace(I,"$1");d.chars&&d.chars(r(b));return""}),e("",f.last());else{if(0===a.indexOf("\x3c!--"))b=a.indexOf("--",4),0<=b&&a.lastIndexOf("--\x3e",b)===b&&(d.comment&&
d.comment(a.substring(4,b)),a=a.substring(b+3),k=!1);else if(y.test(a)){if(b=a.match(y))a=a.replace(b[0],""),k=!1}else if(J.test(a)){if(b=a.match(z))a=a.substring(b[0].length),b[0].replace(z,e),k=!1}else K.test(a)&&((b=a.match(A))?(b[4]&&(a=a.substring(b[0].length),b[0].replace(A,c)),k=!1):(l+="<",a=a.substring(1)));k&&(b=a.indexOf("<"),l+=0>b?a:a.substring(0,b),a=0>b?"":a.substring(b),d.chars&&d.chars(r(l)))}if(a==m)throw L("badparse",a);m=a}e()}function r(a){if(!a)return"";var d=M.exec(a);a=d[1];
var c=d[3];if(d=d[2])q.innerHTML=d.replace(/</g,"&lt;"),d="textContent"in q?q.textContent:q.innerText;return a+d+c}function B(a){return a.replace(/&/g,"&amp;").replace(N,function(a){var c=a.charCodeAt(0);a=a.charCodeAt(1);return"&#"+(1024*(c-55296)+(a-56320)+65536)+";"}).replace(O,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function s(a,d){var c=!1,e=h.bind(a,a.push);return{start:function(a,k,f){a=h.lowercase(a);!c&&x[a]&&(c=a);c||!0!==C[a]||(e("<"),e(a),
h.forEach(k,function(c,f){var k=h.lowercase(f),g="img"===a&&"src"===k||"background"===k;!0!==P[k]||!0===D[k]&&!d(c,g)||(e(" "),e(f),e('="'),e(B(c)),e('"'))}),e(f?"/>":">"))},end:function(a){a=h.lowercase(a);c||!0!==C[a]||(e("</"),e(a),e(">"));a==c&&(c=!1)},chars:function(a){c||e(B(a))}}}var L=h.$$minErr("$sanitize"),A=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,z=/^<\/\s*([\w:-]+)[^>]*>/,G=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,
K=/^</,J=/^<\//,H=/\x3c!--(.*?)--\x3e/g,y=/<!DOCTYPE([^>]*?)>/i,I=/<!\[CDATA\[(.*?)]]\x3e/g,N=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,O=/([^\#-~| |!])/g,w=g("area,br,col,hr,img,wbr");n=g("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr");p=g("rp,rt");var v=h.extend({},p,n),t=h.extend({},n,g("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),u=h.extend({},p,g("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));
n=g("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use");var x=g("script,style"),C=h.extend({},w,t,u,v,n),D=g("background,cite,href,longdesc,src,usemap,xlink:href");n=g("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width");
p=g("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan");
var P=h.extend({},D,p,n),q=document.createElement("pre"),M=/^(\s*)([\s\S]*?)(\s*)$/;h.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(a){return function(d){var c=[];F(d,s(c,function(c,b){return!/^unsafe/.test(a(c,b))}));return c.join("")}}]});h.module("ngSanitize").filter("linky",["$sanitize",function(a){var d=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/,c=/^mailto:/;return function(e,b){function k(a){a&&g.push(E(a))}
function f(a,c){g.push("<a ");h.isDefined(b)&&g.push('target="',b,'" ');g.push('href="',a.replace(/"/g,"&quot;"),'">');k(c);g.push("</a>")}if(!e)return e;for(var m,l=e,g=[],n,p;m=l.match(d);)n=m[0],m[2]||m[4]||(n=(m[3]?"http://":"mailto:")+n),p=m.index,k(l.substr(0,p)),f(n,m[0].replace(c,"")),l=l.substring(p+m[0].length);k(l);return a(g.join(""))}}])})(window,window.angular);
//# sourceMappingURL=angular-sanitize.min.js.map

/*
 AngularJS v1.4.0-beta.4
 (c) 2010-2015 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(p,f,n){'use strict';f.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,b){var c={},g={},h,k=!1,l=f.copy,m=f.isUndefined;b.addPollFn(function(){var a=b.cookies();h!=a&&(h=a,l(a,g),l(a,c),k&&e.$apply())})();k=!0;e.$watch(function(){var a,d,e;for(a in g)m(c[a])&&b.cookies(a,n);for(a in c)d=c[a],f.isString(d)||(d=""+d,c[a]=d),d!==g[a]&&(b.cookies(a,d),e=!0);if(e)for(a in d=b.cookies(),c)c[a]!==d[a]&&(m(d[a])?delete c[a]:c[a]=d[a])});return c}]).factory("$cookieStore",
["$cookies",function(e){return{get:function(b){return(b=e[b])?f.fromJson(b):b},put:function(b,c){e[b]=f.toJson(c)},remove:function(b){delete e[b]}}}])})(window,window.angular);
//# sourceMappingURL=angular-cookies.min.js.map

/*!
 * Bootstrap v3.3.5 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.5",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.5",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),a(c.target).is('input[type="radio"]')||a(c.target).is('input[type="checkbox"]')||c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.5",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.5",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",f))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.5",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.5",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.5",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),c.isInStateTrue()?void 0:(clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide())},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.5",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.5",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),
d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.5",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.5",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);
!function(){function n(n){return n&&(n.ownerDocument||n.document||n).documentElement}function t(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)}function e(n,t){return t>n?-1:n>t?1:n>=t?0:NaN}function r(n){return null===n?NaN:+n}function u(n){return!isNaN(n)}function i(n){return{left:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)<0?r=i+1:u=i}return r},right:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)>0?u=i:r=i+1}return r}}}function a(n){return n.length}function o(n){for(var t=1;n*t%1;)t*=10;return t}function l(n,t){for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}function c(){this._=Object.create(null)}function s(n){return(n+="")===xa||n[0]===ba?ba+n:n}function f(n){return(n+="")[0]===ba?n.slice(1):n}function h(n){return s(n)in this._}function g(n){return(n=s(n))in this._&&delete this._[n]}function p(){var n=[];for(var t in this._)n.push(f(t));return n}function v(){var n=0;for(var t in this._)++n;return n}function d(){for(var n in this._)return!1;return!0}function m(){this._=Object.create(null)}function y(n){return n}function M(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function x(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e=0,r=_a.length;r>e;++e){var u=_a[e]+t;if(u in n)return u}}function b(){}function _(){}function w(n){function t(){for(var t,r=e,u=-1,i=r.length;++u<i;)(t=r[u].on)&&t.apply(this,arguments);return n}var e=[],r=new c;return t.on=function(t,u){var i,a=r.get(t);return arguments.length<2?a&&a.on:(a&&(a.on=null,e=e.slice(0,i=e.indexOf(a)).concat(e.slice(i+1)),r.remove(t)),u&&e.push(r.set(t,{on:u})),n)},t}function S(){oa.event.preventDefault()}function k(){for(var n,t=oa.event;n=t.sourceEvent;)t=n;return t}function N(n){for(var t=new _,e=0,r=arguments.length;++e<r;)t[arguments[e]]=w(t);return t.of=function(e,r){return function(u){try{var i=u.sourceEvent=oa.event;u.target=n,oa.event=u,t[u.type].apply(e,r)}finally{oa.event=i}}},t}function E(n){return Sa(n,Aa),n}function A(n){return"function"==typeof n?n:function(){return ka(n,this)}}function C(n){return"function"==typeof n?n:function(){return Na(n,this)}}function z(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function u(){this.setAttribute(n,t)}function i(){this.setAttributeNS(n.space,n.local,t)}function a(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}function o(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}return n=oa.ns.qualify(n),null==t?n.local?r:e:"function"==typeof t?n.local?o:a:n.local?i:u}function L(n){return n.trim().replace(/\s+/g," ")}function q(n){return new RegExp("(?:^|\\s+)"+oa.requote(n)+"(?:\\s+|$)","g")}function T(n){return(n+"").trim().split(/^|\s+/)}function R(n,t){function e(){for(var e=-1;++e<u;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++e<u;)n[e](this,r)}n=T(n).map(D);var u=n.length;return"function"==typeof t?r:e}function D(n){var t=q(n);return function(e,r){if(u=e.classList)return r?u.add(n):u.remove(n);var u=e.getAttribute("class")||"";r?(t.lastIndex=0,t.test(u)||e.setAttribute("class",L(u+" "+n))):e.setAttribute("class",L(u.replace(t," ")))}}function P(n,t,e){function r(){this.style.removeProperty(n)}function u(){this.style.setProperty(n,t,e)}function i(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}return null==t?r:"function"==typeof t?i:u}function U(n,t){function e(){delete this[n]}function r(){this[n]=t}function u(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}return null==t?e:"function"==typeof t?u:r}function j(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e&&e!==t.documentElement.namespaceURI?t.createElementNS(e,n):t.createElement(n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=oa.ns.qualify(n)).local?e:t}function F(){var n=this.parentNode;n&&n.removeChild(this)}function H(n){return{__data__:n}}function O(n){return function(){return Ea(this,n)}}function I(n){return arguments.length||(n=e),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function Y(n,t){for(var e=0,r=n.length;r>e;e++)for(var u,i=n[e],a=0,o=i.length;o>a;a++)(u=i[a])&&t(u,a,e);return n}function Z(n){return Sa(n,za),n}function V(n){var t,e;return function(r,u,i){var a,o=n[i].update,l=o.length;for(i!=e&&(e=i,t=0),u>=t&&(t=u+1);!(a=o[t])&&++t<l;);return a}}function X(n,t,e){function r(){var t=this[a];t&&(this.removeEventListener(n,t,t.$),delete this[a])}function u(){var u=l(t,ca(arguments));r.call(this),this.addEventListener(n,this[a]=u,u.$=e),u._=t}function i(){var t,e=new RegExp("^__on([^.]+)"+oa.requote(n)+"$");for(var r in this)if(t=r.match(e)){var u=this[r];this.removeEventListener(t[1],u,u.$),delete this[r]}}var a="__on"+n,o=n.indexOf("."),l=$;o>0&&(n=n.slice(0,o));var c=La.get(n);return c&&(n=c,l=B),o?t?u:r:t?b:i}function $(n,t){return function(e){var r=oa.event;oa.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{oa.event=r}}}function B(n,t){var e=$(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||e.call(t,n)}}function W(e){var r=".dragsuppress-"+ ++Ta,u="click"+r,i=oa.select(t(e)).on("touchmove"+r,S).on("dragstart"+r,S).on("selectstart"+r,S);if(null==qa&&(qa="onselectstart"in e?!1:x(e.style,"userSelect")),qa){var a=n(e).style,o=a[qa];a[qa]="none"}return function(n){if(i.on(r,null),qa&&(a[qa]=o),n){var t=function(){i.on(u,null)};i.on(u,function(){S(),t()},!0),setTimeout(t,0)}}}function J(n,e){e.changedTouches&&(e=e.changedTouches[0]);var r=n.ownerSVGElement||n;if(r.createSVGPoint){var u=r.createSVGPoint();if(0>Ra){var i=t(n);if(i.scrollX||i.scrollY){r=oa.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=r[0][0].getScreenCTM();Ra=!(a.f||a.e),r.remove()}}return Ra?(u.x=e.pageX,u.y=e.pageY):(u.x=e.clientX,u.y=e.clientY),u=u.matrixTransform(n.getScreenCTM().inverse()),[u.x,u.y]}var o=n.getBoundingClientRect();return[e.clientX-o.left-n.clientLeft,e.clientY-o.top-n.clientTop]}function G(){return oa.event.changedTouches[0].identifier}function K(n){return n>0?1:0>n?-1:0}function Q(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function nn(n){return n>1?0:-1>n?Ua:Math.acos(n)}function tn(n){return n>1?Ha:-1>n?-Ha:Math.asin(n)}function en(n){return((n=Math.exp(n))-1/n)/2}function rn(n){return((n=Math.exp(n))+1/n)/2}function un(n){return((n=Math.exp(2*n))-1)/(n+1)}function an(n){return(n=Math.sin(n/2))*n}function on(){}function ln(n,t,e){return this instanceof ln?(this.h=+n,this.s=+t,void(this.l=+e)):arguments.length<2?n instanceof ln?new ln(n.h,n.s,n.l):_n(""+n,wn,ln):new ln(n,t,e)}function cn(n,t,e){function r(n){return n>360?n-=360:0>n&&(n+=360),60>n?i+(a-i)*n/60:180>n?a:240>n?i+(a-i)*(240-n)/60:i}function u(n){return Math.round(255*r(n))}var i,a;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:0>t?0:t>1?1:t,e=0>e?0:e>1?1:e,a=.5>=e?e*(1+t):e+t-e*t,i=2*e-a,new yn(u(n+120),u(n),u(n-120))}function sn(n,t,e){return this instanceof sn?(this.h=+n,this.c=+t,void(this.l=+e)):arguments.length<2?n instanceof sn?new sn(n.h,n.c,n.l):n instanceof hn?pn(n.l,n.a,n.b):pn((n=Sn((n=oa.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new sn(n,t,e)}function fn(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new hn(e,Math.cos(n*=Oa)*t,Math.sin(n)*t)}function hn(n,t,e){return this instanceof hn?(this.l=+n,this.a=+t,void(this.b=+e)):arguments.length<2?n instanceof hn?new hn(n.l,n.a,n.b):n instanceof sn?fn(n.h,n.c,n.l):Sn((n=yn(n)).r,n.g,n.b):new hn(n,t,e)}function gn(n,t,e){var r=(n+16)/116,u=r+t/500,i=r-e/200;return u=vn(u)*Ka,r=vn(r)*Qa,i=vn(i)*no,new yn(mn(3.2404542*u-1.5371385*r-.4985314*i),mn(-.969266*u+1.8760108*r+.041556*i),mn(.0556434*u-.2040259*r+1.0572252*i))}function pn(n,t,e){return n>0?new sn(Math.atan2(e,t)*Ia,Math.sqrt(t*t+e*e),n):new sn(NaN,NaN,n)}function vn(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function dn(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function mn(n){return Math.round(255*(.00304>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function yn(n,t,e){return this instanceof yn?(this.r=~~n,this.g=~~t,void(this.b=~~e)):arguments.length<2?n instanceof yn?new yn(n.r,n.g,n.b):_n(""+n,yn,cn):new yn(n,t,e)}function Mn(n){return new yn(n>>16,n>>8&255,255&n)}function xn(n){return Mn(n)+""}function bn(n){return 16>n?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function _n(n,t,e){var r,u,i,a=0,o=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(n=n.toLowerCase()))switch(u=r[2].split(","),r[1]){case"hsl":return e(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(Nn(u[0]),Nn(u[1]),Nn(u[2]))}return(i=ro.get(n))?t(i.r,i.g,i.b):(null==n||"#"!==n.charAt(0)||isNaN(i=parseInt(n.slice(1),16))||(4===n.length?(a=(3840&i)>>4,a=a>>4|a,o=240&i,o=o>>4|o,l=15&i,l=l<<4|l):7===n.length&&(a=(16711680&i)>>16,o=(65280&i)>>8,l=255&i)),t(a,o,l))}function wn(n,t,e){var r,u,i=Math.min(n/=255,t/=255,e/=255),a=Math.max(n,t,e),o=a-i,l=(a+i)/2;return o?(u=.5>l?o/(a+i):o/(2-a-i),r=n==a?(t-e)/o+(e>t?6:0):t==a?(e-n)/o+2:(n-t)/o+4,r*=60):(r=NaN,u=l>0&&1>l?0:r),new ln(r,u,l)}function Sn(n,t,e){n=kn(n),t=kn(t),e=kn(e);var r=dn((.4124564*n+.3575761*t+.1804375*e)/Ka),u=dn((.2126729*n+.7151522*t+.072175*e)/Qa),i=dn((.0193339*n+.119192*t+.9503041*e)/no);return hn(116*u-16,500*(r-u),200*(u-i))}function kn(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function Nn(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function En(n){return"function"==typeof n?n:function(){return n}}function An(n){return function(t,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),Cn(t,e,n,r)}}function Cn(n,t,e,r){function u(){var n,t=l.status;if(!t&&Ln(l)||t>=200&&300>t||304===t){try{n=e.call(i,l)}catch(r){return void a.error.call(i,r)}a.load.call(i,n)}else a.error.call(i,l)}var i={},a=oa.dispatch("beforesend","progress","load","error"),o={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(n)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=u:l.onreadystatechange=function(){l.readyState>3&&u()},l.onprogress=function(n){var t=oa.event;oa.event=n;try{a.progress.call(i,l)}finally{oa.event=t}},i.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?o[n]:(null==t?delete o[n]:o[n]=t+"",i)},i.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",i):t},i.responseType=function(n){return arguments.length?(c=n,i):c},i.response=function(n){return e=n,i},["get","post"].forEach(function(n){i[n]=function(){return i.send.apply(i,[n].concat(ca(arguments)))}}),i.send=function(e,r,u){if(2===arguments.length&&"function"==typeof r&&(u=r,r=null),l.open(e,n,!0),null==t||"accept"in o||(o.accept=t+",*/*"),l.setRequestHeader)for(var s in o)l.setRequestHeader(s,o[s]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=c&&(l.responseType=c),null!=u&&i.on("error",u).on("load",function(n){u(null,n)}),a.beforesend.call(i,l),l.send(null==r?null:r),i},i.abort=function(){return l.abort(),i},oa.rebind(i,a,"on"),null==r?i:i.get(zn(r))}function zn(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function Ln(n){var t=n.responseType;return t&&"text"!==t?n.response:n.responseText}function qn(n,t,e){var r=arguments.length;2>r&&(t=0),3>r&&(e=Date.now());var u=e+t,i={c:n,t:u,n:null};return io?io.n=i:uo=i,io=i,ao||(oo=clearTimeout(oo),ao=1,lo(Tn)),i}function Tn(){var n=Rn(),t=Dn()-n;t>24?(isFinite(t)&&(clearTimeout(oo),oo=setTimeout(Tn,t)),ao=0):(ao=1,lo(Tn))}function Rn(){for(var n=Date.now(),t=uo;t;)n>=t.t&&t.c(n-t.t)&&(t.c=null),t=t.n;return n}function Dn(){for(var n,t=uo,e=1/0;t;)t.c?(t.t<e&&(e=t.t),t=(n=t).n):t=n?n.n=t.n:uo=t.n;return io=n,e}function Pn(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function Un(n,t){var e=Math.pow(10,3*Ma(8-t));return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function jn(n){var t=n.decimal,e=n.thousands,r=n.grouping,u=n.currency,i=r&&e?function(n,t){for(var u=n.length,i=[],a=0,o=r[0],l=0;u>0&&o>0&&(l+o+1>t&&(o=Math.max(1,t-l)),i.push(n.substring(u-=o,u+o)),!((l+=o+1)>t));)o=r[a=(a+1)%r.length];return i.reverse().join(e)}:y;return function(n){var e=so.exec(n),r=e[1]||" ",a=e[2]||">",o=e[3]||"-",l=e[4]||"",c=e[5],s=+e[6],f=e[7],h=e[8],g=e[9],p=1,v="",d="",m=!1,y=!0;switch(h&&(h=+h.substring(1)),(c||"0"===r&&"="===a)&&(c=r="0",a="="),g){case"n":f=!0,g="g";break;case"%":p=100,d="%",g="f";break;case"p":p=100,d="%",g="r";break;case"b":case"o":case"x":case"X":"#"===l&&(v="0"+g.toLowerCase());case"c":y=!1;case"d":m=!0,h=0;break;case"s":p=-1,g="r"}"$"===l&&(v=u[0],d=u[1]),"r"!=g||h||(g="g"),null!=h&&("g"==g?h=Math.max(1,Math.min(21,h)):("e"==g||"f"==g)&&(h=Math.max(0,Math.min(20,h)))),g=fo.get(g)||Fn;var M=c&&f;return function(n){var e=d;if(m&&n%1)return"";var u=0>n||0===n&&0>1/n?(n=-n,"-"):"-"===o?"":o;if(0>p){var l=oa.formatPrefix(n,h);n=l.scale(n),e=l.symbol+d}else n*=p;n=g(n,h);var x,b,_=n.lastIndexOf(".");if(0>_){var w=y?n.lastIndexOf("e"):-1;0>w?(x=n,b=""):(x=n.substring(0,w),b=n.substring(w))}else x=n.substring(0,_),b=t+n.substring(_+1);!c&&f&&(x=i(x,1/0));var S=v.length+x.length+b.length+(M?0:u.length),k=s>S?new Array(S=s-S+1).join(r):"";return M&&(x=i(k+x,k.length?s-b.length:1/0)),u+=v,n=x+b,("<"===a?u+n+k:">"===a?k+u+n:"^"===a?k.substring(0,S>>=1)+u+n+k.substring(S):u+(M?n:k+n))+e}}}function Fn(n){return n+""}function Hn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function On(n,t,e){function r(t){var e=n(t),r=i(e,1);return r-t>t-e?e:r}function u(e){return t(e=n(new go(e-1)),1),e}function i(n,e){return t(n=new go(+n),e),n}function a(n,r,i){var a=u(n),o=[];if(i>1)for(;r>a;)e(a)%i||o.push(new Date(+a)),t(a,1);else for(;r>a;)o.push(new Date(+a)),t(a,1);return o}function o(n,t,e){try{go=Hn;var r=new Hn;return r._=n,a(r,t,e)}finally{go=Date}}n.floor=n,n.round=r,n.ceil=u,n.offset=i,n.range=a;var l=n.utc=In(n);return l.floor=l,l.round=In(r),l.ceil=In(u),l.offset=In(i),l.range=o,n}function In(n){return function(t,e){try{go=Hn;var r=new Hn;return r._=t,n(r,e)._}finally{go=Date}}}function Yn(n){function t(n){function t(t){for(var e,u,i,a=[],o=-1,l=0;++o<r;)37===n.charCodeAt(o)&&(a.push(n.slice(l,o)),null!=(u=vo[e=n.charAt(++o)])&&(e=n.charAt(++o)),(i=A[e])&&(e=i(t,null==u?"e"===e?" ":"0":u)),a.push(e),l=o+1);return a.push(n.slice(l,o)),a.join("")}var r=n.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},u=e(r,n,t,0);if(u!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&go!==Hn,a=new(i?Hn:go);return"j"in r?a.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?a._:a},t.toString=function(){return n},t}function e(n,t,e,r){for(var u,i,a,o=0,l=t.length,c=e.length;l>o;){if(r>=c)return-1;if(u=t.charCodeAt(o++),37===u){if(a=t.charAt(o++),i=C[a in vo?t.charAt(o++):a],!i||(r=i(n,e,r))<0)return-1}else if(u!=e.charCodeAt(r++))return-1}return r}function r(n,t,e){_.lastIndex=0;var r=_.exec(t.slice(e));return r?(n.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function u(n,t,e){x.lastIndex=0;var r=x.exec(t.slice(e));return r?(n.w=b.get(r[0].toLowerCase()),e+r[0].length):-1}function i(n,t,e){N.lastIndex=0;var r=N.exec(t.slice(e));return r?(n.m=E.get(r[0].toLowerCase()),e+r[0].length):-1}function a(n,t,e){S.lastIndex=0;var r=S.exec(t.slice(e));return r?(n.m=k.get(r[0].toLowerCase()),e+r[0].length):-1}function o(n,t,r){return e(n,A.c.toString(),t,r)}function l(n,t,r){return e(n,A.x.toString(),t,r)}function c(n,t,r){return e(n,A.X.toString(),t,r)}function s(n,t,e){var r=M.get(t.slice(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}var f=n.dateTime,h=n.date,g=n.time,p=n.periods,v=n.days,d=n.shortDays,m=n.months,y=n.shortMonths;t.utc=function(n){function e(n){try{go=Hn;var t=new go;return t._=n,r(t)}finally{go=Date}}var r=t(n);return e.parse=function(n){try{go=Hn;var t=r.parse(n);return t&&t._}finally{go=Date}},e.toString=r.toString,e},t.multi=t.utc.multi=ct;var M=oa.map(),x=Vn(v),b=Xn(v),_=Vn(d),w=Xn(d),S=Vn(m),k=Xn(m),N=Vn(y),E=Xn(y);p.forEach(function(n,t){M.set(n.toLowerCase(),t)});var A={a:function(n){return d[n.getDay()]},A:function(n){return v[n.getDay()]},b:function(n){return y[n.getMonth()]},B:function(n){return m[n.getMonth()]},c:t(f),d:function(n,t){return Zn(n.getDate(),t,2)},e:function(n,t){return Zn(n.getDate(),t,2)},H:function(n,t){return Zn(n.getHours(),t,2)},I:function(n,t){return Zn(n.getHours()%12||12,t,2)},j:function(n,t){return Zn(1+ho.dayOfYear(n),t,3)},L:function(n,t){return Zn(n.getMilliseconds(),t,3)},m:function(n,t){return Zn(n.getMonth()+1,t,2)},M:function(n,t){return Zn(n.getMinutes(),t,2)},p:function(n){return p[+(n.getHours()>=12)]},S:function(n,t){return Zn(n.getSeconds(),t,2)},U:function(n,t){return Zn(ho.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return Zn(ho.mondayOfYear(n),t,2)},x:t(h),X:t(g),y:function(n,t){return Zn(n.getFullYear()%100,t,2)},Y:function(n,t){return Zn(n.getFullYear()%1e4,t,4)},Z:ot,"%":function(){return"%"}},C={a:r,A:u,b:i,B:a,c:o,d:tt,e:tt,H:rt,I:rt,j:et,L:at,m:nt,M:ut,p:s,S:it,U:Bn,w:$n,W:Wn,x:l,X:c,y:Gn,Y:Jn,Z:Kn,"%":lt};return t}function Zn(n,t,e){var r=0>n?"-":"",u=(r?-n:n)+"",i=u.length;return r+(e>i?new Array(e-i+1).join(t)+u:u)}function Vn(n){return new RegExp("^(?:"+n.map(oa.requote).join("|")+")","i")}function Xn(n){for(var t=new c,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function $n(n,t,e){mo.lastIndex=0;var r=mo.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Bn(n,t,e){mo.lastIndex=0;var r=mo.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1}function Wn(n,t,e){mo.lastIndex=0;var r=mo.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1}function Jn(n,t,e){mo.lastIndex=0;var r=mo.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Gn(n,t,e){mo.lastIndex=0;var r=mo.exec(t.slice(e,e+2));return r?(n.y=Qn(+r[0]),e+r[0].length):-1}function Kn(n,t,e){return/^[+-]\d{4}$/.test(t=t.slice(e,e+5))?(n.Z=-t,e+5):-1}function Qn(n){return n+(n>68?1900:2e3)}function nt(n,t,e){mo.lastIndex=0;var r=mo.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function tt(n,t,e){mo.lastIndex=0;var r=mo.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function et(n,t,e){mo.lastIndex=0;var r=mo.exec(t.slice(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function rt(n,t,e){mo.lastIndex=0;var r=mo.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function ut(n,t,e){mo.lastIndex=0;var r=mo.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function it(n,t,e){mo.lastIndex=0;var r=mo.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function at(n,t,e){mo.lastIndex=0;var r=mo.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function ot(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=Ma(t)/60|0,u=Ma(t)%60;return e+Zn(r,"0",2)+Zn(u,"0",2)}function lt(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function ct(n){for(var t=n.length,e=-1;++e<t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,r=n[e];!r[1](t);)r=n[++e];return r[0](t)}}function st(){}function ft(n,t,e){var r=e.s=n+t,u=r-n,i=r-u;e.t=n-i+(t-u)}function ht(n,t){n&&_o.hasOwnProperty(n.type)&&_o[n.type](n,t)}function gt(n,t,e){var r,u=-1,i=n.length-e;for(t.lineStart();++u<i;)r=n[u],t.point(r[0],r[1],r[2]);t.lineEnd()}function pt(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)gt(n[e],t,1);t.polygonEnd()}function vt(){function n(n,t){n*=Oa,t=t*Oa/2+Ua/4;var e=n-r,a=e>=0?1:-1,o=a*e,l=Math.cos(t),c=Math.sin(t),s=i*c,f=u*l+s*Math.cos(o),h=s*a*Math.sin(o);So.add(Math.atan2(h,f)),r=n,u=l,i=c}var t,e,r,u,i;ko.point=function(a,o){ko.point=n,r=(t=a)*Oa,u=Math.cos(o=(e=o)*Oa/2+Ua/4),i=Math.sin(o)},ko.lineEnd=function(){n(t,e)}}function dt(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function mt(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function yt(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Mt(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function xt(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function bt(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function _t(n){return[Math.atan2(n[1],n[0]),tn(n[2])]}function wt(n,t){return Ma(n[0]-t[0])<Da&&Ma(n[1]-t[1])<Da}function St(n,t){n*=Oa;var e=Math.cos(t*=Oa);kt(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function kt(n,t,e){++No,Ao+=(n-Ao)/No,Co+=(t-Co)/No,zo+=(e-zo)/No}function Nt(){function n(n,u){n*=Oa;var i=Math.cos(u*=Oa),a=i*Math.cos(n),o=i*Math.sin(n),l=Math.sin(u),c=Math.atan2(Math.sqrt((c=e*l-r*o)*c+(c=r*a-t*l)*c+(c=t*o-e*a)*c),t*a+e*o+r*l);Eo+=c,Lo+=c*(t+(t=a)),qo+=c*(e+(e=o)),To+=c*(r+(r=l)),kt(t,e,r)}var t,e,r;Uo.point=function(u,i){u*=Oa;var a=Math.cos(i*=Oa);t=a*Math.cos(u),e=a*Math.sin(u),r=Math.sin(i),Uo.point=n,kt(t,e,r)}}function Et(){Uo.point=St}function At(){function n(n,t){n*=Oa;var e=Math.cos(t*=Oa),a=e*Math.cos(n),o=e*Math.sin(n),l=Math.sin(t),c=u*l-i*o,s=i*a-r*l,f=r*o-u*a,h=Math.sqrt(c*c+s*s+f*f),g=r*a+u*o+i*l,p=h&&-nn(g)/h,v=Math.atan2(h,g);Ro+=p*c,Do+=p*s,Po+=p*f,Eo+=v,Lo+=v*(r+(r=a)),qo+=v*(u+(u=o)),To+=v*(i+(i=l)),kt(r,u,i)}var t,e,r,u,i;Uo.point=function(a,o){t=a,e=o,Uo.point=n,a*=Oa;var l=Math.cos(o*=Oa);r=l*Math.cos(a),u=l*Math.sin(a),i=Math.sin(o),kt(r,u,i)},Uo.lineEnd=function(){n(t,e),Uo.lineEnd=Et,Uo.point=St}}function Ct(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),e}function zt(){return!0}function Lt(n,t,e,r,u){var i=[],a=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e=n[0],r=n[t];if(wt(e,r)){u.lineStart();for(var o=0;t>o;++o)u.point((e=n[o])[0],e[1]);return void u.lineEnd()}var l=new Tt(e,n,null,!0),c=new Tt(e,null,l,!1);l.o=c,i.push(l),a.push(c),l=new Tt(r,n,null,!1),c=new Tt(r,null,l,!0),l.o=c,i.push(l),a.push(c)}}),a.sort(t),qt(i),qt(a),i.length){for(var o=0,l=e,c=a.length;c>o;++o)a[o].e=l=!l;for(var s,f,h=i[0];;){for(var g=h,p=!0;g.v;)if((g=g.n)===h)return;s=g.z,u.lineStart();do{if(g.v=g.o.v=!0,g.e){if(p)for(var o=0,c=s.length;c>o;++o)u.point((f=s[o])[0],f[1]);else r(g.x,g.n.x,1,u);g=g.n}else{if(p){s=g.p.z;for(var o=s.length-1;o>=0;--o)u.point((f=s[o])[0],f[1])}else r(g.x,g.p.x,-1,u);g=g.p}g=g.o,s=g.z,p=!p}while(!g.v);u.lineEnd()}}}function qt(n){if(t=n.length){for(var t,e,r=0,u=n[0];++r<t;)u.n=e=n[r],e.p=u,u=e;u.n=e=n[0],e.p=u}}function Tt(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Rt(n,t,e,r){return function(u,i){function a(t,e){var r=u(t,e);n(t=r[0],e=r[1])&&i.point(t,e)}function o(n,t){var e=u(n,t);d.point(e[0],e[1])}function l(){y.point=o,d.lineStart()}function c(){y.point=a,d.lineEnd()}function s(n,t){v.push([n,t]);var e=u(n,t);x.point(e[0],e[1])}function f(){x.lineStart(),v=[]}function h(){s(v[0][0],v[0][1]),x.lineEnd();var n,t=x.clean(),e=M.buffer(),r=e.length;if(v.pop(),p.push(v),v=null,r)if(1&t){n=e[0];var u,r=n.length-1,a=-1;if(r>0){for(b||(i.polygonStart(),b=!0),i.lineStart();++a<r;)i.point((u=n[a])[0],u[1]);i.lineEnd()}}else r>1&&2&t&&e.push(e.pop().concat(e.shift())),g.push(e.filter(Dt))}var g,p,v,d=t(i),m=u.invert(r[0],r[1]),y={point:a,lineStart:l,lineEnd:c,polygonStart:function(){y.point=s,y.lineStart=f,y.lineEnd=h,g=[],p=[]},polygonEnd:function(){y.point=a,y.lineStart=l,y.lineEnd=c,g=oa.merge(g);var n=Ot(m,p);g.length?(b||(i.polygonStart(),b=!0),Lt(g,Ut,n,e,i)):n&&(b||(i.polygonStart(),b=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),b&&(i.polygonEnd(),b=!1),g=p=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}},M=Pt(),x=t(M),b=!1;return y}}function Dt(n){return n.length>1}function Pt(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:b,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Ut(n,t){return((n=n.x)[0]<0?n[1]-Ha-Da:Ha-n[1])-((t=t.x)[0]<0?t[1]-Ha-Da:Ha-t[1])}function jt(n){var t,e=NaN,r=NaN,u=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(i,a){var o=i>0?Ua:-Ua,l=Ma(i-e);Ma(l-Ua)<Da?(n.point(e,r=(r+a)/2>0?Ha:-Ha),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(o,r),n.point(i,r),t=0):u!==o&&l>=Ua&&(Ma(e-u)<Da&&(e-=u*Da),Ma(i-o)<Da&&(i-=o*Da),r=Ft(e,r,i,a),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(o,r),t=0),n.point(e=i,r=a),u=o},lineEnd:function(){n.lineEnd(),e=r=NaN},clean:function(){return 2-t}}}function Ft(n,t,e,r){var u,i,a=Math.sin(n-e);return Ma(a)>Da?Math.atan((Math.sin(t)*(i=Math.cos(r))*Math.sin(e)-Math.sin(r)*(u=Math.cos(t))*Math.sin(n))/(u*i*a)):(t+r)/2}function Ht(n,t,e,r){var u;if(null==n)u=e*Ha,r.point(-Ua,u),r.point(0,u),r.point(Ua,u),r.point(Ua,0),r.point(Ua,-u),r.point(0,-u),r.point(-Ua,-u),r.point(-Ua,0),r.point(-Ua,u);else if(Ma(n[0]-t[0])>Da){var i=n[0]<t[0]?Ua:-Ua;u=e*i/2,r.point(-i,u),r.point(0,u),r.point(i,u)}else r.point(t[0],t[1])}function Ot(n,t){var e=n[0],r=n[1],u=[Math.sin(e),-Math.cos(e),0],i=0,a=0;So.reset();for(var o=0,l=t.length;l>o;++o){var c=t[o],s=c.length;if(s)for(var f=c[0],h=f[0],g=f[1]/2+Ua/4,p=Math.sin(g),v=Math.cos(g),d=1;;){d===s&&(d=0),n=c[d];var m=n[0],y=n[1]/2+Ua/4,M=Math.sin(y),x=Math.cos(y),b=m-h,_=b>=0?1:-1,w=_*b,S=w>Ua,k=p*M;if(So.add(Math.atan2(k*_*Math.sin(w),v*x+k*Math.cos(w))),i+=S?b+_*ja:b,S^h>=e^m>=e){var N=yt(dt(f),dt(n));bt(N);var E=yt(u,N);bt(E);var A=(S^b>=0?-1:1)*tn(E[2]);(r>A||r===A&&(N[0]||N[1]))&&(a+=S^b>=0?1:-1)}if(!d++)break;h=m,p=M,v=x,f=n}}return(-Da>i||Da>i&&0>So)^1&a}function It(n){function t(n,t){return Math.cos(n)*Math.cos(t)>i}function e(n){var e,i,l,c,s;return{lineStart:function(){c=l=!1,s=1},point:function(f,h){var g,p=[f,h],v=t(f,h),d=a?v?0:u(f,h):v?u(f+(0>f?Ua:-Ua),h):0;if(!e&&(c=l=v)&&n.lineStart(),v!==l&&(g=r(e,p),(wt(e,g)||wt(p,g))&&(p[0]+=Da,p[1]+=Da,v=t(p[0],p[1]))),v!==l)s=0,v?(n.lineStart(),g=r(p,e),n.point(g[0],g[1])):(g=r(e,p),n.point(g[0],g[1]),n.lineEnd()),e=g;else if(o&&e&&a^v){var m;d&i||!(m=r(p,e,!0))||(s=0,a?(n.lineStart(),n.point(m[0][0],m[0][1]),n.point(m[1][0],m[1][1]),n.lineEnd()):(n.point(m[1][0],m[1][1]),n.lineEnd(),n.lineStart(),n.point(m[0][0],m[0][1])))}!v||e&&wt(e,p)||n.point(p[0],p[1]),e=p,l=v,i=d},lineEnd:function(){l&&n.lineEnd(),e=null},clean:function(){return s|(c&&l)<<1}}}function r(n,t,e){var r=dt(n),u=dt(t),a=[1,0,0],o=yt(r,u),l=mt(o,o),c=o[0],s=l-c*c;if(!s)return!e&&n;var f=i*l/s,h=-i*c/s,g=yt(a,o),p=xt(a,f),v=xt(o,h);Mt(p,v);var d=g,m=mt(p,d),y=mt(d,d),M=m*m-y*(mt(p,p)-1);if(!(0>M)){var x=Math.sqrt(M),b=xt(d,(-m-x)/y);if(Mt(b,p),b=_t(b),!e)return b;var _,w=n[0],S=t[0],k=n[1],N=t[1];w>S&&(_=w,w=S,S=_);var E=S-w,A=Ma(E-Ua)<Da,C=A||Da>E;if(!A&&k>N&&(_=k,k=N,N=_),C?A?k+N>0^b[1]<(Ma(b[0]-w)<Da?k:N):k<=b[1]&&b[1]<=N:E>Ua^(w<=b[0]&&b[0]<=S)){var z=xt(d,(-m+x)/y);return Mt(z,p),[b,_t(z)]}}}function u(t,e){var r=a?n:Ua-n,u=0;return-r>t?u|=1:t>r&&(u|=2),-r>e?u|=4:e>r&&(u|=8),u}var i=Math.cos(n),a=i>0,o=Ma(i)>Da,l=ve(n,6*Oa);return Rt(t,e,l,a?[0,-n]:[-Ua,n-Ua])}function Yt(n,t,e,r){return function(u){var i,a=u.a,o=u.b,l=a.x,c=a.y,s=o.x,f=o.y,h=0,g=1,p=s-l,v=f-c;if(i=n-l,p||!(i>0)){if(i/=p,0>p){if(h>i)return;g>i&&(g=i)}else if(p>0){if(i>g)return;i>h&&(h=i)}if(i=e-l,p||!(0>i)){if(i/=p,0>p){if(i>g)return;i>h&&(h=i)}else if(p>0){if(h>i)return;g>i&&(g=i)}if(i=t-c,v||!(i>0)){if(i/=v,0>v){if(h>i)return;g>i&&(g=i)}else if(v>0){if(i>g)return;i>h&&(h=i)}if(i=r-c,v||!(0>i)){if(i/=v,0>v){if(i>g)return;i>h&&(h=i)}else if(v>0){if(h>i)return;g>i&&(g=i)}return h>0&&(u.a={x:l+h*p,y:c+h*v}),1>g&&(u.b={x:l+g*p,y:c+g*v}),u}}}}}}function Zt(n,t,e,r){function u(r,u){return Ma(r[0]-n)<Da?u>0?0:3:Ma(r[0]-e)<Da?u>0?2:1:Ma(r[1]-t)<Da?u>0?1:0:u>0?3:2}function i(n,t){return a(n.x,t.x)}function a(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(o){function l(n){for(var t=0,e=d.length,r=n[1],u=0;e>u;++u)for(var i,a=1,o=d[u],l=o.length,c=o[0];l>a;++a)i=o[a],c[1]<=r?i[1]>r&&Q(c,i,n)>0&&++t:i[1]<=r&&Q(c,i,n)<0&&--t,c=i;return 0!==t}function c(i,o,l,c){var s=0,f=0;if(null==i||(s=u(i,l))!==(f=u(o,l))||a(i,o)<0^l>0){do c.point(0===s||3===s?n:e,s>1?r:t);while((s=(s+l+4)%4)!==f)}else c.point(o[0],o[1])}function s(u,i){return u>=n&&e>=u&&i>=t&&r>=i}function f(n,t){s(n,t)&&o.point(n,t)}function h(){C.point=p,d&&d.push(m=[]),S=!0,w=!1,b=_=NaN}function g(){v&&(p(y,M),x&&w&&E.rejoin(),v.push(E.buffer())),C.point=f,w&&o.lineEnd()}function p(n,t){n=Math.max(-Fo,Math.min(Fo,n)),t=Math.max(-Fo,Math.min(Fo,t));var e=s(n,t);if(d&&m.push([n,t]),S)y=n,M=t,x=e,S=!1,e&&(o.lineStart(),o.point(n,t));else if(e&&w)o.point(n,t);else{var r={a:{x:b,y:_},b:{x:n,y:t}};A(r)?(w||(o.lineStart(),o.point(r.a.x,r.a.y)),o.point(r.b.x,r.b.y),e||o.lineEnd(),k=!1):e&&(o.lineStart(),o.point(n,t),k=!1)}b=n,_=t,w=e}var v,d,m,y,M,x,b,_,w,S,k,N=o,E=Pt(),A=Yt(n,t,e,r),C={point:f,lineStart:h,lineEnd:g,polygonStart:function(){o=E,v=[],d=[],k=!0},polygonEnd:function(){o=N,v=oa.merge(v);var t=l([n,r]),e=k&&t,u=v.length;(e||u)&&(o.polygonStart(),e&&(o.lineStart(),c(null,null,1,o),o.lineEnd()),u&&Lt(v,i,t,c,o),o.polygonEnd()),v=d=m=null}};return C}}function Vt(n){var t=0,e=Ua/3,r=oe(n),u=r(t,e);return u.parallels=function(n){return arguments.length?r(t=n[0]*Ua/180,e=n[1]*Ua/180):[t/Ua*180,e/Ua*180]},u}function Xt(n,t){function e(n,t){var e=Math.sqrt(i-2*u*Math.sin(t))/u;return[e*Math.sin(n*=u),a-e*Math.cos(n)]}var r=Math.sin(n),u=(r+Math.sin(t))/2,i=1+r*(2*u-r),a=Math.sqrt(i)/u;return e.invert=function(n,t){var e=a-t;return[Math.atan2(n,e)/u,tn((i-(n*n+e*e)*u*u)/(2*u))]},e}function $t(){function n(n,t){Oo+=u*n-r*t,r=n,u=t}var t,e,r,u;Xo.point=function(i,a){Xo.point=n,t=r=i,e=u=a},Xo.lineEnd=function(){n(t,e)}}function Bt(n,t){Io>n&&(Io=n),n>Zo&&(Zo=n),Yo>t&&(Yo=t),t>Vo&&(Vo=t)}function Wt(){function n(n,t){a.push("M",n,",",t,i)}function t(n,t){a.push("M",n,",",t),o.point=e}function e(n,t){a.push("L",n,",",t)}function r(){o.point=n}function u(){a.push("Z")}var i=Jt(4.5),a=[],o={point:n,lineStart:function(){o.point=t},lineEnd:r,polygonStart:function(){o.lineEnd=u},polygonEnd:function(){o.lineEnd=r,o.point=n},pointRadius:function(n){return i=Jt(n),o},result:function(){if(a.length){var n=a.join("");return a=[],n}}};return o}function Jt(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Gt(n,t){Ao+=n,Co+=t,++zo}function Kt(){function n(n,r){var u=n-t,i=r-e,a=Math.sqrt(u*u+i*i);Lo+=a*(t+n)/2,qo+=a*(e+r)/2,To+=a,Gt(t=n,e=r)}var t,e;Bo.point=function(r,u){Bo.point=n,Gt(t=r,e=u)}}function Qt(){Bo.point=Gt}function ne(){function n(n,t){var e=n-r,i=t-u,a=Math.sqrt(e*e+i*i);Lo+=a*(r+n)/2,qo+=a*(u+t)/2,To+=a,a=u*n-r*t,Ro+=a*(r+n),Do+=a*(u+t),Po+=3*a,Gt(r=n,u=t)}var t,e,r,u;Bo.point=function(i,a){Bo.point=n,Gt(t=r=i,e=u=a)},Bo.lineEnd=function(){n(t,e)}}function te(n){function t(t,e){n.moveTo(t+a,e),n.arc(t,e,a,0,ja)}function e(t,e){n.moveTo(t,e),o.point=r}function r(t,e){n.lineTo(t,e)}function u(){o.point=t}function i(){n.closePath()}var a=4.5,o={point:t,lineStart:function(){o.point=e},lineEnd:u,polygonStart:function(){o.lineEnd=i},polygonEnd:function(){o.lineEnd=u,o.point=t},pointRadius:function(n){return a=n,o},result:b};return o}function ee(n){function t(n){return(o?r:e)(n)}function e(t){return ie(t,function(e,r){e=n(e,r),t.point(e[0],e[1])})}function r(t){function e(e,r){e=n(e,r),t.point(e[0],e[1])}function r(){M=NaN,S.point=i,t.lineStart()}function i(e,r){var i=dt([e,r]),a=n(e,r);u(M,x,y,b,_,w,M=a[0],x=a[1],y=e,b=i[0],_=i[1],w=i[2],o,t),t.point(M,x)}function a(){S.point=e,t.lineEnd()}function l(){
r(),S.point=c,S.lineEnd=s}function c(n,t){i(f=n,h=t),g=M,p=x,v=b,d=_,m=w,S.point=i}function s(){u(M,x,y,b,_,w,g,p,f,v,d,m,o,t),S.lineEnd=a,a()}var f,h,g,p,v,d,m,y,M,x,b,_,w,S={point:e,lineStart:r,lineEnd:a,polygonStart:function(){t.polygonStart(),S.lineStart=l},polygonEnd:function(){t.polygonEnd(),S.lineStart=r}};return S}function u(t,e,r,o,l,c,s,f,h,g,p,v,d,m){var y=s-t,M=f-e,x=y*y+M*M;if(x>4*i&&d--){var b=o+g,_=l+p,w=c+v,S=Math.sqrt(b*b+_*_+w*w),k=Math.asin(w/=S),N=Ma(Ma(w)-1)<Da||Ma(r-h)<Da?(r+h)/2:Math.atan2(_,b),E=n(N,k),A=E[0],C=E[1],z=A-t,L=C-e,q=M*z-y*L;(q*q/x>i||Ma((y*z+M*L)/x-.5)>.3||a>o*g+l*p+c*v)&&(u(t,e,r,o,l,c,A,C,N,b/=S,_/=S,w,d,m),m.point(A,C),u(A,C,N,b,_,w,s,f,h,g,p,v,d,m))}}var i=.5,a=Math.cos(30*Oa),o=16;return t.precision=function(n){return arguments.length?(o=(i=n*n)>0&&16,t):Math.sqrt(i)},t}function re(n){var t=ee(function(t,e){return n([t*Ia,e*Ia])});return function(n){return le(t(n))}}function ue(n){this.stream=n}function ie(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function ae(n){return oe(function(){return n})()}function oe(n){function t(n){return n=o(n[0]*Oa,n[1]*Oa),[n[0]*h+l,c-n[1]*h]}function e(n){return n=o.invert((n[0]-l)/h,(c-n[1])/h),n&&[n[0]*Ia,n[1]*Ia]}function r(){o=Ct(a=fe(m,M,x),i);var n=i(v,d);return l=g-n[0]*h,c=p+n[1]*h,u()}function u(){return s&&(s.valid=!1,s=null),t}var i,a,o,l,c,s,f=ee(function(n,t){return n=i(n,t),[n[0]*h+l,c-n[1]*h]}),h=150,g=480,p=250,v=0,d=0,m=0,M=0,x=0,b=jo,_=y,w=null,S=null;return t.stream=function(n){return s&&(s.valid=!1),s=le(b(a,f(_(n)))),s.valid=!0,s},t.clipAngle=function(n){return arguments.length?(b=null==n?(w=n,jo):It((w=+n)*Oa),u()):w},t.clipExtent=function(n){return arguments.length?(S=n,_=n?Zt(n[0][0],n[0][1],n[1][0],n[1][1]):y,u()):S},t.scale=function(n){return arguments.length?(h=+n,r()):h},t.translate=function(n){return arguments.length?(g=+n[0],p=+n[1],r()):[g,p]},t.center=function(n){return arguments.length?(v=n[0]%360*Oa,d=n[1]%360*Oa,r()):[v*Ia,d*Ia]},t.rotate=function(n){return arguments.length?(m=n[0]%360*Oa,M=n[1]%360*Oa,x=n.length>2?n[2]%360*Oa:0,r()):[m*Ia,M*Ia,x*Ia]},oa.rebind(t,f,"precision"),function(){return i=n.apply(this,arguments),t.invert=i.invert&&e,r()}}function le(n){return ie(n,function(t,e){n.point(t*Oa,e*Oa)})}function ce(n,t){return[n,t]}function se(n,t){return[n>Ua?n-ja:-Ua>n?n+ja:n,t]}function fe(n,t,e){return n?t||e?Ct(ge(n),pe(t,e)):ge(n):t||e?pe(t,e):se}function he(n){return function(t,e){return t+=n,[t>Ua?t-ja:-Ua>t?t+ja:t,e]}}function ge(n){var t=he(n);return t.invert=he(-n),t}function pe(n,t){function e(n,t){var e=Math.cos(t),o=Math.cos(n)*e,l=Math.sin(n)*e,c=Math.sin(t),s=c*r+o*u;return[Math.atan2(l*i-s*a,o*r-c*u),tn(s*i+l*a)]}var r=Math.cos(n),u=Math.sin(n),i=Math.cos(t),a=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),o=Math.cos(n)*e,l=Math.sin(n)*e,c=Math.sin(t),s=c*i-l*a;return[Math.atan2(l*i+c*a,o*r+s*u),tn(s*r-o*u)]},e}function ve(n,t){var e=Math.cos(n),r=Math.sin(n);return function(u,i,a,o){var l=a*t;null!=u?(u=de(e,u),i=de(e,i),(a>0?i>u:u>i)&&(u+=a*ja)):(u=n+a*ja,i=n-.5*l);for(var c,s=u;a>0?s>i:i>s;s-=l)o.point((c=_t([e,-r*Math.cos(s),-r*Math.sin(s)]))[0],c[1])}}function de(n,t){var e=dt(t);e[0]-=n,bt(e);var r=nn(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-Da)%(2*Math.PI)}function me(n,t,e){var r=oa.range(n,t-Da,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function ye(n,t,e){var r=oa.range(n,t-Da,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function Me(n){return n.source}function xe(n){return n.target}function be(n,t,e,r){var u=Math.cos(t),i=Math.sin(t),a=Math.cos(r),o=Math.sin(r),l=u*Math.cos(n),c=u*Math.sin(n),s=a*Math.cos(e),f=a*Math.sin(e),h=2*Math.asin(Math.sqrt(an(r-t)+u*a*an(e-n))),g=1/Math.sin(h),p=h?function(n){var t=Math.sin(n*=h)*g,e=Math.sin(h-n)*g,r=e*l+t*s,u=e*c+t*f,a=e*i+t*o;return[Math.atan2(u,r)*Ia,Math.atan2(a,Math.sqrt(r*r+u*u))*Ia]}:function(){return[n*Ia,t*Ia]};return p.distance=h,p}function _e(){function n(n,u){var i=Math.sin(u*=Oa),a=Math.cos(u),o=Ma((n*=Oa)-t),l=Math.cos(o);Wo+=Math.atan2(Math.sqrt((o=a*Math.sin(o))*o+(o=r*i-e*a*l)*o),e*i+r*a*l),t=n,e=i,r=a}var t,e,r;Jo.point=function(u,i){t=u*Oa,e=Math.sin(i*=Oa),r=Math.cos(i),Jo.point=n},Jo.lineEnd=function(){Jo.point=Jo.lineEnd=b}}function we(n,t){function e(t,e){var r=Math.cos(t),u=Math.cos(e),i=n(r*u);return[i*u*Math.sin(t),i*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),u=t(r),i=Math.sin(u),a=Math.cos(u);return[Math.atan2(n*i,r*a),Math.asin(r&&e*i/r)]},e}function Se(n,t){function e(n,t){a>0?-Ha+Da>t&&(t=-Ha+Da):t>Ha-Da&&(t=Ha-Da);var e=a/Math.pow(u(t),i);return[e*Math.sin(i*n),a-e*Math.cos(i*n)]}var r=Math.cos(n),u=function(n){return Math.tan(Ua/4+n/2)},i=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(u(t)/u(n)),a=r*Math.pow(u(n),i)/i;return i?(e.invert=function(n,t){var e=a-t,r=K(i)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/i,2*Math.atan(Math.pow(a/r,1/i))-Ha]},e):Ne}function ke(n,t){function e(n,t){var e=i-t;return[e*Math.sin(u*n),i-e*Math.cos(u*n)]}var r=Math.cos(n),u=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),i=r/u+n;return Ma(u)<Da?ce:(e.invert=function(n,t){var e=i-t;return[Math.atan2(n,e)/u,i-K(u)*Math.sqrt(n*n+e*e)]},e)}function Ne(n,t){return[n,Math.log(Math.tan(Ua/4+t/2))]}function Ee(n){var t,e=ae(n),r=e.scale,u=e.translate,i=e.clipExtent;return e.scale=function(){var n=r.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.translate=function(){var n=u.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.clipExtent=function(n){var a=i.apply(e,arguments);if(a===e){if(t=null==n){var o=Ua*r(),l=u();i([[l[0]-o,l[1]-o],[l[0]+o,l[1]+o]])}}else t&&(a=null);return a},e.clipExtent(null)}function Ae(n,t){return[Math.log(Math.tan(Ua/4+t/2)),-n]}function Ce(n){return n[0]}function ze(n){return n[1]}function Le(n){for(var t=n.length,e=[0,1],r=2,u=2;t>u;u++){for(;r>1&&Q(n[e[r-2]],n[e[r-1]],n[u])<=0;)--r;e[r++]=u}return e.slice(0,r)}function qe(n,t){return n[0]-t[0]||n[1]-t[1]}function Te(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function Re(n,t,e,r){var u=n[0],i=e[0],a=t[0]-u,o=r[0]-i,l=n[1],c=e[1],s=t[1]-l,f=r[1]-c,h=(o*(l-c)-f*(u-i))/(f*a-o*s);return[u+h*a,l+h*s]}function De(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function Pe(){rr(this),this.edge=this.site=this.circle=null}function Ue(n){var t=ll.pop()||new Pe;return t.site=n,t}function je(n){Be(n),il.remove(n),ll.push(n),rr(n)}function Fe(n){var t=n.circle,e=t.x,r=t.cy,u={x:e,y:r},i=n.P,a=n.N,o=[n];je(n);for(var l=i;l.circle&&Ma(e-l.circle.x)<Da&&Ma(r-l.circle.cy)<Da;)i=l.P,o.unshift(l),je(l),l=i;o.unshift(l),Be(l);for(var c=a;c.circle&&Ma(e-c.circle.x)<Da&&Ma(r-c.circle.cy)<Da;)a=c.N,o.push(c),je(c),c=a;o.push(c),Be(c);var s,f=o.length;for(s=1;f>s;++s)c=o[s],l=o[s-1],nr(c.edge,l.site,c.site,u);l=o[0],c=o[f-1],c.edge=Ke(l.site,c.site,null,u),$e(l),$e(c)}function He(n){for(var t,e,r,u,i=n.x,a=n.y,o=il._;o;)if(r=Oe(o,a)-i,r>Da)o=o.L;else{if(u=i-Ie(o,a),!(u>Da)){r>-Da?(t=o.P,e=o):u>-Da?(t=o,e=o.N):t=e=o;break}if(!o.R){t=o;break}o=o.R}var l=Ue(n);if(il.insert(t,l),t||e){if(t===e)return Be(t),e=Ue(t.site),il.insert(l,e),l.edge=e.edge=Ke(t.site,l.site),$e(t),void $e(e);if(!e)return void(l.edge=Ke(t.site,l.site));Be(t),Be(e);var c=t.site,s=c.x,f=c.y,h=n.x-s,g=n.y-f,p=e.site,v=p.x-s,d=p.y-f,m=2*(h*d-g*v),y=h*h+g*g,M=v*v+d*d,x={x:(d*y-g*M)/m+s,y:(h*M-v*y)/m+f};nr(e.edge,c,p,x),l.edge=Ke(c,n,null,x),e.edge=Ke(n,p,null,x),$e(t),$e(e)}}function Oe(n,t){var e=n.site,r=e.x,u=e.y,i=u-t;if(!i)return r;var a=n.P;if(!a)return-(1/0);e=a.site;var o=e.x,l=e.y,c=l-t;if(!c)return o;var s=o-r,f=1/i-1/c,h=s/c;return f?(-h+Math.sqrt(h*h-2*f*(s*s/(-2*c)-l+c/2+u-i/2)))/f+r:(r+o)/2}function Ie(n,t){var e=n.N;if(e)return Oe(e,t);var r=n.site;return r.y===t?r.x:1/0}function Ye(n){this.site=n,this.edges=[]}function Ze(n){for(var t,e,r,u,i,a,o,l,c,s,f=n[0][0],h=n[1][0],g=n[0][1],p=n[1][1],v=ul,d=v.length;d--;)if(i=v[d],i&&i.prepare())for(o=i.edges,l=o.length,a=0;l>a;)s=o[a].end(),r=s.x,u=s.y,c=o[++a%l].start(),t=c.x,e=c.y,(Ma(r-t)>Da||Ma(u-e)>Da)&&(o.splice(a,0,new tr(Qe(i.site,s,Ma(r-f)<Da&&p-u>Da?{x:f,y:Ma(t-f)<Da?e:p}:Ma(u-p)<Da&&h-r>Da?{x:Ma(e-p)<Da?t:h,y:p}:Ma(r-h)<Da&&u-g>Da?{x:h,y:Ma(t-h)<Da?e:g}:Ma(u-g)<Da&&r-f>Da?{x:Ma(e-g)<Da?t:f,y:g}:null),i.site,null)),++l)}function Ve(n,t){return t.angle-n.angle}function Xe(){rr(this),this.x=this.y=this.arc=this.site=this.cy=null}function $e(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,u=n.site,i=e.site;if(r!==i){var a=u.x,o=u.y,l=r.x-a,c=r.y-o,s=i.x-a,f=i.y-o,h=2*(l*f-c*s);if(!(h>=-Pa)){var g=l*l+c*c,p=s*s+f*f,v=(f*g-c*p)/h,d=(l*p-s*g)/h,f=d+o,m=cl.pop()||new Xe;m.arc=n,m.site=u,m.x=v+a,m.y=f+Math.sqrt(v*v+d*d),m.cy=f,n.circle=m;for(var y=null,M=ol._;M;)if(m.y<M.y||m.y===M.y&&m.x<=M.x){if(!M.L){y=M.P;break}M=M.L}else{if(!M.R){y=M;break}M=M.R}ol.insert(y,m),y||(al=m)}}}}function Be(n){var t=n.circle;t&&(t.P||(al=t.N),ol.remove(t),cl.push(t),rr(t),n.circle=null)}function We(n){for(var t,e=rl,r=Yt(n[0][0],n[0][1],n[1][0],n[1][1]),u=e.length;u--;)t=e[u],(!Je(t,n)||!r(t)||Ma(t.a.x-t.b.x)<Da&&Ma(t.a.y-t.b.y)<Da)&&(t.a=t.b=null,e.splice(u,1))}function Je(n,t){var e=n.b;if(e)return!0;var r,u,i=n.a,a=t[0][0],o=t[1][0],l=t[0][1],c=t[1][1],s=n.l,f=n.r,h=s.x,g=s.y,p=f.x,v=f.y,d=(h+p)/2,m=(g+v)/2;if(v===g){if(a>d||d>=o)return;if(h>p){if(i){if(i.y>=c)return}else i={x:d,y:l};e={x:d,y:c}}else{if(i){if(i.y<l)return}else i={x:d,y:c};e={x:d,y:l}}}else if(r=(h-p)/(v-g),u=m-r*d,-1>r||r>1)if(h>p){if(i){if(i.y>=c)return}else i={x:(l-u)/r,y:l};e={x:(c-u)/r,y:c}}else{if(i){if(i.y<l)return}else i={x:(c-u)/r,y:c};e={x:(l-u)/r,y:l}}else if(v>g){if(i){if(i.x>=o)return}else i={x:a,y:r*a+u};e={x:o,y:r*o+u}}else{if(i){if(i.x<a)return}else i={x:o,y:r*o+u};e={x:a,y:r*a+u}}return n.a=i,n.b=e,!0}function Ge(n,t){this.l=n,this.r=t,this.a=this.b=null}function Ke(n,t,e,r){var u=new Ge(n,t);return rl.push(u),e&&nr(u,n,t,e),r&&nr(u,t,n,r),ul[n.i].edges.push(new tr(u,n,t)),ul[t.i].edges.push(new tr(u,t,n)),u}function Qe(n,t,e){var r=new Ge(n,null);return r.a=t,r.b=e,rl.push(r),r}function nr(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function tr(n,t,e){var r=n.a,u=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(u.x-r.x,r.y-u.y):Math.atan2(r.x-u.x,u.y-r.y)}function er(){this._=null}function rr(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function ur(n,t){var e=t,r=t.R,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function ir(n,t){var e=t,r=t.L,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function ar(n){for(;n.L;)n=n.L;return n}function or(n,t){var e,r,u,i=n.sort(lr).pop();for(rl=[],ul=new Array(n.length),il=new er,ol=new er;;)if(u=al,i&&(!u||i.y<u.y||i.y===u.y&&i.x<u.x))(i.x!==e||i.y!==r)&&(ul[i.i]=new Ye(i),He(i),e=i.x,r=i.y),i=n.pop();else{if(!u)break;Fe(u.arc)}t&&(We(t),Ze(t));var a={cells:ul,edges:rl};return il=ol=rl=ul=null,a}function lr(n,t){return t.y-n.y||t.x-n.x}function cr(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}function sr(n){return n.x}function fr(n){return n.y}function hr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function gr(n,t,e,r,u,i){if(!n(t,e,r,u,i)){var a=.5*(e+u),o=.5*(r+i),l=t.nodes;l[0]&&gr(n,l[0],e,r,a,o),l[1]&&gr(n,l[1],a,r,u,o),l[2]&&gr(n,l[2],e,o,a,i),l[3]&&gr(n,l[3],a,o,u,i)}}function pr(n,t,e,r,u,i,a){var o,l=1/0;return function c(n,s,f,h,g){if(!(s>i||f>a||r>h||u>g)){if(p=n.point){var p,v=t-n.x,d=e-n.y,m=v*v+d*d;if(l>m){var y=Math.sqrt(l=m);r=t-y,u=e-y,i=t+y,a=e+y,o=p}}for(var M=n.nodes,x=.5*(s+h),b=.5*(f+g),_=t>=x,w=e>=b,S=w<<1|_,k=S+4;k>S;++S)if(n=M[3&S])switch(3&S){case 0:c(n,s,f,x,b);break;case 1:c(n,x,f,h,b);break;case 2:c(n,s,b,x,g);break;case 3:c(n,x,b,h,g)}}}(n,r,u,i,a),o}function vr(n,t){n=oa.rgb(n),t=oa.rgb(t);var e=n.r,r=n.g,u=n.b,i=t.r-e,a=t.g-r,o=t.b-u;return function(n){return"#"+bn(Math.round(e+i*n))+bn(Math.round(r+a*n))+bn(Math.round(u+o*n))}}function dr(n,t){var e,r={},u={};for(e in n)e in t?r[e]=Mr(n[e],t[e]):u[e]=n[e];for(e in t)e in n||(u[e]=t[e]);return function(n){for(e in r)u[e]=r[e](n);return u}}function mr(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function yr(n,t){var e,r,u,i=fl.lastIndex=hl.lastIndex=0,a=-1,o=[],l=[];for(n+="",t+="";(e=fl.exec(n))&&(r=hl.exec(t));)(u=r.index)>i&&(u=t.slice(i,u),o[a]?o[a]+=u:o[++a]=u),(e=e[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,l.push({i:a,x:mr(e,r)})),i=hl.lastIndex;return i<t.length&&(u=t.slice(i),o[a]?o[a]+=u:o[++a]=u),o.length<2?l[0]?(t=l[0].x,function(n){return t(n)+""}):function(){return t}:(t=l.length,function(n){for(var e,r=0;t>r;++r)o[(e=l[r]).i]=e.x(n);return o.join("")})}function Mr(n,t){for(var e,r=oa.interpolators.length;--r>=0&&!(e=oa.interpolators[r](n,t)););return e}function xr(n,t){var e,r=[],u=[],i=n.length,a=t.length,o=Math.min(n.length,t.length);for(e=0;o>e;++e)r.push(Mr(n[e],t[e]));for(;i>e;++e)u[e]=n[e];for(;a>e;++e)u[e]=t[e];return function(n){for(e=0;o>e;++e)u[e]=r[e](n);return u}}function br(n){return function(t){return 0>=t?0:t>=1?1:n(t)}}function _r(n){return function(t){return 1-n(1-t)}}function wr(n){return function(t){return.5*(.5>t?n(2*t):2-n(2-2*t))}}function Sr(n){return n*n}function kr(n){return n*n*n}function Nr(n){if(0>=n)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(.5>n?e:3*(n-t)+e-.75)}function Er(n){return function(t){return Math.pow(t,n)}}function Ar(n){return 1-Math.cos(n*Ha)}function Cr(n){return Math.pow(2,10*(n-1))}function zr(n){return 1-Math.sqrt(1-n*n)}function Lr(n,t){var e;return arguments.length<2&&(t=.45),arguments.length?e=t/ja*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*ja/t)}}function qr(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function Tr(n){return 1/2.75>n?7.5625*n*n:2/2.75>n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75>n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function Rr(n,t){n=oa.hcl(n),t=oa.hcl(t);var e=n.h,r=n.c,u=n.l,i=t.h-e,a=t.c-r,o=t.l-u;return isNaN(a)&&(a=0,r=isNaN(r)?t.c:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return fn(e+i*n,r+a*n,u+o*n)+""}}function Dr(n,t){n=oa.hsl(n),t=oa.hsl(t);var e=n.h,r=n.s,u=n.l,i=t.h-e,a=t.s-r,o=t.l-u;return isNaN(a)&&(a=0,r=isNaN(r)?t.s:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return cn(e+i*n,r+a*n,u+o*n)+""}}function Pr(n,t){n=oa.lab(n),t=oa.lab(t);var e=n.l,r=n.a,u=n.b,i=t.l-e,a=t.a-r,o=t.b-u;return function(n){return gn(e+i*n,r+a*n,u+o*n)+""}}function Ur(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function jr(n){var t=[n.a,n.b],e=[n.c,n.d],r=Hr(t),u=Fr(t,e),i=Hr(Or(e,t,-u))||0;t[0]*e[1]<e[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,u*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Ia,this.translate=[n.e,n.f],this.scale=[r,i],this.skew=i?Math.atan2(u,i)*Ia:0}function Fr(n,t){return n[0]*t[0]+n[1]*t[1]}function Hr(n){var t=Math.sqrt(Fr(n,n));return t&&(n[0]/=t,n[1]/=t),t}function Or(n,t,e){return n[0]+=e*t[0],n[1]+=e*t[1],n}function Ir(n){return n.length?n.pop()+",":""}function Yr(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var u=e.push("translate(",null,",",null,")");r.push({i:u-4,x:mr(n[0],t[0])},{i:u-2,x:mr(n[1],t[1])})}else(t[0]||t[1])&&e.push("translate("+t+")")}function Zr(n,t,e,r){n!==t?(n-t>180?t+=360:t-n>180&&(n+=360),r.push({i:e.push(Ir(e)+"rotate(",null,")")-2,x:mr(n,t)})):t&&e.push(Ir(e)+"rotate("+t+")")}function Vr(n,t,e,r){n!==t?r.push({i:e.push(Ir(e)+"skewX(",null,")")-2,x:mr(n,t)}):t&&e.push(Ir(e)+"skewX("+t+")")}function Xr(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var u=e.push(Ir(e)+"scale(",null,",",null,")");r.push({i:u-4,x:mr(n[0],t[0])},{i:u-2,x:mr(n[1],t[1])})}else(1!==t[0]||1!==t[1])&&e.push(Ir(e)+"scale("+t+")")}function $r(n,t){var e=[],r=[];return n=oa.transform(n),t=oa.transform(t),Yr(n.translate,t.translate,e,r),Zr(n.rotate,t.rotate,e,r),Vr(n.skew,t.skew,e,r),Xr(n.scale,t.scale,e,r),n=t=null,function(n){for(var t,u=-1,i=r.length;++u<i;)e[(t=r[u]).i]=t.x(n);return e.join("")}}function Br(n,t){return t=(t-=n=+n)||1/t,function(e){return(e-n)/t}}function Wr(n,t){return t=(t-=n=+n)||1/t,function(e){return Math.max(0,Math.min(1,(e-n)/t))}}function Jr(n){for(var t=n.source,e=n.target,r=Kr(t,e),u=[t];t!==r;)t=t.parent,u.push(t);for(var i=u.length;e!==r;)u.splice(i,0,e),e=e.parent;return u}function Gr(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function Kr(n,t){if(n===t)return n;for(var e=Gr(n),r=Gr(t),u=e.pop(),i=r.pop(),a=null;u===i;)a=u,u=e.pop(),i=r.pop();return a}function Qr(n){n.fixed|=2}function nu(n){n.fixed&=-7}function tu(n){n.fixed|=4,n.px=n.x,n.py=n.y}function eu(n){n.fixed&=-5}function ru(n,t,e){var r=0,u=0;if(n.charge=0,!n.leaf)for(var i,a=n.nodes,o=a.length,l=-1;++l<o;)i=a[l],null!=i&&(ru(i,t,e),n.charge+=i.charge,r+=i.charge*i.cx,u+=i.charge*i.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var c=t*e[n.point.index];n.charge+=n.pointCharge=c,r+=c*n.point.x,u+=c*n.point.y}n.cx=r/n.charge,n.cy=u/n.charge}function uu(n,t){return oa.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=su,n}function iu(n,t){for(var e=[n];null!=(n=e.pop());)if(t(n),(u=n.children)&&(r=u.length))for(var r,u;--r>=0;)e.push(u[r])}function au(n,t){for(var e=[n],r=[];null!=(n=e.pop());)if(r.push(n),(i=n.children)&&(u=i.length))for(var u,i,a=-1;++a<u;)e.push(i[a]);for(;null!=(n=r.pop());)t(n)}function ou(n){return n.children}function lu(n){return n.value}function cu(n,t){return t.value-n.value}function su(n){return oa.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function fu(n){return n.x}function hu(n){return n.y}function gu(n,t,e){n.y0=t,n.y=e}function pu(n){return oa.range(n.length)}function vu(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function du(n){for(var t,e=1,r=0,u=n[0][1],i=n.length;i>e;++e)(t=n[e][1])>u&&(r=e,u=t);return r}function mu(n){return n.reduce(yu,0)}function yu(n,t){return n+t[1]}function Mu(n,t){return xu(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function xu(n,t){for(var e=-1,r=+n[0],u=(n[1]-r)/t,i=[];++e<=t;)i[e]=u*e+r;return i}function bu(n){return[oa.min(n),oa.max(n)]}function _u(n,t){return n.value-t.value}function wu(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function Su(n,t){n._pack_next=t,t._pack_prev=n}function ku(n,t){var e=t.x-n.x,r=t.y-n.y,u=n.r+t.r;return.999*u*u>e*e+r*r}function Nu(n){function t(n){s=Math.min(n.x-n.r,s),f=Math.max(n.x+n.r,f),h=Math.min(n.y-n.r,h),g=Math.max(n.y+n.r,g)}if((e=n.children)&&(c=e.length)){var e,r,u,i,a,o,l,c,s=1/0,f=-(1/0),h=1/0,g=-(1/0);if(e.forEach(Eu),r=e[0],r.x=-r.r,r.y=0,t(r),c>1&&(u=e[1],u.x=u.r,u.y=0,t(u),c>2))for(i=e[2],zu(r,u,i),t(i),wu(r,i),r._pack_prev=i,wu(i,u),u=r._pack_next,a=3;c>a;a++){zu(r,u,i=e[a]);var p=0,v=1,d=1;for(o=u._pack_next;o!==u;o=o._pack_next,v++)if(ku(o,i)){p=1;break}if(1==p)for(l=r._pack_prev;l!==o._pack_prev&&!ku(l,i);l=l._pack_prev,d++);p?(d>v||v==d&&u.r<r.r?Su(r,u=o):Su(r=l,u),a--):(wu(r,i),u=i,t(i))}var m=(s+f)/2,y=(h+g)/2,M=0;for(a=0;c>a;a++)i=e[a],i.x-=m,i.y-=y,M=Math.max(M,i.r+Math.sqrt(i.x*i.x+i.y*i.y));n.r=M,e.forEach(Au)}}function Eu(n){n._pack_next=n._pack_prev=n}function Au(n){delete n._pack_next,delete n._pack_prev}function Cu(n,t,e,r){var u=n.children;if(n.x=t+=r*n.x,n.y=e+=r*n.y,n.r*=r,u)for(var i=-1,a=u.length;++i<a;)Cu(u[i],t,e,r)}function zu(n,t,e){var r=n.r+e.r,u=t.x-n.x,i=t.y-n.y;if(r&&(u||i)){var a=t.r+e.r,o=u*u+i*i;a*=a,r*=r;var l=.5+(r-a)/(2*o),c=Math.sqrt(Math.max(0,2*a*(r+o)-(r-=o)*r-a*a))/(2*o);e.x=n.x+l*u+c*i,e.y=n.y+l*i-c*u}else e.x=n.x+r,e.y=n.y}function Lu(n,t){return n.parent==t.parent?1:2}function qu(n){var t=n.children;return t.length?t[0]:n.t}function Tu(n){var t,e=n.children;return(t=e.length)?e[t-1]:n.t}function Ru(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function Du(n){for(var t,e=0,r=0,u=n.children,i=u.length;--i>=0;)t=u[i],t.z+=e,t.m+=e,e+=t.s+(r+=t.c)}function Pu(n,t,e){return n.a.parent===t.parent?n.a:e}function Uu(n){return 1+oa.max(n,function(n){return n.y})}function ju(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function Fu(n){var t=n.children;return t&&t.length?Fu(t[0]):n}function Hu(n){var t,e=n.children;return e&&(t=e.length)?Hu(e[t-1]):n}function Ou(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Iu(n,t){var e=n.x+t[3],r=n.y+t[0],u=n.dx-t[1]-t[3],i=n.dy-t[0]-t[2];return 0>u&&(e+=u/2,u=0),0>i&&(r+=i/2,i=0),{x:e,y:r,dx:u,dy:i}}function Yu(n){var t=n[0],e=n[n.length-1];return e>t?[t,e]:[e,t]}function Zu(n){return n.rangeExtent?n.rangeExtent():Yu(n.range())}function Vu(n,t,e,r){var u=e(n[0],n[1]),i=r(t[0],t[1]);return function(n){return i(u(n))}}function Xu(n,t){var e,r=0,u=n.length-1,i=n[r],a=n[u];return i>a&&(e=r,r=u,u=e,e=i,i=a,a=e),n[r]=t.floor(i),n[u]=t.ceil(a),n}function $u(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:wl}function Bu(n,t,e,r){var u=[],i=[],a=0,o=Math.min(n.length,t.length)-1;for(n[o]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<=o;)u.push(e(n[a-1],n[a])),i.push(r(t[a-1],t[a]));return function(t){var e=oa.bisect(n,t,1,o)-1;return i[e](u[e](t))}}function Wu(n,t,e,r){function u(){var u=Math.min(n.length,t.length)>2?Bu:Vu,l=r?Wr:Br;return a=u(n,t,l,e),o=u(t,n,l,Mr),i}function i(n){return a(n)}var a,o;return i.invert=function(n){return o(n)},i.domain=function(t){return arguments.length?(n=t.map(Number),u()):n},i.range=function(n){return arguments.length?(t=n,u()):t},i.rangeRound=function(n){return i.range(n).interpolate(Ur)},i.clamp=function(n){return arguments.length?(r=n,u()):r},i.interpolate=function(n){return arguments.length?(e=n,u()):e},i.ticks=function(t){return Qu(n,t)},i.tickFormat=function(t,e){return ni(n,t,e)},i.nice=function(t){return Gu(n,t),u()},i.copy=function(){return Wu(n,t,e,r)},u()}function Ju(n,t){return oa.rebind(n,t,"range","rangeRound","interpolate","clamp")}function Gu(n,t){return Xu(n,$u(Ku(n,t)[2])),Xu(n,$u(Ku(n,t)[2])),n}function Ku(n,t){null==t&&(t=10);var e=Yu(n),r=e[1]-e[0],u=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),i=t/r*u;return.15>=i?u*=10:.35>=i?u*=5:.75>=i&&(u*=2),e[0]=Math.ceil(e[0]/u)*u,e[1]=Math.floor(e[1]/u)*u+.5*u,e[2]=u,e}function Qu(n,t){return oa.range.apply(oa,Ku(n,t))}function ni(n,t,e){var r=Ku(n,t);if(e){var u=so.exec(e);if(u.shift(),"s"===u[8]){var i=oa.formatPrefix(Math.max(Ma(r[0]),Ma(r[1])));return u[7]||(u[7]="."+ti(i.scale(r[2]))),u[8]="f",e=oa.format(u.join("")),function(n){return e(i.scale(n))+i.symbol}}u[7]||(u[7]="."+ei(u[8],r)),e=u.join("")}else e=",."+ti(r[2])+"f";return oa.format(e)}function ti(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function ei(n,t){var e=ti(t[2]);return n in Sl?Math.abs(e-ti(Math.max(Ma(t[0]),Ma(t[1]))))+ +("e"!==n):e-2*("%"===n)}function ri(n,t,e,r){function u(n){return(e?Math.log(0>n?0:n):-Math.log(n>0?0:-n))/Math.log(t)}function i(n){return e?Math.pow(t,n):-Math.pow(t,-n)}function a(t){return n(u(t))}return a.invert=function(t){return i(n.invert(t))},a.domain=function(t){return arguments.length?(e=t[0]>=0,n.domain((r=t.map(Number)).map(u)),a):r},a.base=function(e){return arguments.length?(t=+e,n.domain(r.map(u)),a):t},a.nice=function(){var t=Xu(r.map(u),e?Math:Nl);return n.domain(t),r=t.map(i),a},a.ticks=function(){var n=Yu(r),a=[],o=n[0],l=n[1],c=Math.floor(u(o)),s=Math.ceil(u(l)),f=t%1?2:t;if(isFinite(s-c)){if(e){for(;s>c;c++)for(var h=1;f>h;h++)a.push(i(c)*h);a.push(i(c))}else for(a.push(i(c));c++<s;)for(var h=f-1;h>0;h--)a.push(i(c)*h);for(c=0;a[c]<o;c++);for(s=a.length;a[s-1]>l;s--);a=a.slice(c,s)}return a},a.tickFormat=function(n,e){if(!arguments.length)return kl;arguments.length<2?e=kl:"function"!=typeof e&&(e=oa.format(e));var r=Math.max(1,t*n/a.ticks().length);return function(n){var a=n/i(Math.round(u(n)));return t-.5>a*t&&(a*=t),r>=a?e(n):""}},a.copy=function(){return ri(n.copy(),t,e,r)},Ju(a,n)}function ui(n,t,e){function r(t){return n(u(t))}var u=ii(t),i=ii(1/t);return r.invert=function(t){return i(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((e=t.map(Number)).map(u)),r):e},r.ticks=function(n){return Qu(e,n)},r.tickFormat=function(n,t){return ni(e,n,t)},r.nice=function(n){return r.domain(Gu(e,n))},r.exponent=function(a){return arguments.length?(u=ii(t=a),i=ii(1/t),n.domain(e.map(u)),r):t},r.copy=function(){return ui(n.copy(),t,e)},Ju(r,n)}function ii(n){return function(t){return 0>t?-Math.pow(-t,n):Math.pow(t,n)}}function ai(n,t){function e(e){return i[((u.get(e)||("range"===t.t?u.set(e,n.push(e)):NaN))-1)%i.length]}function r(t,e){return oa.range(n.length).map(function(n){return t+e*n})}var u,i,a;return e.domain=function(r){if(!arguments.length)return n;n=[],u=new c;for(var i,a=-1,o=r.length;++a<o;)u.has(i=r[a])||u.set(i,n.push(i));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length?(i=n,a=0,t={t:"range",a:arguments},e):i},e.rangePoints=function(u,o){arguments.length<2&&(o=0);var l=u[0],c=u[1],s=n.length<2?(l=(l+c)/2,0):(c-l)/(n.length-1+o);return i=r(l+s*o/2,s),a=0,t={t:"rangePoints",a:arguments},e},e.rangeRoundPoints=function(u,o){arguments.length<2&&(o=0);var l=u[0],c=u[1],s=n.length<2?(l=c=Math.round((l+c)/2),0):(c-l)/(n.length-1+o)|0;return i=r(l+Math.round(s*o/2+(c-l-(n.length-1+o)*s)/2),s),a=0,t={t:"rangeRoundPoints",a:arguments},e},e.rangeBands=function(u,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var c=u[1]<u[0],s=u[c-0],f=u[1-c],h=(f-s)/(n.length-o+2*l);return i=r(s+h*l,h),c&&i.reverse(),a=h*(1-o),t={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(u,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var c=u[1]<u[0],s=u[c-0],f=u[1-c],h=Math.floor((f-s)/(n.length-o+2*l));return i=r(s+Math.round((f-s-(n.length-o)*h)/2),h),c&&i.reverse(),a=Math.round(h*(1-o)),t={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return a},e.rangeExtent=function(){return Yu(t.a[0])},e.copy=function(){return ai(n,t)},e.domain(n)}function oi(n,t){function i(){var e=0,r=t.length;for(o=[];++e<r;)o[e-1]=oa.quantile(n,e/r);return a}function a(n){return isNaN(n=+n)?void 0:t[oa.bisect(o,n)]}var o;return a.domain=function(t){return arguments.length?(n=t.map(r).filter(u).sort(e),i()):n},a.range=function(n){return arguments.length?(t=n,i()):t},a.quantiles=function(){return o},a.invertExtent=function(e){return e=t.indexOf(e),0>e?[NaN,NaN]:[e>0?o[e-1]:n[0],e<o.length?o[e]:n[n.length-1]]},a.copy=function(){return oi(n,t)},i()}function li(n,t,e){function r(t){return e[Math.max(0,Math.min(a,Math.floor(i*(t-n))))]}function u(){return i=e.length/(t-n),a=e.length-1,r}var i,a;return r.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],u()):[n,t]},r.range=function(n){return arguments.length?(e=n,u()):e},r.invertExtent=function(t){return t=e.indexOf(t),t=0>t?NaN:t/i+n,[t,t+1/i]},r.copy=function(){return li(n,t,e)},u()}function ci(n,t){function e(e){return e>=e?t[oa.bisect(n,e)]:void 0}return e.domain=function(t){return arguments.length?(n=t,e):n},e.range=function(n){return arguments.length?(t=n,e):t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return ci(n,t)},e}function si(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return Qu(n,t)},t.tickFormat=function(t,e){return ni(n,t,e)},t.copy=function(){return si(n)},t}function fi(){return 0}function hi(n){return n.innerRadius}function gi(n){return n.outerRadius}function pi(n){return n.startAngle}function vi(n){return n.endAngle}function di(n){return n&&n.padAngle}function mi(n,t,e,r){return(n-e)*t-(t-r)*n>0?0:1}function yi(n,t,e,r,u){var i=n[0]-t[0],a=n[1]-t[1],o=(u?r:-r)/Math.sqrt(i*i+a*a),l=o*a,c=-o*i,s=n[0]+l,f=n[1]+c,h=t[0]+l,g=t[1]+c,p=(s+h)/2,v=(f+g)/2,d=h-s,m=g-f,y=d*d+m*m,M=e-r,x=s*g-h*f,b=(0>m?-1:1)*Math.sqrt(Math.max(0,M*M*y-x*x)),_=(x*m-d*b)/y,w=(-x*d-m*b)/y,S=(x*m+d*b)/y,k=(-x*d+m*b)/y,N=_-p,E=w-v,A=S-p,C=k-v;return N*N+E*E>A*A+C*C&&(_=S,w=k),[[_-l,w-c],[_*e/M,w*e/M]]}function Mi(n){function t(t){function a(){c.push("M",i(n(s),o))}for(var l,c=[],s=[],f=-1,h=t.length,g=En(e),p=En(r);++f<h;)u.call(this,l=t[f],f)?s.push([+g.call(this,l,f),+p.call(this,l,f)]):s.length&&(a(),s=[]);return s.length&&a(),c.length?c.join(""):null}var e=Ce,r=ze,u=zt,i=xi,a=i.key,o=.7;return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.defined=function(n){return arguments.length?(u=n,t):u},t.interpolate=function(n){return arguments.length?(a="function"==typeof n?i=n:(i=ql.get(n)||xi).key,t):a},t.tension=function(n){return arguments.length?(o=n,t):o},t}function xi(n){return n.length>1?n.join("L"):n+"Z"}function bi(n){return n.join("L")+"Z"}function _i(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return e>1&&u.push("H",r[0]),u.join("")}function wi(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("V",(r=n[t])[1],"H",r[0]);return u.join("")}function Si(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r=n[t])[0],"V",r[1]);return u.join("")}function ki(n,t){return n.length<4?xi(n):n[1]+Ai(n.slice(1,-1),Ci(n,t))}function Ni(n,t){return n.length<3?bi(n):n[0]+Ai((n.push(n[0]),n),Ci([n[n.length-2]].concat(n,[n[1]]),t))}function Ei(n,t){return n.length<3?xi(n):n[0]+Ai(n,Ci(n,t))}function Ai(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return xi(n);var e=n.length!=t.length,r="",u=n[0],i=n[1],a=t[0],o=a,l=1;if(e&&(r+="Q"+(i[0]-2*a[0]/3)+","+(i[1]-2*a[1]/3)+","+i[0]+","+i[1],u=n[1],l=2),t.length>1){o=t[1],i=n[l],l++,r+="C"+(u[0]+a[0])+","+(u[1]+a[1])+","+(i[0]-o[0])+","+(i[1]-o[1])+","+i[0]+","+i[1];for(var c=2;c<t.length;c++,l++)i=n[l],o=t[c],r+="S"+(i[0]-o[0])+","+(i[1]-o[1])+","+i[0]+","+i[1]}if(e){var s=n[l];r+="Q"+(i[0]+2*o[0]/3)+","+(i[1]+2*o[1]/3)+","+s[0]+","+s[1]}return r}function Ci(n,t){for(var e,r=[],u=(1-t)/2,i=n[0],a=n[1],o=1,l=n.length;++o<l;)e=i,i=a,a=n[o],r.push([u*(a[0]-e[0]),u*(a[1]-e[1])]);return r}function zi(n){if(n.length<3)return xi(n);var t=1,e=n.length,r=n[0],u=r[0],i=r[1],a=[u,u,u,(r=n[1])[0]],o=[i,i,i,r[1]],l=[u,",",i,"L",Ri(Dl,a),",",Ri(Dl,o)];for(n.push(n[e-1]);++t<=e;)r=n[t],a.shift(),a.push(r[0]),o.shift(),o.push(r[1]),Di(l,a,o);return n.pop(),l.push("L",r),l.join("")}function Li(n){if(n.length<4)return xi(n);for(var t,e=[],r=-1,u=n.length,i=[0],a=[0];++r<3;)t=n[r],i.push(t[0]),a.push(t[1]);for(e.push(Ri(Dl,i)+","+Ri(Dl,a)),--r;++r<u;)t=n[r],i.shift(),i.push(t[0]),a.shift(),a.push(t[1]),Di(e,i,a);return e.join("")}function qi(n){for(var t,e,r=-1,u=n.length,i=u+4,a=[],o=[];++r<4;)e=n[r%u],a.push(e[0]),o.push(e[1]);for(t=[Ri(Dl,a),",",Ri(Dl,o)],--r;++r<i;)e=n[r%u],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),Di(t,a,o);return t.join("")}function Ti(n,t){var e=n.length-1;if(e)for(var r,u,i=n[0][0],a=n[0][1],o=n[e][0]-i,l=n[e][1]-a,c=-1;++c<=e;)r=n[c],u=c/e,r[0]=t*r[0]+(1-t)*(i+u*o),r[1]=t*r[1]+(1-t)*(a+u*l);return zi(n)}function Ri(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function Di(n,t,e){n.push("C",Ri(Tl,t),",",Ri(Tl,e),",",Ri(Rl,t),",",Ri(Rl,e),",",Ri(Dl,t),",",Ri(Dl,e))}function Pi(n,t){return(t[1]-n[1])/(t[0]-n[0])}function Ui(n){for(var t=0,e=n.length-1,r=[],u=n[0],i=n[1],a=r[0]=Pi(u,i);++t<e;)r[t]=(a+(a=Pi(u=i,i=n[t+1])))/2;return r[t]=a,r}function ji(n){for(var t,e,r,u,i=[],a=Ui(n),o=-1,l=n.length-1;++o<l;)t=Pi(n[o],n[o+1]),Ma(t)<Da?a[o]=a[o+1]=0:(e=a[o]/t,r=a[o+1]/t,u=e*e+r*r,u>9&&(u=3*t/Math.sqrt(u),a[o]=u*e,a[o+1]=u*r));for(o=-1;++o<=l;)u=(n[Math.min(l,o+1)][0]-n[Math.max(0,o-1)][0])/(6*(1+a[o]*a[o])),i.push([u||0,a[o]*u||0]);return i}function Fi(n){return n.length<3?xi(n):n[0]+Ai(n,ji(n))}function Hi(n){for(var t,e,r,u=-1,i=n.length;++u<i;)t=n[u],e=t[0],r=t[1]-Ha,t[0]=e*Math.cos(r),t[1]=e*Math.sin(r);return n}function Oi(n){function t(t){function l(){v.push("M",o(n(m),f),s,c(n(d.reverse()),f),"Z")}for(var h,g,p,v=[],d=[],m=[],y=-1,M=t.length,x=En(e),b=En(u),_=e===r?function(){
return g}:En(r),w=u===i?function(){return p}:En(i);++y<M;)a.call(this,h=t[y],y)?(d.push([g=+x.call(this,h,y),p=+b.call(this,h,y)]),m.push([+_.call(this,h,y),+w.call(this,h,y)])):d.length&&(l(),d=[],m=[]);return d.length&&l(),v.length?v.join(""):null}var e=Ce,r=Ce,u=0,i=ze,a=zt,o=xi,l=o.key,c=o,s="L",f=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,t):e},t.x1=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(u=i=n,t):i},t.y0=function(n){return arguments.length?(u=n,t):u},t.y1=function(n){return arguments.length?(i=n,t):i},t.defined=function(n){return arguments.length?(a=n,t):a},t.interpolate=function(n){return arguments.length?(l="function"==typeof n?o=n:(o=ql.get(n)||xi).key,c=o.reverse||o,s=o.closed?"M":"L",t):l},t.tension=function(n){return arguments.length?(f=n,t):f},t}function Ii(n){return n.radius}function Yi(n){return[n.x,n.y]}function Zi(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]-Ha;return[e*Math.cos(r),e*Math.sin(r)]}}function Vi(){return 64}function Xi(){return"circle"}function $i(n){var t=Math.sqrt(n/Ua);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Bi(n){return function(){var t,e,r;(t=this[n])&&(r=t[e=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[e]:delete this[n],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Wi(n,t,e){return Sa(n,Il),n.namespace=t,n.id=e,n}function Ji(n,t,e,r){var u=n.id,i=n.namespace;return Y(n,"function"==typeof e?function(n,a,o){n[i][u].tween.set(t,r(e.call(n,n.__data__,a,o)))}:(e=r(e),function(n){n[i][u].tween.set(t,e)}))}function Gi(n){return null==n&&(n=""),function(){this.textContent=n}}function Ki(n){return null==n?"__transition__":"__transition_"+n+"__"}function Qi(n,t,e,r,u){function i(n){var t=v.delay;return s.t=t+l,n>=t?a(n-t):void(s.c=a)}function a(e){var u=p.active,i=p[u];i&&(i.timer.c=null,i.timer.t=NaN,--p.count,delete p[u],i.event&&i.event.interrupt.call(n,n.__data__,i.index));for(var a in p)if(r>+a){var c=p[a];c.timer.c=null,c.timer.t=NaN,--p.count,delete p[a]}s.c=o,qn(function(){return s.c&&o(e||1)&&(s.c=null,s.t=NaN),1},0,l),p.active=r,v.event&&v.event.start.call(n,n.__data__,t),g=[],v.tween.forEach(function(e,r){(r=r.call(n,n.__data__,t))&&g.push(r)}),h=v.ease,f=v.duration}function o(u){for(var i=u/f,a=h(i),o=g.length;o>0;)g[--o].call(n,a);return i>=1?(v.event&&v.event.end.call(n,n.__data__,t),--p.count?delete p[r]:delete n[e],1):void 0}var l,s,f,h,g,p=n[e]||(n[e]={active:0,count:0}),v=p[r];v||(l=u.time,s=qn(i,0,l),v=p[r]={tween:new c,time:l,timer:s,delay:u.delay,duration:u.duration,ease:u.ease,index:t},u=null,++p.count)}function na(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate("+(isFinite(r)?r:e(n))+",0)"})}function ta(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate(0,"+(isFinite(r)?r:e(n))+")"})}function ea(n){return n.toISOString()}function ra(n,t,e){function r(t){return n(t)}function u(n,e){var r=n[1]-n[0],u=r/e,i=oa.bisect(Gl,u);return i==Gl.length?[t.year,Ku(n.map(function(n){return n/31536e6}),e)[2]]:i?t[u/Gl[i-1]<Gl[i]/u?i-1:i]:[nc,Ku(n,e)[2]]}return r.invert=function(t){return ua(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(ua)},r.nice=function(n,t){function e(e){return!isNaN(e)&&!n.range(e,ua(+e+1),t).length}var i=r.domain(),a=Yu(i),o=null==n?u(a,10):"number"==typeof n&&u(a,n);return o&&(n=o[0],t=o[1]),r.domain(Xu(i,t>1?{floor:function(t){for(;e(t=n.floor(t));)t=ua(t-1);return t},ceil:function(t){for(;e(t=n.ceil(t));)t=ua(+t+1);return t}}:n))},r.ticks=function(n,t){var e=Yu(r.domain()),i=null==n?u(e,10):"number"==typeof n?u(e,n):!n.range&&[{range:n},t];return i&&(n=i[0],t=i[1]),n.range(e[0],ua(+e[1]+1),1>t?1:t)},r.tickFormat=function(){return e},r.copy=function(){return ra(n.copy(),t,e)},Ju(r,n)}function ua(n){return new Date(n)}function ia(n){return JSON.parse(n.responseText)}function aa(n){var t=sa.createRange();return t.selectNode(sa.body),t.createContextualFragment(n.responseText)}var oa={version:"3.5.14"},la=[].slice,ca=function(n){return la.call(n)},sa=this.document;if(sa)try{ca(sa.documentElement.childNodes)[0].nodeType}catch(fa){ca=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}if(Date.now||(Date.now=function(){return+new Date}),sa)try{sa.createElement("DIV").style.setProperty("opacity",0,"")}catch(ha){var ga=this.Element.prototype,pa=ga.setAttribute,va=ga.setAttributeNS,da=this.CSSStyleDeclaration.prototype,ma=da.setProperty;ga.setAttribute=function(n,t){pa.call(this,n,t+"")},ga.setAttributeNS=function(n,t,e){va.call(this,n,t,e+"")},da.setProperty=function(n,t,e){ma.call(this,n,t+"",e)}}oa.ascending=e,oa.descending=function(n,t){return n>t?-1:t>n?1:t>=n?0:NaN},oa.min=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i;)if(null!=(r=n[u])&&r>=r){e=r;break}for(;++u<i;)null!=(r=n[u])&&e>r&&(e=r)}else{for(;++u<i;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=r;break}for(;++u<i;)null!=(r=t.call(n,n[u],u))&&e>r&&(e=r)}return e},oa.max=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i;)if(null!=(r=n[u])&&r>=r){e=r;break}for(;++u<i;)null!=(r=n[u])&&r>e&&(e=r)}else{for(;++u<i;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=r;break}for(;++u<i;)null!=(r=t.call(n,n[u],u))&&r>e&&(e=r)}return e},oa.extent=function(n,t){var e,r,u,i=-1,a=n.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=n[i])&&r>=r){e=u=r;break}for(;++i<a;)null!=(r=n[i])&&(e>r&&(e=r),r>u&&(u=r))}else{for(;++i<a;)if(null!=(r=t.call(n,n[i],i))&&r>=r){e=u=r;break}for(;++i<a;)null!=(r=t.call(n,n[i],i))&&(e>r&&(e=r),r>u&&(u=r))}return[e,u]},oa.sum=function(n,t){var e,r=0,i=n.length,a=-1;if(1===arguments.length)for(;++a<i;)u(e=+n[a])&&(r+=e);else for(;++a<i;)u(e=+t.call(n,n[a],a))&&(r+=e);return r},oa.mean=function(n,t){var e,i=0,a=n.length,o=-1,l=a;if(1===arguments.length)for(;++o<a;)u(e=r(n[o]))?i+=e:--l;else for(;++o<a;)u(e=r(t.call(n,n[o],o)))?i+=e:--l;return l?i/l:void 0},oa.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),u=+n[r-1],i=e-r;return i?u+i*(n[r]-u):u},oa.median=function(n,t){var i,a=[],o=n.length,l=-1;if(1===arguments.length)for(;++l<o;)u(i=r(n[l]))&&a.push(i);else for(;++l<o;)u(i=r(t.call(n,n[l],l)))&&a.push(i);return a.length?oa.quantile(a.sort(e),.5):void 0},oa.variance=function(n,t){var e,i,a=n.length,o=0,l=0,c=-1,s=0;if(1===arguments.length)for(;++c<a;)u(e=r(n[c]))&&(i=e-o,o+=i/++s,l+=i*(e-o));else for(;++c<a;)u(e=r(t.call(n,n[c],c)))&&(i=e-o,o+=i/++s,l+=i*(e-o));return s>1?l/(s-1):void 0},oa.deviation=function(){var n=oa.variance.apply(this,arguments);return n?Math.sqrt(n):n};var ya=i(e);oa.bisectLeft=ya.left,oa.bisect=oa.bisectRight=ya.right,oa.bisector=function(n){return i(1===n.length?function(t,r){return e(n(t),r)}:n)},oa.shuffle=function(n,t,e){(i=arguments.length)<3&&(e=n.length,2>i&&(t=0));for(var r,u,i=e-t;i;)u=Math.random()*i--|0,r=n[i+t],n[i+t]=n[u+t],n[u+t]=r;return n},oa.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},oa.pairs=function(n){for(var t,e=0,r=n.length-1,u=n[0],i=new Array(0>r?0:r);r>e;)i[e]=[t=u,u=n[++e]];return i},oa.zip=function(){if(!(r=arguments.length))return[];for(var n=-1,t=oa.min(arguments,a),e=new Array(t);++n<t;)for(var r,u=-1,i=e[n]=new Array(r);++u<r;)i[u]=arguments[u][n];return e},oa.transpose=function(n){return oa.zip.apply(oa,n)},oa.keys=function(n){var t=[];for(var e in n)t.push(e);return t},oa.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},oa.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},oa.merge=function(n){for(var t,e,r,u=n.length,i=-1,a=0;++i<u;)a+=n[i].length;for(e=new Array(a);--u>=0;)for(r=n[u],t=r.length;--t>=0;)e[--a]=r[t];return e};var Ma=Math.abs;oa.range=function(n,t,e){if(arguments.length<3&&(e=1,arguments.length<2&&(t=n,n=0)),(t-n)/e===1/0)throw new Error("infinite range");var r,u=[],i=o(Ma(e)),a=-1;if(n*=i,t*=i,e*=i,0>e)for(;(r=n+e*++a)>t;)u.push(r/i);else for(;(r=n+e*++a)<t;)u.push(r/i);return u},oa.map=function(n,t){var e=new c;if(n instanceof c)n.forEach(function(n,t){e.set(n,t)});else if(Array.isArray(n)){var r,u=-1,i=n.length;if(1===arguments.length)for(;++u<i;)e.set(u,n[u]);else for(;++u<i;)e.set(t.call(n,r=n[u],u),r)}else for(var a in n)e.set(a,n[a]);return e};var xa="__proto__",ba="\x00";l(c,{has:h,get:function(n){return this._[s(n)]},set:function(n,t){return this._[s(n)]=t},remove:g,keys:p,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var n=[];for(var t in this._)n.push({key:f(t),value:this._[t]});return n},size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,f(t),this._[t])}}),oa.nest=function(){function n(t,a,o){if(o>=i.length)return r?r.call(u,a):e?a.sort(e):a;for(var l,s,f,h,g=-1,p=a.length,v=i[o++],d=new c;++g<p;)(h=d.get(l=v(s=a[g])))?h.push(s):d.set(l,[s]);return t?(s=t(),f=function(e,r){s.set(e,n(t,r,o))}):(s={},f=function(e,r){s[e]=n(t,r,o)}),d.forEach(f),s}function t(n,e){if(e>=i.length)return n;var r=[],u=a[e++];return n.forEach(function(n,u){r.push({key:n,values:t(u,e)})}),u?r.sort(function(n,t){return u(n.key,t.key)}):r}var e,r,u={},i=[],a=[];return u.map=function(t,e){return n(e,t,0)},u.entries=function(e){return t(n(oa.map,e,0),0)},u.key=function(n){return i.push(n),u},u.sortKeys=function(n){return a[i.length-1]=n,u},u.sortValues=function(n){return e=n,u},u.rollup=function(n){return r=n,u},u},oa.set=function(n){var t=new m;if(n)for(var e=0,r=n.length;r>e;++e)t.add(n[e]);return t},l(m,{has:h,add:function(n){return this._[s(n+="")]=!0,n},remove:g,values:p,size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,f(t))}}),oa.behavior={},oa.rebind=function(n,t){for(var e,r=1,u=arguments.length;++r<u;)n[e=arguments[r]]=M(n,t,t[e]);return n};var _a=["webkit","ms","moz","Moz","o","O"];oa.dispatch=function(){for(var n=new _,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=w(n);return n},_.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0&&(r=n.slice(e+1),n=n.slice(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},oa.event=null,oa.requote=function(n){return n.replace(wa,"\\$&")};var wa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Sa={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},ka=function(n,t){return t.querySelector(n)},Na=function(n,t){return t.querySelectorAll(n)},Ea=function(n,t){var e=n.matches||n[x(n,"matchesSelector")];return(Ea=function(n,t){return e.call(n,t)})(n,t)};"function"==typeof Sizzle&&(ka=function(n,t){return Sizzle(n,t)[0]||null},Na=Sizzle,Ea=Sizzle.matchesSelector),oa.selection=function(){return oa.select(sa.documentElement)};var Aa=oa.selection.prototype=[];Aa.select=function(n){var t,e,r,u,i=[];n=A(n);for(var a=-1,o=this.length;++a<o;){i.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var l=-1,c=r.length;++l<c;)(u=r[l])?(t.push(e=n.call(u,u.__data__,l,a)),e&&"__data__"in u&&(e.__data__=u.__data__)):t.push(null)}return E(i)},Aa.selectAll=function(n){var t,e,r=[];n=C(n);for(var u=-1,i=this.length;++u<i;)for(var a=this[u],o=-1,l=a.length;++o<l;)(e=a[o])&&(r.push(t=ca(n.call(e,e.__data__,o,u))),t.parentNode=e);return E(r)};var Ca={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};oa.ns={prefix:Ca,qualify:function(n){var t=n.indexOf(":"),e=n;return t>=0&&"xmlns"!==(e=n.slice(0,t))&&(n=n.slice(t+1)),Ca.hasOwnProperty(e)?{space:Ca[e],local:n}:n}},Aa.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node();return n=oa.ns.qualify(n),n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(z(t,n[t]));return this}return this.each(z(n,t))},Aa.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=T(n)).length,u=-1;if(t=e.classList){for(;++u<r;)if(!t.contains(n[u]))return!1}else for(t=e.getAttribute("class");++u<r;)if(!q(n[u]).test(t))return!1;return!0}for(t in n)this.each(R(t,n[t]));return this}return this.each(R(n,t))},Aa.style=function(n,e,r){var u=arguments.length;if(3>u){if("string"!=typeof n){2>u&&(e="");for(r in n)this.each(P(r,n[r],e));return this}if(2>u){var i=this.node();return t(i).getComputedStyle(i,null).getPropertyValue(n)}r=""}return this.each(P(n,e,r))},Aa.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(U(t,n[t]));return this}return this.each(U(n,t))},Aa.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},Aa.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},Aa.append=function(n){return n=j(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},Aa.insert=function(n,t){return n=j(n),t=A(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},Aa.remove=function(){return this.each(F)},Aa.data=function(n,t){function e(n,e){var r,u,i,a=n.length,f=e.length,h=Math.min(a,f),g=new Array(f),p=new Array(f),v=new Array(a);if(t){var d,m=new c,y=new Array(a);for(r=-1;++r<a;)(u=n[r])&&(m.has(d=t.call(u,u.__data__,r))?v[r]=u:m.set(d,u),y[r]=d);for(r=-1;++r<f;)(u=m.get(d=t.call(e,i=e[r],r)))?u!==!0&&(g[r]=u,u.__data__=i):p[r]=H(i),m.set(d,!0);for(r=-1;++r<a;)r in y&&m.get(y[r])!==!0&&(v[r]=n[r])}else{for(r=-1;++r<h;)u=n[r],i=e[r],u?(u.__data__=i,g[r]=u):p[r]=H(i);for(;f>r;++r)p[r]=H(e[r]);for(;a>r;++r)v[r]=n[r]}p.update=g,p.parentNode=g.parentNode=v.parentNode=n.parentNode,o.push(p),l.push(g),s.push(v)}var r,u,i=-1,a=this.length;if(!arguments.length){for(n=new Array(a=(r=this[0]).length);++i<a;)(u=r[i])&&(n[i]=u.__data__);return n}var o=Z([]),l=E([]),s=E([]);if("function"==typeof n)for(;++i<a;)e(r=this[i],n.call(r,r.parentNode.__data__,i));else for(;++i<a;)e(r=this[i],n);return l.enter=function(){return o},l.exit=function(){return s},l},Aa.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},Aa.filter=function(n){var t,e,r,u=[];"function"!=typeof n&&(n=O(n));for(var i=0,a=this.length;a>i;i++){u.push(t=[]),t.parentNode=(e=this[i]).parentNode;for(var o=0,l=e.length;l>o;o++)(r=e[o])&&n.call(r,r.__data__,o,i)&&t.push(r)}return E(u)},Aa.order=function(){for(var n=-1,t=this.length;++n<t;)for(var e,r=this[n],u=r.length-1,i=r[u];--u>=0;)(e=r[u])&&(i&&i!==e.nextSibling&&i.parentNode.insertBefore(e,i),i=e);return this},Aa.sort=function(n){n=I.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},Aa.each=function(n){return Y(this,function(t,e,r){n.call(t,t.__data__,e,r)})},Aa.call=function(n){var t=ca(arguments);return n.apply(t[0]=this,t),this},Aa.empty=function(){return!this.node()},Aa.node=function(){for(var n=0,t=this.length;t>n;n++)for(var e=this[n],r=0,u=e.length;u>r;r++){var i=e[r];if(i)return i}return null},Aa.size=function(){var n=0;return Y(this,function(){++n}),n};var za=[];oa.selection.enter=Z,oa.selection.enter.prototype=za,za.append=Aa.append,za.empty=Aa.empty,za.node=Aa.node,za.call=Aa.call,za.size=Aa.size,za.select=function(n){for(var t,e,r,u,i,a=[],o=-1,l=this.length;++o<l;){r=(u=this[o]).update,a.push(t=[]),t.parentNode=u.parentNode;for(var c=-1,s=u.length;++c<s;)(i=u[c])?(t.push(r[c]=e=n.call(u.parentNode,i.__data__,c,o)),e.__data__=i.__data__):t.push(null)}return E(a)},za.insert=function(n,t){return arguments.length<2&&(t=V(this)),Aa.insert.call(this,n,t)},oa.select=function(t){var e;return"string"==typeof t?(e=[ka(t,sa)],e.parentNode=sa.documentElement):(e=[t],e.parentNode=n(t)),E([e])},oa.selectAll=function(n){var t;return"string"==typeof n?(t=ca(Na(n,sa)),t.parentNode=sa.documentElement):(t=ca(n),t.parentNode=null),E([t])},Aa.on=function(n,t,e){var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t=!1);for(e in n)this.each(X(e,n[e],t));return this}if(2>r)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(X(n,t,e))};var La=oa.map({mouseenter:"mouseover",mouseleave:"mouseout"});sa&&La.forEach(function(n){"on"+n in sa&&La.remove(n)});var qa,Ta=0;oa.mouse=function(n){return J(n,k())};var Ra=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;oa.touch=function(n,t,e){if(arguments.length<3&&(e=t,t=k().changedTouches),t)for(var r,u=0,i=t.length;i>u;++u)if((r=t[u]).identifier===e)return J(n,r)},oa.behavior.drag=function(){function n(){this.on("mousedown.drag",i).on("touchstart.drag",a)}function e(n,t,e,i,a){return function(){function o(){var n,e,r=t(h,v);r&&(n=r[0]-M[0],e=r[1]-M[1],p|=n|e,M=r,g({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:n,dy:e}))}function l(){t(h,v)&&(m.on(i+d,null).on(a+d,null),y(p),g({type:"dragend"}))}var c,s=this,f=oa.event.target,h=s.parentNode,g=r.of(s,arguments),p=0,v=n(),d=".drag"+(null==v?"":"-"+v),m=oa.select(e(f)).on(i+d,o).on(a+d,l),y=W(f),M=t(h,v);u?(c=u.apply(s,arguments),c=[c.x-M[0],c.y-M[1]]):c=[0,0],g({type:"dragstart"})}}var r=N(n,"drag","dragstart","dragend"),u=null,i=e(b,oa.mouse,t,"mousemove","mouseup"),a=e(G,oa.touch,y,"touchmove","touchend");return n.origin=function(t){return arguments.length?(u=t,n):u},oa.rebind(n,r,"on")},oa.touches=function(n,t){return arguments.length<2&&(t=k().touches),t?ca(t).map(function(t){var e=J(n,t);return e.identifier=t.identifier,e}):[]};var Da=1e-6,Pa=Da*Da,Ua=Math.PI,ja=2*Ua,Fa=ja-Da,Ha=Ua/2,Oa=Ua/180,Ia=180/Ua,Ya=Math.SQRT2,Za=2,Va=4;oa.interpolateZoom=function(n,t){var e,r,u=n[0],i=n[1],a=n[2],o=t[0],l=t[1],c=t[2],s=o-u,f=l-i,h=s*s+f*f;if(Pa>h)r=Math.log(c/a)/Ya,e=function(n){return[u+n*s,i+n*f,a*Math.exp(Ya*n*r)]};else{var g=Math.sqrt(h),p=(c*c-a*a+Va*h)/(2*a*Za*g),v=(c*c-a*a-Va*h)/(2*c*Za*g),d=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(v*v+1)-v);r=(m-d)/Ya,e=function(n){var t=n*r,e=rn(d),o=a/(Za*g)*(e*un(Ya*t+d)-en(d));return[u+o*s,i+o*f,a*e/rn(Ya*t+d)]}}return e.duration=1e3*r,e},oa.behavior.zoom=function(){function n(n){n.on(L,f).on($a+".zoom",g).on("dblclick.zoom",p).on(R,h)}function e(n){return[(n[0]-k.x)/k.k,(n[1]-k.y)/k.k]}function r(n){return[n[0]*k.k+k.x,n[1]*k.k+k.y]}function u(n){k.k=Math.max(A[0],Math.min(A[1],n))}function i(n,t){t=r(t),k.x+=n[0]-t[0],k.y+=n[1]-t[1]}function a(t,e,r,a){t.__chart__={x:k.x,y:k.y,k:k.k},u(Math.pow(2,a)),i(d=e,r),t=oa.select(t),C>0&&(t=t.transition().duration(C)),t.call(n.event)}function o(){b&&b.domain(x.range().map(function(n){return(n-k.x)/k.k}).map(x.invert)),w&&w.domain(_.range().map(function(n){return(n-k.y)/k.k}).map(_.invert))}function l(n){z++||n({type:"zoomstart"})}function c(n){o(),n({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function s(n){--z||(n({type:"zoomend"}),d=null)}function f(){function n(){o=1,i(oa.mouse(u),h),c(a)}function r(){f.on(q,null).on(T,null),g(o),s(a)}var u=this,a=D.of(u,arguments),o=0,f=oa.select(t(u)).on(q,n).on(T,r),h=e(oa.mouse(u)),g=W(u);Ol.call(u),l(a)}function h(){function n(){var n=oa.touches(p);return g=k.k,n.forEach(function(n){n.identifier in d&&(d[n.identifier]=e(n))}),n}function t(){var t=oa.event.target;oa.select(t).on(x,r).on(b,o),_.push(t);for(var e=oa.event.changedTouches,u=0,i=e.length;i>u;++u)d[e[u].identifier]=null;var l=n(),c=Date.now();if(1===l.length){if(500>c-M){var s=l[0];a(p,s,d[s.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),S()}M=c}else if(l.length>1){var s=l[0],f=l[1],h=s[0]-f[0],g=s[1]-f[1];m=h*h+g*g}}function r(){var n,t,e,r,a=oa.touches(p);Ol.call(p);for(var o=0,l=a.length;l>o;++o,r=null)if(e=a[o],r=d[e.identifier]){if(t)break;n=e,t=r}if(r){var s=(s=e[0]-n[0])*s+(s=e[1]-n[1])*s,f=m&&Math.sqrt(s/m);n=[(n[0]+e[0])/2,(n[1]+e[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],u(f*g)}M=null,i(n,t),c(v)}function o(){if(oa.event.touches.length){for(var t=oa.event.changedTouches,e=0,r=t.length;r>e;++e)delete d[t[e].identifier];for(var u in d)return void n()}oa.selectAll(_).on(y,null),w.on(L,f).on(R,h),N(),s(v)}var g,p=this,v=D.of(p,arguments),d={},m=0,y=".zoom-"+oa.event.changedTouches[0].identifier,x="touchmove"+y,b="touchend"+y,_=[],w=oa.select(p),N=W(p);t(),l(v),w.on(L,null).on(R,t)}function g(){var n=D.of(this,arguments);y?clearTimeout(y):(Ol.call(this),v=e(d=m||oa.mouse(this)),l(n)),y=setTimeout(function(){y=null,s(n)},50),S(),u(Math.pow(2,.002*Xa())*k.k),i(d,v),c(n)}function p(){var n=oa.mouse(this),t=Math.log(k.k)/Math.LN2;a(this,n,e(n),oa.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var v,d,m,y,M,x,b,_,w,k={x:0,y:0,k:1},E=[960,500],A=Ba,C=250,z=0,L="mousedown.zoom",q="mousemove.zoom",T="mouseup.zoom",R="touchstart.zoom",D=N(n,"zoomstart","zoom","zoomend");return $a||($a="onwheel"in sa?(Xa=function(){return-oa.event.deltaY*(oa.event.deltaMode?120:1)},"wheel"):"onmousewheel"in sa?(Xa=function(){return oa.event.wheelDelta},"mousewheel"):(Xa=function(){return-oa.event.detail},"MozMousePixelScroll")),n.event=function(n){n.each(function(){var n=D.of(this,arguments),t=k;Fl?oa.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},l(n)}).tween("zoom:zoom",function(){var e=E[0],r=E[1],u=d?d[0]:e/2,i=d?d[1]:r/2,a=oa.interpolateZoom([(u-k.x)/k.k,(i-k.y)/k.k,e/k.k],[(u-t.x)/t.k,(i-t.y)/t.k,e/t.k]);return function(t){var r=a(t),o=e/r[2];this.__chart__=k={x:u-r[0]*o,y:i-r[1]*o,k:o},c(n)}}).each("interrupt.zoom",function(){s(n)}).each("end.zoom",function(){s(n)}):(this.__chart__=k,l(n),c(n),s(n))})},n.translate=function(t){return arguments.length?(k={x:+t[0],y:+t[1],k:k.k},o(),n):[k.x,k.y]},n.scale=function(t){return arguments.length?(k={x:k.x,y:k.y,k:null},u(+t),o(),n):k.k},n.scaleExtent=function(t){return arguments.length?(A=null==t?Ba:[+t[0],+t[1]],n):A},n.center=function(t){return arguments.length?(m=t&&[+t[0],+t[1]],n):m},n.size=function(t){return arguments.length?(E=t&&[+t[0],+t[1]],n):E},n.duration=function(t){return arguments.length?(C=+t,n):C},n.x=function(t){return arguments.length?(b=t,x=t.copy(),k={x:0,y:0,k:1},n):b},n.y=function(t){return arguments.length?(w=t,_=t.copy(),k={x:0,y:0,k:1},n):w},oa.rebind(n,D,"on")};var Xa,$a,Ba=[0,1/0];oa.color=on,on.prototype.toString=function(){return this.rgb()+""},oa.hsl=ln;var Wa=ln.prototype=new on;Wa.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new ln(this.h,this.s,this.l/n)},Wa.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new ln(this.h,this.s,n*this.l)},Wa.rgb=function(){return cn(this.h,this.s,this.l)},oa.hcl=sn;var Ja=sn.prototype=new on;Ja.brighter=function(n){return new sn(this.h,this.c,Math.min(100,this.l+Ga*(arguments.length?n:1)))},Ja.darker=function(n){return new sn(this.h,this.c,Math.max(0,this.l-Ga*(arguments.length?n:1)))},Ja.rgb=function(){return fn(this.h,this.c,this.l).rgb()},oa.lab=hn;var Ga=18,Ka=.95047,Qa=1,no=1.08883,to=hn.prototype=new on;to.brighter=function(n){return new hn(Math.min(100,this.l+Ga*(arguments.length?n:1)),this.a,this.b)},to.darker=function(n){return new hn(Math.max(0,this.l-Ga*(arguments.length?n:1)),this.a,this.b)},to.rgb=function(){return gn(this.l,this.a,this.b)},oa.rgb=yn;var eo=yn.prototype=new on;eo.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,u=30;return t||e||r?(t&&u>t&&(t=u),e&&u>e&&(e=u),r&&u>r&&(r=u),new yn(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))):new yn(u,u,u)},eo.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new yn(n*this.r,n*this.g,n*this.b)},eo.hsl=function(){return wn(this.r,this.g,this.b)},eo.toString=function(){return"#"+bn(this.r)+bn(this.g)+bn(this.b)};var ro=oa.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ro.forEach(function(n,t){ro.set(n,Mn(t))}),oa.functor=En,oa.xhr=An(y),oa.dsv=function(n,t){function e(n,e,i){arguments.length<3&&(i=e,e=null);var a=Cn(n,t,null==e?r:u(e),i);return a.row=function(n){return arguments.length?a.response(null==(e=n)?r:u(n)):e},a}function r(n){return e.parse(n.responseText)}function u(n){return function(t){return e.parse(t.responseText,n)}}function i(t){return t.map(a).join(n)}function a(n){return o.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var o=new RegExp('["'+n+"\n]"),l=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var u=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,e){return t(u(n),e)}:u})},e.parseRows=function(n,t){function e(){if(s>=c)return a;if(u)return u=!1,i;var t=s;if(34===n.charCodeAt(t)){for(var e=t;e++<c;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}s=e+2;var r=n.charCodeAt(e+1);return 13===r?(u=!0,10===n.charCodeAt(e+2)&&++s):10===r&&(u=!0),n.slice(t+1,e).replace(/""/g,'"')}for(;c>s;){var r=n.charCodeAt(s++),o=1;if(10===r)u=!0;else if(13===r)u=!0,10===n.charCodeAt(s)&&(++s,++o);else if(r!==l)continue;return n.slice(t,s-o)}return n.slice(t)}for(var r,u,i={},a={},o=[],c=n.length,s=0,f=0;(r=e())!==a;){for(var h=[];r!==i&&r!==a;)h.push(r),r=e();t&&null==(h=t(h,f++))||o.push(h)}return o},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new m,u=[];return t.forEach(function(n){for(var t in n)r.has(t)||u.push(r.add(t))}),[u.map(a).join(n)].concat(t.map(function(t){return u.map(function(n){return a(t[n])}).join(n)})).join("\n")},e.formatRows=function(n){return n.map(i).join("\n")},e},oa.csv=oa.dsv(",","text/csv"),oa.tsv=oa.dsv("	","text/tab-separated-values");var uo,io,ao,oo,lo=this[x(this,"requestAnimationFrame")]||function(n){setTimeout(n,17)};oa.timer=function(){qn.apply(this,arguments)},oa.timer.flush=function(){Rn(),Dn()},oa.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var co=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Un);oa.formatPrefix=function(n,t){var e=0;return(n=+n)&&(0>n&&(n*=-1),t&&(n=oa.round(n,Pn(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),co[8+e/3]};var so=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,fo=oa.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=oa.round(n,Pn(n,t))).toFixed(Math.max(0,Math.min(20,Pn(n*(1+1e-15),t))))}}),ho=oa.time={},go=Date;Hn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){po.setUTCDate.apply(this._,arguments)},setDay:function(){po.setUTCDay.apply(this._,arguments)},setFullYear:function(){po.setUTCFullYear.apply(this._,arguments)},setHours:function(){po.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){po.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){po.setUTCMinutes.apply(this._,arguments)},setMonth:function(){po.setUTCMonth.apply(this._,arguments)},setSeconds:function(){po.setUTCSeconds.apply(this._,arguments)},setTime:function(){po.setTime.apply(this._,arguments)}};var po=Date.prototype;ho.year=On(function(n){return n=ho.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),ho.years=ho.year.range,ho.years.utc=ho.year.utc.range,ho.day=On(function(n){var t=new go(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),ho.days=ho.day.range,ho.days.utc=ho.day.utc.range,ho.dayOfYear=function(n){var t=ho.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=ho[n]=On(function(n){return(n=ho.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=ho.year(n).getDay();return Math.floor((ho.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});ho[n+"s"]=e.range,ho[n+"s"].utc=e.utc.range,ho[n+"OfYear"]=function(n){var e=ho.year(n).getDay();return Math.floor((ho.dayOfYear(n)+(e+t)%7)/7)}}),ho.week=ho.sunday,ho.weeks=ho.sunday.range,ho.weeks.utc=ho.sunday.utc.range,ho.weekOfYear=ho.sundayOfYear;var vo={"-":"",_:" ",0:"0"},mo=/^\s*\d+/,yo=/^%/;oa.locale=function(n){return{numberFormat:jn(n),timeFormat:Yn(n)}};var Mo=oa.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],
shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});oa.format=Mo.numberFormat,oa.geo={},st.prototype={s:0,t:0,add:function(n){ft(n,this.t,xo),ft(xo.s,this.s,this),this.s?this.t+=xo.t:this.s=xo.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var xo=new st;oa.geo.stream=function(n,t){n&&bo.hasOwnProperty(n.type)?bo[n.type](n,t):ht(n,t)};var bo={Feature:function(n,t){ht(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,u=e.length;++r<u;)ht(e[r].geometry,t)}},_o={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){gt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)gt(e[r],t,0)},Polygon:function(n,t){pt(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)pt(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,u=e.length;++r<u;)ht(e[r],t)}};oa.geo.area=function(n){return wo=0,oa.geo.stream(n,ko),wo};var wo,So=new st,ko={sphere:function(){wo+=4*Ua},point:b,lineStart:b,lineEnd:b,polygonStart:function(){So.reset(),ko.lineStart=vt},polygonEnd:function(){var n=2*So;wo+=0>n?4*Ua+n:n,ko.lineStart=ko.lineEnd=ko.point=b}};oa.geo.bounds=function(){function n(n,t){M.push(x=[s=n,h=n]),f>t&&(f=t),t>g&&(g=t)}function t(t,e){var r=dt([t*Oa,e*Oa]);if(m){var u=yt(m,r),i=[u[1],-u[0],0],a=yt(i,u);bt(a),a=_t(a);var l=t-p,c=l>0?1:-1,v=a[0]*Ia*c,d=Ma(l)>180;if(d^(v>c*p&&c*t>v)){var y=a[1]*Ia;y>g&&(g=y)}else if(v=(v+360)%360-180,d^(v>c*p&&c*t>v)){var y=-a[1]*Ia;f>y&&(f=y)}else f>e&&(f=e),e>g&&(g=e);d?p>t?o(s,t)>o(s,h)&&(h=t):o(t,h)>o(s,h)&&(s=t):h>=s?(s>t&&(s=t),t>h&&(h=t)):t>p?o(s,t)>o(s,h)&&(h=t):o(t,h)>o(s,h)&&(s=t)}else n(t,e);m=r,p=t}function e(){b.point=t}function r(){x[0]=s,x[1]=h,b.point=n,m=null}function u(n,e){if(m){var r=n-p;y+=Ma(r)>180?r+(r>0?360:-360):r}else v=n,d=e;ko.point(n,e),t(n,e)}function i(){ko.lineStart()}function a(){u(v,d),ko.lineEnd(),Ma(y)>Da&&(s=-(h=180)),x[0]=s,x[1]=h,m=null}function o(n,t){return(t-=n)<0?t+360:t}function l(n,t){return n[0]-t[0]}function c(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var s,f,h,g,p,v,d,m,y,M,x,b={point:n,lineStart:e,lineEnd:r,polygonStart:function(){b.point=u,b.lineStart=i,b.lineEnd=a,y=0,ko.polygonStart()},polygonEnd:function(){ko.polygonEnd(),b.point=n,b.lineStart=e,b.lineEnd=r,0>So?(s=-(h=180),f=-(g=90)):y>Da?g=90:-Da>y&&(f=-90),x[0]=s,x[1]=h}};return function(n){g=h=-(s=f=1/0),M=[],oa.geo.stream(n,b);var t=M.length;if(t){M.sort(l);for(var e,r=1,u=M[0],i=[u];t>r;++r)e=M[r],c(e[0],u)||c(e[1],u)?(o(u[0],e[1])>o(u[0],u[1])&&(u[1]=e[1]),o(e[0],u[1])>o(u[0],u[1])&&(u[0]=e[0])):i.push(u=e);for(var a,e,p=-(1/0),t=i.length-1,r=0,u=i[t];t>=r;u=e,++r)e=i[r],(a=o(u[1],e[0]))>p&&(p=a,s=e[0],h=u[1])}return M=x=null,s===1/0||f===1/0?[[NaN,NaN],[NaN,NaN]]:[[s,f],[h,g]]}}(),oa.geo.centroid=function(n){No=Eo=Ao=Co=zo=Lo=qo=To=Ro=Do=Po=0,oa.geo.stream(n,Uo);var t=Ro,e=Do,r=Po,u=t*t+e*e+r*r;return Pa>u&&(t=Lo,e=qo,r=To,Da>Eo&&(t=Ao,e=Co,r=zo),u=t*t+e*e+r*r,Pa>u)?[NaN,NaN]:[Math.atan2(e,t)*Ia,tn(r/Math.sqrt(u))*Ia]};var No,Eo,Ao,Co,zo,Lo,qo,To,Ro,Do,Po,Uo={sphere:b,point:St,lineStart:Nt,lineEnd:Et,polygonStart:function(){Uo.lineStart=At},polygonEnd:function(){Uo.lineStart=Nt}},jo=Rt(zt,jt,Ht,[-Ua,-Ua/2]),Fo=1e9;oa.geo.clipExtent=function(){var n,t,e,r,u,i,a={stream:function(n){return u&&(u.valid=!1),u=i(n),u.valid=!0,u},extent:function(o){return arguments.length?(i=Zt(n=+o[0][0],t=+o[0][1],e=+o[1][0],r=+o[1][1]),u&&(u.valid=!1,u=null),a):[[n,t],[e,r]]}};return a.extent([[0,0],[960,500]])},(oa.geo.conicEqualArea=function(){return Vt(Xt)}).raw=Xt,oa.geo.albers=function(){return oa.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},oa.geo.albersUsa=function(){function n(n){var i=n[0],a=n[1];return t=null,e(i,a),t||(r(i,a),t)||u(i,a),t}var t,e,r,u,i=oa.geo.albers(),a=oa.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o=oa.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(n,e){t=[n,e]}};return n.invert=function(n){var t=i.scale(),e=i.translate(),r=(n[0]-e[0])/t,u=(n[1]-e[1])/t;return(u>=.12&&.234>u&&r>=-.425&&-.214>r?a:u>=.166&&.234>u&&r>=-.214&&-.115>r?o:i).invert(n)},n.stream=function(n){var t=i.stream(n),e=a.stream(n),r=o.stream(n);return{point:function(n,u){t.point(n,u),e.point(n,u),r.point(n,u)},sphere:function(){t.sphere(),e.sphere(),r.sphere()},lineStart:function(){t.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},n.precision=function(t){return arguments.length?(i.precision(t),a.precision(t),o.precision(t),n):i.precision()},n.scale=function(t){return arguments.length?(i.scale(t),a.scale(.35*t),o.scale(t),n.translate(i.translate())):i.scale()},n.translate=function(t){if(!arguments.length)return i.translate();var c=i.scale(),s=+t[0],f=+t[1];return e=i.translate(t).clipExtent([[s-.455*c,f-.238*c],[s+.455*c,f+.238*c]]).stream(l).point,r=a.translate([s-.307*c,f+.201*c]).clipExtent([[s-.425*c+Da,f+.12*c+Da],[s-.214*c-Da,f+.234*c-Da]]).stream(l).point,u=o.translate([s-.205*c,f+.212*c]).clipExtent([[s-.214*c+Da,f+.166*c+Da],[s-.115*c-Da,f+.234*c-Da]]).stream(l).point,n},n.scale(1070)};var Ho,Oo,Io,Yo,Zo,Vo,Xo={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Oo=0,Xo.lineStart=$t},polygonEnd:function(){Xo.lineStart=Xo.lineEnd=Xo.point=b,Ho+=Ma(Oo/2)}},$o={point:Bt,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Bo={point:Gt,lineStart:Kt,lineEnd:Qt,polygonStart:function(){Bo.lineStart=ne},polygonEnd:function(){Bo.point=Gt,Bo.lineStart=Kt,Bo.lineEnd=Qt}};oa.geo.path=function(){function n(n){return n&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),a&&a.valid||(a=u(i)),oa.geo.stream(n,a)),i.result()}function t(){return a=null,n}var e,r,u,i,a,o=4.5;return n.area=function(n){return Ho=0,oa.geo.stream(n,u(Xo)),Ho},n.centroid=function(n){return Ao=Co=zo=Lo=qo=To=Ro=Do=Po=0,oa.geo.stream(n,u(Bo)),Po?[Ro/Po,Do/Po]:To?[Lo/To,qo/To]:zo?[Ao/zo,Co/zo]:[NaN,NaN]},n.bounds=function(n){return Zo=Vo=-(Io=Yo=1/0),oa.geo.stream(n,u($o)),[[Io,Yo],[Zo,Vo]]},n.projection=function(n){return arguments.length?(u=(e=n)?n.stream||re(n):y,t()):e},n.context=function(n){return arguments.length?(i=null==(r=n)?new Wt:new te(n),"function"!=typeof o&&i.pointRadius(o),t()):r},n.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),n):o},n.projection(oa.geo.albersUsa()).context(null)},oa.geo.transform=function(n){return{stream:function(t){var e=new ue(t);for(var r in n)e[r]=n[r];return e}}},ue.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},oa.geo.projection=ae,oa.geo.projectionMutator=oe,(oa.geo.equirectangular=function(){return ae(ce)}).raw=ce.invert=ce,oa.geo.rotation=function(n){function t(t){return t=n(t[0]*Oa,t[1]*Oa),t[0]*=Ia,t[1]*=Ia,t}return n=fe(n[0]%360*Oa,n[1]*Oa,n.length>2?n[2]*Oa:0),t.invert=function(t){return t=n.invert(t[0]*Oa,t[1]*Oa),t[0]*=Ia,t[1]*=Ia,t},t},se.invert=ce,oa.geo.circle=function(){function n(){var n="function"==typeof r?r.apply(this,arguments):r,t=fe(-n[0]*Oa,-n[1]*Oa,0).invert,u=[];return e(null,null,1,{point:function(n,e){u.push(n=t(n,e)),n[0]*=Ia,n[1]*=Ia}}),{type:"Polygon",coordinates:[u]}}var t,e,r=[0,0],u=6;return n.origin=function(t){return arguments.length?(r=t,n):r},n.angle=function(r){return arguments.length?(e=ve((t=+r)*Oa,u*Oa),n):t},n.precision=function(r){return arguments.length?(e=ve(t*Oa,(u=+r)*Oa),n):u},n.angle(90)},oa.geo.distance=function(n,t){var e,r=(t[0]-n[0])*Oa,u=n[1]*Oa,i=t[1]*Oa,a=Math.sin(r),o=Math.cos(r),l=Math.sin(u),c=Math.cos(u),s=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((e=f*a)*e+(e=c*s-l*f*o)*e),l*s+c*f*o)},oa.geo.graticule=function(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return oa.range(Math.ceil(i/d)*d,u,d).map(h).concat(oa.range(Math.ceil(c/m)*m,l,m).map(g)).concat(oa.range(Math.ceil(r/p)*p,e,p).filter(function(n){return Ma(n%d)>Da}).map(s)).concat(oa.range(Math.ceil(o/v)*v,a,v).filter(function(n){return Ma(n%m)>Da}).map(f))}var e,r,u,i,a,o,l,c,s,f,h,g,p=10,v=p,d=90,m=360,y=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(g(l).slice(1),h(u).reverse().slice(1),g(c).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(i=+t[0][0],u=+t[1][0],c=+t[0][1],l=+t[1][1],i>u&&(t=i,i=u,u=t),c>l&&(t=c,c=l,l=t),n.precision(y)):[[i,c],[u,l]]},n.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],o=+t[0][1],a=+t[1][1],r>e&&(t=r,r=e,e=t),o>a&&(t=o,o=a,a=t),n.precision(y)):[[r,o],[e,a]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(d=+t[0],m=+t[1],n):[d,m]},n.minorStep=function(t){return arguments.length?(p=+t[0],v=+t[1],n):[p,v]},n.precision=function(t){return arguments.length?(y=+t,s=me(o,a,90),f=ye(r,e,y),h=me(c,l,90),g=ye(i,u,y),n):y},n.majorExtent([[-180,-90+Da],[180,90-Da]]).minorExtent([[-180,-80-Da],[180,80+Da]])},oa.geo.greatArc=function(){function n(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),e||u.apply(this,arguments)]}}var t,e,r=Me,u=xe;return n.distance=function(){return oa.geo.distance(t||r.apply(this,arguments),e||u.apply(this,arguments))},n.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,n):r},n.target=function(t){return arguments.length?(u=t,e="function"==typeof t?null:t,n):u},n.precision=function(){return arguments.length?n:0},n},oa.geo.interpolate=function(n,t){return be(n[0]*Oa,n[1]*Oa,t[0]*Oa,t[1]*Oa)},oa.geo.length=function(n){return Wo=0,oa.geo.stream(n,Jo),Wo};var Wo,Jo={sphere:b,point:b,lineStart:_e,lineEnd:b,polygonStart:b,polygonEnd:b},Go=we(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(oa.geo.azimuthalEqualArea=function(){return ae(Go)}).raw=Go;var Ko=we(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},y);(oa.geo.azimuthalEquidistant=function(){return ae(Ko)}).raw=Ko,(oa.geo.conicConformal=function(){return Vt(Se)}).raw=Se,(oa.geo.conicEquidistant=function(){return Vt(ke)}).raw=ke;var Qo=we(function(n){return 1/n},Math.atan);(oa.geo.gnomonic=function(){return ae(Qo)}).raw=Qo,Ne.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-Ha]},(oa.geo.mercator=function(){return Ee(Ne)}).raw=Ne;var nl=we(function(){return 1},Math.asin);(oa.geo.orthographic=function(){return ae(nl)}).raw=nl;var tl=we(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(oa.geo.stereographic=function(){return ae(tl)}).raw=tl,Ae.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-Ha]},(oa.geo.transverseMercator=function(){var n=Ee(Ae),t=n.center,e=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return n?e([n[0],n[1],n.length>2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])},e([0,0,90])}).raw=Ae,oa.geom={},oa.geom.hull=function(n){function t(n){if(n.length<3)return[];var t,u=En(e),i=En(r),a=n.length,o=[],l=[];for(t=0;a>t;t++)o.push([+u.call(this,n[t],t),+i.call(this,n[t],t),t]);for(o.sort(qe),t=0;a>t;t++)l.push([o[t][0],-o[t][1]]);var c=Le(o),s=Le(l),f=s[0]===c[0],h=s[s.length-1]===c[c.length-1],g=[];for(t=c.length-1;t>=0;--t)g.push(n[o[c[t]][2]]);for(t=+f;t<s.length-h;++t)g.push(n[o[s[t]][2]]);return g}var e=Ce,r=ze;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t)},oa.geom.polygon=function(n){return Sa(n,el),n};var el=oa.geom.polygon.prototype=[];el.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],u=0;++t<e;)n=r,r=this[t],u+=n[1]*r[0]-n[0]*r[1];return.5*u},el.centroid=function(n){var t,e,r=-1,u=this.length,i=0,a=0,o=this[u-1];for(arguments.length||(n=-1/(6*this.area()));++r<u;)t=o,o=this[r],e=t[0]*o[1]-o[0]*t[1],i+=(t[0]+o[0])*e,a+=(t[1]+o[1])*e;return[i*n,a*n]},el.clip=function(n){for(var t,e,r,u,i,a,o=De(n),l=-1,c=this.length-De(this),s=this[c-1];++l<c;){for(t=n.slice(),n.length=0,u=this[l],i=t[(r=t.length-o)-1],e=-1;++e<r;)a=t[e],Te(a,s,u)?(Te(i,s,u)||n.push(Re(i,a,s,u)),n.push(a)):Te(i,s,u)&&n.push(Re(i,a,s,u)),i=a;o&&n.push(n[0]),s=u}return n};var rl,ul,il,al,ol,ll=[],cl=[];Ye.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)n=t[e].edge,n.b&&n.a||t.splice(e,1);return t.sort(Ve),t.length},tr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},er.prototype={insert:function(n,t){var e,r,u;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=ar(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)r=e.U,e===r.L?(u=r.R,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.R&&(ur(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ir(this,r))):(u=r.L,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.L&&(ir(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ur(this,r))),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,u=n.U,i=n.L,a=n.R;if(e=i?a?ar(a):i:a,u?u.L===n?u.L=e:u.R=e:this._=e,i&&a?(r=e.C,e.C=n.C,e.L=i,i.U=e,e!==a?(u=e.U,e.U=n.U,n=e.R,u.L=n,e.R=a,a.U=e):(e.U=u,u=e,n=e.R)):(r=n.C,n=e),n&&(n.U=u),!r){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===u.L){if(t=u.R,t.C&&(t.C=!1,u.C=!0,ur(this,u),t=u.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ir(this,t),t=u.R),t.C=u.C,u.C=t.R.C=!1,ur(this,u),n=this._;break}}else if(t=u.L,t.C&&(t.C=!1,u.C=!0,ir(this,u),t=u.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,ur(this,t),t=u.L),t.C=u.C,u.C=t.L.C=!1,ir(this,u),n=this._;break}t.C=!0,n=u,u=u.U}while(!n.C);n&&(n.C=!1)}}},oa.geom.voronoi=function(n){function t(n){var t=new Array(n.length),r=o[0][0],u=o[0][1],i=o[1][0],a=o[1][1];return or(e(n),o).cells.forEach(function(e,o){var l=e.edges,c=e.site,s=t[o]=l.length?l.map(function(n){var t=n.start();return[t.x,t.y]}):c.x>=r&&c.x<=i&&c.y>=u&&c.y<=a?[[r,a],[i,a],[i,u],[r,u]]:[];s.point=n[o]}),t}function e(n){return n.map(function(n,t){return{x:Math.round(i(n,t)/Da)*Da,y:Math.round(a(n,t)/Da)*Da,i:t}})}var r=Ce,u=ze,i=r,a=u,o=sl;return n?t(n):(t.links=function(n){return or(e(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},t.triangles=function(n){var t=[];return or(e(n)).cells.forEach(function(e,r){for(var u,i,a=e.site,o=e.edges.sort(Ve),l=-1,c=o.length,s=o[c-1].edge,f=s.l===a?s.r:s.l;++l<c;)u=s,i=f,s=o[l].edge,f=s.l===a?s.r:s.l,r<i.i&&r<f.i&&cr(a,i,f)<0&&t.push([n[r],n[i.i],n[f.i]])}),t},t.x=function(n){return arguments.length?(i=En(r=n),t):r},t.y=function(n){return arguments.length?(a=En(u=n),t):u},t.clipExtent=function(n){return arguments.length?(o=null==n?sl:n,t):o===sl?null:o},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):o===sl?null:o&&o[1]},t)};var sl=[[-1e6,-1e6],[1e6,1e6]];oa.geom.delaunay=function(n){return oa.geom.voronoi().triangles(n)},oa.geom.quadtree=function(n,t,e,r,u){function i(n){function i(n,t,e,r,u,i,a,o){if(!isNaN(e)&&!isNaN(r))if(n.leaf){var l=n.x,s=n.y;if(null!=l)if(Ma(l-e)+Ma(s-r)<.01)c(n,t,e,r,u,i,a,o);else{var f=n.point;n.x=n.y=n.point=null,c(n,f,l,s,u,i,a,o),c(n,t,e,r,u,i,a,o)}else n.x=e,n.y=r,n.point=t}else c(n,t,e,r,u,i,a,o)}function c(n,t,e,r,u,a,o,l){var c=.5*(u+o),s=.5*(a+l),f=e>=c,h=r>=s,g=h<<1|f;n.leaf=!1,n=n.nodes[g]||(n.nodes[g]=hr()),f?u=c:o=c,h?a=s:l=s,i(n,t,e,r,u,a,o,l)}var s,f,h,g,p,v,d,m,y,M=En(o),x=En(l);if(null!=t)v=t,d=e,m=r,y=u;else if(m=y=-(v=d=1/0),f=[],h=[],p=n.length,a)for(g=0;p>g;++g)s=n[g],s.x<v&&(v=s.x),s.y<d&&(d=s.y),s.x>m&&(m=s.x),s.y>y&&(y=s.y),f.push(s.x),h.push(s.y);else for(g=0;p>g;++g){var b=+M(s=n[g],g),_=+x(s,g);v>b&&(v=b),d>_&&(d=_),b>m&&(m=b),_>y&&(y=_),f.push(b),h.push(_)}var w=m-v,S=y-d;w>S?y=d+w:m=v+S;var k=hr();if(k.add=function(n){i(k,n,+M(n,++g),+x(n,g),v,d,m,y)},k.visit=function(n){gr(n,k,v,d,m,y)},k.find=function(n){return pr(k,n[0],n[1],v,d,m,y)},g=-1,null==t){for(;++g<p;)i(k,n[g],f[g],h[g],v,d,m,y);--g}else n.forEach(k.add);return f=h=n=s=null,k}var a,o=Ce,l=ze;return(a=arguments.length)?(o=sr,l=fr,3===a&&(u=e,r=t,e=t=0),i(n)):(i.x=function(n){return arguments.length?(o=n,i):o},i.y=function(n){return arguments.length?(l=n,i):l},i.extent=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],u=+n[1][1]),i):null==t?null:[[t,e],[r,u]]},i.size=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=e=0,r=+n[0],u=+n[1]),i):null==t?null:[r-t,u-e]},i)},oa.interpolateRgb=vr,oa.interpolateObject=dr,oa.interpolateNumber=mr,oa.interpolateString=yr;var fl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hl=new RegExp(fl.source,"g");oa.interpolate=Mr,oa.interpolators=[function(n,t){var e=typeof t;return("string"===e?ro.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?vr:yr:t instanceof on?vr:Array.isArray(t)?xr:"object"===e&&isNaN(t)?dr:mr)(n,t)}],oa.interpolateArray=xr;var gl=function(){return y},pl=oa.map({linear:gl,poly:Er,quad:function(){return Sr},cubic:function(){return kr},sin:function(){return Ar},exp:function(){return Cr},circle:function(){return zr},elastic:Lr,back:qr,bounce:function(){return Tr}}),vl=oa.map({"in":y,out:_r,"in-out":wr,"out-in":function(n){return wr(_r(n))}});oa.ease=function(n){var t=n.indexOf("-"),e=t>=0?n.slice(0,t):n,r=t>=0?n.slice(t+1):"in";return e=pl.get(e)||gl,r=vl.get(r)||y,br(r(e.apply(null,la.call(arguments,1))))},oa.interpolateHcl=Rr,oa.interpolateHsl=Dr,oa.interpolateLab=Pr,oa.interpolateRound=Ur,oa.transform=function(n){var t=sa.createElementNS(oa.ns.prefix.svg,"g");return(oa.transform=function(n){if(null!=n){t.setAttribute("transform",n);var e=t.transform.baseVal.consolidate()}return new jr(e?e.matrix:dl)})(n)},jr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var dl={a:1,b:0,c:0,d:1,e:0,f:0};oa.interpolateTransform=$r,oa.layout={},oa.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(Jr(n[e]));return t}},oa.layout.chord=function(){function n(){var n,c,f,h,g,p={},v=[],d=oa.range(i),m=[];for(e=[],r=[],n=0,h=-1;++h<i;){for(c=0,g=-1;++g<i;)c+=u[h][g];v.push(c),m.push(oa.range(i)),n+=c}for(a&&d.sort(function(n,t){return a(v[n],v[t])}),o&&m.forEach(function(n,t){n.sort(function(n,e){return o(u[t][n],u[t][e])})}),n=(ja-s*i)/n,c=0,h=-1;++h<i;){for(f=c,g=-1;++g<i;){var y=d[h],M=m[y][g],x=u[y][M],b=c,_=c+=x*n;p[y+"-"+M]={index:y,subindex:M,startAngle:b,endAngle:_,value:x}}r[y]={index:y,startAngle:f,endAngle:c,value:v[y]},c+=s}for(h=-1;++h<i;)for(g=h-1;++g<i;){var w=p[h+"-"+g],S=p[g+"-"+h];(w.value||S.value)&&e.push(w.value<S.value?{source:S,target:w}:{source:w,target:S})}l&&t()}function t(){e.sort(function(n,t){return l((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var e,r,u,i,a,o,l,c={},s=0;return c.matrix=function(n){return arguments.length?(i=(u=n)&&u.length,e=r=null,c):u},c.padding=function(n){return arguments.length?(s=n,e=r=null,c):s},c.sortGroups=function(n){return arguments.length?(a=n,e=r=null,c):a},c.sortSubgroups=function(n){return arguments.length?(o=n,e=null,c):o},c.sortChords=function(n){return arguments.length?(l=n,e&&t(),c):l},c.chords=function(){return e||n(),e},c.groups=function(){return r||n(),r},c},oa.layout.force=function(){function n(n){return function(t,e,r,u){if(t.point!==n){var i=t.cx-n.x,a=t.cy-n.y,o=u-e,l=i*i+a*a;if(l>o*o/m){if(v>l){var c=t.charge/l;n.px-=i*c,n.py-=a*c}return!0}if(t.point&&l&&v>l){var c=t.pointCharge/l;n.px-=i*c,n.py-=a*c}}return!t.charge}}function t(n){n.px=oa.event.x,n.py=oa.event.y,l.resume()}var e,r,u,i,a,o,l={},c=oa.dispatch("start","tick","end"),s=[1,1],f=.9,h=ml,g=yl,p=-30,v=Ml,d=.1,m=.64,M=[],x=[];return l.tick=function(){if((u*=.99)<.005)return e=null,c.end({type:"end",alpha:u=0}),!0;var t,r,l,h,g,v,m,y,b,_=M.length,w=x.length;for(r=0;w>r;++r)l=x[r],h=l.source,g=l.target,y=g.x-h.x,b=g.y-h.y,(v=y*y+b*b)&&(v=u*a[r]*((v=Math.sqrt(v))-i[r])/v,y*=v,b*=v,g.x-=y*(m=h.weight+g.weight?h.weight/(h.weight+g.weight):.5),g.y-=b*m,h.x+=y*(m=1-m),h.y+=b*m);if((m=u*d)&&(y=s[0]/2,b=s[1]/2,r=-1,m))for(;++r<_;)l=M[r],l.x+=(y-l.x)*m,l.y+=(b-l.y)*m;if(p)for(ru(t=oa.geom.quadtree(M),u,o),r=-1;++r<_;)(l=M[r]).fixed||t.visit(n(l));for(r=-1;++r<_;)l=M[r],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*f,l.y-=(l.py-(l.py=l.y))*f);c.tick({type:"tick",alpha:u})},l.nodes=function(n){return arguments.length?(M=n,l):M},l.links=function(n){return arguments.length?(x=n,l):x},l.size=function(n){return arguments.length?(s=n,l):s},l.linkDistance=function(n){return arguments.length?(h="function"==typeof n?n:+n,l):h},l.distance=l.linkDistance,l.linkStrength=function(n){return arguments.length?(g="function"==typeof n?n:+n,l):g},l.friction=function(n){return arguments.length?(f=+n,l):f},l.charge=function(n){return arguments.length?(p="function"==typeof n?n:+n,l):p},l.chargeDistance=function(n){return arguments.length?(v=n*n,l):Math.sqrt(v)},l.gravity=function(n){return arguments.length?(d=+n,l):d},l.theta=function(n){return arguments.length?(m=n*n,l):Math.sqrt(m)},l.alpha=function(n){return arguments.length?(n=+n,u?n>0?u=n:(e.c=null,e.t=NaN,e=null,c.end({type:"end",alpha:u=0})):n>0&&(c.start({type:"start",alpha:u=n}),e=qn(l.tick)),l):u},l.start=function(){function n(n,r){if(!e){for(e=new Array(u),l=0;u>l;++l)e[l]=[];for(l=0;c>l;++l){var i=x[l];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var a,o=e[t],l=-1,s=o.length;++l<s;)if(!isNaN(a=o[l][n]))return a;return Math.random()*r}var t,e,r,u=M.length,c=x.length,f=s[0],v=s[1];for(t=0;u>t;++t)(r=M[t]).index=t,r.weight=0;for(t=0;c>t;++t)r=x[t],"number"==typeof r.source&&(r.source=M[r.source]),"number"==typeof r.target&&(r.target=M[r.target]),++r.source.weight,++r.target.weight;for(t=0;u>t;++t)r=M[t],isNaN(r.x)&&(r.x=n("x",f)),isNaN(r.y)&&(r.y=n("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof h)for(t=0;c>t;++t)i[t]=+h.call(this,x[t],t);else for(t=0;c>t;++t)i[t]=h;if(a=[],"function"==typeof g)for(t=0;c>t;++t)a[t]=+g.call(this,x[t],t);else for(t=0;c>t;++t)a[t]=g;if(o=[],"function"==typeof p)for(t=0;u>t;++t)o[t]=+p.call(this,M[t],t);else for(t=0;u>t;++t)o[t]=p;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return r||(r=oa.behavior.drag().origin(y).on("dragstart.force",Qr).on("drag.force",t).on("dragend.force",nu)),arguments.length?void this.on("mouseover.force",tu).on("mouseout.force",eu).call(r):r},oa.rebind(l,c,"on")};var ml=20,yl=1,Ml=1/0;oa.layout.hierarchy=function(){function n(u){var i,a=[u],o=[];for(u.depth=0;null!=(i=a.pop());)if(o.push(i),(c=e.call(n,i,i.depth))&&(l=c.length)){for(var l,c,s;--l>=0;)a.push(s=c[l]),s.parent=i,s.depth=i.depth+1;r&&(i.value=0),i.children=c}else r&&(i.value=+r.call(n,i,i.depth)||0),delete i.children;return au(u,function(n){var e,u;t&&(e=n.children)&&e.sort(t),r&&(u=n.parent)&&(u.value+=n.value)}),o}var t=cu,e=ou,r=lu;return n.sort=function(e){return arguments.length?(t=e,n):t},n.children=function(t){return arguments.length?(e=t,n):e},n.value=function(t){return arguments.length?(r=t,n):r},n.revalue=function(t){return r&&(iu(t,function(n){n.children&&(n.value=0)}),au(t,function(t){var e;t.children||(t.value=+r.call(n,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},n},oa.layout.partition=function(){function n(t,e,r,u){var i=t.children;if(t.x=e,t.y=t.depth*u,t.dx=r,t.dy=u,i&&(a=i.length)){var a,o,l,c=-1;for(r=t.value?r/t.value:0;++c<a;)n(o=i[c],e,l=o.value*r,u),e+=l}}function t(n){var e=n.children,r=0;if(e&&(u=e.length))for(var u,i=-1;++i<u;)r=Math.max(r,t(e[i]));return 1+r}function e(e,i){var a=r.call(this,e,i);return n(a[0],0,u[0],u[1]/t(a[0])),a}var r=oa.layout.hierarchy(),u=[1,1];return e.size=function(n){return arguments.length?(u=n,e):u},uu(e,r)},oa.layout.pie=function(){function n(a){var o,l=a.length,c=a.map(function(e,r){return+t.call(n,e,r)}),s=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof u?u.apply(this,arguments):u)-s,h=Math.min(Math.abs(f)/l,+("function"==typeof i?i.apply(this,arguments):i)),g=h*(0>f?-1:1),p=oa.sum(c),v=p?(f-l*g)/p:0,d=oa.range(l),m=[];return null!=e&&d.sort(e===xl?function(n,t){return c[t]-c[n]}:function(n,t){return e(a[n],a[t])}),d.forEach(function(n){m[n]={data:a[n],value:o=c[n],startAngle:s,endAngle:s+=o*v+g,padAngle:h}}),m}var t=Number,e=xl,r=0,u=ja,i=0;return n.value=function(e){return arguments.length?(t=e,n):t},n.sort=function(t){return arguments.length?(e=t,n):e},n.startAngle=function(t){return arguments.length?(r=t,n):r},n.endAngle=function(t){return arguments.length?(u=t,n):u},n.padAngle=function(t){return arguments.length?(i=t,n):i},n};var xl={};oa.layout.stack=function(){function n(o,l){if(!(h=o.length))return o;var c=o.map(function(e,r){return t.call(n,e,r)}),s=c.map(function(t){return t.map(function(t,e){return[i.call(n,t,e),a.call(n,t,e)]})}),f=e.call(n,s,l);c=oa.permute(c,f),s=oa.permute(s,f);var h,g,p,v,d=r.call(n,s,l),m=c[0].length;for(p=0;m>p;++p)for(u.call(n,c[0][p],v=d[p],s[0][p][1]),g=1;h>g;++g)u.call(n,c[g][p],v+=s[g-1][p][1],s[g][p][1]);return o}var t=y,e=pu,r=vu,u=gu,i=fu,a=hu;return n.values=function(e){return arguments.length?(t=e,n):t},n.order=function(t){return arguments.length?(e="function"==typeof t?t:bl.get(t)||pu,n):e},n.offset=function(t){return arguments.length?(r="function"==typeof t?t:_l.get(t)||vu,n):r},n.x=function(t){return arguments.length?(i=t,n):i},n.y=function(t){return arguments.length?(a=t,n):a},n.out=function(t){return arguments.length?(u=t,n):u},n};var bl=oa.map({"inside-out":function(n){var t,e,r=n.length,u=n.map(du),i=n.map(mu),a=oa.range(r).sort(function(n,t){return u[n]-u[t]}),o=0,l=0,c=[],s=[];for(t=0;r>t;++t)e=a[t],l>o?(o+=i[e],c.push(e)):(l+=i[e],s.push(e));return s.reverse().concat(c)},reverse:function(n){return oa.range(n.length).reverse()},"default":pu}),_l=oa.map({silhouette:function(n){var t,e,r,u=n.length,i=n[0].length,a=[],o=0,l=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];r>o&&(o=r),a.push(r)}for(e=0;i>e;++e)l[e]=(o-a[e])/2;return l},wiggle:function(n){var t,e,r,u,i,a,o,l,c,s=n.length,f=n[0],h=f.length,g=[];for(g[0]=l=c=0,e=1;h>e;++e){for(t=0,u=0;s>t;++t)u+=n[t][e][1];for(t=0,i=0,o=f[e][0]-f[e-1][0];s>t;++t){for(r=0,a=(n[t][e][1]-n[t][e-1][1])/(2*o);t>r;++r)a+=(n[r][e][1]-n[r][e-1][1])/o;i+=a*n[t][e][1]}g[e]=l-=u?i/u*o:0,c>l&&(c=l)}for(e=0;h>e;++e)g[e]-=c;return g},expand:function(n){var t,e,r,u=n.length,i=n[0].length,a=1/u,o=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];if(r)for(t=0;u>t;t++)n[t][e][1]/=r;else for(t=0;u>t;t++)n[t][e][1]=a}for(e=0;i>e;++e)o[e]=0;return o},zero:vu});oa.layout.histogram=function(){function n(n,i){for(var a,o,l=[],c=n.map(e,this),s=r.call(this,c,i),f=u.call(this,s,c,i),i=-1,h=c.length,g=f.length-1,p=t?1:1/h;++i<g;)a=l[i]=[],a.dx=f[i+1]-(a.x=f[i]),a.y=0;if(g>0)for(i=-1;++i<h;)o=c[i],o>=s[0]&&o<=s[1]&&(a=l[oa.bisect(f,o,1,g)-1],a.y+=p,a.push(n[i]));return l}var t=!0,e=Number,r=bu,u=Mu;return n.value=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=En(t),n):r},n.bins=function(t){return arguments.length?(u="number"==typeof t?function(n){return xu(n,t)}:En(t),n):u},n.frequency=function(e){return arguments.length?(t=!!e,n):t},n},oa.layout.pack=function(){function n(n,i){var a=e.call(this,n,i),o=a[0],l=u[0],c=u[1],s=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(o.x=o.y=0,au(o,function(n){n.r=+s(n.value)}),au(o,Nu),r){var f=r*(t?1:Math.max(2*o.r/l,2*o.r/c))/2;au(o,function(n){n.r+=f}),au(o,Nu),au(o,function(n){n.r-=f})}return Cu(o,l/2,c/2,t?1:1/Math.max(2*o.r/l,2*o.r/c)),a}var t,e=oa.layout.hierarchy().sort(_u),r=0,u=[1,1];return n.size=function(t){return arguments.length?(u=t,n):u},n.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,n):t},n.padding=function(t){return arguments.length?(r=+t,n):r},uu(n,e)},oa.layout.tree=function(){function n(n,u){var s=a.call(this,n,u),f=s[0],h=t(f);if(au(h,e),h.parent.m=-h.z,iu(h,r),c)iu(f,i);else{var g=f,p=f,v=f;iu(f,function(n){n.x<g.x&&(g=n),n.x>p.x&&(p=n),n.depth>v.depth&&(v=n)});var d=o(g,p)/2-g.x,m=l[0]/(p.x+o(p,g)/2+d),y=l[1]/(v.depth||1);iu(f,function(n){n.x=(n.x+d)*m,n.y=n.depth*y})}return s}function t(n){for(var t,e={A:null,children:[n]},r=[e];null!=(t=r.pop());)for(var u,i=t.children,a=0,o=i.length;o>a;++a)r.push((i[a]=u={_:i[a],parent:t,children:(u=i[a].children)&&u.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=u);return e.children[0]}function e(n){var t=n.children,e=n.parent.children,r=n.i?e[n.i-1]:null;if(t.length){Du(n);var i=(t[0].z+t[t.length-1].z)/2;r?(n.z=r.z+o(n._,r._),n.m=n.z-i):n.z=i}else r&&(n.z=r.z+o(n._,r._));n.parent.A=u(n,r,n.parent.A||e[0])}function r(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function u(n,t,e){if(t){for(var r,u=n,i=n,a=t,l=u.parent.children[0],c=u.m,s=i.m,f=a.m,h=l.m;a=Tu(a),u=qu(u),a&&u;)l=qu(l),i=Tu(i),i.a=n,r=a.z+f-u.z-c+o(a._,u._),r>0&&(Ru(Pu(a,n,e),n,r),c+=r,s+=r),f+=a.m,c+=u.m,h+=l.m,s+=i.m;a&&!Tu(i)&&(i.t=a,i.m+=f-s),u&&!qu(l)&&(l.t=u,l.m+=c-h,e=n)}return e}function i(n){n.x*=l[0],n.y=n.depth*l[1]}var a=oa.layout.hierarchy().sort(null).value(null),o=Lu,l=[1,1],c=null;return n.separation=function(t){return arguments.length?(o=t,n):o},n.size=function(t){return arguments.length?(c=null==(l=t)?i:null,n):c?null:l},n.nodeSize=function(t){return arguments.length?(c=null==(l=t)?null:i,n):c?l:null},uu(n,a)},oa.layout.cluster=function(){function n(n,i){var a,o=t.call(this,n,i),l=o[0],c=0;au(l,function(n){var t=n.children;t&&t.length?(n.x=ju(t),n.y=Uu(t)):(n.x=a?c+=e(n,a):0,n.y=0,a=n)});var s=Fu(l),f=Hu(l),h=s.x-e(s,f)/2,g=f.x+e(f,s)/2;return au(l,u?function(n){n.x=(n.x-l.x)*r[0],n.y=(l.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(g-h)*r[0],n.y=(1-(l.y?n.y/l.y:1))*r[1]}),o}var t=oa.layout.hierarchy().sort(null).value(null),e=Lu,r=[1,1],u=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(u=null==(r=t),n):u?null:r},n.nodeSize=function(t){return arguments.length?(u=null!=(r=t),n):u?r:null},uu(n,t)},oa.layout.treemap=function(){function n(n,t){for(var e,r,u=-1,i=n.length;++u<i;)r=(e=n[u]).value*(0>t?0:t),e.area=isNaN(r)||0>=r?0:r}function t(e){var i=e.children;if(i&&i.length){var a,o,l,c=f(e),s=[],h=i.slice(),p=1/0,v="slice"===g?c.dx:"dice"===g?c.dy:"slice-dice"===g?1&e.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(n(h,c.dx*c.dy/e.value),s.area=0;(l=h.length)>0;)s.push(a=h[l-1]),s.area+=a.area,"squarify"!==g||(o=r(s,v))<=p?(h.pop(),p=o):(s.area-=s.pop().area,u(s,v,c,!1),v=Math.min(c.dx,c.dy),s.length=s.area=0,p=1/0);s.length&&(u(s,v,c,!0),s.length=s.area=0),i.forEach(t)}}function e(t){var r=t.children;if(r&&r.length){var i,a=f(t),o=r.slice(),l=[];for(n(o,a.dx*a.dy/t.value),l.area=0;i=o.pop();)l.push(i),l.area+=i.area,null!=i.z&&(u(l,i.z?a.dx:a.dy,a,!o.length),l.length=l.area=0);r.forEach(e)}}function r(n,t){for(var e,r=n.area,u=0,i=1/0,a=-1,o=n.length;++a<o;)(e=n[a].area)&&(i>e&&(i=e),e>u&&(u=e));return r*=r,t*=t,r?Math.max(t*u*p/r,r/(t*i*p)):1/0}function u(n,t,e,r){var u,i=-1,a=n.length,o=e.x,c=e.y,s=t?l(n.area/t):0;
if(t==e.dx){for((r||s>e.dy)&&(s=e.dy);++i<a;)u=n[i],u.x=o,u.y=c,u.dy=s,o+=u.dx=Math.min(e.x+e.dx-o,s?l(u.area/s):0);u.z=!0,u.dx+=e.x+e.dx-o,e.y+=s,e.dy-=s}else{for((r||s>e.dx)&&(s=e.dx);++i<a;)u=n[i],u.x=o,u.y=c,u.dx=s,c+=u.dy=Math.min(e.y+e.dy-c,s?l(u.area/s):0);u.z=!1,u.dy+=e.y+e.dy-c,e.x+=s,e.dx-=s}}function i(r){var u=a||o(r),i=u[0];return i.x=i.y=0,i.value?(i.dx=c[0],i.dy=c[1]):i.dx=i.dy=0,a&&o.revalue(i),n([i],i.dx*i.dy/i.value),(a?e:t)(i),h&&(a=u),u}var a,o=oa.layout.hierarchy(),l=Math.round,c=[1,1],s=null,f=Ou,h=!1,g="squarify",p=.5*(1+Math.sqrt(5));return i.size=function(n){return arguments.length?(c=n,i):c},i.padding=function(n){function t(t){var e=n.call(i,t,t.depth);return null==e?Ou(t):Iu(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Iu(t,n)}if(!arguments.length)return s;var r;return f=null==(s=n)?Ou:"function"==(r=typeof n)?t:"number"===r?(n=[n,n,n,n],e):e,i},i.round=function(n){return arguments.length?(l=n?Math.round:Number,i):l!=Number},i.sticky=function(n){return arguments.length?(h=n,a=null,i):h},i.ratio=function(n){return arguments.length?(p=n,i):p},i.mode=function(n){return arguments.length?(g=n+"",i):g},uu(i,o)},oa.random={normal:function(n,t){var e=arguments.length;return 2>e&&(t=1),1>e&&(n=0),function(){var e,r,u;do e=2*Math.random()-1,r=2*Math.random()-1,u=e*e+r*r;while(!u||u>1);return n+t*e*Math.sqrt(-2*Math.log(u)/u)}},logNormal:function(){var n=oa.random.normal.apply(oa,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=oa.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,e=0;n>e;e++)t+=Math.random();return t}}},oa.scale={};var wl={floor:y,ceil:y};oa.scale.linear=function(){return Wu([0,1],[0,1],Mr,!1)};var Sl={s:1,g:1,p:1,r:1,e:1};oa.scale.log=function(){return ri(oa.scale.linear().domain([0,1]),10,!0,[1,10])};var kl=oa.format(".0e"),Nl={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};oa.scale.pow=function(){return ui(oa.scale.linear(),1,[0,1])},oa.scale.sqrt=function(){return oa.scale.pow().exponent(.5)},oa.scale.ordinal=function(){return ai([],{t:"range",a:[[]]})},oa.scale.category10=function(){return oa.scale.ordinal().range(El)},oa.scale.category20=function(){return oa.scale.ordinal().range(Al)},oa.scale.category20b=function(){return oa.scale.ordinal().range(Cl)},oa.scale.category20c=function(){return oa.scale.ordinal().range(zl)};var El=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xn),Al=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xn),Cl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xn),zl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xn);oa.scale.quantile=function(){return oi([],[])},oa.scale.quantize=function(){return li(0,1,[0,1])},oa.scale.threshold=function(){return ci([.5],[0,1])},oa.scale.identity=function(){return si([0,1])},oa.svg={},oa.svg.arc=function(){function n(){var n=Math.max(0,+e.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),s=a.apply(this,arguments)-Ha,f=o.apply(this,arguments)-Ha,h=Math.abs(f-s),g=s>f?0:1;if(n>c&&(p=c,c=n,n=p),h>=Fa)return t(c,g)+(n?t(n,1-g):"")+"Z";var p,v,d,m,y,M,x,b,_,w,S,k,N=0,E=0,A=[];if((m=(+l.apply(this,arguments)||0)/2)&&(d=i===Ll?Math.sqrt(n*n+c*c):+i.apply(this,arguments),g||(E*=-1),c&&(E=tn(d/c*Math.sin(m))),n&&(N=tn(d/n*Math.sin(m)))),c){y=c*Math.cos(s+E),M=c*Math.sin(s+E),x=c*Math.cos(f-E),b=c*Math.sin(f-E);var C=Math.abs(f-s-2*E)<=Ua?0:1;if(E&&mi(y,M,x,b)===g^C){var z=(s+f)/2;y=c*Math.cos(z),M=c*Math.sin(z),x=b=null}}else y=M=0;if(n){_=n*Math.cos(f-N),w=n*Math.sin(f-N),S=n*Math.cos(s+N),k=n*Math.sin(s+N);var L=Math.abs(s-f+2*N)<=Ua?0:1;if(N&&mi(_,w,S,k)===1-g^L){var q=(s+f)/2;_=n*Math.cos(q),w=n*Math.sin(q),S=k=null}}else _=w=0;if(h>Da&&(p=Math.min(Math.abs(c-n)/2,+u.apply(this,arguments)))>.001){v=c>n^g?0:1;var T=p,R=p;if(Ua>h){var D=null==S?[_,w]:null==x?[y,M]:Re([y,M],[S,k],[x,b],[_,w]),P=y-D[0],U=M-D[1],j=x-D[0],F=b-D[1],H=1/Math.sin(Math.acos((P*j+U*F)/(Math.sqrt(P*P+U*U)*Math.sqrt(j*j+F*F)))/2),O=Math.sqrt(D[0]*D[0]+D[1]*D[1]);R=Math.min(p,(n-O)/(H-1)),T=Math.min(p,(c-O)/(H+1))}if(null!=x){var I=yi(null==S?[_,w]:[S,k],[y,M],c,T,g),Y=yi([x,b],[_,w],c,T,g);p===T?A.push("M",I[0],"A",T,",",T," 0 0,",v," ",I[1],"A",c,",",c," 0 ",1-g^mi(I[1][0],I[1][1],Y[1][0],Y[1][1]),",",g," ",Y[1],"A",T,",",T," 0 0,",v," ",Y[0]):A.push("M",I[0],"A",T,",",T," 0 1,",v," ",Y[0])}else A.push("M",y,",",M);if(null!=S){var Z=yi([y,M],[S,k],n,-R,g),V=yi([_,w],null==x?[y,M]:[x,b],n,-R,g);p===R?A.push("L",V[0],"A",R,",",R," 0 0,",v," ",V[1],"A",n,",",n," 0 ",g^mi(V[1][0],V[1][1],Z[1][0],Z[1][1]),",",1-g," ",Z[1],"A",R,",",R," 0 0,",v," ",Z[0]):A.push("L",V[0],"A",R,",",R," 0 0,",v," ",Z[0])}else A.push("L",_,",",w)}else A.push("M",y,",",M),null!=x&&A.push("A",c,",",c," 0 ",C,",",g," ",x,",",b),A.push("L",_,",",w),null!=S&&A.push("A",n,",",n," 0 ",L,",",1-g," ",S,",",k);return A.push("Z"),A.join("")}function t(n,t){return"M0,"+n+"A"+n+","+n+" 0 1,"+t+" 0,"+-n+"A"+n+","+n+" 0 1,"+t+" 0,"+n}var e=hi,r=gi,u=fi,i=Ll,a=pi,o=vi,l=di;return n.innerRadius=function(t){return arguments.length?(e=En(t),n):e},n.outerRadius=function(t){return arguments.length?(r=En(t),n):r},n.cornerRadius=function(t){return arguments.length?(u=En(t),n):u},n.padRadius=function(t){return arguments.length?(i=t==Ll?Ll:En(t),n):i},n.startAngle=function(t){return arguments.length?(a=En(t),n):a},n.endAngle=function(t){return arguments.length?(o=En(t),n):o},n.padAngle=function(t){return arguments.length?(l=En(t),n):l},n.centroid=function(){var n=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+a.apply(this,arguments)+ +o.apply(this,arguments))/2-Ha;return[Math.cos(t)*n,Math.sin(t)*n]},n};var Ll="auto";oa.svg.line=function(){return Mi(y)};var ql=oa.map({linear:xi,"linear-closed":bi,step:_i,"step-before":wi,"step-after":Si,basis:zi,"basis-open":Li,"basis-closed":qi,bundle:Ti,cardinal:Ei,"cardinal-open":ki,"cardinal-closed":Ni,monotone:Fi});ql.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var Tl=[0,2/3,1/3,0],Rl=[0,1/3,2/3,0],Dl=[0,1/6,2/3,1/6];oa.svg.line.radial=function(){var n=Mi(Hi);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},wi.reverse=Si,Si.reverse=wi,oa.svg.area=function(){return Oi(y)},oa.svg.area.radial=function(){var n=Oi(Hi);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},oa.svg.chord=function(){function n(n,o){var l=t(this,i,n,o),c=t(this,a,n,o);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(e(l,c)?u(l.r,l.p1,l.r,l.p0):u(l.r,l.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+u(c.r,c.p1,l.r,l.p0))+"Z"}function t(n,t,e,r){var u=t.call(n,e,r),i=o.call(n,u,r),a=l.call(n,u,r)-Ha,s=c.call(n,u,r)-Ha;return{r:i,a0:a,a1:s,p0:[i*Math.cos(a),i*Math.sin(a)],p1:[i*Math.cos(s),i*Math.sin(s)]}}function e(n,t){return n.a0==t.a0&&n.a1==t.a1}function r(n,t,e){return"A"+n+","+n+" 0 "+ +(e>Ua)+",1 "+t}function u(n,t,e,r){return"Q 0,0 "+r}var i=Me,a=xe,o=Ii,l=pi,c=vi;return n.radius=function(t){return arguments.length?(o=En(t),n):o},n.source=function(t){return arguments.length?(i=En(t),n):i},n.target=function(t){return arguments.length?(a=En(t),n):a},n.startAngle=function(t){return arguments.length?(l=En(t),n):l},n.endAngle=function(t){return arguments.length?(c=En(t),n):c},n},oa.svg.diagonal=function(){function n(n,u){var i=t.call(this,n,u),a=e.call(this,n,u),o=(i.y+a.y)/2,l=[i,{x:i.x,y:o},{x:a.x,y:o},a];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=Me,e=xe,r=Yi;return n.source=function(e){return arguments.length?(t=En(e),n):t},n.target=function(t){return arguments.length?(e=En(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},oa.svg.diagonal.radial=function(){var n=oa.svg.diagonal(),t=Yi,e=n.projection;return n.projection=function(n){return arguments.length?e(Zi(t=n)):t},n},oa.svg.symbol=function(){function n(n,r){return(Pl.get(t.call(this,n,r))||$i)(e.call(this,n,r))}var t=Xi,e=Vi;return n.type=function(e){return arguments.length?(t=En(e),n):t},n.size=function(t){return arguments.length?(e=En(t),n):e},n};var Pl=oa.map({circle:$i,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*jl)),e=t*jl;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/Ul),e=t*Ul/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/Ul),e=t*Ul/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});oa.svg.symbolTypes=Pl.keys();var Ul=Math.sqrt(3),jl=Math.tan(30*Oa);Aa.transition=function(n){for(var t,e,r=Fl||++Yl,u=Ki(n),i=[],a=Hl||{time:Date.now(),ease:Nr,delay:0,duration:250},o=-1,l=this.length;++o<l;){i.push(t=[]);for(var c=this[o],s=-1,f=c.length;++s<f;)(e=c[s])&&Qi(e,s,u,r,a),t.push(e)}return Wi(i,u,r)},Aa.interrupt=function(n){return this.each(null==n?Ol:Bi(Ki(n)))};var Fl,Hl,Ol=Bi(Ki()),Il=[],Yl=0;Il.call=Aa.call,Il.empty=Aa.empty,Il.node=Aa.node,Il.size=Aa.size,oa.transition=function(n,t){return n&&n.transition?Fl?n.transition(t):n:oa.selection().transition(n)},oa.transition.prototype=Il,Il.select=function(n){var t,e,r,u=this.id,i=this.namespace,a=[];n=A(n);for(var o=-1,l=this.length;++o<l;){a.push(t=[]);for(var c=this[o],s=-1,f=c.length;++s<f;)(r=c[s])&&(e=n.call(r,r.__data__,s,o))?("__data__"in r&&(e.__data__=r.__data__),Qi(e,s,i,u,r[i][u]),t.push(e)):t.push(null)}return Wi(a,i,u)},Il.selectAll=function(n){var t,e,r,u,i,a=this.id,o=this.namespace,l=[];n=C(n);for(var c=-1,s=this.length;++c<s;)for(var f=this[c],h=-1,g=f.length;++h<g;)if(r=f[h]){i=r[o][a],e=n.call(r,r.__data__,h,c),l.push(t=[]);for(var p=-1,v=e.length;++p<v;)(u=e[p])&&Qi(u,p,o,a,i),t.push(u)}return Wi(l,o,a)},Il.filter=function(n){var t,e,r,u=[];"function"!=typeof n&&(n=O(n));for(var i=0,a=this.length;a>i;i++){u.push(t=[]);for(var e=this[i],o=0,l=e.length;l>o;o++)(r=e[o])&&n.call(r,r.__data__,o,i)&&t.push(r)}return Wi(u,this.namespace,this.id)},Il.tween=function(n,t){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(n):Y(this,null==t?function(t){t[r][e].tween.remove(n)}:function(u){u[r][e].tween.set(n,t)})},Il.attr=function(n,t){function e(){this.removeAttribute(o)}function r(){this.removeAttributeNS(o.space,o.local)}function u(n){return null==n?e:(n+="",function(){var t,e=this.getAttribute(o);return e!==n&&(t=a(e,n),function(n){this.setAttribute(o,t(n))})})}function i(n){return null==n?r:(n+="",function(){var t,e=this.getAttributeNS(o.space,o.local);return e!==n&&(t=a(e,n),function(n){this.setAttributeNS(o.space,o.local,t(n))})})}if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var a="transform"==n?$r:Mr,o=oa.ns.qualify(n);return Ji(this,"attr."+n,t,o.local?i:u)},Il.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(u));return r&&function(n){this.setAttribute(u,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(u.space,u.local));return r&&function(n){this.setAttributeNS(u.space,u.local,r(n))}}var u=oa.ns.qualify(n);return this.tween("attr."+n,u.local?r:e)},Il.style=function(n,e,r){function u(){this.style.removeProperty(n)}function i(e){return null==e?u:(e+="",function(){var u,i=t(this).getComputedStyle(this,null).getPropertyValue(n);return i!==e&&(u=Mr(i,e),function(t){this.style.setProperty(n,u(t),r)})})}var a=arguments.length;if(3>a){if("string"!=typeof n){2>a&&(e="");for(r in n)this.style(r,n[r],e);return this}r=""}return Ji(this,"style."+n,e,i)},Il.styleTween=function(n,e,r){function u(u,i){var a=e.call(this,u,i,t(this).getComputedStyle(this,null).getPropertyValue(n));return a&&function(t){this.style.setProperty(n,a(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+n,u)},Il.text=function(n){return Ji(this,"text",n,Gi)},Il.remove=function(){var n=this.namespace;return this.each("end.transition",function(){var t;this[n].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Il.ease=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].ease:("function"!=typeof n&&(n=oa.ease.apply(oa,arguments)),Y(this,function(r){r[e][t].ease=n}))},Il.delay=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].delay:Y(this,"function"==typeof n?function(r,u,i){r[e][t].delay=+n.call(r,r.__data__,u,i)}:(n=+n,function(r){r[e][t].delay=n}))},Il.duration=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].duration:Y(this,"function"==typeof n?function(r,u,i){r[e][t].duration=Math.max(1,n.call(r,r.__data__,u,i))}:(n=Math.max(1,n),function(r){r[e][t].duration=n}))},Il.each=function(n,t){var e=this.id,r=this.namespace;if(arguments.length<2){var u=Hl,i=Fl;try{Fl=e,Y(this,function(t,u,i){Hl=t[r][e],n.call(t,t.__data__,u,i)})}finally{Hl=u,Fl=i}}else Y(this,function(u){var i=u[r][e];(i.event||(i.event=oa.dispatch("start","end","interrupt"))).on(n,t)});return this},Il.transition=function(){for(var n,t,e,r,u=this.id,i=++Yl,a=this.namespace,o=[],l=0,c=this.length;c>l;l++){o.push(n=[]);for(var t=this[l],s=0,f=t.length;f>s;s++)(e=t[s])&&(r=e[a][u],Qi(e,s,a,i,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),n.push(e)}return Wi(o,a,i)},oa.svg.axis=function(){function n(n){n.each(function(){var n,c=oa.select(this),s=this.__chart__||e,f=this.__chart__=e.copy(),h=null==l?f.ticks?f.ticks.apply(f,o):f.domain():l,g=null==t?f.tickFormat?f.tickFormat.apply(f,o):y:t,p=c.selectAll(".tick").data(h,f),v=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Da),d=oa.transition(p.exit()).style("opacity",Da).remove(),m=oa.transition(p.order()).style("opacity",1),M=Math.max(u,0)+a,x=Zu(f),b=c.selectAll(".domain").data([0]),_=(b.enter().append("path").attr("class","domain"),oa.transition(b));v.append("line"),v.append("text");var w,S,k,N,E=v.select("line"),A=m.select("line"),C=p.select("text").text(g),z=v.select("text"),L=m.select("text"),q="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(n=na,w="x",k="y",S="x2",N="y2",C.attr("dy",0>q?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+q*i+"V0H"+x[1]+"V"+q*i)):(n=ta,w="y",k="x",S="y2",N="x2",C.attr("dy",".32em").style("text-anchor",0>q?"end":"start"),_.attr("d","M"+q*i+","+x[0]+"H0V"+x[1]+"H"+q*i)),E.attr(N,q*u),z.attr(k,q*M),A.attr(S,0).attr(N,q*u),L.attr(w,0).attr(k,q*M),f.rangeBand){var T=f,R=T.rangeBand()/2;s=f=function(n){return T(n)+R}}else s.rangeBand?s=f:d.call(n,f,s);v.call(n,s,f),m.call(n,f,f)})}var t,e=oa.scale.linear(),r=Zl,u=6,i=6,a=3,o=[10],l=null;return n.scale=function(t){return arguments.length?(e=t,n):e},n.orient=function(t){return arguments.length?(r=t in Vl?t+"":Zl,n):r},n.ticks=function(){return arguments.length?(o=ca(arguments),n):o},n.tickValues=function(t){return arguments.length?(l=t,n):l},n.tickFormat=function(e){return arguments.length?(t=e,n):t},n.tickSize=function(t){var e=arguments.length;return e?(u=+t,i=+arguments[e-1],n):u},n.innerTickSize=function(t){return arguments.length?(u=+t,n):u},n.outerTickSize=function(t){return arguments.length?(i=+t,n):i},n.tickPadding=function(t){return arguments.length?(a=+t,n):a},n.tickSubdivide=function(){return arguments.length&&n},n};var Zl="bottom",Vl={top:1,right:1,bottom:1,left:1};oa.svg.brush=function(){function n(t){t.each(function(){var t=oa.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=t.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var o=t.selectAll(".resize").data(v,y);o.exit().remove(),o.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return Xl[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),o.style("display",n.empty()?"none":null);var l,f=oa.transition(t),h=oa.transition(a);c&&(l=Zu(c),h.attr("x",l[0]).attr("width",l[1]-l[0]),r(f)),s&&(l=Zu(s),h.attr("y",l[0]).attr("height",l[1]-l[0]),u(f)),e(f)})}function e(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+f[+/e$/.test(n)]+","+h[+/^s/.test(n)]+")"})}function r(n){n.select(".extent").attr("x",f[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function u(n){n.select(".extent").attr("y",h[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function i(){function i(){32==oa.event.keyCode&&(C||(M=null,L[0]-=f[1],L[1]-=h[1],C=2),S())}function v(){32==oa.event.keyCode&&2==C&&(L[0]+=f[1],L[1]+=h[1],C=0,S())}function d(){var n=oa.mouse(b),t=!1;x&&(n[0]+=x[0],n[1]+=x[1]),C||(oa.event.altKey?(M||(M=[(f[0]+f[1])/2,(h[0]+h[1])/2]),L[0]=f[+(n[0]<M[0])],L[1]=h[+(n[1]<M[1])]):M=null),E&&m(n,c,0)&&(r(k),t=!0),A&&m(n,s,1)&&(u(k),t=!0),t&&(e(k),w({type:"brush",mode:C?"move":"resize"}))}function m(n,t,e){var r,u,i=Zu(t),l=i[0],c=i[1],s=L[e],v=e?h:f,d=v[1]-v[0];return C&&(l-=s,c-=d+s),r=(e?p:g)?Math.max(l,Math.min(c,n[e])):n[e],C?u=(r+=s)+d:(M&&(s=Math.max(l,Math.min(c,2*M[e]-r))),r>s?(u=r,r=s):u=s),v[0]!=r||v[1]!=u?(e?o=null:a=null,v[0]=r,v[1]=u,!0):void 0}function y(){d(),k.style("pointer-events","all").selectAll(".resize").style("display",n.empty()?"none":null),oa.select("body").style("cursor",null),q.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),z(),w({type:"brushend"})}var M,x,b=this,_=oa.select(oa.event.target),w=l.of(b,arguments),k=oa.select(b),N=_.datum(),E=!/^(n|s)$/.test(N)&&c,A=!/^(e|w)$/.test(N)&&s,C=_.classed("extent"),z=W(b),L=oa.mouse(b),q=oa.select(t(b)).on("keydown.brush",i).on("keyup.brush",v);if(oa.event.changedTouches?q.on("touchmove.brush",d).on("touchend.brush",y):q.on("mousemove.brush",d).on("mouseup.brush",y),k.interrupt().selectAll("*").interrupt(),C)L[0]=f[0]-L[0],L[1]=h[0]-L[1];else if(N){var T=+/w$/.test(N),R=+/^n/.test(N);x=[f[1-T]-L[0],h[1-R]-L[1]],L[0]=f[T],L[1]=h[R]}else oa.event.altKey&&(M=L.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),oa.select("body").style("cursor",_.style("cursor")),w({type:"brushstart"}),d()}var a,o,l=N(n,"brushstart","brush","brushend"),c=null,s=null,f=[0,0],h=[0,0],g=!0,p=!0,v=$l[0];return n.event=function(n){n.each(function(){var n=l.of(this,arguments),t={x:f,y:h,i:a,j:o},e=this.__chart__||t;this.__chart__=t,Fl?oa.select(this).transition().each("start.brush",function(){a=e.i,o=e.j,f=e.x,h=e.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=xr(f,t.x),r=xr(h,t.y);return a=o=null,function(u){f=t.x=e(u),h=t.y=r(u),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=t.i,o=t.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},n.x=function(t){return arguments.length?(c=t,v=$l[!c<<1|!s],n):c},n.y=function(t){return arguments.length?(s=t,v=$l[!c<<1|!s],n):s},n.clamp=function(t){return arguments.length?(c&&s?(g=!!t[0],p=!!t[1]):c?g=!!t:s&&(p=!!t),n):c&&s?[g,p]:c?g:s?p:null},n.extent=function(t){var e,r,u,i,l;return arguments.length?(c&&(e=t[0],r=t[1],s&&(e=e[0],r=r[0]),a=[e,r],c.invert&&(e=c(e),r=c(r)),e>r&&(l=e,e=r,r=l),(e!=f[0]||r!=f[1])&&(f=[e,r])),s&&(u=t[0],i=t[1],c&&(u=u[1],i=i[1]),o=[u,i],s.invert&&(u=s(u),i=s(i)),u>i&&(l=u,u=i,i=l),(u!=h[0]||i!=h[1])&&(h=[u,i])),n):(c&&(a?(e=a[0],r=a[1]):(e=f[0],r=f[1],c.invert&&(e=c.invert(e),r=c.invert(r)),e>r&&(l=e,e=r,r=l))),s&&(o?(u=o[0],i=o[1]):(u=h[0],i=h[1],s.invert&&(u=s.invert(u),i=s.invert(i)),u>i&&(l=u,u=i,i=l))),c&&s?[[e,u],[r,i]]:c?[e,r]:s&&[u,i])},n.clear=function(){return n.empty()||(f=[0,0],h=[0,0],a=o=null),n},n.empty=function(){return!!c&&f[0]==f[1]||!!s&&h[0]==h[1]},oa.rebind(n,l,"on")};var Xl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},$l=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Bl=ho.format=Mo.timeFormat,Wl=Bl.utc,Jl=Wl("%Y-%m-%dT%H:%M:%S.%LZ");Bl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ea:Jl,ea.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},ea.toString=Jl.toString,ho.second=On(function(n){return new go(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),ho.seconds=ho.second.range,ho.seconds.utc=ho.second.utc.range,ho.minute=On(function(n){return new go(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),ho.minutes=ho.minute.range,ho.minutes.utc=ho.minute.utc.range,ho.hour=On(function(n){var t=n.getTimezoneOffset()/60;return new go(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),ho.hours=ho.hour.range,ho.hours.utc=ho.hour.utc.range,ho.month=On(function(n){return n=ho.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),ho.months=ho.month.range,ho.months.utc=ho.month.utc.range;var Gl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Kl=[[ho.second,1],[ho.second,5],[ho.second,15],[ho.second,30],[ho.minute,1],[ho.minute,5],[ho.minute,15],[ho.minute,30],[ho.hour,1],[ho.hour,3],[ho.hour,6],[ho.hour,12],[ho.day,1],[ho.day,2],[ho.week,1],[ho.month,1],[ho.month,3],[ho.year,1]],Ql=Bl.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",zt]]),nc={range:function(n,t,e){return oa.range(Math.ceil(n/e)*e,+t,e).map(ua)},floor:y,ceil:y};Kl.year=ho.year,ho.scale=function(){return ra(oa.scale.linear(),Kl,Ql)};var tc=Kl.map(function(n){return[n[0].utc,n[1]]}),ec=Wl.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",zt]]);tc.year=ho.year.utc,ho.scale.utc=function(){return ra(oa.scale.linear(),tc,ec)},oa.text=An(function(n){return n.responseText}),oa.json=function(n,t){return Cn(n,"application/json",ia,t)},oa.html=function(n,t){return Cn(n,"text/html",aa,t)},oa.xml=An(function(n){return n.responseXML}),"function"==typeof define&&define.amd?(this.d3=oa,define(oa)):"object"==typeof module&&module.exports?module.exports=oa:this.d3=oa}();
!function(a){"use strict";function b(a){this.owner=a}function c(a,b){if(Object.create)b.prototype=Object.create(a.prototype);else{var c=function(){};c.prototype=a.prototype,b.prototype=new c}return b.prototype.constructor=b,b}function d(a){var b=this.internal=new e(this);b.loadConfig(a),b.init(),function c(a,b,d){Object.keys(a).forEach(function(e){b[e]=a[e].bind(d),Object.keys(a[e]).length>0&&c(a[e],b[e],d)})}(h,this,this)}function e(b){var c=this;c.d3=a.d3?a.d3:"undefined"!=typeof require?require("d3"):void 0,c.api=b,c.config=c.getDefaultConfig(),c.data={},c.cache={},c.axes={}}function f(a){b.call(this,a)}function g(a,b){function c(a,b){a.attr("transform",function(a){return"translate("+Math.ceil(b(a)+u)+", 0)"})}function d(a,b){a.attr("transform",function(a){return"translate(0,"+Math.ceil(b(a))+")"})}function e(a){var b=a[0],c=a[a.length-1];return c>b?[b,c]:[c,b]}function f(a){var b,c,d=[];if(a.ticks)return a.ticks.apply(a,n);for(c=a.domain(),b=Math.ceil(c[0]);b<c[1];b++)d.push(b);return d.length>0&&d[0]>0&&d.unshift(d[0]-(d[1]-d[0])),d}function g(){var a,c=p.copy();return b.isCategory&&(a=p.domain(),c.domain([a[0],a[1]-1])),c}function h(a){var b=m?m(a):a;return"undefined"!=typeof b?b:""}function i(a){if(z)return z;var b={h:11.5,w:5.5};return a.select("text").text(h).each(function(a){var c=this.getBoundingClientRect(),d=h(a),e=c.height,f=d?c.width/d.length:void 0;e&&f&&(b.h=e,b.w=f)}).text(""),z=b,b}function j(c){return b.withoutTransition?c:a.transition(c)}function k(m){m.each(function(){function m(a,c){function d(a,b){f=void 0;for(var h=1;h<b.length;h++)if(" "===b.charAt(h)&&(f=h),e=b.substr(0,h+1),g=U.w*e.length,g>c)return d(a.concat(b.substr(0,f?f:h)),b.slice(f?f+1:h));return a.concat(b)}var e,f,g,i=h(a),j=[];return"[object Array]"===Object.prototype.toString.call(i)?i:((!c||0>=c)&&(c=X?95:b.isCategory?Math.ceil(F(G[1])-F(G[0]))-12:110),d(j,i+""))}function n(a,b){var c=U.h;return 0===b&&(c="left"===q||"right"===q?-((V[a.index]-1)*(U.h/2)-3):".71em"),c}function v(a){var b=p(a)+(o?0:u);return L[0]<b&&b<L[1]?r:0}function w(a){return a?a>0?"start":"end":"middle"}function x(a){return a?"rotate("+a+")":""}function y(a){return a?8*Math.sin(Math.PI*(a/180)):0}function z(a){return a?11.5-2.5*(a/15)*(a>0?1:-1):W}var A,B,C,D=k.g=a.select(this),E=this.__chart__||p,F=this.__chart__=g(),G=t?t:f(F),H=D.selectAll(".tick").data(G,F),I=H.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),J=H.exit().remove(),K=j(H).style("opacity",1),L=p.rangeExtent?p.rangeExtent():e(p.range()),M=D.selectAll(".domain").data([0]),N=(M.enter().append("path").attr("class","domain"),j(M));I.append("line"),I.append("text");var O=I.select("line"),P=K.select("line"),Q=I.select("text"),R=K.select("text");b.isCategory?(u=Math.ceil((F(1)-F(0))/2),B=o?0:u,C=o?u:0):u=B=0;var S,T,U=i(D.select(".tick")),V=[],W=Math.max(r,0)+s,X="left"===q||"right"===q;S=H.select("text"),T=S.selectAll("tspan").data(function(a,c){var d=b.tickMultiline?m(a,b.tickWidth):[].concat(h(a));return V[c]=d.length,d.map(function(a){return{index:c,splitted:a}})}),T.enter().append("tspan"),T.exit().remove(),T.text(function(a){return a.splitted});var Y=b.tickTextRotate;switch(q){case"bottom":A=c,O.attr("y2",r),Q.attr("y",W),P.attr("x1",B).attr("x2",B).attr("y2",v),R.attr("x",0).attr("y",z(Y)).style("text-anchor",w(Y)).attr("transform",x(Y)),T.attr("x",0).attr("dy",n).attr("dx",y(Y)),N.attr("d","M"+L[0]+","+l+"V0H"+L[1]+"V"+l);break;case"top":A=c,O.attr("y2",-r),Q.attr("y",-W),P.attr("x2",0).attr("y2",-r),R.attr("x",0).attr("y",-W),S.style("text-anchor","middle"),T.attr("x",0).attr("dy","0em"),N.attr("d","M"+L[0]+","+-l+"V0H"+L[1]+"V"+-l);break;case"left":A=d,O.attr("x2",-r),Q.attr("x",-W),P.attr("x2",-r).attr("y1",C).attr("y2",C),R.attr("x",-W).attr("y",u),S.style("text-anchor","end"),T.attr("x",-W).attr("dy",n),N.attr("d","M"+-l+","+L[0]+"H0V"+L[1]+"H"+-l);break;case"right":A=d,O.attr("x2",r),Q.attr("x",W),P.attr("x2",r).attr("y2",0),R.attr("x",W).attr("y",0),S.style("text-anchor","start"),T.attr("x",W).attr("dy",n),N.attr("d","M"+l+","+L[0]+"H0V"+L[1]+"H"+l)}if(F.rangeBand){var Z=F,$=Z.rangeBand()/2;E=F=function(a){return Z(a)+$}}else E.rangeBand?E=F:J.call(A,F);I.call(A,E),K.call(A,F)})}var l,m,n,o,p=a.scale.linear(),q="bottom",r=6,s=3,t=null,u=0,v=!0;return b=b||{},l=b.withOuterTick?6:0,k.scale=function(a){return arguments.length?(p=a,k):p},k.orient=function(a){return arguments.length?(q=a in{top:1,right:1,bottom:1,left:1}?a+"":"bottom",k):q},k.tickFormat=function(a){return arguments.length?(m=a,k):m},k.tickCentered=function(a){return arguments.length?(o=a,k):o},k.tickOffset=function(){return u},k.tickInterval=function(){var a,c;return b.isCategory?a=2*u:(c=k.g.select("path.domain").node().getTotalLength()-2*l,a=c/k.g.selectAll("line").size()),1/0===a?0:a},k.ticks=function(){return arguments.length?(n=arguments,k):n},k.tickCulling=function(a){return arguments.length?(v=a,k):v},k.tickValues=function(a){if("function"==typeof a)t=function(){return a(p.domain())};else{if(!arguments.length)return t;t=a}return k},k}var h,i,j,k={version:"0.4.10"};k.generate=function(a){return new d(a)},k.chart={fn:d.prototype,internal:{fn:e.prototype,axis:{fn:f.prototype}}},h=k.chart.fn,i=k.chart.internal.fn,j=k.chart.internal.axis.fn,i.init=function(){var a=this,b=a.config;if(a.initParams(),b.data_url)a.convertUrlToData(b.data_url,b.data_mimeType,b.data_keys,a.initWithData);else if(b.data_json)a.initWithData(a.convertJsonToData(b.data_json,b.data_keys));else if(b.data_rows)a.initWithData(a.convertRowsToData(b.data_rows));else{if(!b.data_columns)throw Error("url or json or rows or columns is required.");a.initWithData(a.convertColumnsToData(b.data_columns))}},i.initParams=function(){var a=this,b=a.d3,c=a.config;a.clipId="c3-"+ +new Date+"-clip",a.clipIdForXAxis=a.clipId+"-xaxis",a.clipIdForYAxis=a.clipId+"-yaxis",a.clipIdForGrid=a.clipId+"-grid",a.clipIdForSubchart=a.clipId+"-subchart",a.clipPath=a.getClipPath(a.clipId),a.clipPathForXAxis=a.getClipPath(a.clipIdForXAxis),a.clipPathForYAxis=a.getClipPath(a.clipIdForYAxis),a.clipPathForGrid=a.getClipPath(a.clipIdForGrid),a.clipPathForSubchart=a.getClipPath(a.clipIdForSubchart),a.dragStart=null,a.dragging=!1,a.flowing=!1,a.cancelClick=!1,a.mouseover=!1,a.transiting=!1,a.color=a.generateColor(),a.levelColor=a.generateLevelColor(),a.dataTimeFormat=c.data_xLocaltime?b.time.format:b.time.format.utc,a.axisTimeFormat=c.axis_x_localtime?b.time.format:b.time.format.utc,a.defaultAxisTimeFormat=a.axisTimeFormat.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%-m/%-d",function(a){return a.getDay()&&1!==a.getDate()}],["%-m/%-d",function(a){return 1!==a.getDate()}],["%-m/%-d",function(a){return a.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),a.hiddenTargetIds=[],a.hiddenLegendIds=[],a.focusedTargetIds=[],a.defocusedTargetIds=[],a.xOrient=c.axis_rotated?"left":"bottom",a.yOrient=c.axis_rotated?c.axis_y_inner?"top":"bottom":c.axis_y_inner?"right":"left",a.y2Orient=c.axis_rotated?c.axis_y2_inner?"bottom":"top":c.axis_y2_inner?"left":"right",a.subXOrient=c.axis_rotated?"left":"bottom",a.isLegendRight="right"===c.legend_position,a.isLegendInset="inset"===c.legend_position,a.isLegendTop="top-left"===c.legend_inset_anchor||"top-right"===c.legend_inset_anchor,a.isLegendLeft="top-left"===c.legend_inset_anchor||"bottom-left"===c.legend_inset_anchor,a.legendStep=0,a.legendItemWidth=0,a.legendItemHeight=0,a.currentMaxTickWidths={x:0,y:0,y2:0},a.rotated_padding_left=30,a.rotated_padding_right=c.axis_rotated&&!c.axis_x_show?0:30,a.rotated_padding_top=5,a.withoutFadeIn={},a.intervalForObserveInserted=void 0,a.axes.subx=b.selectAll([])},i.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},i.initWithData=function(b){var c,d,e=this,g=e.d3,h=e.config,i=!0;e.axis=new f(e),e.initPie&&e.initPie(),e.initBrush&&e.initBrush(),e.initZoom&&e.initZoom(),e.selectChart=h.bindto?"function"==typeof h.bindto.node?h.bindto:g.select(h.bindto):g.selectAll([]),e.selectChart.empty()&&(e.selectChart=g.select(document.createElement("div")).style("opacity",0),e.observeInserted(e.selectChart),i=!1),e.selectChart.html("").classed("c3",!0),e.data.xs={},e.data.targets=e.convertDataToTargets(b),h.data_filter&&(e.data.targets=e.data.targets.filter(h.data_filter)),h.data_hide&&e.addHiddenTargetIds(h.data_hide===!0?e.mapToIds(e.data.targets):h.data_hide),h.legend_hide&&e.addHiddenLegendIds(h.legend_hide===!0?e.mapToIds(e.data.targets):h.legend_hide),e.hasType("gauge")&&(h.legend_show=!1),e.updateSizes(),e.updateScales(),e.x.domain(g.extent(e.getXDomain(e.data.targets))),e.y.domain(e.getYDomain(e.data.targets,"y")),e.y2.domain(e.getYDomain(e.data.targets,"y2")),e.subX.domain(e.x.domain()),e.subY.domain(e.y.domain()),e.subY2.domain(e.y2.domain()),e.orgXDomain=e.x.domain(),e.brush&&e.brush.scale(e.subX),h.zoom_enabled&&e.zoom.scale(e.x),e.svg=e.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return h.onmouseover.call(e)}).on("mouseleave",function(){return h.onmouseout.call(e)}),c=e.svg.append("defs"),e.clipChart=e.appendClip(c,e.clipId),e.clipXAxis=e.appendClip(c,e.clipIdForXAxis),e.clipYAxis=e.appendClip(c,e.clipIdForYAxis),e.clipGrid=e.appendClip(c,e.clipIdForGrid),e.clipSubchart=e.appendClip(c,e.clipIdForSubchart),e.updateSvgSize(),d=e.main=e.svg.append("g").attr("transform",e.getTranslate("main")),e.initSubchart&&e.initSubchart(),e.initTooltip&&e.initTooltip(),e.initLegend&&e.initLegend(),d.append("text").attr("class",l.text+" "+l.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),e.initRegion(),e.initGrid(),d.append("g").attr("clip-path",e.clipPath).attr("class",l.chart),h.grid_lines_front&&e.initGridLines(),e.initEventRect(),e.initChartElements(),d.insert("rect",h.zoom_privileged?null:"g."+l.regions).attr("class",l.zoomRect).attr("width",e.width).attr("height",e.height).style("opacity",0).on("dblclick.zoom",null),h.axis_x_extent&&e.brush.extent(e.getDefaultExtent()),e.axis.init(),e.updateTargets(e.data.targets),i&&(e.updateDimension(),e.config.oninit.call(e),e.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),null==a.onresize&&(a.onresize=e.generateResize()),a.onresize.add&&(a.onresize.add(function(){h.onresize.call(e)}),a.onresize.add(function(){e.api.flush()}),a.onresize.add(function(){h.onresized.call(e)})),e.api.element=e.selectChart.node()},i.smoothLines=function(a,b){var c=this;"grid"===b&&a.each(function(){var a=c.d3.select(this),b=a.attr("x1"),d=a.attr("x2"),e=a.attr("y1"),f=a.attr("y2");a.attr({x1:Math.ceil(b),x2:Math.ceil(d),y1:Math.ceil(e),y2:Math.ceil(f)})})},i.updateSizes=function(){var a=this,b=a.config,c=a.legend?a.getLegendHeight():0,d=a.legend?a.getLegendWidth():0,e=a.isLegendRight||a.isLegendInset?0:c,f=a.hasArcType(),g=b.axis_rotated||f?0:a.getHorizontalAxisHeight("x"),h=b.subchart_show&&!f?b.subchart_size_height+g:0;a.currentWidth=a.getCurrentWidth(),a.currentHeight=a.getCurrentHeight(),a.margin=b.axis_rotated?{top:a.getHorizontalAxisHeight("y2")+a.getCurrentPaddingTop(),right:f?0:a.getCurrentPaddingRight(),bottom:a.getHorizontalAxisHeight("y")+e+a.getCurrentPaddingBottom(),left:h+(f?0:a.getCurrentPaddingLeft())}:{top:4+a.getCurrentPaddingTop(),right:f?0:a.getCurrentPaddingRight(),bottom:g+h+e+a.getCurrentPaddingBottom(),left:f?0:a.getCurrentPaddingLeft()},a.margin2=b.axis_rotated?{top:a.margin.top,right:0/0,bottom:20+e,left:a.rotated_padding_left}:{top:a.currentHeight-h-e,right:0/0,bottom:g+e,left:a.margin.left},a.margin3={top:0,right:0/0,bottom:0,left:0},a.updateSizeForLegend&&a.updateSizeForLegend(c,d),a.width=a.currentWidth-a.margin.left-a.margin.right,a.height=a.currentHeight-a.margin.top-a.margin.bottom,a.width<0&&(a.width=0),a.height<0&&(a.height=0),a.width2=b.axis_rotated?a.margin.left-a.rotated_padding_left-a.rotated_padding_right:a.width,a.height2=b.axis_rotated?a.height:a.currentHeight-a.margin2.top-a.margin2.bottom,a.width2<0&&(a.width2=0),a.height2<0&&(a.height2=0),a.arcWidth=a.width-(a.isLegendRight?d+10:0),a.arcHeight=a.height-(a.isLegendRight?0:10),a.hasType("gauge")&&(a.arcHeight+=a.height-a.getGaugeLabelHeight()),a.updateRadius&&a.updateRadius(),a.isLegendRight&&f&&(a.margin3.left=a.arcWidth/2+1.1*a.radiusExpanded)},i.updateTargets=function(a){var b=this;b.updateTargetsForText(a),b.updateTargetsForBar(a),b.updateTargetsForLine(a),b.hasArcType()&&b.updateTargetsForArc&&b.updateTargetsForArc(a),b.updateTargetsForSubchart&&b.updateTargetsForSubchart(a),b.showTargets()},i.showTargets=function(){var a=this;a.svg.selectAll("."+l.target).filter(function(b){return a.isTargetToShow(b.id)}).transition().duration(a.config.transition_duration).style("opacity",1)},i.redraw=function(a,b){var c,d,e,f,g,h,i,j,k,m,n,o,p,q,r,s,t,u,v,x,y,z,A,B,C,D,E,F,G,H=this,I=H.main,J=H.d3,K=H.config,L=H.getShapeIndices(H.isAreaType),M=H.getShapeIndices(H.isBarType),N=H.getShapeIndices(H.isLineType),O=H.hasArcType(),P=H.filterTargetsToShow(H.data.targets),Q=H.xv.bind(H);if(a=a||{},c=w(a,"withY",!0),d=w(a,"withSubchart",!0),e=w(a,"withTransition",!0),h=w(a,"withTransform",!1),i=w(a,"withUpdateXDomain",!1),j=w(a,"withUpdateOrgXDomain",!1),k=w(a,"withTrimXDomain",!0),p=w(a,"withUpdateXAxis",i),m=w(a,"withLegend",!1),n=w(a,"withEventRect",!0),o=w(a,"withDimension",!0),f=w(a,"withTransitionForExit",e),g=w(a,"withTransitionForAxis",e),v=e?K.transition_duration:0,x=f?v:0,y=g?v:0,b=b||H.axis.generateTransitions(y),m&&K.legend_show?H.updateLegend(H.mapToIds(H.data.targets),a,b):o&&H.updateDimension(!0),H.isCategorized()&&0===P.length&&H.x.domain([0,H.axes.x.selectAll(".tick").size()]),P.length?(H.updateXDomain(P,i,j,k),K.axis_x_tick_values||(B=H.axis.updateXAxisTickValues(P))):(H.xAxis.tickValues([]),H.subXAxis.tickValues([])),K.zoom_rescale&&!a.flow&&(E=H.x.orgDomain()),H.y.domain(H.getYDomain(P,"y",E)),H.y2.domain(H.getYDomain(P,"y2",E)),!K.axis_y_tick_values&&K.axis_y_tick_count&&H.yAxis.tickValues(H.axis.generateTickValues(H.y.domain(),K.axis_y_tick_count)),!K.axis_y2_tick_values&&K.axis_y2_tick_count&&H.y2Axis.tickValues(H.axis.generateTickValues(H.y2.domain(),K.axis_y2_tick_count)),H.axis.redraw(b,O),H.axis.updateLabels(e),(i||p)&&P.length)if(K.axis_x_tick_culling&&B){for(C=1;C<B.length;C++)if(B.length/C<K.axis_x_tick_culling_max){D=C;break}H.svg.selectAll("."+l.axisX+" .tick text").each(function(a){var b=B.indexOf(a);b>=0&&J.select(this).style("display",b%D?"none":"block")})}else H.svg.selectAll("."+l.axisX+" .tick text").style("display","block");q=H.generateDrawArea?H.generateDrawArea(L,!1):void 0,r=H.generateDrawBar?H.generateDrawBar(M):void 0,s=H.generateDrawLine?H.generateDrawLine(N,!1):void 0,t=H.generateXYForText(L,M,N,!0),u=H.generateXYForText(L,M,N,!1),c&&(H.subY.domain(H.getYDomain(P,"y")),H.subY2.domain(H.getYDomain(P,"y2"))),H.tooltip.style("display","none"),H.updateXgridFocus(),I.select("text."+l.text+"."+l.empty).attr("x",H.width/2).attr("y",H.height/2).text(K.data_empty_label_text).transition().style("opacity",P.length?0:1),H.updateGrid(v),H.updateRegion(v),H.updateBar(x),H.updateLine(x),H.updateArea(x),H.updateCircle(),H.hasDataLabel()&&H.updateText(x),H.redrawArc&&H.redrawArc(v,x,h),H.redrawSubchart&&H.redrawSubchart(d,b,v,x,L,M,N),I.selectAll("."+l.selectedCircles).filter(H.isBarType.bind(H)).selectAll("circle").remove(),K.interaction_enabled&&!a.flow&&n&&(H.redrawEventRect(),H.updateZoom&&H.updateZoom()),H.updateCircleY(),F=(H.config.axis_rotated?H.circleY:H.circleX).bind(H),G=(H.config.axis_rotated?H.circleX:H.circleY).bind(H),a.flow&&(A=H.generateFlow({targets:P,flow:a.flow,duration:a.flow.duration,drawBar:r,drawLine:s,drawArea:q,cx:F,cy:G,xv:Q,xForText:t,yForText:u})),(v||A)&&H.isTabVisible()?J.transition().duration(v).each(function(){var b=[];[H.redrawBar(r,!0),H.redrawLine(s,!0),H.redrawArea(q,!0),H.redrawCircle(F,G,!0),H.redrawText(t,u,a.flow,!0),H.redrawRegion(!0),H.redrawGrid(!0)].forEach(function(a){a.forEach(function(a){b.push(a)})}),z=H.generateWait(),b.forEach(function(a){z.add(a)})}).call(z,function(){A&&A(),K.onrendered&&K.onrendered.call(H)}):(H.redrawBar(r),H.redrawLine(s),H.redrawArea(q),H.redrawCircle(F,G),H.redrawText(t,u,a.flow),H.redrawRegion(),H.redrawGrid(),K.onrendered&&K.onrendered.call(H)),H.mapToIds(H.data.targets).forEach(function(a){H.withoutFadeIn[a]=!0})},i.updateAndRedraw=function(a){var b,c=this,d=c.config;a=a||{},a.withTransition=w(a,"withTransition",!0),a.withTransform=w(a,"withTransform",!1),a.withLegend=w(a,"withLegend",!1),a.withUpdateXDomain=!0,a.withUpdateOrgXDomain=!0,a.withTransitionForExit=!1,a.withTransitionForTransform=w(a,"withTransitionForTransform",a.withTransition),c.updateSizes(),a.withLegend&&d.legend_show||(b=c.axis.generateTransitions(a.withTransitionForAxis?d.transition_duration:0),c.updateScales(),c.updateSvgSize(),c.transformAll(a.withTransitionForTransform,b)),c.redraw(a,b)},i.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},i.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},i.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},i.isCustomX=function(){var a=this,b=a.config;return!a.isTimeSeries()&&(b.data_x||v(b.data_xs))},i.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},i.getTranslate=function(a){var b,c,d=this,e=d.config;return"main"===a?(b=s(d.margin.left),c=s(d.margin.top)):"context"===a?(b=s(d.margin2.left),c=s(d.margin2.top)):"legend"===a?(b=d.margin3.left,c=d.margin3.top):"x"===a?(b=0,c=e.axis_rotated?0:d.height):"y"===a?(b=0,c=e.axis_rotated?d.height:0):"y2"===a?(b=e.axis_rotated?0:d.width,c=e.axis_rotated?1:0):"subx"===a?(b=0,c=e.axis_rotated?0:d.height2):"arc"===a&&(b=d.arcWidth/2,c=d.arcHeight/2),"translate("+b+","+c+")"},i.initialOpacity=function(a){return null!==a.value&&this.withoutFadeIn[a.id]?1:0},i.initialOpacityForCircle=function(a){return null!==a.value&&this.withoutFadeIn[a.id]?this.opacityForCircle(a):0},i.opacityForCircle=function(a){var b=this.config.point_show?1:0;return m(a.value)?this.isScatterType(a)?.5:b:0},i.opacityForText=function(){return this.hasDataLabel()?1:0},i.xx=function(a){return a?this.x(a.x):null},i.xv=function(a){var b=this,c=a.value;return b.isTimeSeries()?c=b.parseDate(a.value):b.isCategorized()&&"string"==typeof a.value&&(c=b.config.axis_x_categories.indexOf(a.value)),Math.ceil(b.x(c))},i.yv=function(a){var b=this,c=a.axis&&"y2"===a.axis?b.y2:b.y;return Math.ceil(c(a.value))},i.subxx=function(a){return a?this.subX(a.x):null},i.transformMain=function(a,b){var c,d,e,f=this;b&&b.axisX?c=b.axisX:(c=f.main.select("."+l.axisX),a&&(c=c.transition())),b&&b.axisY?d=b.axisY:(d=f.main.select("."+l.axisY),a&&(d=d.transition())),b&&b.axisY2?e=b.axisY2:(e=f.main.select("."+l.axisY2),a&&(e=e.transition())),(a?f.main.transition():f.main).attr("transform",f.getTranslate("main")),c.attr("transform",f.getTranslate("x")),d.attr("transform",f.getTranslate("y")),e.attr("transform",f.getTranslate("y2")),f.main.select("."+l.chartArcs).attr("transform",f.getTranslate("arc"))},i.transformAll=function(a,b){var c=this;c.transformMain(a,b),c.config.subchart_show&&c.transformContext(a,b),c.legend&&c.transformLegend(a)},i.updateSvgSize=function(){var a=this,b=a.svg.select(".c3-brush .background");a.svg.attr("width",a.currentWidth).attr("height",a.currentHeight),a.svg.selectAll(["#"+a.clipId,"#"+a.clipIdForGrid]).select("rect").attr("width",a.width).attr("height",a.height),a.svg.select("#"+a.clipIdForXAxis).select("rect").attr("x",a.getXAxisClipX.bind(a)).attr("y",a.getXAxisClipY.bind(a)).attr("width",a.getXAxisClipWidth.bind(a)).attr("height",a.getXAxisClipHeight.bind(a)),a.svg.select("#"+a.clipIdForYAxis).select("rect").attr("x",a.getYAxisClipX.bind(a)).attr("y",a.getYAxisClipY.bind(a)).attr("width",a.getYAxisClipWidth.bind(a)).attr("height",a.getYAxisClipHeight.bind(a)),a.svg.select("#"+a.clipIdForSubchart).select("rect").attr("width",a.width).attr("height",b.size()?b.attr("height"):0),a.svg.select("."+l.zoomRect).attr("width",a.width).attr("height",a.height),a.selectChart.style("max-height",a.currentHeight+"px")},i.updateDimension=function(a){var b=this;a||(b.config.axis_rotated?(b.axes.x.call(b.xAxis),b.axes.subx.call(b.subXAxis)):(b.axes.y.call(b.yAxis),b.axes.y2.call(b.y2Axis))),b.updateSizes(),b.updateScales(),b.updateSvgSize(),b.transformAll(!1)},i.observeInserted=function(b){var c,d=this;return"undefined"==typeof MutationObserver?void a.console.error("MutationObserver not defined."):(c=new MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.previousSibling&&(c.disconnect(),d.intervalForObserveInserted=a.setInterval(function(){b.node().parentNode&&(a.clearInterval(d.intervalForObserveInserted),d.updateDimension(),d.config.oninit.call(d),d.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),b.transition().style("opacity",1))},10))})}),void c.observe(b.node(),{attributes:!0,childList:!0,characterData:!0}))},i.generateResize=function(){function a(){b.forEach(function(a){a()})}var b=[];return a.add=function(a){b.push(a)},a},i.endall=function(a,b){var c=0;a.each(function(){++c}).each("end",function(){--c||b.apply(this,arguments)})},i.generateWait=function(){var a=[],b=function(b,c){var d=setInterval(function(){var b=0;a.forEach(function(a){if(a.empty())return void(b+=1);try{a.transition()}catch(c){b+=1}}),b===a.length&&(clearInterval(d),c&&c())},10)};return b.add=function(b){a.push(b)},b},i.parseDate=function(b){var c,d=this;return b instanceof Date?c=b:"string"==typeof b?c=d.dataTimeFormat(d.config.data_xFormat).parse(b):"number"!=typeof b&&isNaN(b)||(c=new Date(+b)),(!c||isNaN(+c))&&a.console.error("Failed to parse x '"+b+"' to Date object"),c},i.isTabVisible=function(){var a;return"undefined"!=typeof document.hidden?a="hidden":"undefined"!=typeof document.mozHidden?a="mozHidden":"undefined"!=typeof document.msHidden?a="msHidden":"undefined"!=typeof document.webkitHidden&&(a="webkitHidden"),document[a]?!1:!0},i.getDefaultConfig=function(){var a={bindto:"#chart",size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(a){return a},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_bullet:!1,bar_offset:void 0,bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_expand:!0,gauge_label_show:!0,gauge_label_format:void 0,gauge_expand:!0,gauge_min:0,gauge_max:100,gauge_units:void 0,gauge_width:void 0,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_width:void 0,donut_expand:!0,donut_title:"",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(a,b,c,d){return this.getTooltipContent?this.getTooltipContent(a,b,c,d):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"}};return Object.keys(this.additionalConfig).forEach(function(b){a[b]=this.additionalConfig[b]},this),a},i.additionalConfig={},i.loadConfig=function(a){function b(){var a=d.shift();return a&&c&&"object"==typeof c&&a in c?(c=c[a],b()):a?void 0:c}var c,d,e,f=this.config;Object.keys(f).forEach(function(g){c=a,d=g.split("_"),e=b(),q(e)&&(f[g]=e)})},i.getScale=function(a,b,c){return(c?this.d3.time.scale():this.d3.scale.linear()).range([a,b])},i.getX=function(a,b,c,d){var e,f=this,g=f.getScale(a,b,f.isTimeSeries()),h=c?g.domain(c):g;f.isCategorized()?(d=d||function(){return 0},g=function(a,b){var c=h(a)+d(a);return b?c:Math.ceil(c)}):g=function(a,b){var c=h(a);return b?c:Math.ceil(c)};for(e in h)g[e]=h[e];return g.orgDomain=function(){return h.domain()},f.isCategorized()&&(g.domain=function(a){return arguments.length?(h.domain(a),g):(a=this.orgDomain(),[a[0],a[1]+1])}),g},i.getY=function(a,b,c){var d=this.getScale(a,b,this.isTimeSeriesY());return c&&d.domain(c),d},i.getYScale=function(a){return"y2"===this.axis.getId(a)?this.y2:this.y},i.getSubYScale=function(a){return"y2"===this.axis.getId(a)?this.subY2:this.subY},i.updateScales=function(){var a=this,b=a.config,c=!a.x;a.xMin=b.axis_rotated?1:0,a.xMax=b.axis_rotated?a.height:a.width,a.yMin=b.axis_rotated?0:a.height,a.yMax=b.axis_rotated?a.width:1,a.subXMin=a.xMin,a.subXMax=a.xMax,a.subYMin=b.axis_rotated?0:a.height2,a.subYMax=b.axis_rotated?a.width2:1,a.x=a.getX(a.xMin,a.xMax,c?void 0:a.x.orgDomain(),function(){return a.xAxis.tickOffset()}),a.y=a.getY(a.yMin,a.yMax,c?b.axis_y_default:a.y.domain()),a.y2=a.getY(a.yMin,a.yMax,c?b.axis_y2_default:a.y2.domain()),a.subX=a.getX(a.xMin,a.xMax,a.orgXDomain,function(b){return b%1?0:a.subXAxis.tickOffset()}),a.subY=a.getY(a.subYMin,a.subYMax,c?b.axis_y_default:a.subY.domain()),a.subY2=a.getY(a.subYMin,a.subYMax,c?b.axis_y2_default:a.subY2.domain()),a.xAxisTickFormat=a.axis.getXAxisTickFormat(),a.xAxisTickValues=a.axis.getXAxisTickValues(),a.yAxisTickValues=a.axis.getYAxisTickValues(),a.y2AxisTickValues=a.axis.getY2AxisTickValues(),a.xAxis=a.axis.getXAxis(a.x,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,b.axis_x_tick_outer),a.subXAxis=a.axis.getXAxis(a.subX,a.subXOrient,a.xAxisTickFormat,a.xAxisTickValues,b.axis_x_tick_outer),a.yAxis=a.axis.getYAxis(a.y,a.yOrient,b.axis_y_tick_format,a.yAxisTickValues,b.axis_y_tick_outer),a.y2Axis=a.axis.getYAxis(a.y2,a.y2Orient,b.axis_y2_tick_format,a.y2AxisTickValues,b.axis_y2_tick_outer),c||(a.brush&&a.brush.scale(a.subX),b.zoom_enabled&&a.zoom.scale(a.x)),a.updateArc&&a.updateArc()},i.getYDomainMin=function(a){var b,c,d,e,f,g,h=this,i=h.config,j=h.mapToIds(a),k=h.getValuesAsIdKeyed(a);if(i.data_groups.length>0)for(g=h.hasNegativeValueInTargets(a),b=0;b<i.data_groups.length;b++)if(e=i.data_groups[b].filter(function(a){return j.indexOf(a)>=0}),0!==e.length)for(d=e[0],g&&k[d]&&k[d].forEach(function(a,b){k[d][b]=0>a?a:0}),c=1;c<e.length;c++)f=e[c],k[f]&&k[f].forEach(function(a,b){h.axis.getId(f)!==h.axis.getId(d)||!k[d]||g&&+a>0||(k[d][b]+=+a)});return h.d3.min(Object.keys(k).map(function(a){return h.d3.min(k[a])}))},i.getYDomainMax=function(a){var b,c,d,e,f,g,h=this,i=h.config,j=h.mapToIds(a),k=h.getValuesAsIdKeyed(a);if(i.data_groups.length>0)for(g=h.hasPositiveValueInTargets(a),b=0;b<i.data_groups.length;b++)if(e=i.data_groups[b].filter(function(a){return j.indexOf(a)>=0}),0!==e.length)for(d=e[0],g&&k[d]&&k[d].forEach(function(a,b){k[d][b]=a>0?a:0}),c=1;c<e.length;c++)f=e[c],k[f]&&k[f].forEach(function(a,b){h.axis.getId(f)!==h.axis.getId(d)||!k[d]||g&&0>+a||(k[d][b]+=+a)});return h.d3.max(Object.keys(k).map(function(a){return h.d3.max(k[a])}))},i.getYDomain=function(a,b,c){var d,e,f,g,h,i,j,k,l,n,o,p=this,q=p.config,r=a.filter(function(a){return p.axis.getId(a.id)===b}),s=c?p.filterByXDomain(r,c):r,u="y2"===b?q.axis_y2_min:q.axis_y_min,w="y2"===b?q.axis_y2_max:q.axis_y_max,x=p.getYDomainMin(s),y=p.getYDomainMax(s),z="y2"===b?q.axis_y2_center:q.axis_y_center,A=p.hasType("bar",s)&&q.bar_zerobased||p.hasType("area",s)&&q.area_zerobased,B="y2"===b?q.axis_y2_inverted:q.axis_y_inverted,C=p.hasDataLabel()&&q.axis_rotated,D=p.hasDataLabel()&&!q.axis_rotated;return x=m(u)?u:m(w)?w>x?x:w-10:x,y=m(w)?w:m(u)?y>u?y:u+10:y,0===s.length?"y2"===b?p.y2.domain():p.y.domain():(isNaN(x)&&(x=0),isNaN(y)&&(y=x),x===y&&(0>x?y=0:x=0),n=x>=0&&y>=0,o=0>=x&&0>=y,(m(u)&&n||m(w)&&o)&&(A=!1),A&&(n&&(x=0),o&&(y=0)),e=Math.abs(y-x),f=g=h=.1*e,"undefined"!=typeof z&&(i=Math.max(Math.abs(x),Math.abs(y)),y=z+i,x=z-i),C?(j=p.getDataLabelLength(x,y,"width"),k=t(p.y.range()),l=[j[0]/k,j[1]/k],g+=e*(l[1]/(1-l[0]-l[1])),h+=e*(l[0]/(1-l[0]-l[1]))):D&&(j=p.getDataLabelLength(x,y,"height"),g+=p.axis.convertPixelsToAxisPadding(j[1],e),h+=p.axis.convertPixelsToAxisPadding(j[0],e)),"y"===b&&v(q.axis_y_padding)&&(g=p.axis.getPadding(q.axis_y_padding,"top",g,e),h=p.axis.getPadding(q.axis_y_padding,"bottom",h,e)),"y2"===b&&v(q.axis_y2_padding)&&(g=p.axis.getPadding(q.axis_y2_padding,"top",g,e),h=p.axis.getPadding(q.axis_y2_padding,"bottom",h,e)),A&&(n&&(h=x),o&&(g=-y)),d=[x-h,y+g],B?d.reverse():d)},i.getXDomainMin=function(a){var b=this,c=b.config;return q(c.axis_x_min)?b.isTimeSeries()?this.parseDate(c.axis_x_min):c.axis_x_min:b.d3.min(a,function(a){return b.d3.min(a.values,function(a){return a.x})})},i.getXDomainMax=function(a){var b=this,c=b.config;return q(c.axis_x_max)?b.isTimeSeries()?this.parseDate(c.axis_x_max):c.axis_x_max:b.d3.max(a,function(a){return b.d3.max(a.values,function(a){return a.x})})},i.getXDomainPadding=function(a){var b,c,d,e,f=this,g=f.config,h=a[1]-a[0];return f.isCategorized()?c=0:f.hasType("bar")?(b=f.getMaxDataCount(),c=b>1?h/(b-1)/2:.5):c=.01*h,"object"==typeof g.axis_x_padding&&v(g.axis_x_padding)?(d=m(g.axis_x_padding.left)?g.axis_x_padding.left:c,e=m(g.axis_x_padding.right)?g.axis_x_padding.right:c):d=e="number"==typeof g.axis_x_padding?g.axis_x_padding:c,{left:d,right:e}},i.getXDomain=function(a){var b=this,c=[b.getXDomainMin(a),b.getXDomainMax(a)],d=c[0],e=c[1],f=b.getXDomainPadding(c),g=0,h=0;
return d-e!==0||b.isCategorized()||(b.isTimeSeries()?(d=new Date(.5*d.getTime()),e=new Date(1.5*e.getTime())):(d=0===d?1:.5*d,e=0===e?-1:1.5*e)),(d||0===d)&&(g=b.isTimeSeries()?new Date(d.getTime()-f.left):d-f.left),(e||0===e)&&(h=b.isTimeSeries()?new Date(e.getTime()+f.right):e+f.right),[g,h]},i.updateXDomain=function(a,b,c,d,e){var f=this,g=f.config;return c&&(f.x.domain(e?e:f.d3.extent(f.getXDomain(a))),f.orgXDomain=f.x.domain(),g.zoom_enabled&&f.zoom.scale(f.x).updateScaleExtent(),f.subX.domain(f.x.domain()),f.brush&&f.brush.scale(f.subX)),b&&(f.x.domain(e?e:!f.brush||f.brush.empty()?f.orgXDomain:f.brush.extent()),g.zoom_enabled&&f.zoom.scale(f.x).updateScaleExtent()),d&&f.x.domain(f.trimXDomain(f.x.orgDomain())),f.x.domain()},i.trimXDomain=function(a){var b=this;return a[0]<=b.orgXDomain[0]&&(a[1]=+a[1]+(b.orgXDomain[0]-a[0]),a[0]=b.orgXDomain[0]),b.orgXDomain[1]<=a[1]&&(a[0]=+a[0]-(a[1]-b.orgXDomain[1]),a[1]=b.orgXDomain[1]),a},i.isX=function(a){var b=this,c=b.config;return c.data_x&&a===c.data_x||v(c.data_xs)&&x(c.data_xs,a)},i.isNotX=function(a){return!this.isX(a)},i.getXKey=function(a){var b=this,c=b.config;return c.data_x?c.data_x:v(c.data_xs)?c.data_xs[a]:null},i.getXValuesOfXKey=function(a,b){var c,d=this,e=b&&v(b)?d.mapToIds(b):[];return e.forEach(function(b){d.getXKey(b)===a&&(c=d.data.xs[b])}),c},i.getIndexByX=function(a){var b=this,c=b.filterByX(b.data.targets,a);return c.length?c[0].index:null},i.getXValue=function(a,b){var c=this;return a in c.data.xs&&c.data.xs[a]&&m(c.data.xs[a][b])?c.data.xs[a][b]:b},i.getOtherTargetXs=function(){var a=this,b=Object.keys(a.data.xs);return b.length?a.data.xs[b[0]]:null},i.getOtherTargetX=function(a){var b=this.getOtherTargetXs();return b&&a<b.length?b[a]:null},i.addXs=function(a){var b=this;Object.keys(a).forEach(function(c){b.config.data_xs[c]=a[c]})},i.hasMultipleX=function(a){return this.d3.set(Object.keys(a).map(function(b){return a[b]})).size()>1},i.isMultipleX=function(){return v(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},i.addName=function(a){var b,c=this;return a&&(b=c.config.data_names[a.id],a.name=b?b:a.id),a},i.getValueOnIndex=function(a,b){var c=a.filter(function(a){return a.index===b});return c.length?c[0]:null},i.updateTargetX=function(a,b){var c=this;a.forEach(function(a){a.values.forEach(function(d,e){d.x=c.generateTargetX(b[e],a.id,e)}),c.data.xs[a.id]=b})},i.updateTargetXs=function(a,b){var c=this;a.forEach(function(a){b[a.id]&&c.updateTargetX([a],b[a.id])})},i.generateTargetX=function(a,b,c){var d,e=this;return d=e.isTimeSeries()?e.parseDate(a?a:e.getXValue(b,c)):e.isCustomX()&&!e.isCategorized()?m(a)?+a:e.getXValue(b,c):c},i.cloneTarget=function(a){return{id:a.id,id_org:a.id_org,values:a.values.map(function(a){return{x:a.x,value:a.value,id:a.id}})}},i.updateXs=function(){var a=this;a.data.targets.length&&(a.xs=[],a.data.targets[0].values.forEach(function(b){a.xs[b.index]=b.x}))},i.getPrevX=function(a){var b=this.xs[a-1];return"undefined"!=typeof b?b:null},i.getNextX=function(a){var b=this.xs[a+1];return"undefined"!=typeof b?b:null},i.getMaxDataCount=function(){var a=this;return a.d3.max(a.data.targets,function(a){return a.values.length})},i.getMaxDataCountTarget=function(a){var b,c=a.length,d=0;return c>1?a.forEach(function(a){a.values.length>d&&(b=a,d=a.values.length)}):b=c?a[0]:null,b},i.getEdgeX=function(a){var b=this;return a.length?[b.d3.min(a,function(a){return a.values[0].x}),b.d3.max(a,function(a){return a.values[a.values.length-1].x})]:[0,0]},i.mapToIds=function(a){return a.map(function(a){return a.id})},i.mapToTargetIds=function(a){var b=this;return a?o(a)?[a]:a:b.mapToIds(b.data.targets)},i.hasTarget=function(a,b){var c,d=this.mapToIds(a);for(c=0;c<d.length;c++)if(d[c]===b)return!0;return!1},i.isTargetToShow=function(a){return this.hiddenTargetIds.indexOf(a)<0},i.isLegendToShow=function(a){return this.hiddenLegendIds.indexOf(a)<0},i.filterTargetsToShow=function(a){var b=this;return a.filter(function(a){return b.isTargetToShow(a.id)})},i.mapTargetsToUniqueXs=function(a){var b=this,c=b.d3.set(b.d3.merge(a.map(function(a){return a.values.map(function(a){return+a.x})}))).values();return c.map(b.isTimeSeries()?function(a){return new Date(+a)}:function(a){return+a})},i.addHiddenTargetIds=function(a){this.hiddenTargetIds=this.hiddenTargetIds.concat(a)},i.removeHiddenTargetIds=function(a){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(b){return a.indexOf(b)<0})},i.addHiddenLegendIds=function(a){this.hiddenLegendIds=this.hiddenLegendIds.concat(a)},i.removeHiddenLegendIds=function(a){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(b){return a.indexOf(b)<0})},i.getValuesAsIdKeyed=function(a){var b={};return a.forEach(function(a){b[a.id]=[],a.values.forEach(function(c){b[a.id].push(c.value)})}),b},i.checkValueInTargets=function(a,b){var c,d,e,f=Object.keys(a);for(c=0;c<f.length;c++)for(e=a[f[c]].values,d=0;d<e.length;d++)if(b(e[d].value))return!0;return!1},i.hasNegativeValueInTargets=function(a){return this.checkValueInTargets(a,function(a){return 0>a})},i.hasPositiveValueInTargets=function(a){return this.checkValueInTargets(a,function(a){return a>0})},i.isOrderDesc=function(){var a=this.config;return"string"==typeof a.data_order&&"desc"===a.data_order.toLowerCase()},i.isOrderAsc=function(){var a=this.config;return"string"==typeof a.data_order&&"asc"===a.data_order.toLowerCase()},i.orderTargets=function(a){var b=this,c=b.config,d=b.isOrderAsc(),e=b.isOrderDesc();return d||e?a.sort(function(a,b){var c=function(a,b){return a+Math.abs(b.value)},e=a.values.reduce(c,0),f=b.values.reduce(c,0);return d?f-e:e-f}):n(c.data_order)&&a.sort(c.data_order),a},i.filterByX=function(a,b){return this.d3.merge(a.map(function(a){return a.values})).filter(function(a){return a.x-b===0})},i.filterRemoveNull=function(a){return a.filter(function(a){return m(a.value)})},i.filterByXDomain=function(a,b){return a.map(function(a){return{id:a.id,id_org:a.id_org,values:a.values.filter(function(a){return b[0]<=a.x&&a.x<=b[1]})}})},i.hasDataLabel=function(){var a=this.config;return"boolean"==typeof a.data_labels&&a.data_labels?!0:"object"==typeof a.data_labels&&v(a.data_labels)?!0:!1},i.getDataLabelLength=function(a,b,c){var d=this,e=[0,0],f=1.3;return d.selectChart.select("svg").selectAll(".dummy").data([a,b]).enter().append("text").text(function(a){return d.dataLabelFormat(a.id)(a)}).each(function(a,b){e[b]=this.getBoundingClientRect()[c]*f}).remove(),e},i.isNoneArc=function(a){return this.hasTarget(this.data.targets,a.id)},i.isArc=function(a){return"data"in a&&this.hasTarget(this.data.targets,a.data.id)},i.findSameXOfValues=function(a,b){var c,d=a[b].x,e=[];for(c=b-1;c>=0&&d===a[c].x;c--)e.push(a[c]);for(c=b;c<a.length&&d===a[c].x;c++)e.push(a[c]);return e},i.findClosestFromTargets=function(a,b){var c,d=this;return c=a.map(function(a){return d.findClosest(a.values,b)}),d.findClosest(c,b)},i.findClosest=function(a,b){var c,d=this,e=100;return a.filter(function(a){return a&&d.isBarType(a.id)}).forEach(function(a){var b=d.main.select("."+l.bars+d.getTargetSelectorSuffix(a.id)+" ."+l.bar+"-"+a.index).node();!c&&d.isWithinBar(b)&&(c=a)}),a.filter(function(a){return a&&!d.isBarType(a.id)}).forEach(function(a){var f=d.dist(a,b);e>f&&(e=f,c=a)}),c},i.dist=function(a,b){var c=this,d=c.config,e=d.axis_rotated?1:0,f=d.axis_rotated?0:1,g=c.circleY(a,a.index),h=c.x(a.x);return Math.pow(h-b[e],2)+Math.pow(g-b[f],2)},i.convertValuesToStep=function(a){var b,c=[].concat(a);if(!this.isCategorized())return a;for(b=a.length+1;b>0;b--)c[b]=c[b-1];return c[0]={x:c[0].x-1,value:c[0].value,id:c[0].id},c[a.length+1]={x:c[a.length].x+1,value:c[a.length].value,id:c[a.length].id},c},i.updateDataAttributes=function(a,b){var c=this,d=c.config,e=d["data_"+a];return"undefined"==typeof b?e:(Object.keys(b).forEach(function(a){e[a]=b[a]}),c.redraw({withLegend:!0}),e)},i.convertUrlToData=function(a,b,c,d){var e=this,f=b?b:"csv";e.d3.xhr(a,function(a,b){var g;if(!b)throw new Error(a.responseURL+" "+a.status+" ("+a.statusText+")");g="json"===f?e.convertJsonToData(JSON.parse(b.response),c):"tsv"===f?e.convertTsvToData(b.response):e.convertCsvToData(b.response),d.call(e,g)})},i.convertXsvToData=function(a,b){var c,d=b.parseRows(a);return 1===d.length?(c=[{}],d[0].forEach(function(a){c[0][a]=null})):c=b.parse(a),c},i.convertCsvToData=function(a){return this.convertXsvToData(a,this.d3.csv)},i.convertTsvToData=function(a){return this.convertXsvToData(a,this.d3.tsv)},i.convertJsonToData=function(a,b){var c,d,e=this,f=[];return b?(b.x?(c=b.value.concat(b.x),e.config.data_x=b.x):c=b.value,f.push(c),a.forEach(function(a){var b=[];c.forEach(function(c){var d=p(a[c])?null:a[c];b.push(d)}),f.push(b)}),d=e.convertRowsToData(f)):(Object.keys(a).forEach(function(b){f.push([b].concat(a[b]))}),d=e.convertColumnsToData(f)),d},i.convertRowsToData=function(a){var b,c,d=a[0],e={},f=[];for(b=1;b<a.length;b++){for(e={},c=0;c<a[b].length;c++){if(p(a[b][c]))throw new Error("Source data is missing a component at ("+b+","+c+")!");e[d[c]]=a[b][c]}f.push(e)}return f},i.convertColumnsToData=function(a){var b,c,d,e=[];for(b=0;b<a.length;b++)for(d=a[b][0],c=1;c<a[b].length;c++){if(p(e[c-1])&&(e[c-1]={}),p(a[b][c]))throw new Error("Source data is missing a component at ("+b+","+c+")!");e[c-1][d]=a[b][c]}return e},i.convertDataToTargets=function(a,b){var c,d=this,e=d.config,f=d.d3.keys(a[0]).filter(d.isNotX,d),g=d.d3.keys(a[0]).filter(d.isX,d);return f.forEach(function(c){var f=d.getXKey(c);d.isCustomX()||d.isTimeSeries()?g.indexOf(f)>=0?d.data.xs[c]=(b&&d.data.xs[c]?d.data.xs[c]:[]).concat(a.map(function(a){return a[f]}).filter(m).map(function(a,b){return d.generateTargetX(a,c,b)})):e.data_x?d.data.xs[c]=d.getOtherTargetXs():v(e.data_xs)&&(d.data.xs[c]=d.getXValuesOfXKey(f,d.data.targets)):d.data.xs[c]=a.map(function(a,b){return b})}),f.forEach(function(a){if(!d.data.xs[a])throw new Error('x is not defined for id = "'+a+'".')}),c=f.map(function(b,c){var f=e.data_idConverter(b);return{id:f,id_org:b,values:a.map(function(a,g){var h=d.getXKey(b),i=a[h],j=d.generateTargetX(i,b,g);return d.isCustomX()&&d.isCategorized()&&0===c&&i&&(0===g&&(e.axis_x_categories=[]),e.axis_x_categories.push(i)),(p(a[b])||d.data.xs[b].length<=g)&&(j=void 0),{x:j,value:null===a[b]||isNaN(a[b])?null:+a[b],id:f}}).filter(function(a){return q(a.x)})}}),c.forEach(function(a){var b;e.data_xSort&&(a.values=a.values.sort(function(a,b){var c=a.x||0===a.x?a.x:1/0,d=b.x||0===b.x?b.x:1/0;return c-d})),b=0,a.values.forEach(function(a){a.index=b++}),d.data.xs[a.id].sort(function(a,b){return a-b})}),e.data_type&&d.setTargetType(d.mapToIds(c).filter(function(a){return!(a in e.data_types)}),e.data_type),c.forEach(function(a){d.addCache(a.id_org,a)}),c},i.load=function(a,b){var c=this;a&&(b.filter&&(a=a.filter(b.filter)),(b.type||b.types)&&a.forEach(function(a){var d=b.types&&b.types[a.id]?b.types[a.id]:b.type;c.setTargetType(a.id,d)}),c.data.targets.forEach(function(b){for(var c=0;c<a.length;c++)if(b.id===a[c].id){b.values=a[c].values,a.splice(c,1);break}}),c.data.targets=c.data.targets.concat(a)),c.updateTargets(c.data.targets),c.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),b.done&&b.done()},i.loadFromArgs=function(a){var b=this;a.data?b.load(b.convertDataToTargets(a.data),a):a.url?b.convertUrlToData(a.url,a.mimeType,a.keys,function(c){b.load(b.convertDataToTargets(c),a)}):a.json?b.load(b.convertDataToTargets(b.convertJsonToData(a.json,a.keys)),a):a.rows?b.load(b.convertDataToTargets(b.convertRowsToData(a.rows)),a):a.columns?b.load(b.convertDataToTargets(b.convertColumnsToData(a.columns)),a):b.load(null,a)},i.unload=function(a,b){var c=this;return b||(b=function(){}),a=a.filter(function(a){return c.hasTarget(c.data.targets,a)}),a&&0!==a.length?(c.svg.selectAll(a.map(function(a){return c.selectorTarget(a)})).transition().style("opacity",0).remove().call(c.endall,b),void a.forEach(function(a){c.withoutFadeIn[a]=!1,c.legend&&c.legend.selectAll("."+l.legendItem+c.getTargetSelectorSuffix(a)).remove(),c.data.targets=c.data.targets.filter(function(b){return b.id!==a})})):void b()},i.categoryName=function(a){var b=this.config;return a<b.axis_x_categories.length?b.axis_x_categories[a]:a},i.initEventRect=function(){var a=this;a.main.select("."+l.chart).append("g").attr("class",l.eventRects).style("fill-opacity",0)},i.redrawEventRect=function(){var a,b,c=this,d=c.config,e=c.isMultipleX(),f=c.main.select("."+l.eventRects).style("cursor",d.zoom_enabled?d.axis_rotated?"ns-resize":"ew-resize":null).classed(l.eventRectsMultiple,e).classed(l.eventRectsSingle,!e);f.selectAll("."+l.eventRect).remove(),c.eventRect=f.selectAll("."+l.eventRect),e?(a=c.eventRect.data([0]),c.generateEventRectsForMultipleXs(a.enter()),c.updateEventRect(a)):(b=c.getMaxDataCountTarget(c.data.targets),f.datum(b?b.values:[]),c.eventRect=f.selectAll("."+l.eventRect),a=c.eventRect.data(function(a){return a}),c.generateEventRectsForSingleX(a.enter()),c.updateEventRect(a),a.exit().remove())},i.updateEventRect=function(a){var b,c,d,e,f,g,h=this,i=h.config;a=a||h.eventRect.data(function(a){return a}),h.isMultipleX()?(b=0,c=0,d=h.width,e=h.height):(!h.isCustomX()&&!h.isTimeSeries()||h.isCategorized()?(f=h.getEventRectWidth(),g=function(a){return h.x(a.x)-f/2}):(h.updateXs(),f=function(a){var b=h.getPrevX(a.index),c=h.getNextX(a.index);return null===b&&null===c?i.axis_rotated?h.height:h.width:(null===b&&(b=h.x.domain()[0]),null===c&&(c=h.x.domain()[1]),Math.max(0,(h.x(c)-h.x(b))/2))},g=function(a){var b=h.getPrevX(a.index),c=h.getNextX(a.index),d=h.data.xs[a.id][a.index];return null===b&&null===c?0:(null===b&&(b=h.x.domain()[0]),(h.x(d)+h.x(b))/2)}),b=i.axis_rotated?0:g,c=i.axis_rotated?g:0,d=i.axis_rotated?h.width:f,e=i.axis_rotated?f:h.height),a.attr("class",h.classEvent.bind(h)).attr("x",b).attr("y",c).attr("width",d).attr("height",e)},i.generateEventRectsForSingleX=function(a){var b=this,c=b.d3,d=b.config;a.append("rect").attr("class",b.classEvent.bind(b)).style("cursor",d.data_selection_enabled&&d.data_selection_grouped?"pointer":null).on("mouseover",function(a){var c=a.index;b.dragging||b.flowing||b.hasArcType()||(d.point_focus_expand_enabled&&b.expandCircles(c,null,!0),b.expandBars(c,null,!0),b.main.selectAll("."+l.shape+"-"+c).each(function(a){d.data_onmouseover.call(b.api,a)}))}).on("mouseout",function(a){var c=a.index;b.config&&(b.hasArcType()||(b.hideXGridFocus(),b.hideTooltip(),b.unexpandCircles(),b.unexpandBars(),b.main.selectAll("."+l.shape+"-"+c).each(function(a){d.data_onmouseout.call(b.api,a)})))}).on("mousemove",function(a){var e,f=a.index,g=b.svg.select("."+l.eventRect+"-"+f);b.dragging||b.flowing||b.hasArcType()||(b.isStepType(a)&&"step-after"===b.config.line_step_type&&c.mouse(this)[0]<b.x(b.getXValue(a.id,f))&&(f-=1),e=b.filterTargetsToShow(b.data.targets).map(function(a){return b.addName(b.getValueOnIndex(a.values,f))}),d.tooltip_grouped&&(b.showTooltip(e,this),b.showXGridFocus(e)),(!d.tooltip_grouped||d.data_selection_enabled&&!d.data_selection_grouped)&&b.main.selectAll("."+l.shape+"-"+f).each(function(){c.select(this).classed(l.EXPANDED,!0),d.data_selection_enabled&&g.style("cursor",d.data_selection_grouped?"pointer":null),d.tooltip_grouped||(b.hideXGridFocus(),b.hideTooltip(),d.data_selection_grouped||(b.unexpandCircles(f),b.unexpandBars(f)))}).filter(function(a){return b.isWithinShape(this,a)}).each(function(a){d.data_selection_enabled&&(d.data_selection_grouped||d.data_selection_isselectable(a))&&g.style("cursor","pointer"),d.tooltip_grouped||(b.showTooltip([a],this),b.showXGridFocus([a]),d.point_focus_expand_enabled&&b.expandCircles(f,a.id,!0),b.expandBars(f,a.id,!0))}))}).on("click",function(a){var e=a.index;if(!b.hasArcType()&&b.toggleShape){if(b.cancelClick)return void(b.cancelClick=!1);b.isStepType(a)&&"step-after"===d.line_step_type&&c.mouse(this)[0]<b.x(b.getXValue(a.id,e))&&(e-=1),b.main.selectAll("."+l.shape+"-"+e).each(function(a){(d.data_selection_grouped||b.isWithinShape(this,a))&&(b.toggleShape(this,a,e),b.config.data_onclick.call(b.api,a,this))})}}).call(d.data_selection_draggable&&b.drag?c.behavior.drag().origin(Object).on("drag",function(){b.drag(c.mouse(this))}).on("dragstart",function(){b.dragstart(c.mouse(this))}).on("dragend",function(){b.dragend()}):function(){})},i.generateEventRectsForMultipleXs=function(a){function b(){c.svg.select("."+l.eventRect).style("cursor",null),c.hideXGridFocus(),c.hideTooltip(),c.unexpandCircles(),c.unexpandBars()}var c=this,d=c.d3,e=c.config;a.append("rect").attr("x",0).attr("y",0).attr("width",c.width).attr("height",c.height).attr("class",l.eventRect).on("mouseout",function(){c.config&&(c.hasArcType()||b())}).on("mousemove",function(){var a,f,g,h,i=c.filterTargetsToShow(c.data.targets);if(!c.dragging&&!c.hasArcType(i)){if(a=d.mouse(this),f=c.findClosestFromTargets(i,a),!c.mouseover||f&&f.id===c.mouseover.id||(e.data_onmouseout.call(c.api,c.mouseover),c.mouseover=void 0),!f)return void b();g=c.isScatterType(f)||!e.tooltip_grouped?[f]:c.filterByX(i,f.x),h=g.map(function(a){return c.addName(a)}),c.showTooltip(h,this),e.point_focus_expand_enabled&&c.expandCircles(f.index,f.id,!0),c.expandBars(f.index,f.id,!0),c.showXGridFocus(h),(c.isBarType(f.id)||c.dist(f,a)<100)&&(c.svg.select("."+l.eventRect).style("cursor","pointer"),c.mouseover||(e.data_onmouseover.call(c.api,f),c.mouseover=f))}}).on("click",function(){var a,b,f=c.filterTargetsToShow(c.data.targets);c.hasArcType(f)||(a=d.mouse(this),b=c.findClosestFromTargets(f,a),b&&(c.isBarType(b.id)||c.dist(b,a)<100)&&c.main.selectAll("."+l.shapes+c.getTargetSelectorSuffix(b.id)).selectAll("."+l.shape+"-"+b.index).each(function(){(e.data_selection_grouped||c.isWithinShape(this,b))&&(c.toggleShape(this,b,b.index),c.config.data_onclick.call(c.api,b,this))}))}).call(e.data_selection_draggable&&c.drag?d.behavior.drag().origin(Object).on("drag",function(){c.drag(d.mouse(this))}).on("dragstart",function(){c.dragstart(d.mouse(this))}).on("dragend",function(){c.dragend()}):function(){})},i.dispatchEvent=function(b,c,d){var e=this,f="."+l.eventRect+(e.isMultipleX()?"":"-"+c),g=e.main.select(f).node(),h=g.getBoundingClientRect(),i=h.left+(d?d[0]:0),j=h.top+(d?d[1]:0),k=document.createEvent("MouseEvents");k.initMouseEvent(b,!0,!0,a,0,i,j,i,j,!1,!1,!1,!1,0,null),g.dispatchEvent(k)},i.getCurrentWidth=function(){var a=this,b=a.config;return b.size_width?b.size_width:a.getParentWidth()},i.getCurrentHeight=function(){var a=this,b=a.config,c=b.size_height?b.size_height:a.getParentHeight();return c>0?c:320/(a.hasType("gauge")?2:1)},i.getCurrentPaddingTop=function(){var a=this.config;return m(a.padding_top)?a.padding_top:0},i.getCurrentPaddingBottom=function(){var a=this.config;return m(a.padding_bottom)?a.padding_bottom:0},i.getCurrentPaddingLeft=function(a){var b=this,c=b.config;return m(c.padding_left)?c.padding_left:c.axis_rotated?c.axis_x_show?Math.max(r(b.getAxisWidthByAxisId("x",a)),40):1:!c.axis_y_show||c.axis_y_inner?b.axis.getYAxisLabelPosition().isOuter?30:1:r(b.getAxisWidthByAxisId("y",a))},i.getCurrentPaddingRight=function(){var a=this,b=a.config,c=10,d=a.isLegendRight?a.getLegendWidth()+20:0;return m(b.padding_right)?b.padding_right+1:b.axis_rotated?c+d:!b.axis_y2_show||b.axis_y2_inner?2+d+(a.axis.getY2AxisLabelPosition().isOuter?20:0):r(a.getAxisWidthByAxisId("y2"))+d},i.getParentRectValue=function(a){for(var b,c=this.selectChart.node();c&&"BODY"!==c.tagName;){try{b=c.getBoundingClientRect()[a]}catch(d){"width"===a&&(b=c.offsetWidth)}if(b)break;c=c.parentNode}return b},i.getParentWidth=function(){return this.getParentRectValue("width")},i.getParentHeight=function(){var a=this.selectChart.style("height");return a.indexOf("px")>0?+a.replace("px",""):0},i.getSvgLeft=function(a){var b=this,c=b.config,d=c.axis_rotated||!c.axis_rotated&&!c.axis_y_inner,e=c.axis_rotated?l.axisX:l.axisY,f=b.main.select("."+e).node(),g=f&&d?f.getBoundingClientRect():{right:0},h=b.selectChart.node().getBoundingClientRect(),i=b.hasArcType(),j=g.right-h.left-(i?0:b.getCurrentPaddingLeft(a));return j>0?j:0},i.getAxisWidthByAxisId=function(a,b){var c=this,d=c.axis.getLabelPositionById(a);return c.axis.getMaxTickWidth(a,b)+(d.isInner?20:40)},i.getHorizontalAxisHeight=function(a){var b=this,c=b.config,d=30;return"x"!==a||c.axis_x_show?"x"===a&&c.axis_x_height?c.axis_x_height:"y"!==a||c.axis_y_show?"y2"!==a||c.axis_y2_show?("x"===a&&!c.axis_rotated&&c.axis_x_tick_rotate&&(d=30+b.axis.getMaxTickWidth(a)*Math.cos(Math.PI*(90-c.axis_x_tick_rotate)/180)),d+(b.axis.getLabelPositionById(a).isInner?0:10)+("y2"===a?-10:0)):b.rotated_padding_top:!c.legend_show||b.isLegendRight||b.isLegendInset?1:10:8},i.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},i.getShapeIndices=function(a){var b,c,d=this,e=d.config,f={},g=0;return d.filterTargetsToShow(d.data.targets.filter(a,d)).forEach(function(a){for(b=0;b<e.data_groups.length;b++)if(!(e.data_groups[b].indexOf(a.id)<0))for(c=0;c<e.data_groups[b].length;c++)if(e.data_groups[b][c]in f){f[a.id]=f[e.data_groups[b][c]];break}p(f[a.id])&&(f[a.id]=g++)}),f.__max__=g-1,f},i.getShapeX=function(a,b,c,d){var e=this,f=d?e.subX:e.x;return function(d){var e=d.id in c?c[d.id]:0;return d.x||0===d.x?f(d.x)-a*(b/2-e):0}},i.getShapeY=function(a){var b=this;return function(c){var d=a?b.getSubYScale(c.id):b.getYScale(c.id);return d(c.value)}},i.getShapeOffset=function(a,b,c){var d=this,e=d.orderTargets(d.filterTargetsToShow(d.data.targets.filter(a,d))),f=e.map(function(a){return a.id});return function(a,g){var h=c?d.getSubYScale(a.id):d.getYScale(a.id),i=h(0),j=i;return e.forEach(function(c){var e=d.isStepType(a)?d.convertValuesToStep(c.values):c.values;c.id!==a.id&&b[c.id]===b[a.id]&&f.indexOf(c.id)<f.indexOf(a.id)&&e[g].value*a.value>=0&&(j+=h(e[g].value)-i)}),j}},i.isWithinShape=function(a,b){var c,d=this,e=d.d3.select(a);return d.isTargetToShow(b.id)?"circle"===a.nodeName?c=d.isStepType(b)?d.isWithinStep(a,d.getYScale(b.id)(b.value)):d.isWithinCircle(a,1.5*d.pointSelectR(b)):"path"===a.nodeName&&(c=e.classed(l.bar)?d.isWithinBar(a):!0):c=!1,c},i.getInterpolate=function(a){var b=this;return b.isSplineType(a)?"cardinal":b.isStepType(a)?b.config.line_step_type:"linear"},i.initLine=function(){var a=this;a.main.select("."+l.chart).append("g").attr("class",l.chartLines)},i.updateTargetsForLine=function(a){var b,c,d=this,e=d.config,f=d.classChartLine.bind(d),g=d.classLines.bind(d),h=d.classAreas.bind(d),i=d.classCircles.bind(d),j=d.classFocus.bind(d);b=d.main.select("."+l.chartLines).selectAll("."+l.chartLine).data(a).attr("class",function(a){return f(a)+j(a)}),c=b.enter().append("g").attr("class",f).style("opacity",0).style("pointer-events","none"),c.append("g").attr("class",g),c.append("g").attr("class",h),c.append("g").attr("class",function(a){return d.generateClass(l.selectedCircles,a.id)}),c.append("g").attr("class",i).style("cursor",function(a){return e.data_selection_isselectable(a)?"pointer":null}),a.forEach(function(a){d.main.selectAll("."+l.selectedCircles+d.getTargetSelectorSuffix(a.id)).selectAll("."+l.selectedCircle).each(function(b){b.value=a.values[b.index].value})})},i.updateLine=function(a){var b=this;b.mainLine=b.main.selectAll("."+l.lines).selectAll("."+l.line).data(b.lineData.bind(b)),b.mainLine.enter().append("path").attr("class",b.classLine.bind(b)).style("stroke",b.color),b.mainLine.style("opacity",b.initialOpacity.bind(b)).style("shape-rendering",function(a){return b.isStepType(a)?"crispEdges":""}).attr("transform",null),b.mainLine.exit().transition().duration(a).style("opacity",0).remove()},i.redrawLine=function(a,b){return[(b?this.mainLine.transition():this.mainLine).attr("d",a).style("stroke",this.color).style("opacity",1)]},i.generateDrawLine=function(a,b){var c=this,d=c.config,e=c.d3.svg.line(),f=c.generateGetLinePoints(a,b),g=b?c.getSubYScale:c.getYScale,h=function(a){return(b?c.subxx:c.xx).call(c,a)},i=function(a,b){return d.data_groups.length>0?f(a,b)[0][1]:g.call(c,a.id)(a.value)};return e=d.axis_rotated?e.x(i).y(h):e.x(h).y(i),d.line_connectNull||(e=e.defined(function(a){return null!=a.value})),function(a){var f,h=d.line_connectNull?c.filterRemoveNull(a.values):a.values,i=b?c.x:c.subX,j=g.call(c,a.id),k=0,l=0;return c.isLineType(a)?d.data_regions[a.id]?f=c.lineWithRegions(h,i,j,d.data_regions[a.id]):(c.isStepType(a)&&(h=c.convertValuesToStep(h)),f=e.interpolate(c.getInterpolate(a))(h)):(h[0]&&(k=i(h[0].x),l=j(h[0].value)),f=d.axis_rotated?"M "+l+" "+k:"M "+k+" "+l),f?f:"M 0 0"}},i.generateGetLinePoints=function(a,b){var c=this,d=c.config,e=a.__max__+1,f=c.getShapeX(0,e,a,!!b),g=c.getShapeY(!!b),h=c.getShapeOffset(c.isLineType,a,!!b),i=b?c.getSubYScale:c.getYScale;return function(a,b){var e=i.call(c,a.id)(0),j=h(a,b)||e,k=f(a),l=g(a);return d.axis_rotated&&(0<a.value&&e>l||a.value<0&&l>e)&&(l=e),[[k,l-(e-j)],[k,l-(e-j)],[k,l-(e-j)],[k,l-(e-j)]]}},i.lineWithRegions=function(a,b,c,d){function e(a,b){var c;for(c=0;c<b.length;c++)if(b[c].start<a&&a<=b[c].end)return!0;return!1}function f(a){return"M"+a[0][0]+" "+a[0][1]+" "+a[1][0]+" "+a[1][1]}var g,h,i,j,k,l,m,n,o,r,s,t,u=this,v=u.config,w=-1,x="M",y=u.isCategorized()?.5:0,z=[];if(q(d))for(g=0;g<d.length;g++)z[g]={},z[g].start=p(d[g].start)?a[0].x:u.isTimeSeries()?u.parseDate(d[g].start):d[g].start,z[g].end=p(d[g].end)?a[a.length-1].x:u.isTimeSeries()?u.parseDate(d[g].end):d[g].end;for(s=v.axis_rotated?function(a){return c(a.value)}:function(a){return b(a.x)},t=v.axis_rotated?function(a){return b(a.x)}:function(a){return c(a.value)},i=u.isTimeSeries()?function(a,d,e,g){var h,i=a.x.getTime(),j=d.x-a.x,l=new Date(i+j*e),m=new Date(i+j*(e+g));return h=v.axis_rotated?[[c(k(e)),b(l)],[c(k(e+g)),b(m)]]:[[b(l),c(k(e))],[b(m),c(k(e+g))]],f(h)}:function(a,d,e,g){var h;return h=v.axis_rotated?[[c(k(e),!0),b(j(e))],[c(k(e+g),!0),b(j(e+g))]]:[[b(j(e),!0),c(k(e))],[b(j(e+g),!0),c(k(e+g))]],f(h)},g=0;g<a.length;g++){if(p(z)||!e(a[g].x,z))x+=" "+s(a[g])+" "+t(a[g]);else for(j=u.getScale(a[g-1].x+y,a[g].x+y,u.isTimeSeries()),k=u.getScale(a[g-1].value,a[g].value),l=b(a[g].x)-b(a[g-1].x),m=c(a[g].value)-c(a[g-1].value),n=Math.sqrt(Math.pow(l,2)+Math.pow(m,2)),o=2/n,r=2*o,h=o;1>=h;h+=r)x+=i(a[g-1],a[g],h,o);w=a[g].x}return x},i.updateArea=function(a){var b=this,c=b.d3;b.mainArea=b.main.selectAll("."+l.areas).selectAll("."+l.area).data(b.lineData.bind(b)),b.mainArea.enter().append("path").attr("class",b.classArea.bind(b)).style("fill",b.color).style("opacity",function(){return b.orgAreaOpacity=+c.select(this).style("opacity"),0}),b.mainArea.style("opacity",b.orgAreaOpacity),b.mainArea.exit().transition().duration(a).style("opacity",0).remove()},i.redrawArea=function(a,b){return[(b?this.mainArea.transition():this.mainArea).attr("d",a).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},i.generateDrawArea=function(a,b){var c=this,d=c.config,e=c.d3.svg.area(),f=c.generateGetAreaPoints(a,b),g=b?c.getSubYScale:c.getYScale,h=function(a){return(b?c.subxx:c.xx).call(c,a)},i=function(a,b){return d.data_groups.length>0?f(a,b)[0][1]:g.call(c,a.id)(c.getAreaBaseValue(a.id))},j=function(a,b){return d.data_groups.length>0?f(a,b)[1][1]:g.call(c,a.id)(a.value)};return e=d.axis_rotated?e.x0(i).x1(j).y(h):e.x(h).y0(i).y1(j),d.line_connectNull||(e=e.defined(function(a){return null!==a.value})),function(a){var b,f=d.line_connectNull?c.filterRemoveNull(a.values):a.values,g=0,h=0;return c.isAreaType(a)?(c.isStepType(a)&&(f=c.convertValuesToStep(f)),b=e.interpolate(c.getInterpolate(a))(f)):(f[0]&&(g=c.x(f[0].x),h=c.getYScale(a.id)(f[0].value)),b=d.axis_rotated?"M "+h+" "+g:"M "+g+" "+h),b?b:"M 0 0"}},i.getAreaBaseValue=function(){return 0},i.generateGetAreaPoints=function(a,b){var c=this,d=c.config,e=a.__max__+1,f=c.getShapeX(0,e,a,!!b),g=c.getShapeY(!!b),h=c.getShapeOffset(c.isAreaType,a,!!b),i=b?c.getSubYScale:c.getYScale;return function(a,b){var e=i.call(c,a.id)(0),j=h(a,b)||e,k=f(a),l=g(a);return d.axis_rotated&&(0<a.value&&e>l||a.value<0&&l>e)&&(l=e),[[k,j],[k,l-(e-j)],[k,l-(e-j)],[k,j]]}},i.updateCircle=function(){var a=this;a.mainCircle=a.main.selectAll("."+l.circles).selectAll("."+l.circle).data(a.lineOrScatterData.bind(a)),a.mainCircle.enter().append("circle").attr("class",a.classCircle.bind(a)).attr("r",a.pointR.bind(a)).style("fill",a.color),a.mainCircle.style("opacity",a.initialOpacityForCircle.bind(a)),a.mainCircle.exit().remove()},i.redrawCircle=function(a,b,c){var d=this.main.selectAll("."+l.selectedCircle);return[(c?this.mainCircle.transition():this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",a).attr("cy",b),(c?d.transition():d).attr("cx",a).attr("cy",b)]},i.circleX=function(a){return a.x||0===a.x?this.x(a.x):null},i.updateCircleY=function(){var a,b,c=this;c.config.data_groups.length>0?(a=c.getShapeIndices(c.isLineType),b=c.generateGetLinePoints(a),c.circleY=function(a,c){return b(a,c)[0][1]}):c.circleY=function(a){return c.getYScale(a.id)(a.value)}},i.getCircles=function(a,b){var c=this;return(b?c.main.selectAll("."+l.circles+c.getTargetSelectorSuffix(b)):c.main).selectAll("."+l.circle+(m(a)?"-"+a:""))},i.expandCircles=function(a,b,c){var d=this,e=d.pointExpandedR.bind(d);c&&d.unexpandCircles(),d.getCircles(a,b).classed(l.EXPANDED,!0).attr("r",e)},i.unexpandCircles=function(a){var b=this,c=b.pointR.bind(b);b.getCircles(a).filter(function(){return b.d3.select(this).classed(l.EXPANDED)}).classed(l.EXPANDED,!1).attr("r",c)},i.pointR=function(a){var b=this,c=b.config;return b.isStepType(a)?0:n(c.point_r)?c.point_r(a):c.point_r},i.pointExpandedR=function(a){var b=this,c=b.config;return c.point_focus_expand_enabled?c.point_focus_expand_r?c.point_focus_expand_r:1.75*b.pointR(a):b.pointR(a)},i.pointSelectR=function(a){var b=this,c=b.config;return c.point_select_r?c.point_select_r:4*b.pointR(a)},i.isWithinCircle=function(a,b){var c=this.d3,d=c.mouse(a),e=c.select(a),f=+e.attr("cx"),g=+e.attr("cy");return Math.sqrt(Math.pow(f-d[0],2)+Math.pow(g-d[1],2))<b},i.isWithinStep=function(a,b){return Math.abs(b-this.d3.mouse(a)[1])<30},i.initBar=function(){var a=this;a.main.select("."+l.chart).append("g").attr("class",l.chartBars)},i.updateTargetsForBar=function(a){var b,c,d=this,e=d.config,f=d.classChartBar.bind(d),g=d.classBars.bind(d),h=d.classFocus.bind(d);b=d.main.select("."+l.chartBars).selectAll("."+l.chartBar).data(a).attr("class",function(a){return f(a)+h(a)}),c=b.enter().append("g").attr("class",f).style("opacity",0).style("pointer-events","none"),c.append("g").attr("class",g).style("cursor",function(a){return e.data_selection_isselectable(a)?"pointer":null})},i.updateBar=function(a){var b=this,c=b.barData.bind(b),d=b.classBar.bind(b),e=b.initialOpacity.bind(b),f=function(a){return b.color(a.id)};b.mainBar=b.main.selectAll("."+l.bars).selectAll("."+l.bar).data(c),b.mainBar.enter().append("path").attr("class",d).style("stroke",f).style("fill",f),b.mainBar.style("opacity",e),b.mainBar.exit().transition().duration(a).style("opacity",0).remove()},i.redrawBar=function(a,b){return[(b?this.mainBar.transition():this.mainBar).attr("d",a).style("fill",this.color).style("opacity",1)]},i.getBarW=function(a,b){var c=this,d=c.config,e="number"==typeof d.bar_width?d.bar_width:b?a.tickInterval()*d.bar_width_ratio/b:0;return d.bar_width_max&&e>d.bar_width_max?d.bar_width_max:e},i.getBars=function(a,b){var c=this;return(b?c.main.selectAll("."+l.bars+c.getTargetSelectorSuffix(b)):c.main).selectAll("."+l.bar+(m(a)?"-"+a:""))},i.expandBars=function(a,b,c){var d=this;c&&d.unexpandBars(),d.getBars(a,b).classed(l.EXPANDED,!0)},i.unexpandBars=function(a){var b=this;b.getBars(a).classed(l.EXPANDED,!1)},i.generateDrawBar=function(a,b){var c=this,d=c.config,e=c.generateGetBarPoints(a,b);return function(a,b){var c=e(a,b),f=d.axis_rotated?1:0,g=d.axis_rotated?0:1,h="M "+c[0][f]+","+c[0][g]+" L"+c[1][f]+","+c[1][g]+" L"+c[2][f]+","+c[2][g]+" L"+c[3][f]+","+c[3][g]+" z";return h}},i.generateGetBarPoints=function(a,b){var c=this,d=b?c.subXAxis:c.xAxis,e=a.__max__+1,f=c.getBarW(d,e),g=c.getShapeX(f,e,a,!!b),h=c.getShapeY(!!b),i=c.getShapeOffset(c.isBarType,a,!!b),j=b?c.getSubYScale:c.getYScale;
return function(a,b){var d=j.call(c,a.id)(0),e=i(a,b)||d,k=g(a),l=h(a);return c.config.axis_rotated&&(0<a.value&&d>l||a.value<0&&l>d)&&(l=d),[[k,e],[k,l-(d-e)],[k+f,l-(d-e)],[k+f,e]]}},i.isWithinBar=function(a){var b=this.d3.mouse(a),c=a.getBoundingClientRect(),d=a.pathSegList.getItem(0),e=a.pathSegList.getItem(1),f=Math.min(d.x,e.x),g=Math.min(d.y,e.y),h=c.width,i=c.height,j=2,k=f-j,l=f+h+j,m=g+i+j,n=g-j;return k<b[0]&&b[0]<l&&n<b[1]&&b[1]<m},i.initText=function(){var a=this;a.main.select("."+l.chart).append("g").attr("class",l.chartTexts),a.mainText=a.d3.selectAll([])},i.updateTargetsForText=function(a){var b,c,d=this,e=d.classChartText.bind(d),f=d.classTexts.bind(d),g=d.classFocus.bind(d);b=d.main.select("."+l.chartTexts).selectAll("."+l.chartText).data(a).attr("class",function(a){return e(a)+g(a)}),c=b.enter().append("g").attr("class",e).style("opacity",0).style("pointer-events","none"),c.append("g").attr("class",f)},i.updateText=function(a){var b=this,c=b.config,d=b.barOrLineData.bind(b),e=b.classText.bind(b);b.mainText=b.main.selectAll("."+l.texts).selectAll("."+l.text).data(d),b.mainText.enter().append("text").attr("class",e).attr("text-anchor",function(a){return c.axis_rotated?a.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(a){return b.color(a)}).style("fill-opacity",0),b.mainText.text(function(a,c,d){return b.dataLabelFormat(a.id)(a.value,a.id,c,d)}),b.mainText.exit().transition().duration(a).style("fill-opacity",0).remove()},i.redrawText=function(a,b,c,d){return[(d?this.mainText.transition():this.mainText).attr("x",a).attr("y",b).style("fill",this.color).style("fill-opacity",c?0:this.opacityForText.bind(this))]},i.getTextRect=function(a,b){var c,d=this.d3.select("body").append("div").classed("c3",!0),e=d.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0);return e.selectAll(".dummy").data([a]).enter().append("text").classed(b?b:"",!0).text(a).each(function(){c=this.getBoundingClientRect()}),d.remove(),c},i.generateXYForText=function(a,b,c,d){var e=this,f=e.generateGetAreaPoints(a,!1),g=e.generateGetBarPoints(b,!1),h=e.generateGetLinePoints(c,!1),i=d?e.getXForText:e.getYForText;return function(a,b){var c=e.isAreaType(a)?f:e.isBarType(a)?g:h;return i.call(e,c(a,b),a,this)}},i.getXForText=function(a,b,c){var d,e,f=this,g=c.getBoundingClientRect();return f.config.axis_rotated?(e=f.isBarType(b)?4:6,d=a[2][1]+e*(b.value<0?-1:1)):d=f.hasType("bar")?(a[2][0]+a[0][0])/2:a[0][0],null===b.value&&(d>f.width?d=f.width-g.width:0>d&&(d=4)),d},i.getYForText=function(a,b,c){var d,e=this,f=c.getBoundingClientRect();return e.config.axis_rotated?d=(a[0][0]+a[2][0]+.6*f.height)/2:(d=a[2][1],b.value<0?(d+=f.height,e.isBarType(b)&&e.isSafari()?d-=3:!e.isBarType(b)&&e.isChrome()&&(d+=3)):d+=e.isBarType(b)?-3:-6),null!==b.value||e.config.axis_rotated||(d<f.height?d=f.height:d>this.height&&(d=this.height-4)),d},i.setTargetType=function(a,b){var c=this,d=c.config;c.mapToTargetIds(a).forEach(function(a){c.withoutFadeIn[a]=b===d.data_types[a],d.data_types[a]=b}),a||(d.data_type=b)},i.hasType=function(a,b){var c=this,d=c.config.data_types,e=!1;return b=b||c.data.targets,b&&b.length?b.forEach(function(b){var c=d[b.id];(c&&c.indexOf(a)>=0||!c&&"line"===a)&&(e=!0)}):Object.keys(d).length?Object.keys(d).forEach(function(b){d[b]===a&&(e=!0)}):e=c.config.data_type===a,e},i.hasArcType=function(a){return this.hasType("pie",a)||this.hasType("donut",a)||this.hasType("gauge",a)},i.isLineType=function(a){var b=this.config,c=o(a)?a:a.id;return!b.data_types[c]||["line","spline","area","area-spline","step","area-step"].indexOf(b.data_types[c])>=0},i.isStepType=function(a){var b=o(a)?a:a.id;return["step","area-step"].indexOf(this.config.data_types[b])>=0},i.isSplineType=function(a){var b=o(a)?a:a.id;return["spline","area-spline"].indexOf(this.config.data_types[b])>=0},i.isAreaType=function(a){var b=o(a)?a:a.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[b])>=0},i.isBarType=function(a){var b=o(a)?a:a.id;return"bar"===this.config.data_types[b]},i.isScatterType=function(a){var b=o(a)?a:a.id;return"scatter"===this.config.data_types[b]},i.isPieType=function(a){var b=o(a)?a:a.id;return"pie"===this.config.data_types[b]},i.isGaugeType=function(a){var b=o(a)?a:a.id;return"gauge"===this.config.data_types[b]},i.isDonutType=function(a){var b=o(a)?a:a.id;return"donut"===this.config.data_types[b]},i.isArcType=function(a){return this.isPieType(a)||this.isDonutType(a)||this.isGaugeType(a)},i.lineData=function(a){return this.isLineType(a)?[a]:[]},i.arcData=function(a){return this.isArcType(a.data)?[a]:[]},i.barData=function(a){return this.isBarType(a)?a.values:[]},i.lineOrScatterData=function(a){return this.isLineType(a)||this.isScatterType(a)?a.values:[]},i.barOrLineData=function(a){return this.isBarType(a)||this.isLineType(a)?a.values:[]},i.initGrid=function(){var a=this,b=a.config,c=a.d3;a.grid=a.main.append("g").attr("clip-path",a.clipPathForGrid).attr("class",l.grid),b.grid_x_show&&a.grid.append("g").attr("class",l.xgrids),b.grid_y_show&&a.grid.append("g").attr("class",l.ygrids),b.grid_focus_show&&a.grid.append("g").attr("class",l.xgridFocus).append("line").attr("class",l.xgridFocus),a.xgrid=c.selectAll([]),b.grid_lines_front||a.initGridLines()},i.initGridLines=function(){var a=this,b=a.d3;a.gridLines=a.main.append("g").attr("clip-path",a.clipPathForGrid).attr("class",l.grid+" "+l.gridLines),a.gridLines.append("g").attr("class",l.xgridLines),a.gridLines.append("g").attr("class",l.ygridLines),a.xgridLines=b.selectAll([])},i.updateXGrid=function(a){var b=this,c=b.config,d=b.d3,e=b.generateGridData(c.grid_x_type,b.x),f=b.isCategorized()?b.xAxis.tickOffset():0;b.xgridAttr=c.axis_rotated?{x1:0,x2:b.width,y1:function(a){return b.x(a)-f},y2:function(a){return b.x(a)-f}}:{x1:function(a){return b.x(a)+f},x2:function(a){return b.x(a)+f},y1:0,y2:b.height},b.xgrid=b.main.select("."+l.xgrids).selectAll("."+l.xgrid).data(e),b.xgrid.enter().append("line").attr("class",l.xgrid),a||b.xgrid.attr(b.xgridAttr).style("opacity",function(){return+d.select(this).attr(c.axis_rotated?"y1":"x1")===(c.axis_rotated?b.height:0)?0:1}),b.xgrid.exit().remove()},i.updateYGrid=function(){var a=this,b=a.config,c=a.yAxis.tickValues()||a.y.ticks(b.grid_y_ticks);a.ygrid=a.main.select("."+l.ygrids).selectAll("."+l.ygrid).data(c),a.ygrid.enter().append("line").attr("class",l.ygrid),a.ygrid.attr("x1",b.axis_rotated?a.y:0).attr("x2",b.axis_rotated?a.y:a.width).attr("y1",b.axis_rotated?0:a.y).attr("y2",b.axis_rotated?a.height:a.y),a.ygrid.exit().remove(),a.smoothLines(a.ygrid,"grid")},i.gridTextAnchor=function(a){return a.position?a.position:"end"},i.gridTextDx=function(a){return"start"===a.position?4:"middle"===a.position?0:-4},i.xGridTextX=function(a){return"start"===a.position?-this.height:"middle"===a.position?-this.height/2:0},i.yGridTextX=function(a){return"start"===a.position?0:"middle"===a.position?this.width/2:this.width},i.updateGrid=function(a){var b,c,d,e=this,f=e.main,g=e.config;e.grid.style("visibility",e.hasArcType()?"hidden":"visible"),f.select("line."+l.xgridFocus).style("visibility","hidden"),g.grid_x_show&&e.updateXGrid(),e.xgridLines=f.select("."+l.xgridLines).selectAll("."+l.xgridLine).data(g.grid_x_lines),b=e.xgridLines.enter().append("g").attr("class",function(a){return l.xgridLine+(a["class"]?" "+a["class"]:"")}),b.append("line").style("opacity",0),b.append("text").attr("text-anchor",e.gridTextAnchor).attr("transform",g.axis_rotated?"":"rotate(-90)").attr("dx",e.gridTextDx).attr("dy",-5).style("opacity",0),e.xgridLines.exit().transition().duration(a).style("opacity",0).remove(),g.grid_y_show&&e.updateYGrid(),e.ygridLines=f.select("."+l.ygridLines).selectAll("."+l.ygridLine).data(g.grid_y_lines),c=e.ygridLines.enter().append("g").attr("class",function(a){return l.ygridLine+(a["class"]?" "+a["class"]:"")}),c.append("line").style("opacity",0),c.append("text").attr("text-anchor",e.gridTextAnchor).attr("transform",g.axis_rotated?"rotate(-90)":"").attr("dx",e.gridTextDx).attr("dy",-5).style("opacity",0),d=e.yv.bind(e),e.ygridLines.select("line").transition().duration(a).attr("x1",g.axis_rotated?d:0).attr("x2",g.axis_rotated?d:e.width).attr("y1",g.axis_rotated?0:d).attr("y2",g.axis_rotated?e.height:d).style("opacity",1),e.ygridLines.select("text").transition().duration(a).attr("x",g.axis_rotated?e.xGridTextX.bind(e):e.yGridTextX.bind(e)).attr("y",d).text(function(a){return a.text}).style("opacity",1),e.ygridLines.exit().transition().duration(a).style("opacity",0).remove()},i.redrawGrid=function(a){var b=this,c=b.config,d=b.xv.bind(b),e=b.xgridLines.select("line"),f=b.xgridLines.select("text");return[(a?e.transition():e).attr("x1",c.axis_rotated?0:d).attr("x2",c.axis_rotated?b.width:d).attr("y1",c.axis_rotated?d:0).attr("y2",c.axis_rotated?d:b.height).style("opacity",1),(a?f.transition():f).attr("x",c.axis_rotated?b.yGridTextX.bind(b):b.xGridTextX.bind(b)).attr("y",d).text(function(a){return a.text}).style("opacity",1)]},i.showXGridFocus=function(a){var b=this,c=b.config,d=a.filter(function(a){return a&&m(a.value)}),e=b.main.selectAll("line."+l.xgridFocus),f=b.xx.bind(b);c.tooltip_show&&(b.hasType("scatter")||b.hasArcType()||(e.style("visibility","visible").data([d[0]]).attr(c.axis_rotated?"y1":"x1",f).attr(c.axis_rotated?"y2":"x2",f),b.smoothLines(e,"grid")))},i.hideXGridFocus=function(){this.main.select("line."+l.xgridFocus).style("visibility","hidden")},i.updateXgridFocus=function(){var a=this,b=a.config;a.main.select("line."+l.xgridFocus).attr("x1",b.axis_rotated?0:-10).attr("x2",b.axis_rotated?a.width:-10).attr("y1",b.axis_rotated?-10:0).attr("y2",b.axis_rotated?-10:a.height)},i.generateGridData=function(a,b){var c,d,e,f,g=this,h=[],i=g.main.select("."+l.axisX).selectAll(".tick").size();if("year"===a)for(c=g.getXDomain(),d=c[0].getFullYear(),e=c[1].getFullYear(),f=d;e>=f;f++)h.push(new Date(f+"-01-01 00:00:00"));else h=b.ticks(10),h.length>i&&(h=h.filter(function(a){return(""+a).indexOf(".")<0}));return h},i.getGridFilterToRemove=function(a){return a?function(b){var c=!1;return[].concat(a).forEach(function(a){("value"in a&&b.value===a.value||"class"in a&&b["class"]===a["class"])&&(c=!0)}),c}:function(){return!0}},i.removeGridLines=function(a,b){var c=this,d=c.config,e=c.getGridFilterToRemove(a),f=function(a){return!e(a)},g=b?l.xgridLines:l.ygridLines,h=b?l.xgridLine:l.ygridLine;c.main.select("."+g).selectAll("."+h).filter(e).transition().duration(d.transition_duration).style("opacity",0).remove(),b?d.grid_x_lines=d.grid_x_lines.filter(f):d.grid_y_lines=d.grid_y_lines.filter(f)},i.initTooltip=function(){var a,b=this,c=b.config;if(b.tooltip=b.selectChart.style("position","relative").append("div").attr("class",l.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),c.tooltip_init_show){if(b.isTimeSeries()&&o(c.tooltip_init_x)){for(c.tooltip_init_x=b.parseDate(c.tooltip_init_x),a=0;a<b.data.targets[0].values.length&&b.data.targets[0].values[a].x-c.tooltip_init_x!==0;a++);c.tooltip_init_x=a}b.tooltip.html(c.tooltip_contents.call(b,b.data.targets.map(function(a){return b.addName(a.values[c.tooltip_init_x])}),b.axis.getXAxisTickFormat(),b.getYFormat(b.hasArcType()),b.color)),b.tooltip.style("top",c.tooltip_init_position.top).style("left",c.tooltip_init_position.left).style("display","block")}},i.getTooltipContent=function(a,b,c,d){var e,f,g,h,i,j,k=this,m=k.config,n=m.tooltip_format_title||b,o=m.tooltip_format_name||function(a){return a},p=m.tooltip_format_value||c;for(f=0;f<a.length;f++)a[f]&&(a[f].value||0===a[f].value)&&(e||(g=n?n(a[f].x):a[f].x,e="<table class='"+l.tooltip+"'>"+(g||0===g?"<tr><th colspan='2'>"+g+"</th></tr>":"")),h=p(a[f].value,a[f].ratio,a[f].id,a[f].index),void 0!==h&&(i=o(a[f].name,a[f].ratio,a[f].id,a[f].index),j=k.levelColor?k.levelColor(a[f].value):d(a[f].id),e+="<tr class='"+l.tooltipName+"-"+a[f].id+"'>",e+="<td class='name'><span style='background-color:"+j+"'></span>"+i+"</td>",e+="<td class='value'>"+h+"</td>",e+="</tr>"));return e+"</table>"},i.tooltipPosition=function(a,b,c,d){var e,f,g,h,i,j=this,k=j.config,l=j.d3,m=j.hasArcType(),n=l.mouse(d);return m?(f=(j.width-(j.isLegendRight?j.getLegendWidth():0))/2+n[0],h=j.height/2+n[1]+20):(e=j.getSvgLeft(!0),k.axis_rotated?(f=e+n[0]+100,g=f+b,i=j.currentWidth-j.getCurrentPaddingRight(),h=j.x(a[0].x)+20):(f=e+j.getCurrentPaddingLeft(!0)+j.x(a[0].x)+20,g=f+b,i=e+j.currentWidth-j.getCurrentPaddingRight(),h=n[1]+15),g>i&&(f-=g-i+20),h+c>j.currentHeight&&(h-=c+30)),0>h&&(h=0),{top:h,left:f}},i.showTooltip=function(a,b){var c,d,e,f=this,g=f.config,h=f.hasArcType(),j=a.filter(function(a){return a&&m(a.value)}),k=g.tooltip_position||i.tooltipPosition;0!==j.length&&g.tooltip_show&&(f.tooltip.html(g.tooltip_contents.call(f,a,f.axis.getXAxisTickFormat(),f.getYFormat(h),f.color)).style("display","block"),c=f.tooltip.property("offsetWidth"),d=f.tooltip.property("offsetHeight"),e=k.call(this,j,c,d,b),f.tooltip.style("top",e.top+"px").style("left",e.left+"px"))},i.hideTooltip=function(){this.tooltip.style("display","none")},i.initLegend=function(){var a=this;return a.legendItemTextBox={},a.legendHasRendered=!1,a.legend=a.svg.append("g").attr("transform",a.getTranslate("legend")),a.config.legend_show?void a.updateLegendWithDefaults():(a.legend.style("visibility","hidden"),void(a.hiddenLegendIds=a.mapToIds(a.data.targets)))},i.updateLegendWithDefaults=function(){var a=this;a.updateLegend(a.mapToIds(a.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},i.updateSizeForLegend=function(a,b){var c=this,d=c.config,e={top:c.isLegendTop?c.getCurrentPaddingTop()+d.legend_inset_y+5.5:c.currentHeight-a-c.getCurrentPaddingBottom()-d.legend_inset_y,left:c.isLegendLeft?c.getCurrentPaddingLeft()+d.legend_inset_x+.5:c.currentWidth-b-c.getCurrentPaddingRight()-d.legend_inset_x+.5};c.margin3={top:c.isLegendRight?0:c.isLegendInset?e.top:c.currentHeight-a,right:0/0,bottom:0,left:c.isLegendRight?c.currentWidth-b:c.isLegendInset?e.left:0}},i.transformLegend=function(a){var b=this;(a?b.legend.transition():b.legend).attr("transform",b.getTranslate("legend"))},i.updateLegendStep=function(a){this.legendStep=a},i.updateLegendItemWidth=function(a){this.legendItemWidth=a},i.updateLegendItemHeight=function(a){this.legendItemHeight=a},i.getLegendWidth=function(){var a=this;return a.config.legend_show?a.isLegendRight||a.isLegendInset?a.legendItemWidth*(a.legendStep+1):a.currentWidth:0},i.getLegendHeight=function(){var a=this,b=0;return a.config.legend_show&&(b=a.isLegendRight?a.currentHeight:Math.max(20,a.legendItemHeight)*(a.legendStep+1)),b},i.opacityForLegend=function(a){return a.classed(l.legendItemHidden)?null:1},i.opacityForUnfocusedLegend=function(a){return a.classed(l.legendItemHidden)?null:.3},i.toggleFocusLegend=function(a,b){var c=this;a=c.mapToTargetIds(a),c.legend.selectAll("."+l.legendItem).filter(function(b){return a.indexOf(b)>=0}).classed(l.legendItemFocused,b).transition().duration(100).style("opacity",function(){var a=b?c.opacityForLegend:c.opacityForUnfocusedLegend;return a.call(c,c.d3.select(this))})},i.revertLegend=function(){var a=this,b=a.d3;a.legend.selectAll("."+l.legendItem).classed(l.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return a.opacityForLegend(b.select(this))})},i.showLegend=function(a){var b=this,c=b.config;c.legend_show||(c.legend_show=!0,b.legend.style("visibility","visible"),b.legendHasRendered||b.updateLegendWithDefaults()),b.removeHiddenLegendIds(a),b.legend.selectAll(b.selectorLegends(a)).style("visibility","visible").transition().style("opacity",function(){return b.opacityForLegend(b.d3.select(this))})},i.hideLegend=function(a){var b=this,c=b.config;c.legend_show&&u(a)&&(c.legend_show=!1,b.legend.style("visibility","hidden")),b.addHiddenLegendIds(a),b.legend.selectAll(b.selectorLegends(a)).style("opacity",0).style("visibility","hidden")},i.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},i.updateLegend=function(a,b,c){function d(a,b){return u.legendItemTextBox[b]||(u.legendItemTextBox[b]=u.getTextRect(a.textContent,l.legendItem)),u.legendItemTextBox[b]}function e(b,c,e){function f(a,b){b||(g=(o-D-n)/2,B>g&&(g=(o-n)/2,D=0,J++)),I[a]=J,H[J]=u.isLegendInset?10:g,E[a]=D,D+=n}var g,h,i=0===e,j=e===a.length-1,k=d(b,c),l=k.width+C+(!j||u.isLegendRight||u.isLegendInset?y:0),m=k.height+x,n=u.isLegendRight||u.isLegendInset?m:l,o=u.isLegendRight||u.isLegendInset?u.getLegendHeight():u.getLegendWidth();return i&&(D=0,J=0,z=0,A=0),v.legend_show&&!u.isLegendToShow(c)?void(F[c]=G[c]=I[c]=E[c]=0):(F[c]=l,G[c]=m,(!z||l>=z)&&(z=l),(!A||m>=A)&&(A=m),h=u.isLegendRight||u.isLegendInset?A:z,void(v.legend_equally?(Object.keys(F).forEach(function(a){F[a]=z}),Object.keys(G).forEach(function(a){G[a]=A}),g=(o-h*a.length)/2,B>g?(D=0,J=0,a.forEach(function(a){f(a)})):f(c,!0)):f(c)))}var f,g,h,i,j,k,m,n,o,p,r,s,t,u=this,v=u.config,x=4,y=10,z=0,A=0,B=10,C=15,D=0,E={},F={},G={},H=[0],I={},J=0;b=b||{},n=w(b,"withTransition",!0),o=w(b,"withTransitionForTransform",!0),u.isLegendInset&&(J=v.legend_inset_step?v.legend_inset_step:a.length,u.updateLegendStep(J)),u.isLegendRight?(f=function(a){return z*I[a]},i=function(a){return H[I[a]]+E[a]}):u.isLegendInset?(f=function(a){return z*I[a]+10},i=function(a){return H[I[a]]+E[a]}):(f=function(a){return H[I[a]]+E[a]},i=function(a){return A*I[a]}),g=function(a,b){return f(a,b)+14},j=function(a,b){return i(a,b)+9},h=function(a,b){return f(a,b)},k=function(a,b){return i(a,b)-5},m=u.legend.selectAll("."+l.legendItem).data(a).enter().append("g").attr("class",function(a){return u.generateClass(l.legendItem,a)}).style("visibility",function(a){return u.isLegendToShow(a)?"visible":"hidden"}).style("cursor","pointer").on("click",function(a){v.legend_item_onclick?v.legend_item_onclick.call(u,a):u.d3.event.altKey?(u.api.hide(),u.api.show(a)):(u.api.toggle(a),u.isTargetToShow(a)?u.api.focus(a):u.api.revert())}).on("mouseover",function(a){u.d3.select(this).classed(l.legendItemFocused,!0),!u.transiting&&u.isTargetToShow(a)&&u.api.focus(a),v.legend_item_onmouseover&&v.legend_item_onmouseover.call(u,a)}).on("mouseout",function(a){u.d3.select(this).classed(l.legendItemFocused,!1),u.api.revert(),v.legend_item_onmouseout&&v.legend_item_onmouseout.call(u,a)}),m.append("text").text(function(a){return q(v.data_names[a])?v.data_names[a]:a}).each(function(a,b){e(this,a,b)}).style("pointer-events","none").attr("x",u.isLegendRight||u.isLegendInset?g:-200).attr("y",u.isLegendRight||u.isLegendInset?-200:j),m.append("rect").attr("class",l.legendItemEvent).style("fill-opacity",0).attr("x",u.isLegendRight||u.isLegendInset?h:-200).attr("y",u.isLegendRight||u.isLegendInset?-200:k),m.append("rect").attr("class",l.legendItemTile).style("pointer-events","none").style("fill",u.color).attr("x",u.isLegendRight||u.isLegendInset?g:-200).attr("y",u.isLegendRight||u.isLegendInset?-200:i).attr("width",10).attr("height",10),t=u.legend.select("."+l.legendBackground+" rect"),u.isLegendInset&&z>0&&0===t.size()&&(t=u.legend.insert("g","."+l.legendItem).attr("class",l.legendBackground).append("rect")),p=u.legend.selectAll("text").data(a).text(function(a){return q(v.data_names[a])?v.data_names[a]:a}).each(function(a,b){e(this,a,b)}),(n?p.transition():p).attr("x",g).attr("y",j),r=u.legend.selectAll("rect."+l.legendItemEvent).data(a),(n?r.transition():r).attr("width",function(a){return F[a]}).attr("height",function(a){return G[a]}).attr("x",h).attr("y",k),s=u.legend.selectAll("rect."+l.legendItemTile).data(a),(n?s.transition():s).style("fill",u.color).attr("x",f).attr("y",i),t&&(n?t.transition():t).attr("height",u.getLegendHeight()-12).attr("width",z*(J+1)+10),u.legend.selectAll("."+l.legendItem).classed(l.legendItemHidden,function(a){return!u.isTargetToShow(a)}),u.updateLegendItemWidth(z),u.updateLegendItemHeight(A),u.updateLegendStep(J),u.updateSizes(),u.updateScales(),u.updateSvgSize(),u.transformAll(o,c),u.legendHasRendered=!0},c(b,f),f.prototype.init=function(){var a=this.owner,b=a.config,c=a.main;a.axes.x=c.append("g").attr("class",l.axis+" "+l.axisX).attr("clip-path",a.clipPathForXAxis).attr("transform",a.getTranslate("x")).style("visibility",b.axis_x_show?"visible":"hidden"),a.axes.x.append("text").attr("class",l.axisXLabel).attr("transform",b.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),a.axes.y=c.append("g").attr("class",l.axis+" "+l.axisY).attr("clip-path",b.axis_y_inner?"":a.clipPathForYAxis).attr("transform",a.getTranslate("y")).style("visibility",b.axis_y_show?"visible":"hidden"),a.axes.y.append("text").attr("class",l.axisYLabel).attr("transform",b.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),a.axes.y2=c.append("g").attr("class",l.axis+" "+l.axisY2).attr("transform",a.getTranslate("y2")).style("visibility",b.axis_y2_show?"visible":"hidden"),a.axes.y2.append("text").attr("class",l.axisY2Label).attr("transform",b.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},f.prototype.getXAxis=function(a,b,c,d,e,f,h){var i=this.owner,j=i.config,k={isCategory:i.isCategorized(),withOuterTick:e,tickMultiline:j.axis_x_tick_multiline,tickWidth:j.axis_x_tick_width,tickTextRotate:h?0:j.axis_x_tick_rotate,withoutTransition:f},l=g(i.d3,k).scale(a).orient(b);return i.isTimeSeries()&&d&&(d=d.map(function(a){return i.parseDate(a)})),l.tickFormat(c).tickValues(d),i.isCategorized()&&(l.tickCentered(j.axis_x_tick_centered),u(j.axis_x_tick_culling)&&(j.axis_x_tick_culling=!1)),l},f.prototype.updateXAxisTickValues=function(a,b){var c,d=this.owner,e=d.config;return(e.axis_x_tick_fit||e.axis_x_tick_count)&&(c=this.generateTickValues(d.mapTargetsToUniqueXs(a),e.axis_x_tick_count,d.isTimeSeries())),b?b.tickValues(c):(d.xAxis.tickValues(c),d.subXAxis.tickValues(c)),c},f.prototype.getYAxis=function(a,b,c,d,e,f){var h={withOuterTick:e,withoutTransition:f},i=this.owner,j=i.d3,k=i.config,l=g(j,h).scale(a).orient(b).tickFormat(c);return i.isTimeSeriesY()?l.ticks(j.time[k.axis_y_tick_time_value],k.axis_y_tick_time_interval):l.tickValues(d),l},f.prototype.getId=function(a){var b=this.owner.config;return a in b.data_axes?b.data_axes[a]:"y"},f.prototype.getXAxisTickFormat=function(){var a=this.owner,b=a.config,c=a.isTimeSeries()?a.defaultAxisTimeFormat:a.isCategorized()?a.categoryName:function(a){return 0>a?a.toFixed(0):a};return b.axis_x_tick_format&&(n(b.axis_x_tick_format)?c=b.axis_x_tick_format:a.isTimeSeries()&&(c=function(c){return c?a.axisTimeFormat(b.axis_x_tick_format)(c):""})),n(c)?function(b){return c.call(a,b)}:c},f.prototype.getTickValues=function(a,b){return a?a:b?b.tickValues():void 0},f.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},f.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},f.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},f.prototype.getLabelOptionByAxisId=function(a){var b,c=this.owner,d=c.config;return"y"===a?b=d.axis_y_label:"y2"===a?b=d.axis_y2_label:"x"===a&&(b=d.axis_x_label),b},f.prototype.getLabelText=function(a){var b=this.getLabelOptionByAxisId(a);return o(b)?b:b?b.text:null},f.prototype.setLabelText=function(a,b){var c=this.owner,d=c.config,e=this.getLabelOptionByAxisId(a);o(e)?"y"===a?d.axis_y_label=b:"y2"===a?d.axis_y2_label=b:"x"===a&&(d.axis_x_label=b):e&&(e.text=b)},f.prototype.getLabelPosition=function(a,b){var c=this.getLabelOptionByAxisId(a),d=c&&"object"==typeof c&&c.position?c.position:b;return{isInner:d.indexOf("inner")>=0,isOuter:d.indexOf("outer")>=0,isLeft:d.indexOf("left")>=0,isCenter:d.indexOf("center")>=0,isRight:d.indexOf("right")>=0,isTop:d.indexOf("top")>=0,isMiddle:d.indexOf("middle")>=0,isBottom:d.indexOf("bottom")>=0}},f.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},f.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},f.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},f.prototype.getLabelPositionById=function(a){return"y2"===a?this.getY2AxisLabelPosition():"y"===a?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},f.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},f.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},f.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},f.prototype.xForAxisLabel=function(a,b){var c=this.owner;return a?b.isLeft?0:b.isCenter?c.width/2:c.width:b.isBottom?-c.height:b.isMiddle?-c.height/2:0},f.prototype.dxForAxisLabel=function(a,b){return a?b.isLeft?"0.5em":b.isRight?"-0.5em":"0":b.isTop?"-0.5em":b.isBottom?"0.5em":"0"},f.prototype.textAnchorForAxisLabel=function(a,b){return a?b.isLeft?"start":b.isCenter?"middle":"end":b.isBottom?"start":b.isMiddle?"middle":"end"},f.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},f.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},f.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},f.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},f.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},f.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},f.prototype.dyForXAxisLabel=function(){var a=this.owner,b=a.config,c=this.getXAxisLabelPosition();return b.axis_rotated?c.isInner?"1.2em":-25-this.getMaxTickWidth("x"):c.isInner?"-0.5em":b.axis_x_height?b.axis_x_height-10:"3em"},f.prototype.dyForYAxisLabel=function(){var a=this.owner,b=this.getYAxisLabelPosition();return a.config.axis_rotated?b.isInner?"-0.5em":"3em":b.isInner?"1.2em":-10-(a.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},f.prototype.dyForY2AxisLabel=function(){var a=this.owner,b=this.getY2AxisLabelPosition();return a.config.axis_rotated?b.isInner?"1.2em":"-2.2em":b.isInner?"-0.5em":15+(a.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},f.prototype.textAnchorForXAxisLabel=function(){var a=this.owner;return this.textAnchorForAxisLabel(!a.config.axis_rotated,this.getXAxisLabelPosition())},f.prototype.textAnchorForYAxisLabel=function(){var a=this.owner;return this.textAnchorForAxisLabel(a.config.axis_rotated,this.getYAxisLabelPosition())},f.prototype.textAnchorForY2AxisLabel=function(){var a=this.owner;return this.textAnchorForAxisLabel(a.config.axis_rotated,this.getY2AxisLabelPosition())},f.prototype.getMaxTickWidth=function(a,b){var c,d,e,f,g,h=this.owner,i=h.config,j=0;return b&&h.currentMaxTickWidths[a]?h.currentMaxTickWidths[a]:(h.svg&&(c=h.filterTargetsToShow(h.data.targets),"y"===a?(d=h.y.copy().domain(h.getYDomain(c,"y")),e=this.getYAxis(d,h.yOrient,i.axis_y_tick_format,h.yAxisTickValues,!1,!0)):"y2"===a?(d=h.y2.copy().domain(h.getYDomain(c,"y2")),e=this.getYAxis(d,h.y2Orient,i.axis_y2_tick_format,h.y2AxisTickValues,!1,!0)):(d=h.x.copy().domain(h.getXDomain(c)),e=this.getXAxis(d,h.xOrient,h.xAxisTickFormat,h.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(c,e)),f=h.d3.select("body").append("div").classed("c3",!0),g=f.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),g.append("g").call(e).each(function(){h.d3.select(this).selectAll("text").each(function(){var a=this.getBoundingClientRect();j<a.width&&(j=a.width)}),f.remove()})),h.currentMaxTickWidths[a]=0>=j?h.currentMaxTickWidths[a]:j,h.currentMaxTickWidths[a])},f.prototype.updateLabels=function(a){var b=this.owner,c=b.main.select("."+l.axisX+" ."+l.axisXLabel),d=b.main.select("."+l.axisY+" ."+l.axisYLabel),e=b.main.select("."+l.axisY2+" ."+l.axisY2Label);(a?c.transition():c).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(a?d.transition():d).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(a?e.transition():e).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},f.prototype.getPadding=function(a,b,c,d){return m(a[b])?"ratio"===a.unit?a[b]*d:this.convertPixelsToAxisPadding(a[b],d):c},f.prototype.convertPixelsToAxisPadding=function(a,b){var c=this.owner,d=c.config.axis_rotated?c.width:c.height;return b*(a/d)},f.prototype.generateTickValues=function(a,b,c){var d,e,f,g,h,i,j,k=a;if(b)if(d=n(b)?b():b,1===d)k=[a[0]];else if(2===d)k=[a[0],a[a.length-1]];else if(d>2){for(g=d-2,e=a[0],f=a[a.length-1],h=(f-e)/(g+1),k=[e],i=0;g>i;i++)j=+e+h*(i+1),k.push(c?new Date(j):j);k.push(f)}return c||(k=k.sort(function(a,b){return a-b})),k},f.prototype.generateTransitions=function(a){var b=this.owner,c=b.axes;return{axisX:a?c.x.transition().duration(a):c.x,axisY:a?c.y.transition().duration(a):c.y,axisY2:a?c.y2.transition().duration(a):c.y2,axisSubX:a?c.subx.transition().duration(a):c.subx}},f.prototype.redraw=function(a,b){var c=this.owner;c.axes.x.style("opacity",b?0:1),c.axes.y.style("opacity",b?0:1),c.axes.y2.style("opacity",b?0:1),c.axes.subx.style("opacity",b?0:1),a.axisX.call(c.xAxis),a.axisY.call(c.yAxis),a.axisY2.call(c.y2Axis),a.axisSubX.call(c.subXAxis)},i.getClipPath=function(b){var c=a.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(c?"":document.URL.split("#")[0])+"#"+b+")"},i.appendClip=function(a,b){return a.append("clipPath").attr("id",b).append("rect")},i.getAxisClipX=function(a){var b=Math.max(30,this.margin.left);return a?-(1+b):-(b-1)},i.getAxisClipY=function(a){return a?-20:-this.margin.top},i.getXAxisClipX=function(){var a=this;return a.getAxisClipX(!a.config.axis_rotated)},i.getXAxisClipY=function(){var a=this;return a.getAxisClipY(!a.config.axis_rotated)},i.getYAxisClipX=function(){var a=this;return a.config.axis_y_inner?-1:a.getAxisClipX(a.config.axis_rotated)},i.getYAxisClipY=function(){var a=this;return a.getAxisClipY(a.config.axis_rotated)},i.getAxisClipWidth=function(a){var b=this,c=Math.max(30,b.margin.left),d=Math.max(30,b.margin.right);return a?b.width+2+c+d:b.margin.left+20},i.getAxisClipHeight=function(a){return(a?this.margin.bottom:this.margin.top+this.height)+20},i.getXAxisClipWidth=function(){var a=this;return a.getAxisClipWidth(!a.config.axis_rotated)},i.getXAxisClipHeight=function(){var a=this;return a.getAxisClipHeight(!a.config.axis_rotated)},i.getYAxisClipWidth=function(){var a=this;return a.getAxisClipWidth(a.config.axis_rotated)+(a.config.axis_y_inner?20:0)},i.getYAxisClipHeight=function(){var a=this;return a.getAxisClipHeight(a.config.axis_rotated)},i.initPie=function(){var a=this,b=a.d3,c=a.config;a.pie=b.layout.pie().value(function(a){return a.values.reduce(function(a,b){return a+b.value},0)}),c.data_order||a.pie.sort(null)},i.updateRadius=function(){var a=this,b=a.config,c=b.gauge_width||b.donut_width;a.radiusExpanded=Math.min(a.arcWidth,a.arcHeight)/2,a.radius=.95*a.radiusExpanded,a.innerRadiusRatio=c?(a.radius-c)/a.radius:.6,a.innerRadius=a.hasType("donut")||a.hasType("gauge")?a.radius*a.innerRadiusRatio:0},i.updateArc=function(){var a=this;a.svgArc=a.getSvgArc(),a.svgArcExpanded=a.getSvgArcExpanded(),a.svgArcExpandedSub=a.getSvgArcExpanded(.98)},i.updateAngle=function(a){var b,c,d=this,e=d.config,f=!1,g=0,h=e.gauge_min,i=e.gauge_max;
return d.pie(d.filterTargetsToShow(d.data.targets)).forEach(function(b){f||b.data.id!==a.data.id||(f=!0,a=b,a.index=g),g++}),isNaN(a.startAngle)&&(a.startAngle=0),isNaN(a.endAngle)&&(a.endAngle=a.startAngle),d.isGaugeType(a.data)&&(b=Math.PI/(i-h),c=a.value<h?0:a.value<i?a.value-h:i-h,a.startAngle=-1*(Math.PI/2),a.endAngle=a.startAngle+b*c),f?a:null},i.getSvgArc=function(){var a=this,b=a.d3.svg.arc().outerRadius(a.radius).innerRadius(a.innerRadius),c=function(c,d){var e;return d?b(c):(e=a.updateAngle(c),e?b(e):"M 0 0")};return c.centroid=b.centroid,c},i.getSvgArcExpanded=function(a){var b=this,c=b.d3.svg.arc().outerRadius(b.radiusExpanded*(a?a:1)).innerRadius(b.innerRadius);return function(a){var d=b.updateAngle(a);return d?c(d):"M 0 0"}},i.getArc=function(a,b,c){return c||this.isArcType(a.data)?this.svgArc(a,b):"M 0 0"},i.transformForArcLabel=function(a){var b,c,d,e,f,g=this,h=g.updateAngle(a),i="";return h&&!g.hasType("gauge")&&(b=this.svgArc.centroid(h),c=isNaN(b[0])?0:b[0],d=isNaN(b[1])?0:b[1],e=Math.sqrt(c*c+d*d),f=g.radius&&e?(36/g.radius>.375?1.175-36/g.radius:.8)*g.radius/e:0,i="translate("+c*f+","+d*f+")"),i},i.getArcRatio=function(a){var b=this,c=b.hasType("gauge")?Math.PI:2*Math.PI;return a?(a.endAngle-a.startAngle)/c:null},i.convertToArcData=function(a){return this.addName({id:a.data.id,value:a.value,ratio:this.getArcRatio(a),index:a.index})},i.textForArcLabel=function(a){var b,c,d,e,f,g=this;return g.shouldShowArcLabel()?(b=g.updateAngle(a),c=b?b.value:null,d=g.getArcRatio(b),e=a.data.id,g.hasType("gauge")||g.meetsArcLabelThreshold(d)?(f=g.getArcLabelFormat(),f?f(c,d,e):g.defaultArcValueFormat(c,d)):""):""},i.expandArc=function(b){var c,d=this;return d.transiting?void(c=a.setInterval(function(){d.transiting||(a.clearInterval(c),d.legend.selectAll(".c3-legend-item-focused").size()>0&&d.expandArc(b))},10)):(b=d.mapToTargetIds(b),void d.svg.selectAll(d.selectorTargets(b,"."+l.chartArc)).each(function(a){d.shouldExpand(a.data.id)&&d.d3.select(this).selectAll("path").transition().duration(50).attr("d",d.svgArcExpanded).transition().duration(100).attr("d",d.svgArcExpandedSub).each(function(a){d.isDonutType(a.data)})}))},i.unexpandArc=function(a){var b=this;b.transiting||(a=b.mapToTargetIds(a),b.svg.selectAll(b.selectorTargets(a,"."+l.chartArc)).selectAll("path").transition().duration(50).attr("d",b.svgArc),b.svg.selectAll("."+l.arc).style("opacity",1))},i.shouldExpand=function(a){var b=this,c=b.config;return b.isDonutType(a)&&c.donut_expand||b.isGaugeType(a)&&c.gauge_expand||b.isPieType(a)&&c.pie_expand},i.shouldShowArcLabel=function(){var a=this,b=a.config,c=!0;return a.hasType("donut")?c=b.donut_label_show:a.hasType("pie")&&(c=b.pie_label_show),c},i.meetsArcLabelThreshold=function(a){var b=this,c=b.config,d=b.hasType("donut")?c.donut_label_threshold:c.pie_label_threshold;return a>=d},i.getArcLabelFormat=function(){var a=this,b=a.config,c=b.pie_label_format;return a.hasType("gauge")?c=b.gauge_label_format:a.hasType("donut")&&(c=b.donut_label_format),c},i.getArcTitle=function(){var a=this;return a.hasType("donut")?a.config.donut_title:""},i.updateTargetsForArc=function(a){var b,c,d=this,e=d.main,f=d.classChartArc.bind(d),g=d.classArcs.bind(d),h=d.classFocus.bind(d);b=e.select("."+l.chartArcs).selectAll("."+l.chartArc).data(d.pie(a)).attr("class",function(a){return f(a)+h(a.data)}),c=b.enter().append("g").attr("class",f),c.append("g").attr("class",g),c.append("text").attr("dy",d.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},i.initArc=function(){var a=this;a.arcs=a.main.select("."+l.chart).append("g").attr("class",l.chartArcs).attr("transform",a.getTranslate("arc")),a.arcs.append("text").attr("class",l.chartArcsTitle).style("text-anchor","middle").text(a.getArcTitle())},i.redrawArc=function(a,b,c){var d,e=this,f=e.d3,g=e.config,h=e.main;d=h.selectAll("."+l.arcs).selectAll("."+l.arc).data(e.arcData.bind(e)),d.enter().append("path").attr("class",e.classArc.bind(e)).style("fill",function(a){return e.color(a.data)}).style("cursor",function(a){return g.interaction_enabled&&g.data_selection_isselectable(a)?"pointer":null}).style("opacity",0).each(function(a){e.isGaugeType(a.data)&&(a.startAngle=a.endAngle=-1*(Math.PI/2)),this._current=a}),d.attr("transform",function(a){return!e.isGaugeType(a.data)&&c?"scale(0)":""}).style("opacity",function(a){return a===this._current?0:1}).on("mouseover",g.interaction_enabled?function(a){var b,c;e.transiting||(b=e.updateAngle(a),c=e.convertToArcData(b),e.expandArc(b.data.id),e.api.focus(b.data.id),e.toggleFocusLegend(b.data.id,!0),e.config.data_onmouseover(c,this))}:null).on("mousemove",g.interaction_enabled?function(a){var b=e.updateAngle(a),c=e.convertToArcData(b),d=[c];e.showTooltip(d,this)}:null).on("mouseout",g.interaction_enabled?function(a){var b,c;e.transiting||(b=e.updateAngle(a),c=e.convertToArcData(b),e.unexpandArc(b.data.id),e.api.revert(),e.revertLegend(),e.hideTooltip(),e.config.data_onmouseout(c,this))}:null).on("click",g.interaction_enabled?function(a,b){var c=e.updateAngle(a),d=e.convertToArcData(c);e.toggleShape&&e.toggleShape(this,d,b),e.config.data_onclick.call(e.api,d,this)}:null).each(function(){e.transiting=!0}).transition().duration(a).attrTween("d",function(a){var b,c=e.updateAngle(a);return c?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),b=f.interpolate(this._current,c),this._current=b(0),function(c){var d=b(c);return d.data=a.data,e.getArc(d,!0)}):function(){return"M 0 0"}}).attr("transform",c?"scale(1)":"").style("fill",function(a){return e.levelColor?e.levelColor(a.data.values[0].value):e.color(a.data.id)}).style("opacity",1).call(e.endall,function(){e.transiting=!1}),d.exit().transition().duration(b).style("opacity",0).remove(),h.selectAll("."+l.chartArc).select("text").style("opacity",0).attr("class",function(a){return e.isGaugeType(a.data)?l.gaugeValue:""}).text(e.textForArcLabel.bind(e)).attr("transform",e.transformForArcLabel.bind(e)).style("font-size",function(a){return e.isGaugeType(a.data)?Math.round(e.radius/5)+"px":""}).transition().duration(a).style("opacity",function(a){return e.isTargetToShow(a.data.id)&&e.isArcType(a.data)?1:0}),h.select("."+l.chartArcsTitle).style("opacity",e.hasType("donut")||e.hasType("gauge")?1:0),e.hasType("gauge")&&(e.arcs.select("."+l.chartArcsBackground).attr("d",function(){var a={data:[{value:g.gauge_max}],startAngle:-1*(Math.PI/2),endAngle:Math.PI/2};return e.getArc(a,!0,!0)}),e.arcs.select("."+l.chartArcsGaugeUnit).attr("dy",".75em").text(g.gauge_label_show?g.gauge_units:""),e.arcs.select("."+l.chartArcsGaugeMin).attr("dx",-1*(e.innerRadius+(e.radius-e.innerRadius)/2)+"px").attr("dy","1.2em").text(g.gauge_label_show?g.gauge_min:""),e.arcs.select("."+l.chartArcsGaugeMax).attr("dx",e.innerRadius+(e.radius-e.innerRadius)/2+"px").attr("dy","1.2em").text(g.gauge_label_show?g.gauge_max:""))},i.initGauge=function(){var a=this.arcs;this.hasType("gauge")&&(a.append("path").attr("class",l.chartArcsBackground),a.append("text").attr("class",l.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),a.append("text").attr("class",l.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),a.append("text").attr("class",l.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},i.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},i.initRegion=function(){var a=this;a.region=a.main.append("g").attr("clip-path",a.clipPath).attr("class",l.regions)},i.updateRegion=function(a){var b=this,c=b.config;b.region.style("visibility",b.hasArcType()?"hidden":"visible"),b.mainRegion=b.main.select("."+l.regions).selectAll("."+l.region).data(c.regions),b.mainRegion.enter().append("g").attr("class",b.classRegion.bind(b)).append("rect").style("fill-opacity",0),b.mainRegion.exit().transition().duration(a).style("opacity",0).remove()},i.redrawRegion=function(a){var b=this,c=b.mainRegion.selectAll("rect"),d=b.regionX.bind(b),e=b.regionY.bind(b),f=b.regionWidth.bind(b),g=b.regionHeight.bind(b);return[(a?c.transition():c).attr("x",d).attr("y",e).attr("width",f).attr("height",g).style("fill-opacity",function(a){return m(a.opacity)?a.opacity:.1})]},i.regionX=function(a){var b,c=this,d=c.config,e="y"===a.axis?c.y:c.y2;return b="y"===a.axis||"y2"===a.axis?d.axis_rotated&&"start"in a?e(a.start):0:d.axis_rotated?0:"start"in a?c.x(c.isTimeSeries()?c.parseDate(a.start):a.start):0},i.regionY=function(a){var b,c=this,d=c.config,e="y"===a.axis?c.y:c.y2;return b="y"===a.axis||"y2"===a.axis?d.axis_rotated?0:"end"in a?e(a.end):0:d.axis_rotated&&"start"in a?c.x(c.isTimeSeries()?c.parseDate(a.start):a.start):0},i.regionWidth=function(a){var b,c=this,d=c.config,e=c.regionX(a),f="y"===a.axis?c.y:c.y2;return b="y"===a.axis||"y2"===a.axis?d.axis_rotated&&"end"in a?f(a.end):c.width:d.axis_rotated?c.width:"end"in a?c.x(c.isTimeSeries()?c.parseDate(a.end):a.end):c.width,e>b?0:b-e},i.regionHeight=function(a){var b,c=this,d=c.config,e=this.regionY(a),f="y"===a.axis?c.y:c.y2;return b="y"===a.axis||"y2"===a.axis?d.axis_rotated?c.height:"start"in a?f(a.start):c.height:d.axis_rotated&&"end"in a?c.x(c.isTimeSeries()?c.parseDate(a.end):a.end):c.height,e>b?0:b-e},i.isRegionOnX=function(a){return!a.axis||"x"===a.axis},i.drag=function(a){var b,c,d,e,f,g,h,i,j=this,k=j.config,m=j.main,n=j.d3;j.hasArcType()||k.data_selection_enabled&&(!k.zoom_enabled||j.zoom.altDomain)&&k.data_selection_multiple&&(b=j.dragStart[0],c=j.dragStart[1],d=a[0],e=a[1],f=Math.min(b,d),g=Math.max(b,d),h=k.data_selection_grouped?j.margin.top:Math.min(c,e),i=k.data_selection_grouped?j.height:Math.max(c,e),m.select("."+l.dragarea).attr("x",f).attr("y",h).attr("width",g-f).attr("height",i-h),m.selectAll("."+l.shapes).selectAll("."+l.shape).filter(function(a){return k.data_selection_isselectable(a)}).each(function(a,b){var c,d,e,k,m,o,p=n.select(this),q=p.classed(l.SELECTED),r=p.classed(l.INCLUDED),s=!1;if(p.classed(l.circle))c=1*p.attr("cx"),d=1*p.attr("cy"),m=j.togglePoint,s=c>f&&g>c&&d>h&&i>d;else{if(!p.classed(l.bar))return;o=y(this),c=o.x,d=o.y,e=o.width,k=o.height,m=j.togglePath,s=!(c>g||f>c+e||d>i||h>d+k)}s^r&&(p.classed(l.INCLUDED,!r),p.classed(l.SELECTED,!q),m.call(j,!q,p,a,b))}))},i.dragstart=function(a){var b=this,c=b.config;b.hasArcType()||c.data_selection_enabled&&(b.dragStart=a,b.main.select("."+l.chart).append("rect").attr("class",l.dragarea).style("opacity",.1),b.dragging=!0)},i.dragend=function(){var a=this,b=a.config;a.hasArcType()||b.data_selection_enabled&&(a.main.select("."+l.dragarea).transition().duration(100).style("opacity",0).remove(),a.main.selectAll("."+l.shape).classed(l.INCLUDED,!1),a.dragging=!1)},i.selectPoint=function(a,b,c){var d=this,e=d.config,f=(e.axis_rotated?d.circleY:d.circleX).bind(d),g=(e.axis_rotated?d.circleX:d.circleY).bind(d),h=d.pointSelectR.bind(d);e.data_onselected.call(d.api,b,a.node()),d.main.select("."+l.selectedCircles+d.getTargetSelectorSuffix(b.id)).selectAll("."+l.selectedCircle+"-"+c).data([b]).enter().append("circle").attr("class",function(){return d.generateClass(l.selectedCircle,c)}).attr("cx",f).attr("cy",g).attr("stroke",function(){return d.color(b)}).attr("r",function(a){return 1.4*d.pointSelectR(a)}).transition().duration(100).attr("r",h)},i.unselectPoint=function(a,b,c){var d=this;d.config.data_onunselected(b,a.node()),d.main.select("."+l.selectedCircles+d.getTargetSelectorSuffix(b.id)).selectAll("."+l.selectedCircle+"-"+c).transition().duration(100).attr("r",0).remove()},i.togglePoint=function(a,b,c,d){a?this.selectPoint(b,c,d):this.unselectPoint(b,c,d)},i.selectPath=function(a,b){var c=this;c.config.data_onselected.call(c,b,a.node()),a.transition().duration(100).style("fill",function(){return c.d3.rgb(c.color(b)).brighter(.75)})},i.unselectPath=function(a,b){var c=this;c.config.data_onunselected.call(c,b,a.node()),a.transition().duration(100).style("fill",function(){return c.color(b)})},i.togglePath=function(a,b,c,d){a?this.selectPath(b,c,d):this.unselectPath(b,c,d)},i.getToggle=function(a,b){var c,d=this;return"circle"===a.nodeName?c=d.isStepType(b)?function(){}:d.togglePoint:"path"===a.nodeName&&(c=d.togglePath),c},i.toggleShape=function(a,b,c){var d=this,e=d.d3,f=d.config,g=e.select(a),h=g.classed(l.SELECTED),i=d.getToggle(a,b).bind(d);f.data_selection_enabled&&f.data_selection_isselectable(b)&&(f.data_selection_multiple||d.main.selectAll("."+l.shapes+(f.data_selection_grouped?d.getTargetSelectorSuffix(b.id):"")).selectAll("."+l.shape).each(function(a,b){var c=e.select(this);c.classed(l.SELECTED)&&i(!1,c.classed(l.SELECTED,!1),a,b)}),g.classed(l.SELECTED,!h),i(!h,g,b,c))},i.initBrush=function(){var a=this,b=a.d3;a.brush=b.svg.brush().on("brush",function(){a.redrawForBrush()}),a.brush.update=function(){return a.context&&a.context.select("."+l.brush).call(this),this},a.brush.scale=function(b){return a.config.axis_rotated?this.y(b):this.x(b)}},i.initSubchart=function(){var a=this,b=a.config,c=a.context=a.svg.append("g").attr("transform",a.getTranslate("context"));c.style("visibility",b.subchart_show?"visible":"hidden"),c.append("g").attr("clip-path",a.clipPathForSubchart).attr("class",l.chart),c.select("."+l.chart).append("g").attr("class",l.chartBars),c.select("."+l.chart).append("g").attr("class",l.chartLines),c.append("g").attr("clip-path",a.clipPath).attr("class",l.brush).call(a.brush),a.axes.subx=c.append("g").attr("class",l.axisX).attr("transform",a.getTranslate("subx")).attr("clip-path",b.axis_rotated?"":a.clipPathForXAxis)},i.updateTargetsForSubchart=function(a){var b,c,d,e,f=this,g=f.context,h=f.config,i=f.classChartBar.bind(f),j=f.classBars.bind(f),k=f.classChartLine.bind(f),m=f.classLines.bind(f),n=f.classAreas.bind(f);h.subchart_show&&(e=g.select("."+l.chartBars).selectAll("."+l.chartBar).data(a).attr("class",i),d=e.enter().append("g").style("opacity",0).attr("class",i),d.append("g").attr("class",j),c=g.select("."+l.chartLines).selectAll("."+l.chartLine).data(a).attr("class",k),b=c.enter().append("g").style("opacity",0).attr("class",k),b.append("g").attr("class",m),b.append("g").attr("class",n),g.selectAll("."+l.brush+" rect").attr(h.axis_rotated?"width":"height",h.axis_rotated?f.width2:f.height2))},i.updateBarForSubchart=function(a){var b=this;b.contextBar=b.context.selectAll("."+l.bars).selectAll("."+l.bar).data(b.barData.bind(b)),b.contextBar.enter().append("path").attr("class",b.classBar.bind(b)).style("stroke","none").style("fill",b.color),b.contextBar.style("opacity",b.initialOpacity.bind(b)),b.contextBar.exit().transition().duration(a).style("opacity",0).remove()},i.redrawBarForSubchart=function(a,b,c){(b?this.contextBar.transition().duration(c):this.contextBar).attr("d",a).style("opacity",1)},i.updateLineForSubchart=function(a){var b=this;b.contextLine=b.context.selectAll("."+l.lines).selectAll("."+l.line).data(b.lineData.bind(b)),b.contextLine.enter().append("path").attr("class",b.classLine.bind(b)).style("stroke",b.color),b.contextLine.style("opacity",b.initialOpacity.bind(b)),b.contextLine.exit().transition().duration(a).style("opacity",0).remove()},i.redrawLineForSubchart=function(a,b,c){(b?this.contextLine.transition().duration(c):this.contextLine).attr("d",a).style("opacity",1)},i.updateAreaForSubchart=function(a){var b=this,c=b.d3;b.contextArea=b.context.selectAll("."+l.areas).selectAll("."+l.area).data(b.lineData.bind(b)),b.contextArea.enter().append("path").attr("class",b.classArea.bind(b)).style("fill",b.color).style("opacity",function(){return b.orgAreaOpacity=+c.select(this).style("opacity"),0}),b.contextArea.style("opacity",0),b.contextArea.exit().transition().duration(a).style("opacity",0).remove()},i.redrawAreaForSubchart=function(a,b,c){(b?this.contextArea.transition().duration(c):this.contextArea).attr("d",a).style("fill",this.color).style("opacity",this.orgAreaOpacity)},i.redrawSubchart=function(a,b,c,d,e,f,g){var h,i,j,k=this,l=k.d3,m=k.config;k.context.style("visibility",m.subchart_show?"visible":"hidden"),m.subchart_show&&(l.event&&"zoom"===l.event.type&&k.brush.extent(k.x.orgDomain()).update(),a&&(k.brush.empty()||k.brush.extent(k.x.orgDomain()).update(),h=k.generateDrawArea(e,!0),i=k.generateDrawBar(f,!0),j=k.generateDrawLine(g,!0),k.updateBarForSubchart(c),k.updateLineForSubchart(c),k.updateAreaForSubchart(c),k.redrawBarForSubchart(i,c,c),k.redrawLineForSubchart(j,c,c),k.redrawAreaForSubchart(h,c,c)))},i.redrawForBrush=function(){var a=this,b=a.x;a.redraw({withTransition:!1,withY:a.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),a.config.subchart_onbrush.call(a.api,b.orgDomain())},i.transformContext=function(a,b){var c,d=this;b&&b.axisSubX?c=b.axisSubX:(c=d.context.select("."+l.axisX),a&&(c=c.transition())),d.context.attr("transform",d.getTranslate("context")),c.attr("transform",d.getTranslate("subx"))},i.getDefaultExtent=function(){var a=this,b=a.config,c=n(b.axis_x_extent)?b.axis_x_extent(a.getXDomain(a.data.targets)):b.axis_x_extent;return a.isTimeSeries()&&(c=[a.parseDate(c[0]),a.parseDate(c[1])]),c},i.initZoom=function(){var a,b=this,c=b.d3,d=b.config;b.zoom=c.behavior.zoom().on("zoomstart",function(){a=c.event.sourceEvent,b.zoom.altDomain=c.event.sourceEvent.altKey?b.x.orgDomain():null,d.zoom_onzoomstart.call(b.api,c.event.sourceEvent)}).on("zoom",function(){b.redrawForZoom.call(b)}).on("zoomend",function(){var e=c.event.sourceEvent;e&&a.clientX===e.clientX&&a.clientY===e.clientY||(b.redrawEventRect(),b.updateZoom(),d.zoom_onzoomend.call(b.api,b.x.orgDomain()))}),b.zoom.scale=function(a){return d.axis_rotated?this.y(a):this.x(a)},b.zoom.orgScaleExtent=function(){var a=d.zoom_extent?d.zoom_extent:[1,10];return[a[0],Math.max(b.getMaxDataCount()/a[1],a[1])]},b.zoom.updateScaleExtent=function(){var a=t(b.x.orgDomain())/t(b.orgXDomain),c=this.orgScaleExtent();return this.scaleExtent([c[0]*a,c[1]*a]),this}},i.updateZoom=function(){var a=this,b=a.config.zoom_enabled?a.zoom:function(){};a.main.select("."+l.zoomRect).call(b).on("dblclick.zoom",null),a.main.selectAll("."+l.eventRect).call(b).on("dblclick.zoom",null)},i.redrawForZoom=function(){var a=this,b=a.d3,c=a.config,d=a.zoom,e=a.x;if(c.zoom_enabled&&0!==a.filterTargetsToShow(a.data.targets).length){if("mousemove"===b.event.sourceEvent.type&&d.altDomain)return e.domain(d.altDomain),void d.scale(e).updateScaleExtent();a.isCategorized()&&e.orgDomain()[0]===a.orgXDomain[0]&&e.domain([a.orgXDomain[0]-1e-10,e.orgDomain()[1]]),a.redraw({withTransition:!1,withY:c.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===b.event.sourceEvent.type&&(a.cancelClick=!0),c.zoom_onzoom.call(a.api,e.orgDomain())}},i.generateColor=function(){var a=this,b=a.config,c=a.d3,d=b.data_colors,e=v(b.color_pattern)?b.color_pattern:c.scale.category10().range(),f=b.data_color,g=[];return function(a){var b,c=a.id||a.data&&a.data.id||a;return d[c]instanceof Function?b=d[c](a):d[c]?b=d[c]:(g.indexOf(c)<0&&g.push(c),b=e[g.indexOf(c)%e.length],d[c]=b),f instanceof Function?f(b,a):b}},i.generateLevelColor=function(){var a=this,b=a.config,c=b.color_pattern,d=b.color_threshold,e="value"===d.unit,f=d.values&&d.values.length?d.values:[],g=d.max||100;return v(b.color_threshold)?function(a){var b,d,h=c[c.length-1];for(b=0;b<f.length;b++)if(d=e?a:100*a/g,d<f[b]){h=c[b];break}return h}:null},i.getYFormat=function(a){var b=this,c=a&&!b.hasType("gauge")?b.defaultArcValueFormat:b.yFormat,d=a&&!b.hasType("gauge")?b.defaultArcValueFormat:b.y2Format;return function(a,e,f){var g="y2"===b.axis.getId(f)?d:c;return g.call(b,a,e)}},i.yFormat=function(a){var b=this,c=b.config,d=c.axis_y_tick_format?c.axis_y_tick_format:b.defaultValueFormat;return d(a)},i.y2Format=function(a){var b=this,c=b.config,d=c.axis_y2_tick_format?c.axis_y2_tick_format:b.defaultValueFormat;return d(a)},i.defaultValueFormat=function(a){return m(a)?+a:""},i.defaultArcValueFormat=function(a,b){return(100*b).toFixed(1)+"%"},i.dataLabelFormat=function(a){var b,c=this,d=c.config.data_labels,e=function(a){return m(a)?+a:""};return b="function"==typeof d.format?d.format:"object"==typeof d.format?d.format[a]?d.format[a]===!0?e:d.format[a]:function(){return""}:e},i.hasCaches=function(a){for(var b=0;b<a.length;b++)if(!(a[b]in this.cache))return!1;return!0},i.addCache=function(a,b){this.cache[a]=this.cloneTarget(b)},i.getCaches=function(a){var b,c=[];for(b=0;b<a.length;b++)a[b]in this.cache&&c.push(this.cloneTarget(this.cache[a[b]]));return c};var l=i.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};i.generateClass=function(a,b){return" "+a+" "+a+this.getTargetSelectorSuffix(b)},i.classText=function(a){return this.generateClass(l.text,a.index)},i.classTexts=function(a){return this.generateClass(l.texts,a.id)},i.classShape=function(a){return this.generateClass(l.shape,a.index)},i.classShapes=function(a){return this.generateClass(l.shapes,a.id)},i.classLine=function(a){return this.classShape(a)+this.generateClass(l.line,a.id)},i.classLines=function(a){return this.classShapes(a)+this.generateClass(l.lines,a.id)},i.classCircle=function(a){return this.classShape(a)+this.generateClass(l.circle,a.index)},i.classCircles=function(a){return this.classShapes(a)+this.generateClass(l.circles,a.id)},i.classBar=function(a){return this.classShape(a)+this.generateClass(l.bar,a.index)},i.classBars=function(a){return this.classShapes(a)+this.generateClass(l.bars,a.id)},i.classArc=function(a){return this.classShape(a.data)+this.generateClass(l.arc,a.data.id)},i.classArcs=function(a){return this.classShapes(a.data)+this.generateClass(l.arcs,a.data.id)},i.classArea=function(a){return this.classShape(a)+this.generateClass(l.area,a.id)},i.classAreas=function(a){return this.classShapes(a)+this.generateClass(l.areas,a.id)},i.classRegion=function(a,b){return this.generateClass(l.region,b)+" "+("class"in a?a["class"]:"")},i.classEvent=function(a){return this.generateClass(l.eventRect,a.index)},i.classTarget=function(a){var b=this,c=b.config.data_classes[a],d="";return c&&(d=" "+l.target+"-"+c),b.generateClass(l.target,a)+d},i.classFocus=function(a){return this.classFocused(a)+this.classDefocused(a)},i.classFocused=function(a){return" "+(this.focusedTargetIds.indexOf(a.id)>=0?l.focused:"")},i.classDefocused=function(a){return" "+(this.defocusedTargetIds.indexOf(a.id)>=0?l.defocused:"")},i.classChartText=function(a){return l.chartText+this.classTarget(a.id)},i.classChartLine=function(a){return l.chartLine+this.classTarget(a.id)},i.classChartBar=function(a){return l.chartBar+this.classTarget(a.id)},i.classChartArc=function(a){return l.chartArc+this.classTarget(a.data.id)},i.getTargetSelectorSuffix=function(a){return a||0===a?("-"+a).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},i.selectorTarget=function(a,b){return(b||"")+"."+l.target+this.getTargetSelectorSuffix(a)},i.selectorTargets=function(a,b){var c=this;return a=a||[],a.length?a.map(function(a){return c.selectorTarget(a,b)}):null},i.selectorLegend=function(a){return"."+l.legendItem+this.getTargetSelectorSuffix(a)},i.selectorLegends=function(a){var b=this;return a&&a.length?a.map(function(a){return b.selectorLegend(a)}):null};var m=i.isValue=function(a){return a||0===a},n=i.isFunction=function(a){return"function"==typeof a},o=i.isString=function(a){return"string"==typeof a},p=i.isUndefined=function(a){return"undefined"==typeof a},q=i.isDefined=function(a){return"undefined"!=typeof a},r=i.ceil10=function(a){return 10*Math.ceil(a/10)},s=i.asHalfPixel=function(a){return Math.ceil(a)+.5},t=i.diffDomain=function(a){return a[1]-a[0]},u=i.isEmpty=function(a){return!a||o(a)&&0===a.length||"object"==typeof a&&0===Object.keys(a).length},v=i.notEmpty=function(a){return Object.keys(a).length>0},w=i.getOption=function(a,b,c){return q(a[b])?a[b]:c},x=i.hasValue=function(a,b){var c=!1;return Object.keys(a).forEach(function(d){a[d]===b&&(c=!0)}),c},y=i.getPathBox=function(a){var b=a.getBoundingClientRect(),c=[a.pathSegList.getItem(0),a.pathSegList.getItem(1)],d=c[0].x,e=Math.min(c[0].y,c[1].y);return{x:d,y:e,width:b.width,height:b.height}};h.focus=function(a){var b,c=this.internal;a=c.mapToTargetIds(a),b=c.svg.selectAll(c.selectorTargets(a.filter(c.isTargetToShow,c))),this.revert(),this.defocus(),b.classed(l.focused,!0).classed(l.defocused,!1),c.hasArcType()&&c.expandArc(a),c.toggleFocusLegend(a,!0),c.focusedTargetIds=a,c.defocusedTargetIds=c.defocusedTargetIds.filter(function(b){return a.indexOf(b)<0})},h.defocus=function(a){var b,c=this.internal;a=c.mapToTargetIds(a),b=c.svg.selectAll(c.selectorTargets(a.filter(c.isTargetToShow,c))),b.classed(l.focused,!1).classed(l.defocused,!0),c.hasArcType()&&c.unexpandArc(a),c.toggleFocusLegend(a,!1),c.focusedTargetIds=c.focusedTargetIds.filter(function(b){return a.indexOf(b)<0}),c.defocusedTargetIds=a},h.revert=function(a){var b,c=this.internal;a=c.mapToTargetIds(a),b=c.svg.selectAll(c.selectorTargets(a)),b.classed(l.focused,!1).classed(l.defocused,!1),c.hasArcType()&&c.unexpandArc(a),c.config.legend_show&&(c.showLegend(a.filter(c.isLegendToShow.bind(c))),c.legend.selectAll(c.selectorLegends(a)).filter(function(){return c.d3.select(this).classed(l.legendItemFocused)}).classed(l.legendItemFocused,!1)),c.focusedTargetIds=[],c.defocusedTargetIds=[]},h.show=function(a,b){var c,d=this.internal;a=d.mapToTargetIds(a),b=b||{},d.removeHiddenTargetIds(a),c=d.svg.selectAll(d.selectorTargets(a)),c.transition().style("opacity",1,"important").call(d.endall,function(){c.style("opacity",null).style("opacity",1)}),b.withLegend&&d.showLegend(a),d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},h.hide=function(a,b){var c,d=this.internal;a=d.mapToTargetIds(a),b=b||{},d.addHiddenTargetIds(a),c=d.svg.selectAll(d.selectorTargets(a)),c.transition().style("opacity",0,"important").call(d.endall,function(){c.style("opacity",null).style("opacity",0)}),b.withLegend&&d.hideLegend(a),d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},h.toggle=function(a,b){var c=this,d=this.internal;d.mapToTargetIds(a).forEach(function(a){d.isTargetToShow(a)?c.hide(a,b):c.show(a,b)})},h.zoom=function(a){var b=this.internal;return a&&(b.isTimeSeries()&&(a=a.map(function(a){return b.parseDate(a)})),b.brush.extent(a),b.redraw({withUpdateXDomain:!0,withY:b.config.zoom_rescale}),b.config.zoom_onzoom.call(this,b.x.orgDomain())),b.brush.extent()},h.zoom.enable=function(a){var b=this.internal;b.config.zoom_enabled=a,b.updateAndRedraw()},h.unzoom=function(){var a=this.internal;a.brush.clear().update(),a.redraw({withUpdateXDomain:!0})},h.load=function(a){var b=this.internal,c=b.config;return a.xs&&b.addXs(a.xs),"classes"in a&&Object.keys(a.classes).forEach(function(b){c.data_classes[b]=a.classes[b]}),"categories"in a&&b.isCategorized()&&(c.axis_x_categories=a.categories),"axes"in a&&Object.keys(a.axes).forEach(function(b){c.data_axes[b]=a.axes[b]}),"colors"in a&&Object.keys(a.colors).forEach(function(b){c.data_colors[b]=a.colors[b]}),"cacheIds"in a&&b.hasCaches(a.cacheIds)?void b.load(b.getCaches(a.cacheIds),a.done):void("unload"in a?b.unload(b.mapToTargetIds("boolean"==typeof a.unload&&a.unload?null:a.unload),function(){b.loadFromArgs(a)}):b.loadFromArgs(a))},h.unload=function(a){var b=this.internal;a=a||{},a instanceof Array?a={ids:a}:"string"==typeof a&&(a={ids:[a]}),b.unload(b.mapToTargetIds(a.ids),function(){b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),a.done&&a.done()})},h.flow=function(a){var b,c,d,e,f,g,h,i,j=this.internal,k=[],l=j.getMaxDataCount(),n=0,o=0;if(a.json)c=j.convertJsonToData(a.json,a.keys);else if(a.rows)c=j.convertRowsToData(a.rows);else{if(!a.columns)return;c=j.convertColumnsToData(a.columns)}b=j.convertDataToTargets(c,!0),j.data.targets.forEach(function(a){var c,d,e=!1;for(c=0;c<b.length;c++)if(a.id===b[c].id){for(e=!0,a.values[a.values.length-1]&&(o=a.values[a.values.length-1].index+1),n=b[c].values.length,d=0;n>d;d++)b[c].values[d].index=o+d,j.isTimeSeries()||(b[c].values[d].x=o+d);a.values=a.values.concat(b[c].values),b.splice(c,1);break}e||k.push(a.id)}),j.data.targets.forEach(function(a){var b,c;for(b=0;b<k.length;b++)if(a.id===k[b])for(o=a.values[a.values.length-1].index+1,c=0;n>c;c++)a.values.push({id:a.id,index:o+c,x:j.isTimeSeries()?j.getOtherTargetX(o+c):o+c,value:null})}),j.data.targets.length&&b.forEach(function(a){var b,c=[];for(b=j.data.targets[0].values[0].index;o>b;b++)c.push({id:a.id,index:b,x:j.isTimeSeries()?j.getOtherTargetX(b):b,value:null});a.values.forEach(function(a){a.index+=o,j.isTimeSeries()||(a.x+=o)}),a.values=c.concat(a.values)}),j.data.targets=j.data.targets.concat(b),d=j.getMaxDataCount(),f=j.data.targets[0],g=f.values[0],q(a.to)?(n=0,i=j.isTimeSeries()?j.parseDate(a.to):a.to,f.values.forEach(function(a){a.x<i&&n++})):q(a.length)&&(n=a.length),l?1===l&&j.isTimeSeries()&&(h=(f.values[f.values.length-1].x-g.x)/2,e=[new Date(+g.x-h),new Date(+g.x+h)],j.updateXDomain(null,!0,!0,!1,e)):(h=j.isTimeSeries()?f.values.length>1?f.values[f.values.length-1].x-g.x:g.x-j.getXDomain(j.data.targets)[0]:1,e=[g.x-h,g.x],j.updateXDomain(null,!0,!0,!1,e)),j.updateTargets(j.data.targets),j.redraw({flow:{index:g.index,length:n,duration:m(a.duration)?a.duration:j.config.transition_duration,done:a.done,orgDataCount:l},withLegend:!0,withTransition:l>1,withTrimXDomain:!1,withUpdateXAxis:!0})},i.generateFlow=function(a){var b=this,c=b.config,d=b.d3;return function(){var e,f,g,h=a.targets,i=a.flow,j=a.drawBar,k=a.drawLine,m=a.drawArea,n=a.cx,o=a.cy,p=a.xv,q=a.xForText,r=a.yForText,s=a.duration,u=1,v=i.index,w=i.length,x=b.getValueOnIndex(b.data.targets[0].values,v),y=b.getValueOnIndex(b.data.targets[0].values,v+w),z=b.x.domain(),A=i.duration||s,B=i.done||function(){},C=b.generateWait(),D=b.xgrid||d.selectAll([]),E=b.xgridLines||d.selectAll([]),F=b.mainRegion||d.selectAll([]),G=b.mainText||d.selectAll([]),H=b.mainBar||d.selectAll([]),I=b.mainLine||d.selectAll([]),J=b.mainArea||d.selectAll([]),K=b.mainCircle||d.selectAll([]);b.flowing=!0,b.data.targets.forEach(function(a){a.values.splice(0,w)}),g=b.updateXDomain(h,!0,!0),b.updateXGrid&&b.updateXGrid(!0),i.orgDataCount?e=1===i.orgDataCount||x.x===y.x?b.x(z[0])-b.x(g[0]):b.isTimeSeries()?b.x(z[0])-b.x(g[0]):b.x(x.x)-b.x(y.x):1!==b.data.targets[0].values.length?e=b.x(z[0])-b.x(g[0]):b.isTimeSeries()?(x=b.getValueOnIndex(b.data.targets[0].values,0),y=b.getValueOnIndex(b.data.targets[0].values,b.data.targets[0].values.length-1),e=b.x(x.x)-b.x(y.x)):e=t(g)/2,u=t(z)/t(g),f="translate("+e+",0) scale("+u+",1)",b.hideXGridFocus(),b.hideTooltip(),d.transition().ease("linear").duration(A).each(function(){C.add(b.axes.x.transition().call(b.xAxis)),C.add(H.transition().attr("transform",f)),C.add(I.transition().attr("transform",f)),C.add(J.transition().attr("transform",f)),C.add(K.transition().attr("transform",f)),C.add(G.transition().attr("transform",f)),C.add(F.filter(b.isRegionOnX).transition().attr("transform",f)),C.add(D.transition().attr("transform",f)),C.add(E.transition().attr("transform",f))
}).call(C,function(){var a,d=[],e=[],f=[];if(w){for(a=0;w>a;a++)d.push("."+l.shape+"-"+(v+a)),e.push("."+l.text+"-"+(v+a)),f.push("."+l.eventRect+"-"+(v+a));b.svg.selectAll("."+l.shapes).selectAll(d).remove(),b.svg.selectAll("."+l.texts).selectAll(e).remove(),b.svg.selectAll("."+l.eventRects).selectAll(f).remove(),b.svg.select("."+l.xgrid).remove()}D.attr("transform",null).attr(b.xgridAttr),E.attr("transform",null),E.select("line").attr("x1",c.axis_rotated?0:p).attr("x2",c.axis_rotated?b.width:p),E.select("text").attr("x",c.axis_rotated?b.width:0).attr("y",p),H.attr("transform",null).attr("d",j),I.attr("transform",null).attr("d",k),J.attr("transform",null).attr("d",m),K.attr("transform",null).attr("cx",n).attr("cy",o),G.attr("transform",null).attr("x",q).attr("y",r).style("fill-opacity",b.opacityForText.bind(b)),F.attr("transform",null),F.select("rect").filter(b.isRegionOnX).attr("x",b.regionX.bind(b)).attr("width",b.regionWidth.bind(b)),c.interaction_enabled&&b.redrawEventRect(),B(),b.flowing=!1})}},h.selected=function(a){var b=this.internal,c=b.d3;return c.merge(b.main.selectAll("."+l.shapes+b.getTargetSelectorSuffix(a)).selectAll("."+l.shape).filter(function(){return c.select(this).classed(l.SELECTED)}).map(function(a){return a.map(function(a){var b=a.__data__;return b.data?b.data:b})}))},h.select=function(a,b,c){var d=this.internal,e=d.d3,f=d.config;f.data_selection_enabled&&d.main.selectAll("."+l.shapes).selectAll("."+l.shape).each(function(g,h){var i=e.select(this),j=g.data?g.data.id:g.id,k=d.getToggle(this,g).bind(d),m=f.data_selection_grouped||!a||a.indexOf(j)>=0,n=!b||b.indexOf(h)>=0,o=i.classed(l.SELECTED);i.classed(l.line)||i.classed(l.area)||(m&&n?f.data_selection_isselectable(g)&&!o&&k(!0,i.classed(l.SELECTED,!0),g,h):q(c)&&c&&o&&k(!1,i.classed(l.SELECTED,!1),g,h))})},h.unselect=function(a,b){var c=this.internal,d=c.d3,e=c.config;e.data_selection_enabled&&c.main.selectAll("."+l.shapes).selectAll("."+l.shape).each(function(f,g){var h=d.select(this),i=f.data?f.data.id:f.id,j=c.getToggle(this,f).bind(c),k=e.data_selection_grouped||!a||a.indexOf(i)>=0,m=!b||b.indexOf(g)>=0,n=h.classed(l.SELECTED);h.classed(l.line)||h.classed(l.area)||k&&m&&e.data_selection_isselectable(f)&&n&&j(!1,h.classed(l.SELECTED,!1),f,g)})},h.transform=function(a,b){var c=this.internal,d=["pie","donut"].indexOf(a)>=0?{withTransform:!0}:null;c.transformTo(b,a,d)},i.transformTo=function(a,b,c){var d=this,e=!d.hasArcType(),f=c||{withTransitionForAxis:e};f.withTransitionForTransform=!1,d.transiting=!1,d.setTargetType(a,b),d.updateTargets(d.data.targets),d.updateAndRedraw(f)},h.groups=function(a){var b=this.internal,c=b.config;return p(a)?c.data_groups:(c.data_groups=a,b.redraw(),c.data_groups)},h.xgrids=function(a){var b=this.internal,c=b.config;return a?(c.grid_x_lines=a,b.redrawWithoutRescale(),c.grid_x_lines):c.grid_x_lines},h.xgrids.add=function(a){var b=this.internal;return this.xgrids(b.config.grid_x_lines.concat(a?a:[]))},h.xgrids.remove=function(a){var b=this.internal;b.removeGridLines(a,!0)},h.ygrids=function(a){var b=this.internal,c=b.config;return a?(c.grid_y_lines=a,b.redrawWithoutRescale(),c.grid_y_lines):c.grid_y_lines},h.ygrids.add=function(a){var b=this.internal;return this.ygrids(b.config.grid_y_lines.concat(a?a:[]))},h.ygrids.remove=function(a){var b=this.internal;b.removeGridLines(a,!1)},h.regions=function(a){var b=this.internal,c=b.config;return a?(c.regions=a,b.redrawWithoutRescale(),c.regions):c.regions},h.regions.add=function(a){var b=this.internal,c=b.config;return a?(c.regions=c.regions.concat(a),b.redrawWithoutRescale(),c.regions):c.regions},h.regions.remove=function(a){var b,c,d,e=this.internal,f=e.config;return a=a||{},b=e.getOption(a,"duration",f.transition_duration),c=e.getOption(a,"classes",[l.region]),d=e.main.select("."+l.regions).selectAll(c.map(function(a){return"."+a})),(b?d.transition().duration(b):d).style("opacity",0).remove(),f.regions=f.regions.filter(function(a){var b=!1;return a["class"]?(a["class"].split(" ").forEach(function(a){c.indexOf(a)>=0&&(b=!0)}),!b):!0}),f.regions},h.data=function(a){var b=this.internal.data.targets;return"undefined"==typeof a?b:b.filter(function(b){return[].concat(a).indexOf(b.id)>=0})},h.data.shown=function(a){return this.internal.filterTargetsToShow(this.data(a))},h.data.values=function(a){var b,c=null;return a&&(b=this.data(a),c=b[0]?b[0].values.map(function(a){return a.value}):null),c},h.data.names=function(a){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",a)},h.data.colors=function(a){return this.internal.updateDataAttributes("colors",a)},h.data.axes=function(a){return this.internal.updateDataAttributes("axes",a)},h.category=function(a,b){var c=this.internal,d=c.config;return arguments.length>1&&(d.axis_x_categories[a]=b,c.redraw()),d.axis_x_categories[a]},h.categories=function(a){var b=this.internal,c=b.config;return arguments.length?(c.axis_x_categories=a,b.redraw(),c.axis_x_categories):c.axis_x_categories},h.color=function(a){var b=this.internal;return b.color(a)},h.x=function(a){var b=this.internal;return arguments.length&&(b.updateTargetX(b.data.targets,a),b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),b.data.xs},h.xs=function(a){var b=this.internal;return arguments.length&&(b.updateTargetXs(b.data.targets,a),b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),b.data.xs},h.axis=function(){},h.axis.labels=function(a){var b=this.internal;arguments.length&&(Object.keys(a).forEach(function(c){b.axis.setLabelText(c,a[c])}),b.axis.updateLabels())},h.axis.max=function(a){var b=this.internal,c=b.config;return arguments.length?("object"==typeof a?(m(a.x)&&(c.axis_x_max=a.x),m(a.y)&&(c.axis_y_max=a.y),m(a.y2)&&(c.axis_y2_max=a.y2)):c.axis_y_max=c.axis_y2_max=a,void b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:c.axis_x_max,y:c.axis_y_max,y2:c.axis_y2_max}},h.axis.min=function(a){var b=this.internal,c=b.config;return arguments.length?("object"==typeof a?(m(a.x)&&(c.axis_x_min=a.x),m(a.y)&&(c.axis_y_min=a.y),m(a.y2)&&(c.axis_y2_min=a.y2)):c.axis_y_min=c.axis_y2_min=a,void b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:c.axis_x_min,y:c.axis_y_min,y2:c.axis_y2_min}},h.axis.range=function(a){return arguments.length?(q(a.max)&&this.axis.max(a.max),void(q(a.min)&&this.axis.min(a.min))):{max:this.axis.max(),min:this.axis.min()}},h.legend=function(){},h.legend.show=function(a){var b=this.internal;b.showLegend(b.mapToTargetIds(a)),b.updateAndRedraw({withLegend:!0})},h.legend.hide=function(a){var b=this.internal;b.hideLegend(b.mapToTargetIds(a)),b.updateAndRedraw({withLegend:!0})},h.resize=function(a){var b=this.internal,c=b.config;c.size_width=a?a.width:null,c.size_height=a?a.height:null,this.flush()},h.flush=function(){var a=this.internal;a.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},h.destroy=function(){var b=this.internal;return a.clearInterval(b.intervalForObserveInserted),a.onresize=null,b.selectChart.classed("c3",!1).html(""),Object.keys(b).forEach(function(a){b[a]=null}),null},h.tooltip=function(){},h.tooltip.show=function(a){var b,c,d=this.internal;a.mouse&&(c=a.mouse),a.data?d.isMultipleX()?(c=[d.x(a.data.x),d.getYScale(a.data.id)(a.data.value)],b=null):b=m(a.data.index)?a.data.index:d.getIndexByX(a.data.x):"undefined"!=typeof a.x?b=d.getIndexByX(a.x):"undefined"!=typeof a.index&&(b=a.index),d.dispatchEvent("mouseover",b,c),d.dispatchEvent("mousemove",b,c)},h.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0)};var z;i.isSafari=function(){var b=a.navigator.userAgent;return b.indexOf("Safari")>=0&&b.indexOf("Chrome")<0},i.isChrome=function(){var b=a.navigator.userAgent;return b.indexOf("Chrome")>=0},Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),"function"==typeof define&&define.amd?define("c3",["d3"],k):"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=k:a.c3=k}(window);

// OpenLayers 3. See https://openlayers.org/
// License: https://raw.githubusercontent.com/openlayers/ol3/master/LICENSE.md
// Version: v3.20.1
;(function (root, factory) {
  if (typeof exports === "object") {
    module.exports = factory();
  } else if (typeof define === "function" && define.amd) {
    define([], factory);
  } else {
    root.ol = factory();
  }
}(this, function () {
  var OPENLAYERS = {};
  var k,aa=this;function t(a,b){var c=a.split("."),d=OPENLAYERS||aa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d[e]?d=d[e]:d=d[e]={}:d[e]=b};var ba,da;function v(a,b){a.prototype=Object.create(b.prototype);a.prototype.constructor=a}function ea(){}function x(a){return a.ao||(a.ao=++fa)}var fa=0;function ga(a){this.message="Assertion failed. See https://openlayers.org/en/v3.20.1/doc/errors/#"+a+" for details.";this.code=a;this.name="AssertionError"}v(ga,Error);function ha(a,b){if(!a)throw new ga(b);};function ia(a,b,c){return Math.min(Math.max(a,b),c)}var ja=function(){var a;"cosh"in Math?a=Math.cosh:a=function(a){a=Math.exp(a);return(a+1/a)/2};return a}();function ka(a){ha(0<a,29);return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function la(a,b,c,d,e,f){var g=e-c,h=f-d;if(0!==g||0!==h){var l=((a-c)*g+(b-d)*h)/(g*g+h*h);1<l?(c=e,d=f):0<l&&(c+=g*l,d+=h*l)}return ma(a,b,c,d)}function ma(a,b,c,d){a=c-a;b=d-b;return a*a+b*b}function na(a){return a*Math.PI/180}
function oa(a,b){var c=a%b;return 0>c*b?c+b:c}function pa(a,b,c){return a+c*(b-a)};function qa(a){return function(b){if(b)return[ia(b[0],a[0],a[2]),ia(b[1],a[1],a[3])]}}function ra(a){return a};function sa(a,b,c){this.center=a;this.resolution=b;this.rotation=c};var ta="function"===typeof Object.assign?Object.assign:function(a,b){if(!a||!a)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),d=1,e=arguments.length;d<e;++d){var f=arguments[d];if(void 0!==f&&null!==f)for(var g in f)f.hasOwnProperty(g)&&(c[g]=f[g])}return c};function ua(a){for(var b in a)delete a[b]}function va(a){var b=[],c;for(c in a)b.push(a[c]);return b}function wa(a){for(var b in a)return!1;return!b};function xa(a){function b(b){var d=a.listener,e=a.xg||a.target;a.zg&&ya(a);return d.call(e,b)}return a.yg=b}function za(a,b,c,d){for(var e,f=0,g=a.length;f<g;++f)if(e=a[f],e.listener===b&&e.xg===c)return d&&(e.deleteIndex=f),e}function Aa(a,b){var c=a.eb;return c?c[b]:void 0}function Ba(a){var b=a.eb;b||(b=a.eb={});return b}
function Ca(a,b){var c=Aa(a,b);if(c){for(var d=0,e=c.length;d<e;++d)a.removeEventListener(b,c[d].yg),ua(c[d]);c.length=0;if(c=a.eb)delete c[b],0===Object.keys(c).length&&delete a.eb}}function B(a,b,c,d,e){var f=Ba(a),g=f[b];g||(g=f[b]=[]);(f=za(g,c,d,!1))?e||(f.zg=!1):(f={xg:d,zg:!!e,listener:c,target:a,type:b},a.addEventListener(b,xa(f)),g.push(f));return f}function Da(a,b,c,d){return B(a,b,c,d,!0)}function Ea(a,b,c,d){(a=Aa(a,b))&&(c=za(a,c,d,!0))&&ya(c)}
function ya(a){if(a&&a.target){a.target.removeEventListener(a.type,a.yg);var b=Aa(a.target,a.type);if(b){var c="deleteIndex"in a?a.deleteIndex:b.indexOf(a);-1!==c&&b.splice(c,1);0===b.length&&Ca(a.target,a.type)}ua(a)}}function Fa(a){var b=Ba(a),c;for(c in b)Ca(a,c)};function Ga(){}Ga.prototype.zb=!1;function Ha(a){a.zb||(a.zb=!0,a.oa())}Ga.prototype.oa=ea;function Ia(a){this.type=a;this.target=null}Ia.prototype.preventDefault=Ia.prototype.stopPropagation=function(){this.xo=!0};function Ka(a){a.stopPropagation()};function Na(){this.Qa={};this.va={};this.ra={}}v(Na,Ga);Na.prototype.addEventListener=function(a,b){var c=this.ra[a];c||(c=this.ra[a]=[]);-1===c.indexOf(b)&&c.push(b)};
Na.prototype.b=function(a){var b="string"===typeof a?new Ia(a):a;a=b.type;b.target=this;var c=this.ra[a],d;if(c){a in this.va||(this.va[a]=0,this.Qa[a]=0);++this.va[a];for(var e=0,f=c.length;e<f;++e)if(!1===c[e].call(this,b)||b.xo){d=!1;break}--this.va[a];if(0===this.va[a]){b=this.Qa[a];for(delete this.Qa[a];b--;)this.removeEventListener(a,ea);delete this.va[a]}return d}};Na.prototype.oa=function(){Fa(this)};function Oa(a,b){return b?b in a.ra:0<Object.keys(a.ra).length}
Na.prototype.removeEventListener=function(a,b){var c=this.ra[a];if(c){var d=c.indexOf(b);a in this.Qa?(c[d]=ea,++this.Qa[a]):(c.splice(d,1),0===c.length&&delete this.ra[a])}};function Pa(){Na.call(this);this.g=0}v(Pa,Na);function Qa(a){if(Array.isArray(a))for(var b=0,c=a.length;b<c;++b)ya(a[b]);else ya(a)}k=Pa.prototype;k.s=function(){++this.g;this.b("change")};k.M=function(){return this.g};k.J=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=Array(d),f=0;f<d;++f)e[f]=B(this,a[f],b,c);return e}return B(this,a,b,c)};k.N=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=Array(d),f=0;f<d;++f)e[f]=Da(this,a[f],b,c);return e}return Da(this,a,b,c)};
k.K=function(a,b,c){if(Array.isArray(a))for(var d=0,e=a.length;d<e;++d)Ea(this,a[d],b,c);else Ea(this,a,b,c)};k.O=Qa;function Sa(a){Pa.call(this);x(this);this.H={};void 0!==a&&this.I(a)}v(Sa,Pa);var Ta={};function Ua(a){return Ta.hasOwnProperty(a)?Ta[a]:Ta[a]="change:"+a}k=Sa.prototype;k.get=function(a){var b;this.H.hasOwnProperty(a)&&(b=this.H[a]);return b};k.S=function(){return Object.keys(this.H)};k.R=function(){return ta({},this.H)};function Va(a,b,c){var d;d=Ua(b);a.b(new Wa(d,b,c));d=Xa;a.b(new Wa(d,b,c))}k.set=function(a,b,c){c?this.H[a]=b:(c=this.H[a],this.H[a]=b,c!==b&&Va(this,a,c))};
k.I=function(a,b){for(var c in a)this.set(c,a[c],b)};k.T=function(a,b){if(a in this.H){var c=this.H[a];delete this.H[a];b||Va(this,a,c)}};var Xa="propertychange";function Wa(a,b,c){Ia.call(this,a);this.key=b;this.oldValue=c}v(Wa,Ia);function Ya(a,b){return a>b?1:a<b?-1:0}function Za(a,b){return 0<=a.indexOf(b)}function $a(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c)for(c=1;c<d;++c){if(a[c]<b)return c-1}else if(0>c)for(c=1;c<d;++c){if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1}function ab(a){return a.reduce(function(a,c){return Array.isArray(c)?a.concat(ab(c)):a.concat(c)},[])}
function bb(a,b){var c,d=Array.isArray(b)?b:[b],e=d.length;for(c=0;c<e;c++)a[a.length]=d[c]}function cb(a,b){for(var c=a.length>>>0,d,e=0;e<c;e++)if(d=a[e],b(d,e,a))return d;return null}function db(a,b){var c=a.length;if(c!==b.length)return!1;for(var d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}function eb(a){var b=fb,c=a.length,d=Array(a.length),e;for(e=0;e<c;e++)d[e]={index:e,value:a[e]};d.sort(function(a,c){return b(a.value,c.value)||a.index-c.index});for(e=0;e<a.length;e++)a[e]=d[e].value}
function gb(a,b){var c;return a.every(function(d,e){c=e;return!b(d,e,a)})?-1:c}function hb(a,b){var c=b||Ya;return a.every(function(b,e){if(0===e)return!0;var f=c(a[e-1],b);return!(0<f||0===f)})};function ib(a){return function(b,c,d){if(void 0!==b)return b=$a(a,b,d),b=ia(b+c,0,a.length-1),c=Math.floor(b),b!=c&&c<a.length-1?a[c]/Math.pow(a[c]/a[c+1],b-c):a[c]}}function jb(a,b,c){return function(d,e,f){if(void 0!==d)return d=Math.max(Math.floor(Math.log(b/d)/Math.log(a)+(-f/2+.5))+e,0),void 0!==c&&(d=Math.min(d,c)),b/Math.pow(a,d)}};function lb(a){if(void 0!==a)return 0}function mb(a,b){if(void 0!==a)return a+b}function nb(a){var b=2*Math.PI/a;return function(a,d){if(void 0!==a)return a=Math.floor((a+d)/b+.5)*b}}function ob(){var a=na(5);return function(b,c){if(void 0!==b)return Math.abs(b+c)<=a?0:b+c}};function pb(a,b){var c=void 0!==b?a.toFixed(b):""+a,d=c.indexOf("."),d=-1===d?c.length:d;return 2<d?c:Array(3-d).join("0")+c}function qb(a){a=(""+a).split(".");for(var b=["1","3"],c=0;c<Math.max(a.length,b.length);c++){var d=parseInt(a[c]||"0",10),e=parseInt(b[c]||"0",10);if(d>e)return 1;if(e>d)return-1}return 0};function rb(a,b){a[0]+=b[0];a[1]+=b[1];return a}function sb(a,b){var c=a[0],d=a[1],e=b[0],f=b[1],g=e[0],e=e[1],h=f[0],f=f[1],l=h-g,m=f-e,c=0===l&&0===m?0:(l*(c-g)+m*(d-e))/(l*l+m*m||0);0>=c||(1<=c?(g=h,e=f):(g+=c*l,e+=c*m));return[g,e]}function tb(a,b,c){a=oa(a+180,360)-180;var d=Math.abs(3600*a);return Math.floor(d/3600)+"\u00b0 "+pb(Math.floor(d/60%60))+"\u2032 "+pb(d%60,c||0)+"\u2033 "+b.charAt(0>a?1:0)}
function ub(a,b,c){return a?b.replace("{x}",a[0].toFixed(c)).replace("{y}",a[1].toFixed(c)):""}function vb(a,b){for(var c=!0,d=a.length-1;0<=d;--d)if(a[d]!=b[d]){c=!1;break}return c}function wb(a,b){var c=Math.cos(b),d=Math.sin(b),e=a[1]*c+a[0]*d;a[0]=a[0]*c-a[1]*d;a[1]=e;return a}function xb(a,b){a[0]*=b;a[1]*=b}function yb(a,b){var c=a[0]-b[0],d=a[1]-b[1];return c*c+d*d}function zb(a,b){return yb(a,sb(a,b))}function Ab(a,b){return ub(a,"{x}, {y}",b)};function Bb(a){return Math.pow(a,3)}function Cb(a){return 1-Bb(1-a)}function Db(a){return 3*a*a-2*a*a*a}function Eb(a){return a}function Fb(a){return.5>a?Db(2*a):1-Db(2*(a-.5))};function Gb(a){for(var b=Hb(),c=0,d=a.length;c<d;++c)Ib(b,a[c]);return b}function Jb(a,b,c){return c?(c[0]=a[0]-b,c[1]=a[1]-b,c[2]=a[2]+b,c[3]=a[3]+b,c):[a[0]-b,a[1]-b,a[2]+b,a[3]+b]}function Kb(a,b){return b?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b):a.slice()}function Lb(a,b,c){b=b<a[0]?a[0]-b:a[2]<b?b-a[2]:0;a=c<a[1]?a[1]-c:a[3]<c?c-a[3]:0;return b*b+a*a}function Mb(a,b){return Nb(a,b[0],b[1])}function Ob(a,b){return a[0]<=b[0]&&b[2]<=a[2]&&a[1]<=b[1]&&b[3]<=a[3]}
function Nb(a,b,c){return a[0]<=b&&b<=a[2]&&a[1]<=c&&c<=a[3]}function Qb(a,b){var c=a[1],d=a[2],e=a[3],f=b[0],g=b[1],h=0;f<a[0]?h|=16:f>d&&(h|=4);g<c?h|=8:g>e&&(h|=2);0===h&&(h=1);return h}function Hb(){return[Infinity,Infinity,-Infinity,-Infinity]}function Rb(a,b,c,d,e){return e?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function Sb(a,b){var c=a[0],d=a[1];return Rb(c,d,c,d,b)}function Tb(a,b,c,d,e){e=Rb(Infinity,Infinity,-Infinity,-Infinity,e);return Ub(e,a,b,c,d)}
function Vb(a,b){return a[0]==b[0]&&a[2]==b[2]&&a[1]==b[1]&&a[3]==b[3]}function Wb(a,b){b[0]<a[0]&&(a[0]=b[0]);b[2]>a[2]&&(a[2]=b[2]);b[1]<a[1]&&(a[1]=b[1]);b[3]>a[3]&&(a[3]=b[3]);return a}function Ib(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])}function Ub(a,b,c,d,e){for(;c<d;c+=e){var f=a,g=b[c],h=b[c+1];f[0]=Math.min(f[0],g);f[1]=Math.min(f[1],h);f[2]=Math.max(f[2],g);f[3]=Math.max(f[3],h)}return a}
function Xb(a,b,c){var d;return(d=b.call(c,Yb(a)))||(d=b.call(c,Zb(a)))||(d=b.call(c,$b(a)))?d:(d=b.call(c,ac(a)))?d:!1}function bc(a){var b=0;cc(a)||(b=dc(a)*ec(a));return b}function Yb(a){return[a[0],a[1]]}function Zb(a){return[a[2],a[1]]}function gc(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}
function hc(a,b,c,d,e){var f=b*d[0]/2;d=b*d[1]/2;b=Math.cos(c);var g=Math.sin(c);c=f*b;f*=g;b*=d;var h=d*g,l=a[0],m=a[1];a=l-c+h;d=l-c-h;g=l+c-h;c=l+c+h;var h=m-f-b,l=m-f+b,p=m+f+b,f=m+f-b;return Rb(Math.min(a,d,g,c),Math.min(h,l,p,f),Math.max(a,d,g,c),Math.max(h,l,p,f),e)}function ec(a){return a[3]-a[1]}function ic(a,b,c){c=c?c:Hb();jc(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]);return c}function ac(a){return[a[0],a[3]]}
function $b(a){return[a[2],a[3]]}function dc(a){return a[2]-a[0]}function jc(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]}function cc(a){return a[2]<a[0]||a[3]<a[1]}function kc(a,b){var c=(a[2]-a[0])/2*(b-1),d=(a[3]-a[1])/2*(b-1);a[0]-=c;a[2]+=c;a[1]-=d;a[3]+=d}
function lc(a,b,c){a=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(a,a,2);var d=[a[0],a[2],a[4],a[6]],e=[a[1],a[3],a[5],a[7]];b=Math.min.apply(null,d);a=Math.min.apply(null,e);d=Math.max.apply(null,d);e=Math.max.apply(null,e);return Rb(b,a,d,e,c)};function mc(){return!0}function nc(){return!1};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licensed under CC-BY-3.0.
*/
function oc(a){this.radius=a}oc.prototype.a=function(a){for(var b=0,c=a.length,d=a[c-1][0],e=a[c-1][1],f=0;f<c;f++)var g=a[f][0],h=a[f][1],b=b+na(g-d)*(2+Math.sin(na(e))+Math.sin(na(h))),d=g,e=h;return b*this.radius*this.radius/2};oc.prototype.b=function(a,b){var c=na(a[1]),d=na(b[1]),e=(d-c)/2,f=na(b[0]-a[0])/2,c=Math.sin(e)*Math.sin(e)+Math.sin(f)*Math.sin(f)*Math.cos(c)*Math.cos(d);return 2*this.radius*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))};
oc.prototype.offset=function(a,b,c){var d=na(a[1]);b/=this.radius;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(na(a[0])+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};var pc=new oc(6370997);var qc={};qc.degrees=2*Math.PI*pc.radius/360;qc.ft=.3048;qc.m=1;qc["us-ft"]=1200/3937;var rc=null;function sc(a){this.hb=a.code;this.c=a.units;this.f=void 0!==a.extent?a.extent:null;this.i=void 0!==a.worldExtent?a.worldExtent:null;this.b=void 0!==a.axisOrientation?a.axisOrientation:"enu";this.g=void 0!==a.global?a.global:!1;this.a=!(!this.g||!this.f);this.l=a.getPointResolution;this.j=null;this.o=a.metersPerUnit;var b=a.code,c=rc||window.proj4;"function"==typeof c&&(b=c.defs(b),void 0!==b&&(void 0!==b.axis&&void 0===a.axisOrientation&&(this.b=b.axis),void 0===a.metersPerUnit&&(this.o=b.to_meter),
void 0===a.units&&(this.c=b.units)))}k=sc.prototype;k.Zj=function(){return this.hb};k.G=function(){return this.f};k.Eb=function(){return this.c};k.ic=function(){return this.o||qc[this.c]};k.Jk=function(){return this.i};k.rl=function(){return this.g};k.hp=function(a){this.g=a;this.a=!(!a||!this.f)};k.Sm=function(a){this.f=a;this.a=!(!this.g||!a)};k.op=function(a){this.i=a};k.gp=function(a){this.l=a};var tc={};var uc={};function vc(a,b,c){a=a.hb;b=b.hb;a in uc||(uc[a]={});uc[a][b]=c}function wc(a,b){var c;a in uc&&b in uc[a]&&(c=uc[a][b]);return c};function xc(a,b,c){var d=a.l;d?b=d(b,c):"degrees"!=a.Eb()&&(d=yc(a,zc("EPSG:4326")),b=[c[0]-b/2,c[1],c[0]+b/2,c[1],c[0],c[1]-b/2,c[0],c[1]+b/2],b=d(b,b,2),b=(pc.b(b.slice(0,2),b.slice(2,4))+pc.b(b.slice(4,6),b.slice(6,8)))/2,a=a.ic(),void 0!==a&&(b/=a));return b}function Ac(a){Bc(a);a.forEach(function(b){a.forEach(function(a){b!==a&&vc(b,a,Cc)})})}function Dc(){var a=Ec,b=Fc,c=Gc;Hc.forEach(function(d){a.forEach(function(a){vc(d,a,b);vc(a,d,c)})})}function Ic(a){tc[a.hb]=a;vc(a,a,Cc)}
function Bc(a){var b=[];a.forEach(function(a){b.push(Ic(a))})}function Jc(a){return a?"string"===typeof a?zc(a):a:zc("EPSG:3857")}function Kc(a,b,c,d){a=zc(a);b=zc(b);vc(a,b,Lc(c));vc(b,a,Lc(d))}function Lc(a){return function(b,c,d){var e=b.length;d=void 0!==d?d:2;c=void 0!==c?c:Array(e);var f,g;for(g=0;g<e;g+=d)for(f=a([b[g],b[g+1]]),c[g]=f[0],c[g+1]=f[1],f=d-1;2<=f;--f)c[g+f]=b[g+f];return c}}
function zc(a){var b=null;if(a instanceof sc)b=a;else if("string"===typeof a){var b=tc[a]||null,c=rc||window.proj4;b||"function"!=typeof c||void 0===c.defs(a)||(b=new sc({code:a}),Ic(b))}return b}function Mc(a,b){if(a===b)return!0;var c=a.Eb()===b.Eb();return a.hb===b.hb?c:yc(a,b)===Cc&&c}function Nc(a,b){var c=zc(a),d=zc(b);return yc(c,d)}
function yc(a,b){var c=a.hb,d=b.hb,e=wc(c,d);if(!e){var f=rc||window.proj4;if("function"==typeof f){var g=f.defs(c),h=f.defs(d);void 0!==g&&void 0!==h&&(g===h?Ac([b,a]):(e=f(d,c),Kc(b,a,e.forward,e.inverse)),e=wc(c,d))}}e||(e=Oc);return e}function Oc(a,b){if(void 0!==b&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}function Cc(a,b){var c;if(void 0!==b){c=0;for(var d=a.length;c<d;++c)b[c]=a[c];c=b}else c=a.slice();return c}function Pc(a,b,c){return Nc(b,c)(a,void 0,a.length)}
function Qc(a,b,c){b=Nc(b,c);return lc(a,b)};function Rc(){Sa.call(this);this.v=Hb();this.u=-1;this.i={};this.o=this.j=0}v(Rc,Sa);k=Rc.prototype;k.Cb=function(a,b){var c=b?b:[NaN,NaN];this.Ab(a[0],a[1],c,Infinity);return c};k.mb=function(a){return this.Hc(a[0],a[1])};k.Hc=nc;k.G=function(a){this.u!=this.g&&(this.v=this.Yd(this.v),this.u=this.g);var b=this.v;a?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b;return a};k.Jb=function(a){return this.Bd(a*a)};k.ob=function(a,b){this.sc(Nc(a,b));return this};function Sc(a,b,c,d,e,f){for(var g=f?f:[],h=0;b<c;b+=d){var l=a[b],m=a[b+1];g[h++]=e[0]*l+e[2]*m+e[4];g[h++]=e[1]*l+e[3]*m+e[5]}f&&g.length!=h&&(g.length=h);return g}function Tc(a,b,c,d,e,f){var g=f?f:[],h=0,l,m;for(l=0;l<b;l+=c)for(g[h++]=a[l]+d,g[h++]=a[l+1]+e,m=l+2;m<l+c;++m)g[h++]=a[m];f&&g.length!=h&&(g.length=h);return g};function Uc(){Rc.call(this);this.ka="XY";this.a=2;this.B=null}v(Uc,Rc);function Vc(a){var b;"XY"==a?b=2:"XYZ"==a||"XYM"==a?b=3:"XYZM"==a&&(b=4);return b}k=Uc.prototype;k.Hc=nc;k.Yd=function(a){return Tb(this.B,0,this.B.length,this.a,a)};k.Rb=function(){return this.B.slice(0,this.a)};k.ia=function(){return this.B};k.Sb=function(){return this.B.slice(this.B.length-this.a)};k.Tb=function(){return this.ka};
k.Bd=function(a){this.o!=this.g&&(ua(this.i),this.j=0,this.o=this.g);if(0>a||0!==this.j&&a<=this.j)return this;var b=a.toString();if(this.i.hasOwnProperty(b))return this.i[b];var c=this.$c(a);if(c.ia().length<this.B.length)return this.i[b]=c;this.j=a;return this};k.$c=function(){return this};k.pa=function(){return this.a};function Xc(a,b,c){a.a=Vc(b);a.ka=b;a.B=c}
function Yc(a,b,c,d){if(b)c=Vc(b);else{for(b=0;b<d;++b){if(0===c.length){a.ka="XY";a.a=2;return}c=c[0]}c=c.length;var e;2==c?e="XY":3==c?e="XYZ":4==c&&(e="XYZM");b=e}a.ka=b;a.a=c}k.sc=function(a){this.B&&(a(this.B,this.B,this.a),this.s())};
k.rotate=function(a,b){var c=this.ia();if(c){for(var d=c.length,e=this.pa(),f=c?c:[],g=Math.cos(a),h=Math.sin(a),l=b[0],m=b[1],p=0,n=0;n<d;n+=e){var q=c[n]-l,r=c[n+1]-m;f[p++]=l+q*g-r*h;f[p++]=m+q*h+r*g;for(q=n+2;q<n+e;++q)f[p++]=c[q]}c&&f.length!=p&&(f.length=p);this.s()}};
k.scale=function(a,b,c){var d=b;void 0===d&&(d=a);var e=c;e||(e=gc(this.G()));if(c=this.ia()){b=c.length;for(var f=this.pa(),g=c?c:[],h=e[0],e=e[1],l=0,m=0;m<b;m+=f){var p=c[m]-h,n=c[m+1]-e;g[l++]=h+a*p;g[l++]=e+d*n;for(p=m+2;p<m+f;++p)g[l++]=c[p]}c&&g.length!=l&&(g.length=l);this.s()}};k.translate=function(a,b){var c=this.ia();c&&(Tc(c,c.length,this.pa(),a,b,c),this.s())};function Zc(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var h=a[b],l=a[b+1],e=e+(g*h-f*l),f=h,g=l;return e/2}function $c(a,b,c,d){var e=0,f,g;f=0;for(g=c.length;f<g;++f){var h=c[f],e=e+Zc(a,b,h,d);b=h}return e};function ad(a,b,c,d,e,f,g){var h=a[b],l=a[b+1],m=a[c]-h,p=a[c+1]-l;if(0!==m||0!==p)if(f=((e-h)*m+(f-l)*p)/(m*m+p*p),1<f)b=c;else if(0<f){for(e=0;e<d;++e)g[e]=pa(a[b+e],a[c+e],f);g.length=d;return}for(e=0;e<d;++e)g[e]=a[b+e];g.length=d}function bd(a,b,c,d,e){var f=a[b],g=a[b+1];for(b+=d;b<c;b+=d){var h=a[b],l=a[b+1],f=ma(f,g,h,l);f>e&&(e=f);f=h;g=l}return e}function cd(a,b,c,d,e){var f,g;f=0;for(g=c.length;f<g;++f){var h=c[f];e=bd(a,b,h,d,e);b=h}return e}
function dd(a,b,c,d,e,f,g,h,l,m,p){if(b==c)return m;var n;if(0===e){n=ma(g,h,a[b],a[b+1]);if(n<m){for(p=0;p<d;++p)l[p]=a[b+p];l.length=d;return n}return m}for(var q=p?p:[NaN,NaN],r=b+d;r<c;)if(ad(a,r-d,r,d,g,h,q),n=ma(g,h,q[0],q[1]),n<m){m=n;for(p=0;p<d;++p)l[p]=q[p];l.length=d;r+=d}else r+=d*Math.max((Math.sqrt(n)-Math.sqrt(m))/e|0,1);if(f&&(ad(a,c-d,b,d,g,h,q),n=ma(g,h,q[0],q[1]),n<m)){m=n;for(p=0;p<d;++p)l[p]=q[p];l.length=d}return m}
function ed(a,b,c,d,e,f,g,h,l,m,p){p=p?p:[NaN,NaN];var n,q;n=0;for(q=c.length;n<q;++n){var r=c[n];m=dd(a,b,r,d,e,f,g,h,l,m,p);b=r}return m};function fd(a,b){var c=0,d,e;d=0;for(e=b.length;d<e;++d)a[c++]=b[d];return c}function gd(a,b,c,d){var e,f;e=0;for(f=c.length;e<f;++e){var g=c[e],h;for(h=0;h<d;++h)a[b++]=g[h]}return b}function hd(a,b,c,d,e){e=e?e:[];var f=0,g,h;g=0;for(h=c.length;g<h;++g)b=gd(a,b,c[g],d),e[f++]=b;e.length=f;return e};function id(a,b,c,d,e){e=void 0!==e?e:[];for(var f=0;b<c;b+=d)e[f++]=a.slice(b,b+d);e.length=f;return e}function jd(a,b,c,d,e){e=void 0!==e?e:[];var f=0,g,h;g=0;for(h=c.length;g<h;++g){var l=c[g];e[f++]=id(a,b,l,d,e[f]);b=l}e.length=f;return e};function kd(a,b,c,d,e,f,g){var h=(c-b)/d;if(3>h){for(;b<c;b+=d)f[g++]=a[b],f[g++]=a[b+1];return g}var l=Array(h);l[0]=1;l[h-1]=1;c=[b,c-d];for(var m=0,p;0<c.length;){var n=c.pop(),q=c.pop(),r=0,u=a[q],w=a[q+1],y=a[n],z=a[n+1];for(p=q+d;p<n;p+=d){var A=la(a[p],a[p+1],u,w,y,z);A>r&&(m=p,r=A)}r>e&&(l[(m-b)/d]=1,q+d<m&&c.push(q,m),m+d<n&&c.push(m,n))}for(p=0;p<h;++p)l[p]&&(f[g++]=a[b+p*d],f[g++]=a[b+p*d+1]);return g}
function ld(a,b,c,d,e,f,g,h){var l,m;l=0;for(m=c.length;l<m;++l){var p=c[l];a:{var n=a,q=p,r=d,u=e,w=f;if(b!=q){var y=u*Math.round(n[b]/u),z=u*Math.round(n[b+1]/u);b+=r;w[g++]=y;w[g++]=z;var A,O;do if(A=u*Math.round(n[b]/u),O=u*Math.round(n[b+1]/u),b+=r,b==q){w[g++]=A;w[g++]=O;break a}while(A==y&&O==z);for(;b<q;){var Ja,ca;Ja=u*Math.round(n[b]/u);ca=u*Math.round(n[b+1]/u);b+=r;if(Ja!=A||ca!=O){var Ma=A-y,D=O-z,La=Ja-y,kb=ca-z;Ma*kb==D*La&&(0>Ma&&La<Ma||Ma==La||0<Ma&&La>Ma)&&(0>D&&kb<D||D==kb||0<D&&
kb>D)||(w[g++]=A,w[g++]=O,y=A,z=O);A=Ja;O=ca}}w[g++]=A;w[g++]=O}}h.push(g);b=p}return g};function md(a,b){Uc.call(this);this.c=this.l=-1;this.qa(a,b)}v(md,Uc);k=md.prototype;k.clone=function(){var a=new md(null);nd(a,this.ka,this.B.slice());return a};k.Ab=function(a,b,c,d){if(d<Lb(this.G(),a,b))return d;this.c!=this.g&&(this.l=Math.sqrt(bd(this.B,0,this.B.length,this.a,0)),this.c=this.g);return dd(this.B,0,this.B.length,this.a,this.l,!0,a,b,c,d)};k.rm=function(){return Zc(this.B,0,this.B.length,this.a)};k.$=function(){return id(this.B,0,this.B.length,this.a)};
k.$c=function(a){var b=[];b.length=kd(this.B,0,this.B.length,this.a,a,b,0);a=new md(null);nd(a,"XY",b);return a};k.Y=function(){return"LinearRing"};k.qa=function(a,b){a?(Yc(this,b,a,1),this.B||(this.B=[]),this.B.length=gd(this.B,0,a,this.a),this.s()):nd(this,"XY",null)};function nd(a,b,c){Xc(a,b,c);a.s()};function C(a,b){Uc.call(this);this.qa(a,b)}v(C,Uc);k=C.prototype;k.clone=function(){var a=new C(null);a.da(this.ka,this.B.slice());return a};k.Ab=function(a,b,c,d){var e=this.B;a=ma(a,b,e[0],e[1]);if(a<d){d=this.a;for(b=0;b<d;++b)c[b]=e[b];c.length=d;return a}return d};k.$=function(){return this.B?this.B.slice():[]};k.Yd=function(a){return Sb(this.B,a)};k.Y=function(){return"Point"};k.Ta=function(a){return Nb(a,this.B[0],this.B[1])};
k.qa=function(a,b){a?(Yc(this,b,a,0),this.B||(this.B=[]),this.B.length=fd(this.B,a),this.s()):this.da("XY",null)};k.da=function(a,b){Xc(this,a,b);this.s()};function pd(a,b,c,d,e){return!Xb(e,function(e){return!qd(a,b,c,d,e[0],e[1])})}function qd(a,b,c,d,e,f){for(var g=0,h=a[c-d],l=a[c-d+1];b<c;b+=d){var m=a[b],p=a[b+1];l<=f?p>f&&0<(m-h)*(f-l)-(e-h)*(p-l)&&g++:p<=f&&0>(m-h)*(f-l)-(e-h)*(p-l)&&g--;h=m;l=p}return 0!==g}function rd(a,b,c,d,e,f){if(0===c.length||!qd(a,b,c[0],d,e,f))return!1;var g;b=1;for(g=c.length;b<g;++b)if(qd(a,c[b-1],c[b],d,e,f))return!1;return!0};function sd(a,b,c,d,e,f,g){var h,l,m,p,n,q=e[f+1],r=[],u=c[0];m=a[u-d];n=a[u-d+1];for(h=b;h<u;h+=d){p=a[h];l=a[h+1];if(q<=n&&l<=q||n<=q&&q<=l)m=(q-n)/(l-n)*(p-m)+m,r.push(m);m=p;n=l}u=NaN;n=-Infinity;r.sort(Ya);m=r[0];h=1;for(l=r.length;h<l;++h){p=r[h];var w=Math.abs(p-m);w>n&&(m=(m+p)/2,rd(a,b,c,d,m,q)&&(u=m,n=w));m=p}isNaN(u)&&(u=e[f]);return g?(g.push(u,q),g):[u,q]};function td(a,b,c,d,e,f){for(var g=[a[b],a[b+1]],h=[],l;b+d<c;b+=d){h[0]=a[b+d];h[1]=a[b+d+1];if(l=e.call(f,g,h))return l;g[0]=h[0];g[1]=h[1]}return!1};function ud(a,b,c,d,e){var f=Ub(Hb(),a,b,c,d);return jc(e,f)?Ob(e,f)||f[0]>=e[0]&&f[2]<=e[2]||f[1]>=e[1]&&f[3]<=e[3]?!0:td(a,b,c,d,function(a,b){var c=!1,d=Qb(e,a),f=Qb(e,b);if(1===d||1===f)c=!0;else{var n=e[0],q=e[1],r=e[2],u=e[3],w=b[0],y=b[1],z=(y-a[1])/(w-a[0]);f&2&&!(d&2)&&(c=w-(y-u)/z,c=c>=n&&c<=r);c||!(f&4)||d&4||(c=y-(w-r)*z,c=c>=q&&c<=u);c||!(f&8)||d&8||(c=w-(y-q)/z,c=c>=n&&c<=r);c||!(f&16)||d&16||(c=y-(w-n)*z,c=c>=q&&c<=u)}return c}):!1}
function vd(a,b,c,d,e){var f=c[0];if(!(ud(a,b,f,d,e)||qd(a,b,f,d,e[0],e[1])||qd(a,b,f,d,e[0],e[3])||qd(a,b,f,d,e[2],e[1])||qd(a,b,f,d,e[2],e[3])))return!1;if(1===c.length)return!0;b=1;for(f=c.length;b<f;++b)if(pd(a,c[b-1],c[b],d,e))return!1;return!0};function wd(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var h=a[b],l=a[b+1],e=e+(h-f)*(l+g),f=h,g=l;return 0<e}function xd(a,b,c,d){var e=0;d=void 0!==d?d:!1;var f,g;f=0;for(g=b.length;f<g;++f){var h=b[f],e=wd(a,e,h,c);if(0===f){if(d&&e||!d&&!e)return!1}else if(d&&!e||!d&&e)return!1;e=h}return!0}
function yd(a,b,c,d,e){e=void 0!==e?e:!1;var f,g;f=0;for(g=c.length;f<g;++f){var h=c[f],l=wd(a,b,h,d);if(0===f?e&&l||!e&&!l:e&&!l||!e&&l)for(var l=a,m=h,p=d;b<m-p;){var n;for(n=0;n<p;++n){var q=l[b+n];l[b+n]=l[m-p+n];l[m-p+n]=q}b+=p;m-=p}b=h}return b}function zd(a,b,c,d){var e=0,f,g;f=0;for(g=b.length;f<g;++f)e=yd(a,e,b[f],c,d);return e};function E(a,b){Uc.call(this);this.c=[];this.A=-1;this.C=null;this.P=this.D=this.L=-1;this.l=null;this.qa(a,b)}v(E,Uc);k=E.prototype;k.Fj=function(a){this.B?bb(this.B,a.ia()):this.B=a.ia().slice();this.c.push(this.B.length);this.s()};k.clone=function(){var a=new E(null);a.da(this.ka,this.B.slice(),this.c.slice());return a};
k.Ab=function(a,b,c,d){if(d<Lb(this.G(),a,b))return d;this.D!=this.g&&(this.L=Math.sqrt(cd(this.B,0,this.c,this.a,0)),this.D=this.g);return ed(this.B,0,this.c,this.a,this.L,!0,a,b,c,d)};k.Hc=function(a,b){return rd(this.Vb(),0,this.c,this.a,a,b)};k.um=function(){return $c(this.Vb(),0,this.c,this.a)};k.$=function(a){var b;void 0!==a?(b=this.Vb().slice(),yd(b,0,this.c,this.a,a)):b=this.B;return jd(b,0,this.c,this.a)};k.Kb=function(){return this.c};
function Ad(a){if(a.A!=a.g){var b=gc(a.G());a.C=sd(a.Vb(),0,a.c,a.a,b,0);a.A=a.g}return a.C}k.ik=function(){return new C(Ad(this))};k.nk=function(){return this.c.length};k.Qg=function(a){if(0>a||this.c.length<=a)return null;var b=new md(null);nd(b,this.ka,this.B.slice(0===a?0:this.c[a-1],this.c[a]));return b};k.Zc=function(){var a=this.ka,b=this.B,c=this.c,d=[],e=0,f,g;f=0;for(g=c.length;f<g;++f){var h=c[f],l=new md(null);nd(l,a,b.slice(e,h));d.push(l);e=h}return d};
k.Vb=function(){if(this.P!=this.g){var a=this.B;xd(a,this.c,this.a)?this.l=a:(this.l=a.slice(),this.l.length=yd(this.l,0,this.c,this.a));this.P=this.g}return this.l};k.$c=function(a){var b=[],c=[];b.length=ld(this.B,0,this.c,this.a,Math.sqrt(a),b,0,c);a=new E(null);a.da("XY",b,c);return a};k.Y=function(){return"Polygon"};k.Ta=function(a){return vd(this.Vb(),0,this.c,this.a,a)};
k.qa=function(a,b){if(a){Yc(this,b,a,2);this.B||(this.B=[]);var c=hd(this.B,0,a,this.a,this.c);this.B.length=0===c.length?0:c[c.length-1];this.s()}else this.da("XY",null,this.c)};k.da=function(a,b,c){Xc(this,a,b);this.c=c;this.s()};function Bd(a,b,c,d){var e=d?d:32;d=[];var f;for(f=0;f<e;++f)bb(d,a.offset(b,c,2*Math.PI*f/e));d.push(d[0],d[1]);a=new E(null);a.da("XY",d,[d.length]);return a}
function Cd(a){var b=a[0],c=a[1],d=a[2];a=a[3];b=[b,c,b,a,d,a,d,c,b,c];c=new E(null);c.da("XY",b,[b.length]);return c}function Dd(a,b,c){var d=b?b:32,e=a.pa();b=a.ka;for(var f=new E(null,b),d=e*(d+1),e=Array(d),g=0;g<d;g++)e[g]=0;f.da(b,e,[e.length]);Ed(f,a.Fd(),a.qe(),c);return f}function Ed(a,b,c,d){var e=a.ia(),f=a.ka,g=a.pa(),h=a.Kb(),l=e.length/g-1;d=d?d:0;for(var m,p,n=0;n<=l;++n)p=n*g,m=d+2*oa(n,l)*Math.PI/l,e[p]=b[0]+c*Math.cos(m),e[p+1]=b[1]+c*Math.sin(m);a.da(f,e,h)};function Fd(a){Sa.call(this);a=a||{};this.i=[0,0];this.f=[];this.Pe=this.Pe.bind(this);var b={};b[Gd]=void 0!==a.center?a.center:null;this.o=Jc(a.projection);var c,d,e,f=void 0!==a.minZoom?a.minZoom:0;c=void 0!==a.maxZoom?a.maxZoom:28;var g=void 0!==a.zoomFactor?a.zoomFactor:2;if(void 0!==a.resolutions)c=a.resolutions,d=c[0],e=c[c.length-1],c=ib(c);else{d=Jc(a.projection);e=d.G();var h=(e?Math.max(dc(e),ec(e)):360*qc.degrees/d.ic())/256/Math.pow(2,0),l=h/Math.pow(2,28);d=a.maxResolution;void 0!==
d?f=0:d=h/Math.pow(g,f);e=a.minResolution;void 0===e&&(e=void 0!==a.maxZoom?void 0!==a.maxResolution?d/Math.pow(g,c):h/Math.pow(g,c):l);c=f+Math.floor(Math.log(d/e)/Math.log(g));e=d/Math.pow(g,c-f);c=jb(g,d,c-f)}this.a=d;this.j=e;this.A=g;this.c=a.resolutions;this.l=f;f=void 0!==a.extent?qa(a.extent):ra;(void 0!==a.enableRotation?a.enableRotation:1)?(g=a.constrainRotation,g=void 0===g||!0===g?ob():!1===g?mb:"number"===typeof g?nb(g):mb):g=lb;this.u=new sa(f,c,g);void 0!==a.resolution?b[Hd]=a.resolution:
void 0!==a.zoom&&(b[Hd]=this.constrainResolution(this.a,a.zoom-this.l));b[Id]=void 0!==a.rotation?a.rotation:0;this.I(b)}v(Fd,Sa);k=Fd.prototype;
k.animate=function(a){var b=Date.now(),c=this.fb().slice(),d=this.Oa(),e=this.Ra(),f=arguments.length,g;1<f&&"function"===typeof arguments[f-1]&&(g=arguments[f-1],--f);for(var h=[],l=0;l<f;++l){var m=arguments[l],p={start:b,complete:!1,anchor:m.anchor,duration:void 0!==m.duration?m.duration:1E3,easing:m.easing||Db};m.center&&(p.fg=c,p.hg=m.center,c=p.hg);void 0!==m.zoom?(p.Me=d,p.Ne=this.constrainResolution(this.a,m.zoom-this.l,0),d=p.Ne):m.resolution&&(p.Me=d,p.Ne=m.resolution,d=p.Ne);void 0!==m.rotation&&
(p.gg=e,p.Hi=m.rotation,e=p.Hi);p.Vc=g;b+=p.duration;h.push(p)}this.f.push(h);Jd(this,Kd,1);this.Pe()};function Ld(a){Jd(a,Kd,-Md(a)[Kd]);for(var b=0,c=a.f.length;b<c;++b){var d=a.f[b];d[0].Vc&&d[0].Vc(!1)}a.f.length=0}
k.Pe=function(){void 0!==this.v&&(cancelAnimationFrame(this.v),this.v=void 0);if(0<Md(this)[Kd]){for(var a=Date.now(),b=!1,c=this.f.length-1;0<=c;--c){for(var d=this.f[c],e=!0,f=0,g=d.length;f<g;++f){var h=d[f];if(!h.complete){b=a-h.start;b=0<h.duration?b/h.duration:1;1<=b?(h.complete=!0,b=1):e=!1;b=h.easing(b);if(h.fg){var l=h.fg[0],m=h.fg[1];this.set(Gd,[l+b*(h.hg[0]-l),m+b*(h.hg[1]-m)])}h.Me&&(l=h.Me+b*(h.Ne-h.Me),h.anchor&&this.set(Gd,Nd(this,l,h.anchor)),this.set(Hd,l));void 0!==h.gg&&(b=h.gg+
b*(h.Hi-h.gg),h.anchor&&this.set(Gd,Od(this,b,h.anchor)),this.set(Id,b));b=!0;if(!h.complete)break}}e&&(this.f[c]=null,Jd(this,Kd,-1),(d=d[0].Vc)&&d(!0))}this.f=this.f.filter(Boolean);b&&void 0===this.v&&(this.v=requestAnimationFrame(this.Pe))}};function Od(a,b,c){var d,e=a.fb();void 0!==e&&(d=[e[0]-c[0],e[1]-c[1]],wb(d,b-a.Ra()),rb(d,c));return d}function Nd(a,b,c){var d,e=a.fb();a=a.Oa();void 0!==e&&void 0!==a&&(d=[c[0]-b*(c[0]-e[0])/a,c[1]-b*(c[1]-e[1])/a]);return d}k.Zd=function(a){return this.u.center(a)};
k.constrainResolution=function(a,b,c){return this.u.resolution(a,b||0,c||0)};k.constrainRotation=function(a,b){return this.u.rotation(a,b||0)};k.fb=function(){return this.get(Gd)};function Md(a,b){return void 0!==b?(b[0]=a.i[0],b[1]=a.i[1],b):a.i.slice()}k.Uc=function(a){var b=this.fb();ha(b,1);var c=this.Oa();ha(void 0!==c,2);var d=this.Ra();ha(void 0!==d,3);return hc(b,c,d,a)};k.Zl=function(){return this.a};k.$l=function(){return this.j};k.am=function(){return this.o};k.Oa=function(){return this.get(Hd)};
k.bm=function(){return this.c};function Pd(a,b){return Math.max(dc(a)/b[0],ec(a)/b[1])}function Qd(a){var b=a.a,c=Math.log(b/a.j)/Math.log(2);return function(a){return b/Math.pow(2,a*c)}}k.Ra=function(){return this.get(Id)};function Rd(a){var b=a.a,c=Math.log(b/a.j)/Math.log(2);return function(a){return Math.log(b/a)/Math.log(2)/c}}k.W=function(){var a=this.fb(),b=this.o,c=this.Oa(),d=this.Ra();return{center:a.slice(),projection:void 0!==b?b:null,resolution:c,rotation:d}};
k.Kk=function(){var a,b=this.Oa();if(void 0!==b&&b>=this.j&&b<=this.a){a=this.l||0;var c,d;if(this.c){d=$a(this.c,b,1);a+=d;if(d==this.c.length-1)return a;c=this.c[d];d=c/this.c[d+1]}else c=this.a,d=this.A;a+=Math.log(c/b)/Math.log(d)}return a};
k.lf=function(a,b,c){a instanceof Uc||(ha(Array.isArray(a),24),ha(!cc(a),25),a=Cd(a));c=c||{};var d=void 0!==c.padding?c.padding:[0,0,0,0],e=void 0!==c.constrainResolution?c.constrainResolution:!0,f=void 0!==c.nearest?c.nearest:!1,g;void 0!==c.minResolution?g=c.minResolution:void 0!==c.maxZoom?g=this.constrainResolution(this.a,c.maxZoom-this.l,0):g=0;var h=a.ia(),l=this.Ra(),m=Math.cos(-l),l=Math.sin(-l),p=Infinity,n=Infinity,q=-Infinity,r=-Infinity;a=a.pa();for(var u=0,w=h.length;u<w;u+=a)var y=
h[u]*m-h[u+1]*l,z=h[u]*l+h[u+1]*m,p=Math.min(p,y),n=Math.min(n,z),q=Math.max(q,y),r=Math.max(r,z);b=Pd([p,n,q,r],[b[0]-d[1]-d[3],b[1]-d[0]-d[2]]);b=isNaN(b)?g:Math.max(b,g);e&&(g=this.constrainResolution(b,0,0),!f&&g<b&&(g=this.constrainResolution(g,-1,0)),b=g);l=-l;f=(p+q)/2+(d[1]-d[3])/2*b;d=(n+r)/2+(d[0]-d[2])/2*b;m=[f*m-d*l,d*m+f*l];void 0!==c.duration?this.animate({resolution:b,center:m,duration:c.duration,easing:c.easing}):(this.Oc(b),this.Mb(m))};
k.Kj=function(a,b,c){var d=this.Ra(),e=Math.cos(-d),d=Math.sin(-d),f=a[0]*e-a[1]*d;a=a[1]*e+a[0]*d;var g=this.Oa(),f=f+(b[0]/2-c[0])*g;a+=(c[1]-b[1]/2)*g;d=-d;this.Mb([f*e-a*d,a*e+f*d])};function Sd(a){return!!a.fb()&&void 0!==a.Oa()}k.rotate=function(a,b){if(void 0!==b){var c=Od(this,a,b);this.Mb(c)}this.pe(a)};k.Mb=function(a){this.set(Gd,a);0<Md(this)[Kd]&&Ld(this)};function Jd(a,b,c){a.i[b]+=c;a.s()}k.Oc=function(a){this.set(Hd,a);0<Md(this)[Kd]&&Ld(this)};
k.pe=function(a){this.set(Id,a);0<Md(this)[Kd]&&Ld(this)};k.pp=function(a){a=this.constrainResolution(this.a,a-this.l,0);this.Oc(a)};var Gd="center",Hd="resolution",Id="rotation",Kd=0;function Td(a,b,c,d){this.ea=a;this.ca=b;this.ga=c;this.ja=d}function Ud(a,b,c){return a.ea<=b&&b<=a.ca&&a.ga<=c&&c<=a.ja}function Vd(a,b){return a.ea==b.ea&&a.ga==b.ga&&a.ca==b.ca&&a.ja==b.ja}function Wd(a,b){return a.ea<=b.ca&&a.ca>=b.ea&&a.ga<=b.ja&&a.ja>=b.ga};function Xd(a,b,c){void 0===c&&(c=[0,0]);c[0]=a[0]+2*b;c[1]=a[1]+2*b;return c}function Yd(a,b,c){void 0===c&&(c=[0,0]);c[0]=a[0]*b+.5|0;c[1]=a[1]*b+.5|0;return c}function Zd(a,b){if(Array.isArray(a))return a;void 0===b?b=[a,a]:b[0]=b[1]=a;return b};function $d(a,b,c,d){return void 0!==d?(d[0]=a,d[1]=b,d[2]=c,d):[a,b,c]}function ae(a){var b=a[0],c=Array(b),d=1<<b-1,e,f;for(e=0;e<b;++e)f=48,a[1]&d&&(f+=1),a[2]&d&&(f+=2),c[e]=String.fromCharCode(f),d>>=1;return c.join("")};function be(a){this.minZoom=void 0!==a.minZoom?a.minZoom:0;this.b=a.resolutions;ha(hb(this.b,function(a,b){return b-a}),17);this.maxZoom=this.b.length-1;this.g=void 0!==a.origin?a.origin:null;this.f=null;void 0!==a.origins&&(this.f=a.origins,ha(this.f.length==this.b.length,20));var b=a.extent;void 0===b||this.g||this.f||(this.g=ac(b));ha(!this.g&&this.f||this.g&&!this.f,18);this.c=null;void 0!==a.tileSizes&&(this.c=a.tileSizes,ha(this.c.length==this.b.length,19));this.i=void 0!==a.tileSize?a.tileSize:
this.c?null:256;ha(!this.i&&this.c||this.i&&!this.c,22);this.v=void 0!==b?b:null;this.a=null;this.j=[0,0];void 0!==a.sizes?this.a=a.sizes.map(function(a){return new Td(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1))},this):b&&ce(this,b)}var ee=[0,0,0];k=be.prototype;k.Hg=function(a,b,c){a=fe(this,a,b);for(var d=a.ea,e=a.ca;d<=e;++d)for(var f=a.ga,g=a.ja;f<=g;++f)c([b,d,f])};
function ge(a,b,c,d,e){e=a.Na(b,e);for(b=b[0]-1;b>=a.minZoom;){if(c.call(null,b,fe(a,e,b,d)))return!0;--b}return!1}k.G=function(){return this.v};k.Rg=function(){return this.maxZoom};k.Sg=function(){return this.minZoom};k.Kc=function(a){return this.g?this.g:this.f[a]};k.Ha=function(a){return this.b[a]};k.Wh=function(){return this.b};function he(a,b,c,d){return b[0]<a.maxZoom?(d=a.Na(b,d),fe(a,d,b[0]+1,c)):null}
function ie(a,b,c,d){je(a,b[0],b[1],c,!1,ee);var e=ee[1],f=ee[2];je(a,b[2],b[3],c,!0,ee);a=ee[1];b=ee[2];void 0!==d?(d.ea=e,d.ca=a,d.ga=f,d.ja=b):d=new Td(e,a,f,b);return d}function fe(a,b,c,d){c=a.Ha(c);return ie(a,b,c,d)}function ke(a,b){var c=a.Kc(b[0]),d=a.Ha(b[0]),e=Zd(a.Za(b[0]),a.j);return[c[0]+(b[1]+.5)*e[0]*d,c[1]+(b[2]+.5)*e[1]*d]}k.Na=function(a,b){var c=this.Kc(a[0]),d=this.Ha(a[0]),e=Zd(this.Za(a[0]),this.j),f=c[0]+a[1]*e[0]*d,c=c[1]+a[2]*e[1]*d;return Rb(f,c,f+e[0]*d,c+e[1]*d,b)};
k.fe=function(a,b,c){return je(this,a[0],a[1],b,!1,c)};function je(a,b,c,d,e,f){var g=a.Ec(d),h=d/a.Ha(g),l=a.Kc(g);a=Zd(a.Za(g),a.j);b=h*Math.floor((b-l[0])/d+(e?.5:0))/a[0];c=h*Math.floor((c-l[1])/d+(e?0:.5))/a[1];e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c));return $d(g,b,c,f)}k.wf=function(a,b,c){b=this.Ha(b);return je(this,a[0],a[1],b,!1,c)};k.Za=function(a){return this.i?this.i:this.c[a]};k.Ec=function(a,b){return ia($a(this.b,a,b||0),this.minZoom,this.maxZoom)};
function ce(a,b){for(var c=a.b.length,d=Array(c),e=a.minZoom;e<c;++e)d[e]=fe(a,b,e);a.a=d};function le(a){var b=a.j;if(!b){var b=me(a),c=ne(b,void 0,void 0),b=new be({extent:b,origin:ac(b),resolutions:c,tileSize:void 0});a.j=b}return b}function oe(a){var b={};ta(b,void 0!==a?a:{});void 0===b.extent&&(b.extent=zc("EPSG:3857").G());b.resolutions=ne(b.extent,b.maxZoom,b.tileSize);delete b.maxZoom;return new be(b)}function ne(a,b,c){b=void 0!==b?b:42;var d=ec(a);a=dc(a);c=Zd(void 0!==c?c:256);c=Math.max(a/c[0],d/c[1]);b+=1;d=Array(b);for(a=0;a<b;++a)d[a]=c/Math.pow(2,a);return d}
function me(a){a=zc(a);var b=a.G();b||(a=180*qc.degrees/a.ic(),b=Rb(-a,-a,a,a));return b};function pe(a){this.b=a.html;this.a=a.tileRanges?a.tileRanges:null}pe.prototype.g=function(){return this.b};function qe(a){Sa.call(this);this.a=a?a:[];re(this)}v(qe,Sa);k=qe.prototype;k.clear=function(){for(;0<this.Ub();)this.pop()};k.Bf=function(a){var b,c;b=0;for(c=a.length;b<c;++b)this.push(a[b]);return this};k.forEach=function(a,b){this.a.forEach(a,b)};k.Il=function(){return this.a};k.item=function(a){return this.a[a]};k.Ub=function(){return this.get(se)};k.ke=function(a,b){this.a.splice(a,0,b);re(this);this.b(new te(ue,b))};k.pop=function(){return this.Zf(this.Ub()-1)};
k.push=function(a){var b=this.Ub();this.ke(b,a);return this.Ub()};k.remove=function(a){var b=this.a,c,d;c=0;for(d=b.length;c<d;++c)if(b[c]===a)return this.Zf(c)};k.Zf=function(a){var b=this.a[a];this.a.splice(a,1);re(this);this.b(new te(ve,b));return b};k.ep=function(a,b){var c=this.Ub();if(a<c)c=this.a[a],this.a[a]=b,this.b(new te(ve,c)),this.b(new te(ue,b));else{for(;c<a;++c)this.ke(c,void 0);this.ke(a,b)}};function re(a){a.set(se,a.a.length)}var se="length",ue="add",ve="remove";
function te(a,b){Ia.call(this,a);this.element=b}v(te,Ia);var we=/^#(?:[0-9a-f]{3}){1,2}$/i,xe=/^([a-z]*)$/i;function ye(a){return Array.isArray(a)?a:ze(a)}function Ae(a){if("string"!==typeof a){var b=a[0];b!=(b|0)&&(b=b+.5|0);var c=a[1];c!=(c|0)&&(c=c+.5|0);var d=a[2];d!=(d|0)&&(d=d+.5|0);a="rgba("+b+","+c+","+d+","+(void 0===a[3]?1:a[3])+")"}return a}
var ze=function(){var a={},b=0;return function(c){var d;if(a.hasOwnProperty(c))d=a[c];else{if(1024<=b){d=0;for(var e in a)0===(d++&3)&&(delete a[e],--b)}d=c;var f;xe.exec(d)&&(e=document.createElement("div"),e.style.color=d,document.body.appendChild(e),d=getComputedStyle(e).color,document.body.removeChild(e));if(we.exec(d)){f=d.length-1;ha(3==f||6==f,54);var g=3==f?1:2;f=parseInt(d.substr(1+0*g,g),16);e=parseInt(d.substr(1+1*g,g),16);d=parseInt(d.substr(1+2*g,g),16);1==g&&(f=(f<<4)+f,e=(e<<4)+e,d=
(d<<4)+d);f=[f,e,d,1]}else 0==d.indexOf("rgba(")?(d=d.slice(5,-1).split(",").map(Number),f=Be(d)):0==d.indexOf("rgb(")?(d=d.slice(4,-1).split(",").map(Number),d.push(1),f=Be(d)):ha(!1,14);d=f;a[c]=d;++b}return d}}();function Be(a){var b=[];b[0]=ia(a[0]+.5|0,0,255);b[1]=ia(a[1]+.5|0,0,255);b[2]=ia(a[2]+.5|0,0,255);b[3]=ia(a[3],0,1);return b};function Ce(a){return"string"===typeof a||a instanceof CanvasPattern||a instanceof CanvasGradient?a:Ae(a)};function De(a,b){var c=document.createElement("CANVAS");a&&(c.width=a);b&&(c.height=b);return c.getContext("2d")}function Ee(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)}function Fe(a){a&&a.parentNode&&a.parentNode.removeChild(a)};function Ge(a,b,c){Ia.call(this,a);this.map=b;this.frameState=void 0!==c?c:null}v(Ge,Ia);function Ie(a){Sa.call(this);this.element=a.element?a.element:null;this.a=this.P=null;this.v=[];this.render=a.render?a.render:ea;a.target&&this.c(a.target)}v(Ie,Sa);Ie.prototype.oa=function(){Fe(this.element);Sa.prototype.oa.call(this)};Ie.prototype.i=function(){return this.a};
Ie.prototype.setMap=function(a){this.a&&Fe(this.element);for(var b=0,c=this.v.length;b<c;++b)ya(this.v[b]);this.v.length=0;if(this.a=a)(this.P?this.P:a.u).appendChild(this.element),this.render!==ea&&this.v.push(B(a,"postrender",this.render,this)),a.render()};Ie.prototype.c=function(a){this.P="string"===typeof a?document.getElementById(a):a};function Je(a){a=a?a:{};this.L=document.createElement("UL");this.u=document.createElement("LI");this.L.appendChild(this.u);this.u.style.display="none";this.f=void 0!==a.collapsed?a.collapsed:!0;this.l=void 0!==a.collapsible?a.collapsible:!0;this.l||(this.f=!1);var b=void 0!==a.className?a.className:"ol-attribution",c=void 0!==a.tipLabel?a.tipLabel:"Attributions",d=void 0!==a.collapseLabel?a.collapseLabel:"\u00bb";"string"===typeof d?(this.A=document.createElement("span"),this.A.textContent=d):this.A=
d;d=void 0!==a.label?a.label:"i";"string"===typeof d?(this.C=document.createElement("span"),this.C.textContent=d):this.C=d;var e=this.l&&!this.f?this.A:this.C,d=document.createElement("button");d.setAttribute("type","button");d.title=c;d.appendChild(e);B(d,"click",this.em,this);c=document.createElement("div");c.className=b+" ol-unselectable ol-control"+(this.f&&this.l?" ol-collapsed":"")+(this.l?"":" ol-uncollapsible");c.appendChild(this.L);c.appendChild(d);Ie.call(this,{element:c,render:a.render?
a.render:Ke,target:a.target});this.D=!0;this.o={};this.j={};this.U={}}v(Je,Ie);
function Ke(a){if(a=a.frameState){var b,c,d,e,f,g,h,l,m,p,n,q=a.layerStatesArray,r=ta({},a.attributions),u={},w={},y=a.viewState.projection;c=0;for(b=q.length;c<b;c++)if(g=q[c].layer.la())if(p=x(g).toString(),m=g.j)for(d=0,e=m.length;d<e;d++)if(h=m[d],l=x(h).toString(),!(l in r)){if(f=a.usedTiles[p]){var z=g.Db(y);a:{n=h;var A=y;if(n.a){var O,Ja,ca,Ma=void 0;for(Ma in f)if(Ma in n.a){ca=f[Ma];var D;O=0;for(Ja=n.a[Ma].length;O<Ja;++O){D=n.a[Ma][O];if(Wd(D,ca)){n=!0;break a}var La=fe(z,me(A),parseInt(Ma,
10)),kb=La.ca-La.ea+1;if(ca.ea<La.ea||ca.ca>La.ca)if(Wd(D,new Td(oa(ca.ea,kb),oa(ca.ca,kb),ca.ga,ca.ja))||ca.ca-ca.ea+1>kb&&Wd(D,La)){n=!0;break a}}}n=!1}else n=!0}}else n=!1;n?(l in u&&delete u[l],n=h.b,n in w||(w[n]=!0,r[l]=h)):u[l]=h}b=[r,u];c=b[0];b=b[1];for(var W in this.o)W in c?(this.j[W]||(this.o[W].style.display="",this.j[W]=!0),delete c[W]):W in b?(this.j[W]&&(this.o[W].style.display="none",delete this.j[W]),delete b[W]):(Fe(this.o[W]),delete this.o[W],delete this.j[W]);for(W in c)d=document.createElement("LI"),
d.innerHTML=c[W].b,this.L.appendChild(d),this.o[W]=d,this.j[W]=!0;for(W in b)d=document.createElement("LI"),d.innerHTML=b[W].b,d.style.display="none",this.L.appendChild(d),this.o[W]=d;W=!wa(this.j)||!wa(a.logos);this.D!=W&&(this.element.style.display=W?"":"none",this.D=W);W&&wa(this.j)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only");var Ra;a=a.logos;W=this.U;for(Ra in W)Ra in a||(Fe(W[Ra]),delete W[Ra]);for(var Pb in a)b=a[Pb],b instanceof HTMLElement&&(this.u.appendChild(b),
W[Pb]=b),Pb in W||(Ra=new Image,Ra.src=Pb,""===b?c=Ra:(c=document.createElement("a"),c.href=b,c.appendChild(Ra)),this.u.appendChild(c),W[Pb]=c);this.u.style.display=wa(a)?"none":""}else this.D&&(this.element.style.display="none",this.D=!1)}k=Je.prototype;k.em=function(a){a.preventDefault();Le(this)};function Le(a){a.element.classList.toggle("ol-collapsed");a.f?Ee(a.A,a.C):Ee(a.C,a.A);a.f=!a.f}k.dm=function(){return this.l};
k.gm=function(a){this.l!==a&&(this.l=a,this.element.classList.toggle("ol-uncollapsible"),!a&&this.f&&Le(this))};k.fm=function(a){this.l&&this.f!==a&&Le(this)};k.cm=function(){return this.f};function Me(a){a=a?a:{};this.f=void 0!==a.className?a.className:"ol-full-screen";var b=void 0!==a.label?a.label:"\u2922";this.l="string"===typeof b?document.createTextNode(b):b;b=void 0!==a.labelActive?a.labelActive:"\u00d7";this.o="string"===typeof b?document.createTextNode(b):b;var c=a.tipLabel?a.tipLabel:"Toggle full-screen",b=document.createElement("button");b.className=this.f+"-"+Ne();b.setAttribute("type","button");b.title=c;b.appendChild(this.l);B(b,"click",this.C,this);c=document.createElement("div");
c.className=this.f+" ol-unselectable ol-control "+(Oe()?"":"ol-unsupported");c.appendChild(b);Ie.call(this,{element:c,target:a.target});this.A=void 0!==a.keys?a.keys:!1;this.j=a.source}v(Me,Ie);
Me.prototype.C=function(a){a.preventDefault();Oe()&&(a=this.a)&&(Ne()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(a=this.j?"string"===typeof this.j?document.getElementById(this.j):this.j:a.Cc(),this.A?a.mozRequestFullScreenWithKeys?a.mozRequestFullScreenWithKeys():a.webkitRequestFullscreen?a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):
Pe(a):Pe(a)))};Me.prototype.u=function(){var a=this.element.firstElementChild,b=this.a;Ne()?(a.className=this.f+"-true",Ee(this.o,this.l)):(a.className=this.f+"-false",Ee(this.l,this.o));b&&b.ld()};Me.prototype.setMap=function(a){Ie.prototype.setMap.call(this,a);a&&this.v.push(B(document,Qe(),this.u,this))};
function Oe(){var a=document.body;return!!(a.webkitRequestFullscreen||a.mozRequestFullScreen&&document.mozFullScreenEnabled||a.msRequestFullscreen&&document.msFullscreenEnabled||a.requestFullscreen&&document.fullscreenEnabled)}function Ne(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}
function Pe(a){a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen()}var Qe=function(){var a;return function(){if(!a){var b=document.body;b.webkitRequestFullscreen?a="webkitfullscreenchange":b.mozRequestFullScreen?a="mozfullscreenchange":b.msRequestFullscreen?a="MSFullscreenChange":b.requestFullscreen&&(a="fullscreenchange")}return a}}();function Re(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-rotate",c=void 0!==a.label?a.label:"\u21e7";this.f=null;"string"===typeof c?(this.f=document.createElement("span"),this.f.className="ol-compass",this.f.textContent=c):(this.f=c,this.f.classList.add("ol-compass"));var d=a.tipLabel?a.tipLabel:"Reset rotation",c=document.createElement("button");c.className=b+"-reset";c.setAttribute("type","button");c.title=d;c.appendChild(this.f);B(c,"click",Re.prototype.A,this);d=document.createElement("div");
d.className=b+" ol-unselectable ol-control";d.appendChild(c);b=a.render?a.render:Se;this.l=a.resetNorth?a.resetNorth:void 0;Ie.call(this,{element:d,render:b,target:a.target});this.o=void 0!==a.duration?a.duration:250;this.j=void 0!==a.autoHide?a.autoHide:!0;this.u=void 0;this.j&&this.element.classList.add("ol-hidden")}v(Re,Ie);Re.prototype.A=function(a){a.preventDefault();void 0!==this.l?this.l():(a=this.a.aa())&&void 0!==a.Ra()&&(0<this.o?a.animate({rotation:0,duration:this.o,easing:Cb}):a.pe(0))};
function Se(a){if(a=a.frameState){a=a.viewState.rotation;if(a!=this.u){var b="rotate("+a+"rad)";if(this.j){var c=this.element.classList.contains("ol-hidden");c||0!==a?c&&0!==a&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.f.style.msTransform=b;this.f.style.webkitTransform=b;this.f.style.transform=b}this.u=a}};function Te(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-zoom",c=void 0!==a.delta?a.delta:1,d=void 0!==a.zoomInLabel?a.zoomInLabel:"+",e=void 0!==a.zoomOutLabel?a.zoomOutLabel:"\u2212",f=void 0!==a.zoomInTipLabel?a.zoomInTipLabel:"Zoom in",g=void 0!==a.zoomOutTipLabel?a.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=b+"-in";h.setAttribute("type","button");h.title=f;h.appendChild("string"===typeof d?document.createTextNode(d):d);B(h,"click",Te.prototype.j.bind(this,
c));d=document.createElement("button");d.className=b+"-out";d.setAttribute("type","button");d.title=g;d.appendChild("string"===typeof e?document.createTextNode(e):e);B(d,"click",Te.prototype.j.bind(this,-c));c=document.createElement("div");c.className=b+" ol-unselectable ol-control";c.appendChild(h);c.appendChild(d);Ie.call(this,{element:c,target:a.target});this.f=void 0!==a.duration?a.duration:250}v(Te,Ie);
Te.prototype.j=function(a,b){b.preventDefault();var c=this.a.aa();if(c){var d=c.Oa();d&&(d=c.constrainResolution(d,a),0<this.f?(0<Md(c)[Kd]&&Ld(c),c.animate({resolution:d,duration:this.f,easing:Cb})):c.Oc(d))}};function Ue(a){a=a?a:{};var b=new qe;(void 0!==a.zoom?a.zoom:1)&&b.push(new Te(a.zoomOptions));(void 0!==a.rotate?a.rotate:1)&&b.push(new Re(a.rotateOptions));(void 0!==a.attribution?a.attribution:1)&&b.push(new Je(a.attributionOptions));return b};function Ve(a){a=a?a:{};var b=document.createElement("DIV");b.className=void 0!==a.className?a.className:"ol-mouse-position";Ie.call(this,{element:b,render:a.render?a.render:We,target:a.target});B(this,Ua(Xe),this.hm,this);a.coordinateFormat&&this.oi(a.coordinateFormat);a.projection&&this.sh(zc(a.projection));this.u=void 0!==a.undefinedHTML?a.undefinedHTML:"";this.o=b.innerHTML;this.l=this.j=this.f=null}v(Ve,Ie);
function We(a){a=a.frameState;a?this.f!=a.viewState.projection&&(this.f=a.viewState.projection,this.j=null):this.f=null;Ye(this,this.l)}k=Ve.prototype;k.hm=function(){this.j=null};k.Lg=function(){return this.get(Ze)};k.rh=function(){return this.get(Xe)};k.$k=function(a){this.l=this.a.ce(a);Ye(this,this.l)};k.al=function(){Ye(this,null);this.l=null};k.setMap=function(a){Ie.prototype.setMap.call(this,a);a&&(a=a.f,this.v.push(B(a,"mousemove",this.$k,this),B(a,"mouseout",this.al,this)))};
k.oi=function(a){this.set(Ze,a)};k.sh=function(a){this.set(Xe,a)};function Ye(a,b){var c=a.u;if(b&&a.f){if(!a.j){var d=a.rh();a.j=d?yc(a.f,d):Oc}if(d=a.a.Sa(b))a.j(d,d),c=(c=a.Lg())?c(d):d.toString()}a.o&&c==a.o||(a.element.innerHTML=c,a.o=c)}var Xe="projection",Ze="coordinateFormat";function $e(a,b,c,d,e){Ge.call(this,a,b,e);this.originalEvent=c;this.pixel=b.ce(c);this.coordinate=b.Sa(this.pixel);this.dragging=void 0!==d?d:!1}v($e,Ge);$e.prototype.preventDefault=function(){Ge.prototype.preventDefault.call(this);this.originalEvent.preventDefault()};$e.prototype.stopPropagation=function(){Ge.prototype.stopPropagation.call(this);this.originalEvent.stopPropagation()};
var af={Np:"singleclick",Cp:"click",Dp:"dblclick",Gp:"pointerdrag",Jp:"pointermove",Fp:"pointerdown",Mp:"pointerup",Lp:"pointerover",Kp:"pointerout",Hp:"pointerenter",Ip:"pointerleave",Ep:"pointercancel"};function cf(a,b,c,d,e){$e.call(this,a,b,c.b,d,e);this.b=c}v(cf,$e);var df=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function ef(a,b){var c,d,e=df.length;for(d=0;d<e;++d)try{if(c=a.getContext(df[d],b))return c}catch(f){}return null};var ff,gf="undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"",hf=-1!==gf.indexOf("firefox"),jf=-1!==gf.indexOf("safari")&&-1==gf.indexOf("chrom"),kf=-1!==gf.indexOf("webkit")&&-1==gf.indexOf("edge"),lf=-1!==gf.indexOf("macintosh"),mf=window.devicePixelRatio||1,nf=!1,of=function(){if(!("HTMLCanvasElement"in window))return!1;try{var a=document.createElement("CANVAS").getContext("2d");return a?(void 0!==a.setLineDash&&(nf=!0),!0):!1}catch(b){return!1}}(),pf="DeviceOrientationEvent"in
window,qf="geolocation"in navigator,rf="ontouchstart"in window,sf="PointerEvent"in window,tf=!!navigator.msPointerEnabled,uf=!1,vf,wf=[];if("WebGLRenderingContext"in window)try{var xf=ef(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});xf&&(uf=!0,vf=xf.getParameter(xf.MAX_TEXTURE_SIZE),wf=xf.getSupportedExtensions())}catch(a){}ff=uf;da=wf;ba=vf;function yf(a,b){this.b=a;this.c=b};function zf(a){yf.call(this,a,{mousedown:this.tl,mousemove:this.ul,mouseup:this.xl,mouseover:this.wl,mouseout:this.vl});this.a=a.g;this.g=[]}v(zf,yf);function Af(a,b){for(var c=a.g,d=b.clientX,e=b.clientY,f=0,g=c.length,h;f<g&&(h=c[f]);f++){var l=Math.abs(e-h[1]);if(25>=Math.abs(d-h[0])&&25>=l)return!0}return!1}function Bf(a){var b=Cf(a,a),c=b.preventDefault;b.preventDefault=function(){a.preventDefault();c()};b.pointerId=1;b.isPrimary=!0;b.pointerType="mouse";return b}k=zf.prototype;
k.tl=function(a){if(!Af(this,a)){if((1).toString()in this.a){var b=Bf(a);Df(this.b,"pointercancel",b,a);delete this.a[(1).toString()]}b=Bf(a);this.a[(1).toString()]=a;Df(this.b,"pointerdown",b,a)}};k.ul=function(a){if(!Af(this,a)){var b=Bf(a);Df(this.b,"pointermove",b,a)}};k.xl=function(a){if(!Af(this,a)){var b=this.a[(1).toString()];b&&b.button===a.button&&(b=Bf(a),Df(this.b,"pointerup",b,a),delete this.a[(1).toString()])}};k.wl=function(a){if(!Af(this,a)){var b=Bf(a);Ef(this.b,b,a)}};
k.vl=function(a){if(!Af(this,a)){var b=Bf(a);Ff(this.b,b,a)}};function Gf(a){yf.call(this,a,{MSPointerDown:this.Cl,MSPointerMove:this.Dl,MSPointerUp:this.Gl,MSPointerOut:this.El,MSPointerOver:this.Fl,MSPointerCancel:this.Bl,MSGotPointerCapture:this.zl,MSLostPointerCapture:this.Al});this.a=a.g;this.g=["","unavailable","touch","pen","mouse"]}v(Gf,yf);function Hf(a,b){var c=b;"number"===typeof b.pointerType&&(c=Cf(b,b),c.pointerType=a.g[b.pointerType]);return c}k=Gf.prototype;
k.Cl=function(a){this.a[a.pointerId.toString()]=a;var b=Hf(this,a);Df(this.b,"pointerdown",b,a)};k.Dl=function(a){var b=Hf(this,a);Df(this.b,"pointermove",b,a)};k.Gl=function(a){var b=Hf(this,a);Df(this.b,"pointerup",b,a);delete this.a[a.pointerId.toString()]};k.El=function(a){var b=Hf(this,a);Ff(this.b,b,a)};k.Fl=function(a){var b=Hf(this,a);Ef(this.b,b,a)};k.Bl=function(a){var b=Hf(this,a);Df(this.b,"pointercancel",b,a);delete this.a[a.pointerId.toString()]};
k.Al=function(a){this.b.b(new If("lostpointercapture",a,a))};k.zl=function(a){this.b.b(new If("gotpointercapture",a,a))};function Jf(a){yf.call(this,a,{pointerdown:this.po,pointermove:this.qo,pointerup:this.to,pointerout:this.ro,pointerover:this.so,pointercancel:this.oo,gotpointercapture:this.Lk,lostpointercapture:this.sl})}v(Jf,yf);k=Jf.prototype;k.po=function(a){Kf(this.b,a)};k.qo=function(a){Kf(this.b,a)};k.to=function(a){Kf(this.b,a)};k.ro=function(a){Kf(this.b,a)};k.so=function(a){Kf(this.b,a)};k.oo=function(a){Kf(this.b,a)};k.sl=function(a){Kf(this.b,a)};k.Lk=function(a){Kf(this.b,a)};function If(a,b,c){Ia.call(this,a);this.b=b;a=c?c:{};this.buttons=Lf(a);this.pressure=Mf(a,this.buttons);this.bubbles="bubbles"in a?a.bubbles:!1;this.cancelable="cancelable"in a?a.cancelable:!1;this.view="view"in a?a.view:null;this.detail="detail"in a?a.detail:null;this.screenX="screenX"in a?a.screenX:0;this.screenY="screenY"in a?a.screenY:0;this.clientX="clientX"in a?a.clientX:0;this.clientY="clientY"in a?a.clientY:0;this.button="button"in a?a.button:0;this.relatedTarget="relatedTarget"in a?a.relatedTarget:
null;this.pointerId="pointerId"in a?a.pointerId:0;this.width="width"in a?a.width:0;this.height="height"in a?a.height:0;this.pointerType="pointerType"in a?a.pointerType:"";this.isPrimary="isPrimary"in a?a.isPrimary:!1;b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}v(If,Ia);function Lf(a){if(a.buttons||Nf)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}
function Mf(a,b){var c=0;a.pressure?c=a.pressure:c=b?.5:0;return c}var Nf=!1;try{Nf=1===(new MouseEvent("click",{buttons:1})).buttons}catch(a){};function Of(a,b){yf.call(this,a,{touchstart:this.up,touchmove:this.tp,touchend:this.sp,touchcancel:this.rp});this.a=a.g;this.j=b;this.g=void 0;this.i=0;this.f=void 0}v(Of,yf);k=Of.prototype;k.mi=function(){this.i=0;this.f=void 0};
function Pf(a,b,c){b=Cf(b,c);b.pointerId=c.identifier+2;b.bubbles=!0;b.cancelable=!0;b.detail=a.i;b.button=0;b.buttons=1;b.width=c.webkitRadiusX||c.radiusX||0;b.height=c.webkitRadiusY||c.radiusY||0;b.pressure=c.webkitForce||c.force||.5;b.isPrimary=a.g===c.identifier;b.pointerType="touch";b.clientX=c.clientX;b.clientY=c.clientY;b.screenX=c.screenX;b.screenY=c.screenY;return b}
function Qf(a,b,c){function d(){b.preventDefault()}var e=Array.prototype.slice.call(b.changedTouches),f=e.length,g,h;for(g=0;g<f;++g)h=Pf(a,b,e[g]),h.preventDefault=d,c.call(a,b,h)}
k.up=function(a){var b=a.touches,c=Object.keys(this.a),d=c.length;if(d>=b.length){var e=[],f,g,h;for(f=0;f<d;++f){g=c[f];h=this.a[g];var l;if(!(l=1==g))a:{l=b.length;for(var m,p=0;p<l;p++)if(m=b[p],m.identifier===g-2){l=!0;break a}l=!1}l||e.push(h.out)}for(f=0;f<e.length;++f)this.ef(a,e[f])}b=a.changedTouches[0];c=Object.keys(this.a).length;if(0===c||1===c&&(1).toString()in this.a)this.g=b.identifier,void 0!==this.f&&clearTimeout(this.f);Rf(this,a);this.i++;Qf(this,a,this.ko)};
k.ko=function(a,b){this.a[b.pointerId]={target:b.target,out:b,Xh:b.target};var c=this.b;b.bubbles=!0;Df(c,"pointerover",b,a);c=this.b;b.bubbles=!1;Df(c,"pointerenter",b,a);Df(this.b,"pointerdown",b,a)};k.tp=function(a){a.preventDefault();Qf(this,a,this.yl)};
k.yl=function(a,b){var c=this.a[b.pointerId];if(c){var d=c.out,e=c.Xh;Df(this.b,"pointermove",b,a);d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(Ff(this.b,d,a),Ef(this.b,b,a)):(b.target=e,b.relatedTarget=null,this.ef(a,b)));c.out=b;c.Xh=b.target}};k.sp=function(a){Rf(this,a);Qf(this,a,this.vp)};
k.vp=function(a,b){Df(this.b,"pointerup",b,a);this.b.out(b,a);Sf(this.b,b,a);delete this.a[b.pointerId];b.isPrimary&&(this.g=void 0,this.f=setTimeout(this.mi.bind(this),200))};k.rp=function(a){Qf(this,a,this.ef)};k.ef=function(a,b){Df(this.b,"pointercancel",b,a);this.b.out(b,a);Sf(this.b,b,a);delete this.a[b.pointerId];b.isPrimary&&(this.g=void 0,this.f=setTimeout(this.mi.bind(this),200))};
function Rf(a,b){var c=a.j.g,d=b.changedTouches[0];if(a.g===d.identifier){var e=[d.clientX,d.clientY];c.push(e);setTimeout(function(){var a=c.indexOf(e);-1<a&&c.splice(a,1)},2500)}};function Tf(a){Na.call(this);this.i=a;this.g={};this.c={};this.a=[];sf?Uf(this,new Jf(this)):tf?Uf(this,new Gf(this)):(a=new zf(this),Uf(this,a),rf&&Uf(this,new Of(this,a)));a=this.a.length;for(var b,c=0;c<a;c++)b=this.a[c],Vf(this,Object.keys(b.c))}v(Tf,Na);function Uf(a,b){var c=Object.keys(b.c);c&&(c.forEach(function(a){var c=b.c[a];c&&(this.c[a]=c.bind(b))},a),a.a.push(b))}Tf.prototype.f=function(a){var b=this.c[a.type];b&&b(a)};
function Vf(a,b){b.forEach(function(a){B(this.i,a,this.f,this)},a)}function Wf(a,b){b.forEach(function(a){Ea(this.i,a,this.f,this)},a)}function Cf(a,b){for(var c={},d,e=0,f=Xf.length;e<f;e++)d=Xf[e][0],c[d]=a[d]||b[d]||Xf[e][1];return c}function Sf(a,b,c){b.bubbles=!1;Df(a,"pointerleave",b,c)}Tf.prototype.out=function(a,b){a.bubbles=!0;Df(this,"pointerout",a,b)};function Ff(a,b,c){a.out(b,c);var d=b.target,e=b.relatedTarget;d&&e&&d.contains(e)||Sf(a,b,c)}
function Ef(a,b,c){b.bubbles=!0;Df(a,"pointerover",b,c);var d=b.target,e=b.relatedTarget;d&&e&&d.contains(e)||(b.bubbles=!1,Df(a,"pointerenter",b,c))}function Df(a,b,c,d){a.b(new If(b,d,c))}function Kf(a,b){a.b(new If(b.type,b,b))}Tf.prototype.oa=function(){for(var a=this.a.length,b,c=0;c<a;c++)b=this.a[c],Wf(this,Object.keys(b.c));Na.prototype.oa.call(this)};
var Xf=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];function Yf(a){Na.call(this);this.f=a;this.j=0;this.l=!1;this.c=[];this.g=null;a=this.f.f;this.u=0;this.H={};this.i=new Tf(a);this.a=null;this.o=B(this.i,"pointerdown",this.cl,this);this.v=B(this.i,"pointermove",this.So,this)}v(Yf,Na);function Zf(a,b){var c=new cf("click",a.f,b);a.b(c);0!==a.j?(clearTimeout(a.j),a.j=0,c=new cf("dblclick",a.f,b),a.b(c)):a.j=setTimeout(function(){this.j=0;var a=new cf("singleclick",this.f,b);this.b(a)}.bind(a),250)}
function $f(a,b){"pointerup"==b.type||"pointercancel"==b.type?delete a.H[b.pointerId]:"pointerdown"==b.type&&(a.H[b.pointerId]=!0);a.u=Object.keys(a.H).length}k=Yf.prototype;k.$g=function(a){$f(this,a);var b=new cf("pointerup",this.f,a);this.b(b);!this.l&&0===a.button&&Zf(this,this.g);0===this.u&&(this.c.forEach(ya),this.c.length=0,this.l=!1,this.g=null,Ha(this.a),this.a=null)};
k.cl=function(a){$f(this,a);var b=new cf("pointerdown",this.f,a);this.b(b);this.g=a;0===this.c.length&&(this.a=new Tf(document),this.c.push(B(this.a,"pointermove",this.Vl,this),B(this.a,"pointerup",this.$g,this),B(this.i,"pointercancel",this.$g,this)))};k.Vl=function(a){if(a.clientX!=this.g.clientX||a.clientY!=this.g.clientY){this.l=!0;var b=new cf("pointerdrag",this.f,a,this.l);this.b(b)}a.preventDefault()};
k.So=function(a){this.b(new cf(a.type,this.f,a,!(!this.g||a.clientX==this.g.clientX&&a.clientY==this.g.clientY)))};k.oa=function(){this.v&&(ya(this.v),this.v=null);this.o&&(ya(this.o),this.o=null);this.c.forEach(ya);this.c.length=0;this.a&&(Ha(this.a),this.a=null);this.i&&(Ha(this.i),this.i=null);Na.prototype.oa.call(this)};function ag(a,b){Na.call(this);this.Ca=a;this.state=b;this.a=null;this.key=""}v(ag,Na);ag.prototype.s=function(){this.b("change")};ag.prototype.bb=function(){return this.key+"/"+this.Ca};function bg(a){if(!a.a)return a;var b=a.a;do{if(b.W()==cg)return b;b=b.a}while(b);return a}ag.prototype.c=function(){return this.Ca};ag.prototype.W=function(){return this.state};var cg=2;function dg(a,b){this.o=a;this.f=b;this.b=[];this.g=[];this.a={}}dg.prototype.clear=function(){this.b.length=0;this.g.length=0;ua(this.a)};function eg(a){var b=a.b,c=a.g,d=b[0];1==b.length?(b.length=0,c.length=0):(b[0]=b.pop(),c[0]=c.pop(),fg(a,0));b=a.f(d);delete a.a[b];return d}dg.prototype.c=function(a){ha(!(this.f(a)in this.a),31);var b=this.o(a);return Infinity!=b?(this.b.push(a),this.g.push(b),this.a[this.f(a)]=!0,gg(this,0,this.b.length-1),!0):!1};
function fg(a,b){for(var c=a.b,d=a.g,e=c.length,f=c[b],g=d[b],h=b;b<e>>1;){var l=2*b+1,m=2*b+2,l=m<e&&d[m]<d[l]?m:l;c[b]=c[l];d[b]=d[l];b=l}c[b]=f;d[b]=g;gg(a,h,b)}function gg(a,b,c){var d=a.b;a=a.g;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(a[g]>f)d[c]=d[g],a[c]=a[g],c=g;else break}d[c]=e;a[c]=f}function hg(a){var b=a.o,c=a.b,d=a.g,e=0,f=c.length,g,h,l;for(h=0;h<f;++h)g=c[h],l=b(g),Infinity==l?delete a.a[a.f(g)]:(d[e]=l,c[e++]=g);c.length=e;d.length=e;for(b=(a.b.length>>1)-1;0<=b;b--)fg(a,b)};function ig(a,b){dg.call(this,function(b){return a.apply(null,b)},function(a){return a[0].bb()});this.v=b;this.j=0;this.i={}}v(ig,dg);ig.prototype.c=function(a){var b=dg.prototype.c.call(this,a);b&&B(a[0],"change",this.l,this);return b};ig.prototype.l=function(a){a=a.target;var b=a.W();if(b===cg||3===b||4===b||5===b)Ea(a,"change",this.l,this),a=a.bb(),a in this.i&&(delete this.i[a],--this.j),this.v()};
function jg(a,b,c){for(var d=0,e,f;a.j<b&&d<c&&0<a.b.length;)e=eg(a)[0],f=e.bb(),0!==e.W()||f in a.i||(a.i[f]=!0,++a.j,++d,e.load())};function kg(a,b,c){this.c=a;this.f=b;this.i=c;this.b=[];this.a=this.g=0};function lg(a){Sa.call(this);this.v=null;this.Ea(!0);this.handleEvent=a.handleEvent}v(lg,Sa);lg.prototype.f=function(){return this.get(mg)};lg.prototype.c=function(){return this.v};lg.prototype.Ea=function(a){this.set(mg,a)};lg.prototype.setMap=function(a){this.v=a};function ng(a,b,c,d){if(void 0!==b){var e=a.Ra(),f=a.fb();void 0!==e&&f&&0<d?a.animate({rotation:b,anchor:c,duration:d,easing:Cb}):a.rotate(b,c)}}function og(a,b,c,d){var e=a.Oa();b=a.constrainResolution(e,b,0);pg(a,b,c,d)}
function pg(a,b,c,d){if(b){var e=a.Oa(),f=a.fb();void 0!==e&&f&&b!==e&&d?a.animate({resolution:b,anchor:c,duration:d,easing:Cb}):(c&&(c=Nd(a,b,c),a.Mb(c)),a.Oc(b))}}var mg="active";function qg(a){a=a?a:{};this.a=a.delta?a.delta:1;lg.call(this,{handleEvent:rg});this.i=void 0!==a.duration?a.duration:250}v(qg,lg);function rg(a){var b=!1,c=a.originalEvent;if("dblclick"==a.type){var b=a.coordinate,c=c.shiftKey?-this.a:this.a,d=a.map.aa();og(d,c,b,this.i);a.preventDefault();b=!0}return!b};function sg(a){a=a.originalEvent;return a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}function tg(a){a=a.originalEvent;return 0==a.button&&!(kf&&lf&&a.ctrlKey)}function ug(a){return"pointermove"==a.type}function vg(a){return"singleclick"==a.type}function wg(a){a=a.originalEvent;return!a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey}function xg(a){a=a.originalEvent;return!a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}
function yg(a){a=a.originalEvent.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a}function zg(a){ha(a.b,56);return"mouse"==a.b.pointerType}function Ag(a){a=a.b;return a.isPrimary&&0===a.button};function Bg(a){a=a?a:{};lg.call(this,{handleEvent:a.handleEvent?a.handleEvent:Cg});this.Ve=a.handleDownEvent?a.handleDownEvent:nc;this.bf=a.handleDragEvent?a.handleDragEvent:ea;this.cf=a.handleMoveEvent?a.handleMoveEvent:ea;this.df=a.handleUpEvent?a.handleUpEvent:nc;this.A=!1;this.Z={};this.l=[]}v(Bg,lg);function Dg(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}
function Cg(a){if(!(a instanceof cf))return!0;var b=!1,c=a.type;if("pointerdown"===c||"pointerdrag"===c||"pointerup"===c)c=a.b,"pointerup"==a.type?delete this.Z[c.pointerId]:"pointerdown"==a.type?this.Z[c.pointerId]=c:c.pointerId in this.Z&&(this.Z[c.pointerId]=c),this.l=va(this.Z);this.A&&("pointerdrag"==a.type?this.bf(a):"pointerup"==a.type&&(this.A=this.df(a)));"pointerdown"==a.type?(this.A=a=this.Ve(a),b=this.Qc(a)):"pointermove"==a.type&&this.cf(a);return!b}Bg.prototype.Qc=function(a){return a};function Eg(a){Bg.call(this,{handleDownEvent:Fg,handleDragEvent:Gg,handleUpEvent:Hg});a=a?a:{};this.a=a.kinetic;this.i=null;this.o=a.condition?a.condition:wg;this.j=!1}v(Eg,Bg);function Gg(a){var b=Dg(this.l);this.a&&this.a.b.push(b[0],b[1],Date.now());if(this.i){var c=this.i[0]-b[0],d=b[1]-this.i[1];a=a.map.aa();var e=a.W(),c=[c,d];xb(c,e.resolution);wb(c,e.rotation);rb(c,e.center);c=a.Zd(c);a.Mb(c)}this.i=b}
function Hg(a){var b=a.map;a=b.aa();if(0===this.l.length){var c;if(c=!this.j&&this.a)if(c=this.a,6>c.b.length)c=!1;else{var d=Date.now()-c.i,e=c.b.length-3;if(c.b[e+2]<d)c=!1;else{for(var f=e-3;0<f&&c.b[f+2]>d;)f-=3;var d=c.b[e+2]-c.b[f+2],g=c.b[e]-c.b[f],e=c.b[e+1]-c.b[f+1];c.g=Math.atan2(e,g);c.a=Math.sqrt(g*g+e*e)/d;c=c.a>c.f}}c&&(c=this.a,c=(c.f-c.a)/c.c,e=this.a.g,f=a.fb(),f=b.Ga(f),b=b.Sa([f[0]-c*Math.cos(e),f[1]-c*Math.sin(e)]),a.animate({center:a.Zd(b),duration:500,easing:Cb}));Jd(a,1,-1);
return!1}this.i=null;return!0}function Fg(a){if(0<this.l.length&&this.o(a)){var b=a.map.aa();this.i=null;this.A||Jd(b,1,1);b.Mb(a.frameState.viewState.center);this.a&&(a=this.a,a.b.length=0,a.g=0,a.a=0);this.j=1<this.l.length;return!0}return!1}Eg.prototype.Qc=nc;function Ig(a){a=a?a:{};Bg.call(this,{handleDownEvent:Jg,handleDragEvent:Kg,handleUpEvent:Lg});this.i=a.condition?a.condition:sg;this.a=void 0;this.j=void 0!==a.duration?a.duration:250}v(Ig,Bg);function Kg(a){if(zg(a)){var b=a.map,c=b.nb();a=a.pixel;c=Math.atan2(c[1]/2-a[1],a[0]-c[0]/2);if(void 0!==this.a){a=c-this.a;var b=b.aa(),d=b.Ra();ng(b,d-a)}this.a=c}}function Lg(a){if(!zg(a))return!0;a=a.map.aa();Jd(a,1,-1);var b=a.Ra(),c=this.j,b=a.constrainRotation(b,0);ng(a,b,void 0,c);return!1}
function Jg(a){return zg(a)&&tg(a)&&this.i(a)?(Jd(a.map.aa(),1,1),this.a=void 0,!0):!1}Ig.prototype.Qc=nc;function Mg(a){this.f=null;this.a=document.createElement("div");this.a.style.position="absolute";this.a.className="ol-box "+a;this.g=this.c=this.b=null}v(Mg,Ga);Mg.prototype.oa=function(){this.setMap(null)};function Ng(a){var b=a.c,c=a.g;a=a.a.style;a.left=Math.min(b[0],c[0])+"px";a.top=Math.min(b[1],c[1])+"px";a.width=Math.abs(c[0]-b[0])+"px";a.height=Math.abs(c[1]-b[1])+"px"}
Mg.prototype.setMap=function(a){if(this.b){this.b.A.removeChild(this.a);var b=this.a.style;b.left=b.top=b.width=b.height="inherit"}(this.b=a)&&this.b.A.appendChild(this.a)};function Og(a){var b=a.c,c=a.g,b=[b,[b[0],c[1]],c,[c[0],b[1]]].map(a.b.Sa,a.b);b[4]=b[0].slice();a.f?a.f.qa([b]):a.f=new E([b])}Mg.prototype.V=function(){return this.f};function Pg(a){Bg.call(this,{handleDownEvent:Qg,handleDragEvent:Rg,handleUpEvent:Sg});a=a?a:{};this.a=new Mg(a.className||"ol-dragbox");this.i=null;this.u=a.condition?a.condition:mc;this.o=a.boxEndCondition?a.boxEndCondition:Tg}v(Pg,Bg);function Tg(a,b,c){a=c[0]-b[0];b=c[1]-b[1];return 64<=a*a+b*b}function Rg(a){if(zg(a)){var b=this.a,c=a.pixel;b.c=this.i;b.g=c;Og(b);Ng(b);this.b(new Ug(Vg,a.coordinate,a))}}Pg.prototype.V=function(){return this.a.V()};Pg.prototype.j=ea;
function Sg(a){if(!zg(a))return!0;this.a.setMap(null);this.o(a,this.i,a.pixel)&&(this.j(a),this.b(new Ug(Wg,a.coordinate,a)));return!1}function Qg(a){if(zg(a)&&tg(a)&&this.u(a)){this.i=a.pixel;this.a.setMap(a.map);var b=this.a,c=this.i;b.c=this.i;b.g=c;Og(b);Ng(b);this.b(new Ug(Xg,a.coordinate,a));return!0}return!1}var Xg="boxstart",Vg="boxdrag",Wg="boxend";function Ug(a,b,c){Ia.call(this,a);this.coordinate=b;this.mapBrowserEvent=c}v(Ug,Ia);function Yg(a){a=a?a:{};var b=a.condition?a.condition:xg;this.C=void 0!==a.duration?a.duration:200;this.D=void 0!==a.out?a.out:!1;Pg.call(this,{condition:b,className:a.className||"ol-dragzoom"})}v(Yg,Pg);
Yg.prototype.j=function(){var a=this.v,b=a.aa(),c=a.nb(),d=this.V().G();if(this.D){var e=b.Uc(c),d=[a.Ga(Yb(d)),a.Ga($b(d))],a=Rb(Infinity,Infinity,-Infinity,-Infinity,void 0),f,g;f=0;for(g=d.length;f<g;++f)Ib(a,d[f]);kc(e,1/Pd(a,c));d=e}c=b.constrainResolution(Pd(d,c));b.animate({resolution:c,center:gc(d),duration:this.C,easing:Cb})};function Zg(a){lg.call(this,{handleEvent:$g});a=a||{};this.a=function(a){return wg(a)&&yg(a)};this.i=void 0!==a.condition?a.condition:this.a;this.j=void 0!==a.duration?a.duration:100;this.l=void 0!==a.pixelDelta?a.pixelDelta:128}v(Zg,lg);
function $g(a){var b=!1;if("keydown"==a.type){var c=a.originalEvent.keyCode;if(this.i(a)&&(40==c||37==c||39==c||38==c)){var b=a.map.aa(),d=b.Oa()*this.l,e=0,f=0;40==c?f=-d:37==c?e=-d:39==c?e=d:f=d;d=[e,f];wb(d,b.Ra());c=this.j;if(e=b.fb())d=b.Zd([e[0]+d[0],e[1]+d[1]]),c?b.animate({duration:c,easing:Eb,center:d}):b.Mb(d);a.preventDefault();b=!0}}return!b};function ah(a){lg.call(this,{handleEvent:bh});a=a?a:{};this.i=a.condition?a.condition:yg;this.a=a.delta?a.delta:1;this.j=void 0!==a.duration?a.duration:100}v(ah,lg);function bh(a){var b=!1;if("keydown"==a.type||"keypress"==a.type){var c=a.originalEvent.charCode;!this.i(a)||43!=c&&45!=c||(b=43==c?this.a:-this.a,c=a.map.aa(),og(c,b,void 0,this.j),a.preventDefault(),b=!0)}return!b};function ch(a){lg.call(this,{handleEvent:dh});a=a||{};this.j=0;this.L=void 0!==a.duration?a.duration:250;this.U=void 0!==a.timeout?a.timeout:80;this.A=void 0!==a.useAnchor?a.useAnchor:!0;this.a=null;this.o=this.l=this.u=this.i=void 0}v(ch,lg);
function dh(a){var b=a.type;if("wheel"!==b&&"mousewheel"!==b)return!0;a.preventDefault();var b=a.map,c=a.originalEvent;this.A&&(this.a=a.coordinate);var d;"wheel"==a.type?(d=c.deltaY,hf&&c.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(d/=mf),c.deltaMode===WheelEvent.DOM_DELTA_LINE&&(d*=40)):"mousewheel"==a.type&&(d=-c.wheelDeltaY,jf&&(d/=3));if(0===d)return!1;a=Date.now();void 0===this.i&&(this.i=a);if(!this.l||400<a-this.i)this.l=4>Math.abs(d)?eh:fh;if(this.l===eh){b=b.aa();this.o?clearTimeout(this.o):
Jd(b,1,1);this.o=setTimeout(this.C.bind(this),400);d=b.Oa()*Math.pow(2,d/300);var c=b.j,e=b.a,f=0;d<c?(d=Math.max(d,c/1.5),f=1):d>e&&(d=Math.min(d,1.5*e),f=-1);if(this.a){var g=Nd(b,d,this.a);b.Mb(g)}b.Oc(d);0<f?b.animate({resolution:c,easing:Cb,anchor:this.a,duration:500}):0>f&&b.animate({resolution:e,easing:Cb,anchor:this.a,duration:500});this.i=a;return!1}this.j+=d;a=Math.max(this.U-(a-this.i),0);clearTimeout(this.u);this.u=setTimeout(this.D.bind(this,b),a);return!1}
ch.prototype.C=function(){this.o=void 0;Jd(this.v.aa(),1,-1)};ch.prototype.D=function(a){a=a.aa();0<Md(a)[Kd]&&Ld(a);og(a,-ia(this.j,-1,1),this.a,this.L);this.l=void 0;this.j=0;this.a=null;this.u=this.i=void 0};ch.prototype.P=function(a){this.A=a;a||(this.a=null)};var eh="trackpad",fh="wheel";function gh(a){Bg.call(this,{handleDownEvent:hh,handleDragEvent:ih,handleUpEvent:jh});a=a||{};this.i=null;this.j=void 0;this.a=!1;this.o=0;this.C=void 0!==a.threshold?a.threshold:.3;this.u=void 0!==a.duration?a.duration:250}v(gh,Bg);
function ih(a){var b=0,c=this.l[0],d=this.l[1],c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);void 0!==this.j&&(b=c-this.j,this.o+=b,!this.a&&Math.abs(this.o)>this.C&&(this.a=!0));this.j=c;a=a.map;c=a.f.getBoundingClientRect();d=Dg(this.l);d[0]-=c.left;d[1]-=c.top;this.i=a.Sa(d);this.a&&(c=a.aa(),d=c.Ra(),a.render(),ng(c,d+b,this.i))}
function jh(a){if(2>this.l.length){a=a.map.aa();Jd(a,1,-1);if(this.a){var b=a.Ra(),c=this.i,d=this.u,b=a.constrainRotation(b,0);ng(a,b,c,d)}return!1}return!0}function hh(a){return 2<=this.l.length?(a=a.map,this.i=null,this.j=void 0,this.a=!1,this.o=0,this.A||Jd(a.aa(),1,1),!0):!1}gh.prototype.Qc=nc;function kh(a){Bg.call(this,{handleDownEvent:lh,handleDragEvent:nh,handleUpEvent:oh});a=a?a:{};this.o=a.constrainResolution||!1;this.i=null;this.u=void 0!==a.duration?a.duration:400;this.a=void 0;this.j=1}v(kh,Bg);
function nh(a){var b=1,c=this.l[0],d=this.l[1],e=c.clientX-d.clientX,c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c);void 0!==this.a&&(b=this.a/e);this.a=e;1!=b&&(this.j=b);a=a.map;var e=a.aa(),c=e.Oa(),d=a.f.getBoundingClientRect(),f=Dg(this.l);f[0]-=d.left;f[1]-=d.top;this.i=a.Sa(f);a.render();pg(e,c*b,this.i)}function oh(a){if(2>this.l.length){a=a.map.aa();Jd(a,1,-1);if(this.o){var b=a.Oa(),c=this.i,d=this.u,b=a.constrainResolution(b,0,this.j-1);pg(a,b,c,d)}return!1}return!0}
function lh(a){return 2<=this.l.length?(a=a.map,this.i=null,this.a=void 0,this.j=1,this.A||Jd(a.aa(),1,1),!0):!1}kh.prototype.Qc=nc;function ph(a){a=a?a:{};var b=new qe,c=new kg(-.005,.05,100);(void 0!==a.altShiftDragRotate?a.altShiftDragRotate:1)&&b.push(new Ig);(void 0!==a.doubleClickZoom?a.doubleClickZoom:1)&&b.push(new qg({delta:a.zoomDelta,duration:a.zoomDuration}));(void 0!==a.dragPan?a.dragPan:1)&&b.push(new Eg({kinetic:c}));(void 0!==a.pinchRotate?a.pinchRotate:1)&&b.push(new gh);(void 0!==a.pinchZoom?a.pinchZoom:1)&&b.push(new kh({duration:a.zoomDuration}));if(void 0!==a.keyboard?a.keyboard:1)b.push(new Zg),b.push(new ah({delta:a.zoomDelta,
duration:a.zoomDuration}));(void 0!==a.mouseWheelZoom?a.mouseWheelZoom:1)&&b.push(new ch({duration:a.zoomDuration}));(void 0!==a.shiftDragZoom?a.shiftDragZoom:1)&&b.push(new Yg({duration:a.zoomDuration}));return b};function qh(a){Sa.call(this);var b=ta({},a);b[rh]=void 0!==a.opacity?a.opacity:1;b[sh]=void 0!==a.visible?a.visible:!0;b[th]=void 0!==a.zIndex?a.zIndex:0;b[uh]=void 0!==a.maxResolution?a.maxResolution:Infinity;b[vh]=void 0!==a.minResolution?a.minResolution:0;this.I(b);this.a={layer:this,me:!0}}v(qh,Sa);function wh(a){a.a.opacity=ia(a.Yb(),0,1);a.a.Ei=a.uf();a.a.visible=a.Fb();a.a.extent=a.G();a.a.zIndex=a.Zb();a.a.maxResolution=a.Wb();a.a.minResolution=Math.max(a.Xb(),0);return a.a}k=qh.prototype;
k.G=function(){return this.get(xh)};k.Wb=function(){return this.get(uh)};k.Xb=function(){return this.get(vh)};k.Yb=function(){return this.get(rh)};k.Fb=function(){return this.get(sh)};k.Zb=function(){return this.get(th)};k.kc=function(a){this.set(xh,a)};k.pc=function(a){this.set(uh,a)};k.qc=function(a){this.set(vh,a)};k.lc=function(a){this.set(rh,a)};k.mc=function(a){this.set(sh,a)};k.nc=function(a){this.set(th,a)};var rh="opacity",sh="visible",xh="extent",th="zIndex",uh="maxResolution",vh="minResolution";function yh(a){var b=a||{};a=ta({},b);delete a.layers;b=b.layers;qh.call(this,a);this.c=[];this.f={};B(this,Ua(zh),this.Wk,this);b?Array.isArray(b)?b=new qe(b.slice()):ha(b instanceof qe,43):b=new qe;this.yh(b)}v(yh,qh);k=yh.prototype;k.ie=function(){this.Fb()&&this.s()};
k.Wk=function(){this.c.forEach(ya);this.c.length=0;var a=this.cd();this.c.push(B(a,ue,this.Vk,this),B(a,ve,this.Xk,this));for(var b in this.f)this.f[b].forEach(ya);ua(this.f);var a=a.a,c,d;b=0;for(c=a.length;b<c;b++)d=a[b],this.f[x(d).toString()]=[B(d,Xa,this.ie,this),B(d,"change",this.ie,this)];this.s()};k.Vk=function(a){a=a.element;var b=x(a).toString();this.f[b]=[B(a,Xa,this.ie,this),B(a,"change",this.ie,this)];this.s()};
k.Xk=function(a){a=x(a.element).toString();this.f[a].forEach(ya);delete this.f[a];this.s()};k.cd=function(){return this.get(zh)};k.yh=function(a){this.set(zh,a)};
k.sf=function(a){var b=void 0!==a?a:[],c=b.length;this.cd().forEach(function(a){a.sf(b)});a=wh(this);var d,e;for(d=b.length;c<d;c++)e=b[c],e.opacity*=a.opacity,e.visible=e.visible&&a.visible,e.maxResolution=Math.min(e.maxResolution,a.maxResolution),e.minResolution=Math.max(e.minResolution,a.minResolution),void 0!==a.extent&&(e.extent=void 0!==e.extent?ic(e.extent,a.extent):a.extent);return b};k.uf=function(){return"ready"};var zh="layers";function Ah(a){sc.call(this,{code:a,units:"m",extent:Bh,global:!0,worldExtent:Ch,getPointResolution:function(a,c){return a/ja(c[1]/6378137)}})}v(Ah,sc);var Dh=6378137*Math.PI,Bh=[-Dh,-Dh,Dh,Dh],Ch=[-180,-85,180,85],Ec="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(a){return new Ah(a)});
function Fc(a,b,c){var d=a.length;c=1<c?c:2;void 0===b&&(2<c?b=a.slice():b=Array(d));for(var e=0;e<d;e+=c){b[e]=Dh*a[e]/180;var f=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));f>Dh?f=Dh:f<-Dh&&(f=-Dh);b[e+1]=f}return b}function Gc(a,b,c){var d=a.length;c=1<c?c:2;void 0===b&&(2<c?b=a.slice():b=Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/Dh,b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b};var Eh=new oc(6378137);function Fh(a,b){sc.call(this,{code:a,units:"degrees",extent:Gh,axisOrientation:b,global:!0,metersPerUnit:Hh,worldExtent:Gh})}v(Fh,sc);var Gh=[-180,-90,180,90],Hh=Math.PI*Eh.radius/180,Hc=[new Fh("CRS:84"),new Fh("EPSG:4326","neu"),new Fh("urn:ogc:def:crs:EPSG::4326","neu"),new Fh("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Fh("urn:ogc:def:crs:OGC:1.3:CRS84"),new Fh("urn:ogc:def:crs:OGC:2:84"),new Fh("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Fh("urn:x-ogc:def:crs:EPSG:4326","neu")];function Ih(){Ac(Ec);Ac(Hc);Dc()};function Jh(a,b,c,d,e){Ia.call(this,a);this.vectorContext=b;this.frameState=c;this.context=d;this.glContext=e}v(Jh,Ia);function Kh(a){var b=ta({},a);delete b.source;qh.call(this,b);this.A=this.v=this.o=null;a.map&&this.setMap(a.map);B(this,Ua("source"),this.il,this);this.Pc(a.source?a.source:null)}v(Kh,qh);function Lh(a,b){return a.visible&&b>=a.minResolution&&b<a.maxResolution}k=Kh.prototype;k.sf=function(a){a=a?a:[];a.push(wh(this));return a};k.la=function(){return this.get("source")||null};k.uf=function(){var a=this.la();return a?a.W():"undefined"};k.Rm=function(){this.s()};
k.il=function(){this.A&&(ya(this.A),this.A=null);var a=this.la();a&&(this.A=B(a,"change",this.Rm,this));this.s()};k.setMap=function(a){this.o&&(ya(this.o),this.o=null);a||this.s();this.v&&(ya(this.v),this.v=null);a&&(this.o=B(a,"precompose",function(a){var c=wh(this);c.me=!1;c.zIndex=Infinity;a.frameState.layerStatesArray.push(c);a.frameState.layerStates[x(this)]=c},this),this.v=B(this,"change",a.render,a),this.s())};k.Pc=function(a){this.set("source",a)};function Mh(){this.b={};this.a=0}Mh.prototype.clear=function(){this.b={};this.a=0};Mh.prototype.get=function(a,b,c){a=b+":"+a+":"+(c?Ae(c):"null");return a in this.b?this.b[a]:null};Mh.prototype.set=function(a,b,c,d){this.b[b+":"+a+":"+(c?Ae(c):"null")]=d;++this.a};var Nh=new Mh;var Oh=Array(6);function Ph(){return[1,0,0,1,0,0]}function Qh(a){return Rh(a,1,0,0,1,0,0)}function Sh(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],l=b[0],m=b[1],p=b[2],n=b[3],q=b[4],r=b[5];a[0]=c*l+e*m;a[1]=d*l+f*m;a[2]=c*p+e*n;a[3]=d*p+f*n;a[4]=c*q+e*r+g;a[5]=d*q+f*r+h;return a}function Rh(a,b,c,d,e,f,g){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;return a}function Th(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}
function Uh(a,b){var c=b[0],d=b[1];b[0]=a[0]*c+a[2]*d+a[4];b[1]=a[1]*c+a[3]*d+a[5];return b}function Vh(a,b){var c=Math.cos(b),d=Math.sin(b);Sh(a,Rh(Oh,c,d,-d,c,0,0))}function Wh(a,b,c){return Sh(a,Rh(Oh,b,0,0,c,0,0))}function Xh(a,b,c){Sh(a,Rh(Oh,1,0,0,1,b,c))}function Yh(a,b,c,d,e,f,g,h){var l=Math.sin(f);f=Math.cos(f);a[0]=d*f;a[1]=e*l;a[2]=-d*l;a[3]=e*f;a[4]=g*d*f-h*d*l+b;a[5]=g*e*l+h*e*f+c;return a}
function Zh(a){var b=a[0]*a[3]-a[1]*a[2];ha(0!==b,32);var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5];a[0]=f/b;a[1]=-d/b;a[2]=-e/b;a[3]=c/b;a[4]=(e*h-f*g)/b;a[5]=-(c*h-d*g)/b;return a};function $h(a,b){this.l=b;this.f={};this.v={}}v($h,Ga);function ai(a){var b=a.viewState,c=a.coordinateToPixelTransform,d=a.pixelToCoordinateTransform;Yh(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]);Zh(Th(d,c))}k=$h.prototype;k.oa=function(){for(var a in this.f)Ha(this.f[a])};function bi(){if(32<Nh.a){var a=0,b,c;for(b in Nh.b)c=Nh.b[b],0!==(a++&3)||Oa(c)||(delete Nh.b[b],--Nh.a)}}
k.Ba=function(a,b,c,d,e,f,g){function h(a,c){var f=x(a).toString(),g=b.layerStates[x(c)].me;if(!(f in b.skippedFeatureUids)||g)return d.call(e,a,g?c:null)}var l,m=b.viewState,p=m.resolution,n=m.projection,m=a;if(n.a){var n=n.G(),q=dc(n),r=a[0];if(r<n[0]||r>n[2])m=[r+q*Math.ceil((n[0]-r)/q),a[1]]}n=b.layerStatesArray;for(q=n.length-1;0<=q;--q){var u=n[q],r=u.layer;if(Lh(u,p)&&f.call(g,r)&&(u=ci(this,r),r.la()&&(l=u.Ba(r.la().D?m:a,b,c,h,e)),l))return l}};
k.Ch=function(a,b,c,d,e){return void 0!==this.Ba(a,b,c,mc,this,d,e)};function ci(a,b){var c=x(b).toString();if(c in a.f)return a.f[c];var d=a.Ag(b);a.f[c]=d;a.v[c]=B(d,"change",a.Uk,a);return d}k.Uk=function(){this.l.render()};k.ag=ea;k.Yo=function(a,b){for(var c in this.f)if(!(b&&c in b.layerStates)){var d=c,e=this.f[d];delete this.f[d];ya(this.v[d]);delete this.v[d];Ha(e)}};function di(a,b){for(var c in a.f)if(!(c in b.layerStates)){b.postRenderFunctions.push(a.Yo.bind(a));break}}
function fb(a,b){return a.zIndex-b.zIndex};function ei(a){Kh.call(this,a?a:{})}v(ei,Kh);function F(a){a=a?a:{};var b=ta({},a);delete b.preload;delete b.useInterimTilesOnError;Kh.call(this,b);this.l(void 0!==a.preload?a.preload:0);this.C(void 0!==a.useInterimTilesOnError?a.useInterimTilesOnError:!0)}v(F,Kh);F.prototype.f=function(){return this.get(fi)};F.prototype.l=function(a){this.set(fi,a)};F.prototype.c=function(){return this.get(gi)};F.prototype.C=function(a){this.set(gi,a)};var fi="preload",gi="useInterimTilesOnError";function hi(a,b,c,d,e){Na.call(this);this.j=e;this.extent=a;this.f=c;this.resolution=b;this.state=d}v(hi,Na);hi.prototype.s=function(){this.b("change")};hi.prototype.G=function(){return this.extent};hi.prototype.W=function(){return this.state};function ii(a,b,c,d,e,f,g){hi.call(this,a,b,c,ji,d);this.o=e;this.g=new Image;null!==f&&(this.g.crossOrigin=f);this.i={};this.c=null;this.state=ji;this.l=g}v(ii,hi);ii.prototype.a=function(a){if(void 0!==a){var b;a=x(a);if(a in this.i)return this.i[a];wa(this.i)?b=this.g:b=this.g.cloneNode(!1);return this.i[a]=b}return this.g};ii.prototype.v=function(){this.state=ki;this.c.forEach(ya);this.c=null;this.s()};
ii.prototype.H=function(){void 0===this.resolution&&(this.resolution=ec(this.extent)/this.g.height);this.state=li;this.c.forEach(ya);this.c=null;this.s()};ii.prototype.load=function(){if(this.state==ji||this.state==ki)this.state=mi,this.s(),this.c=[Da(this.g,"error",this.v,this),Da(this.g,"load",this.H,this)],this.l(this,this.o)};var ji=0,mi=1,li=2,ki=3;var ni=[0,0,0,1],oi=[],pi=[0,0,0,1];function qi(a,b,c,d){0!==b&&(a.translate(c,d),a.rotate(b),a.translate(-c,-d))};function ri(a){this.l=a.opacity;this.H=a.rotateWithView;this.o=a.rotation;this.i=a.scale;this.u=a.snapToPixel}k=ri.prototype;k.ye=function(){return this.l};k.ze=function(){return this.H};k.Ae=function(){return this.o};k.Be=function(){return this.i};k.ee=function(){return this.u};k.dd=function(a){this.l=a};k.Ce=function(a){this.o=a};k.ed=function(a){this.i=a};function si(a){this.C=this.A=this.j=null;this.f=void 0!==a.fill?a.fill:null;this.P=[0,0];this.b=a.points;this.a=void 0!==a.radius?a.radius:a.radius1;this.c=void 0!==a.radius2?a.radius2:this.a;this.v=void 0!==a.angle?a.angle:0;this.g=void 0!==a.stroke?a.stroke:null;this.L=this.va=this.U=this.ra=null;this.D=a.atlasManager;ti(this,this.D);ri.call(this,{opacity:1,rotateWithView:void 0!==a.rotateWithView?a.rotateWithView:!1,rotation:void 0!==a.rotation?a.rotation:0,scale:1,snapToPixel:void 0!==a.snapToPixel?
a.snapToPixel:!0})}v(si,ri);k=si.prototype;k.clone=function(){var a=new si({fill:this.f?this.f.clone():void 0,points:this.c!==this.a?this.b/2:this.b,radius:this.a,radius2:this.c,angle:this.v,snapToPixel:this.u,stroke:this.g?this.g.clone():void 0,rotation:this.o,rotateWithView:this.H,atlasManager:this.D});a.dd(this.l);a.ed(this.i);return a};k.Ac=function(){return this.ra};k.Nh=function(){return this.v};k.Oh=function(){return this.f};k.Lf=function(){return this.C};k.Ic=function(){return this.A};
k.de=function(){return this.va};k.xe=function(){return li};k.Jc=function(){return this.P};k.Ph=function(){return this.b};k.Qh=function(){return this.a};k.Vg=function(){return this.c};k.ac=function(){return this.U};k.Rh=function(){return this.g};k.eh=ea;k.load=ea;k.Ii=ea;
function ti(a,b){var c,d="",e="",f=0,g=null,h,l=0;a.g&&(h=Ce(a.g.b),l=a.g.f,void 0===l&&(l=1),g=a.g.g,nf||(g=null),e=a.g.i,void 0===e&&(e="round"),d=a.g.c,void 0===d&&(d="round"),f=a.g.j,void 0===f&&(f=10));var m=2*(a.a+l)+1,d={strokeStyle:h,Fi:l,size:m,lineCap:d,lineDash:g,lineJoin:e,miterLimit:f};void 0===b?(e=De(m,m),a.A=e.canvas,c=m=a.A.width,a.Eg(d,e,0,0),a.L=[d.size,d.size],a.f?a.C=a.A:(e=De(d.size,d.size),a.C=e.canvas,a.Dg(d,e,0,0))):(m=Math.round(m),(e=!a.f)&&(c=a.Dg.bind(a,d)),a.g?(f=a.g,
void 0===f.a&&(f.a="s",f.a=f.b?"string"===typeof f.b?f.a+f.b:f.a+x(f.b).toString():f.a+"-",f.a+=","+(void 0!==f.c?f.c.toString():"-")+","+(f.g?f.g.toString():"-")+","+(void 0!==f.i?f.i:"-")+","+(void 0!==f.j?f.j.toString():"-")+","+(void 0!==f.f?f.f.toString():"-")),f=f.a):f="-",a.f?(g=a.f,void 0===g.a&&(g.a=g.b instanceof CanvasPattern||g.b instanceof CanvasGradient?x(g.b).toString():"f"+(g.b?Ae(g.b):"-")),g=g.a):g="-",a.j&&f==a.j[1]&&g==a.j[2]&&a.a==a.j[3]&&a.c==a.j[4]&&a.v==a.j[5]&&a.b==a.j[6]||
(a.j=["r"+f+g+(void 0!==a.a?a.a.toString():"-")+(void 0!==a.c?a.c.toString():"-")+(void 0!==a.v?a.v.toString():"-")+(void 0!==a.b?a.b.toString():"-"),f,g,a.a,a.c,a.v,a.b]),d=b.add(a.j[0],m,m,a.Eg.bind(a,d),c),a.A=d.image,a.P=[d.offsetX,d.offsetY],c=d.image.width,e?(a.C=d.yf,a.L=[d.yf.width,d.yf.height]):(a.C=a.A,a.L=[c,c]));a.ra=[m/2,m/2];a.U=[m,m];a.va=[c,c]}
k.Eg=function(a,b,c,d){var e;b.setTransform(1,0,0,1,0,0);b.translate(c,d);b.beginPath();if(Infinity===this.b)b.arc(a.size/2,a.size/2,this.a,0,2*Math.PI,!0);else for(this.c!==this.a&&(this.b*=2),c=0;c<=this.b;c++)d=2*c*Math.PI/this.b-Math.PI/2+this.v,e=0===c%2?this.a:this.c,b.lineTo(a.size/2+e*Math.cos(d),a.size/2+e*Math.sin(d));this.f&&(b.fillStyle=Ce(this.f.b),b.fill());this.g&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.Fi,a.lineDash&&b.setLineDash(a.lineDash),b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,
b.miterLimit=a.miterLimit,b.stroke());b.closePath()};
k.Dg=function(a,b,c,d){b.setTransform(1,0,0,1,0,0);b.translate(c,d);b.beginPath();if(Infinity===this.b)b.arc(a.size/2,a.size/2,this.a,0,2*Math.PI,!0);else{this.c!==this.a&&(this.b*=2);var e;for(c=0;c<=this.b;c++)e=2*c*Math.PI/this.b-Math.PI/2+this.v,d=0===c%2?this.a:this.c,b.lineTo(a.size/2+d*Math.cos(e),a.size/2+d*Math.sin(e))}b.fillStyle=ni;b.fill();this.g&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.Fi,a.lineDash&&b.setLineDash(a.lineDash),b.stroke());b.closePath()};function ui(a){a=a||{};si.call(this,{points:Infinity,fill:a.fill,radius:a.radius,snapToPixel:a.snapToPixel,stroke:a.stroke,atlasManager:a.atlasManager})}v(ui,si);ui.prototype.clone=function(){var a=new ui({fill:this.f?this.f.clone():void 0,stroke:this.g?this.g.clone():void 0,radius:this.a,snapToPixel:this.u,atlasManager:this.D});a.dd(this.l);a.ed(this.i);return a};ui.prototype.Qa=function(a){this.a=a;ti(this,this.D)};function vi(a){a=a||{};this.b=void 0!==a.color?a.color:null;this.a=void 0}vi.prototype.clone=function(){var a=this.b;return new vi({color:a&&a.slice?a.slice():a||void 0})};vi.prototype.g=function(){return this.b};vi.prototype.f=function(a){this.b=a;this.a=void 0};function wi(a){a=a||{};this.b=void 0!==a.color?a.color:null;this.c=a.lineCap;this.g=void 0!==a.lineDash?a.lineDash:null;this.i=a.lineJoin;this.j=a.miterLimit;this.f=a.width;this.a=void 0}k=wi.prototype;k.clone=function(){var a=this.b;return new wi({color:a&&a.slice?a.slice():a||void 0,lineCap:this.c,lineDash:this.g?this.g.slice():void 0,lineJoin:this.i,miterLimit:this.j,width:this.f})};k.In=function(){return this.b};k.kk=function(){return this.c};k.Jn=function(){return this.g};k.lk=function(){return this.i};
k.rk=function(){return this.j};k.Kn=function(){return this.f};k.Ln=function(a){this.b=a;this.a=void 0};k.ip=function(a){this.c=a;this.a=void 0};k.setLineDash=function(a){this.g=a;this.a=void 0};k.jp=function(a){this.i=a;this.a=void 0};k.kp=function(a){this.j=a;this.a=void 0};k.np=function(a){this.f=a;this.a=void 0};function xi(a){a=a||{};this.i=null;this.c=yi;void 0!==a.geometry&&this.Pa(a.geometry);this.f=void 0!==a.fill?a.fill:null;this.a=void 0!==a.image?a.image:null;this.g=void 0!==a.stroke?a.stroke:null;this.j=void 0!==a.text?a.text:null;this.b=a.zIndex}k=xi.prototype;k.clone=function(){var a=this.V();a&&a.clone&&(a=a.clone());return new xi({geometry:a,fill:this.f?this.f.clone():void 0,image:this.a?this.a.clone():void 0,stroke:this.g?this.g.clone():void 0,text:this.Ka()?this.Ka().clone():void 0,zIndex:this.b})};
k.V=function(){return this.i};k.fk=function(){return this.c};k.Mn=function(){return this.f};k.Qn=function(a){this.f=a};k.Nn=function(){return this.a};k.Rn=function(a){this.a=a};k.On=function(){return this.g};k.Sn=function(a){this.g=a};k.Ka=function(){return this.j};k.Tn=function(a){this.j=a};k.Pn=function(){return this.b};k.Pa=function(a){"function"===typeof a?this.c=a:"string"===typeof a?this.c=function(b){return b.get(a)}:a?a&&(this.c=function(){return a}):this.c=yi;this.i=a};
k.Un=function(a){this.b=a};function zi(a){if("function"!==typeof a){var b;Array.isArray(a)?b=a:(ha(a instanceof xi,41),b=[a]);a=function(){return b}}return a}var Ai=null;function Bi(){if(!Ai){var a=new vi({color:"rgba(255,255,255,0.4)"}),b=new wi({color:"#3399CC",width:1.25});Ai=[new xi({image:new ui({fill:a,stroke:b,radius:5}),fill:a,stroke:b})]}return Ai}
function Ci(){var a={},b=[255,255,255,1],c=[0,153,255,1];a.Polygon=[new xi({fill:new vi({color:[255,255,255,.5]})})];a.MultiPolygon=a.Polygon;a.LineString=[new xi({stroke:new wi({color:b,width:5})}),new xi({stroke:new wi({color:c,width:3})})];a.MultiLineString=a.LineString;a.Circle=a.Polygon.concat(a.LineString);a.Point=[new xi({image:new ui({radius:6,fill:new vi({color:c}),stroke:new wi({color:b,width:1.5})}),zIndex:Infinity})];a.MultiPoint=a.Point;a.GeometryCollection=a.Polygon.concat(a.LineString,
a.Point);return a}function yi(a){return a.V()};function G(a){a=a?a:{};var b=ta({},a);delete b.style;delete b.renderBuffer;delete b.updateWhileAnimating;delete b.updateWhileInteracting;Kh.call(this,b);this.i=void 0!==a.renderBuffer?a.renderBuffer:100;this.C=null;this.j=void 0;this.l(a.style);this.Z=void 0!==a.updateWhileAnimating?a.updateWhileAnimating:!1;this.fa=void 0!==a.updateWhileInteracting?a.updateWhileInteracting:!1}v(G,Kh);G.prototype.D=function(){return this.C};G.prototype.L=function(){return this.j};
G.prototype.l=function(a){this.C=void 0!==a?a:Bi;this.j=null===a?void 0:zi(this.C);this.s()};function H(a){a=a?a:{};var b=ta({},a);delete b.preload;delete b.useInterimTilesOnError;G.call(this,b);this.P(a.preload?a.preload:0);this.U(a.useInterimTilesOnError?a.useInterimTilesOnError:!0);ha(void 0==a.renderMode||a.renderMode==Di||a.renderMode==Ei||a.renderMode==Fi,28);this.u=a.renderMode||Ei}v(H,G);H.prototype.f=function(){return this.get(Gi)};H.prototype.c=function(){return this.get(Hi)};H.prototype.P=function(a){this.set(fi,a)};H.prototype.U=function(a){this.set(gi,a)};
var Gi="preload",Hi="useInterimTilesOnError",Di="image",Ei="hybrid",Fi="vector";function Ii(){};function Ji(a,b,c,d,e){this.f=a;this.A=b;this.c=c;this.C=d;this.fc=e;this.i=this.b=this.a=this.Z=this.Qa=this.U=null;this.fa=this.eb=this.H=this.ra=this.L=this.D=0;this.sa=!1;this.j=this.zb=0;this.na=!1;this.va=0;this.g="";this.xa=this.Fa=0;this.Ja=!1;this.o=this.Ua=0;this.P=this.v=this.l=null;this.u=[];this.Ob=Ph()}v(Ji,Ii);
function Ki(a,b,c){if(a.i){b=Sc(b,0,c,2,a.C,a.u);c=a.f;var d=a.Ob,e=c.globalAlpha;1!=a.H&&(c.globalAlpha=e*a.H);var f=a.zb;a.sa&&(f+=a.fc);var g,h;g=0;for(h=b.length;g<h;g+=2){var l=b[g]-a.D,m=b[g+1]-a.L;a.na&&(l=Math.round(l),m=Math.round(m));if(0!==f||1!=a.j){var p=l+a.D,n=m+a.L;Yh(d,p,n,a.j,a.j,f,-p,-n);c.setTransform.apply(c,d)}c.drawImage(a.i,a.eb,a.fa,a.va,a.ra,l,m,a.va,a.ra)}0===f&&1==a.j||c.setTransform(1,0,0,1,0,0);1!=a.H&&(c.globalAlpha=e)}}
function Li(a,b,c,d){var e=0;if(a.P&&""!==a.g){a.l&&Mi(a,a.l);a.v&&Ni(a,a.v);var f=a.P,g=a.f,h=a.Z;h?(h.font!=f.font&&(h.font=g.font=f.font),h.textAlign!=f.textAlign&&(h.textAlign=g.textAlign=f.textAlign),h.textBaseline!=f.textBaseline&&(h.textBaseline=g.textBaseline=f.textBaseline)):(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.Z={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline});b=Sc(b,e,c,d,a.C,a.u);f=a.f;g=a.Ua;for(a.Ja&&(g+=a.fc);e<c;e+=d){var h=b[e]+a.Fa,
l=b[e+1]+a.xa;if(0!==g||1!=a.o){var m=Yh(a.Ob,h,l,a.o,a.o,g,-h,-l);f.setTransform.apply(f,m)}a.v&&f.strokeText(a.g,h,l);a.l&&f.fillText(a.g,h,l)}0===g&&1==a.o||f.setTransform(1,0,0,1,0,0)}}function Oi(a,b,c,d,e,f){var g=a.f;a=Sc(b,c,d,e,a.C,a.u);g.moveTo(a[0],a[1]);b=a.length;f&&(b-=2);for(c=2;c<b;c+=2)g.lineTo(a[c],a[c+1]);f&&g.closePath();return d}function Pi(a,b,c,d,e){var f,g;f=0;for(g=d.length;f<g;++f)c=Oi(a,b,c,d[f],e,!0);return c}k=Ji.prototype;
k.hc=function(a){if(jc(this.c,a.G())){if(this.a||this.b){this.a&&Mi(this,this.a);this.b&&Ni(this,this.b);var b;b=this.C;var c=this.u,d=a.ia();b=d?Sc(d,0,d.length,a.pa(),b,c):null;c=b[2]-b[0];d=b[3]-b[1];c=Math.sqrt(c*c+d*d);d=this.f;d.beginPath();d.arc(b[0],b[1],c,0,2*Math.PI);this.a&&d.fill();this.b&&d.stroke()}""!==this.g&&Li(this,a.Fd(),2,2)}};k.Gd=function(a){this.Ma(a.f,a.g);this.dc(a.a);this.$b(a.Ka())};
k.tc=function(a){switch(a.Y()){case "Point":this.xc(a);break;case "LineString":this.Pb(a);break;case "Polygon":this.yc(a);break;case "MultiPoint":this.vc(a);break;case "MultiLineString":this.uc(a);break;case "MultiPolygon":this.wc(a);break;case "GeometryCollection":this.kf(a);break;case "Circle":this.hc(a)}};k.jf=function(a,b){var c=(0,b.c)(a);c&&jc(this.c,c.G())&&(this.Gd(b),this.tc(c))};k.kf=function(a){a=a.f;var b,c;b=0;for(c=a.length;b<c;++b)this.tc(a[b])};
k.xc=function(a){var b=a.ia();a=a.pa();this.i&&Ki(this,b,b.length);""!==this.g&&Li(this,b,b.length,a)};k.vc=function(a){var b=a.ia();a=a.pa();this.i&&Ki(this,b,b.length);""!==this.g&&Li(this,b,b.length,a)};k.Pb=function(a){if(jc(this.c,a.G())){if(this.b){Ni(this,this.b);var b=this.f,c=a.ia();b.beginPath();Oi(this,c,0,c.length,a.pa(),!1);b.stroke()}""!==this.g&&(a=Qi(a),Li(this,a,2,2))}};
k.uc=function(a){var b=a.G();if(jc(this.c,b)){if(this.b){Ni(this,this.b);var b=this.f,c=a.ia(),d=0,e=a.Kb(),f=a.pa();b.beginPath();var g,h;g=0;for(h=e.length;g<h;++g)d=Oi(this,c,d,e[g],f,!1);b.stroke()}""!==this.g&&(a=Ri(a),Li(this,a,a.length,2))}};k.yc=function(a){if(jc(this.c,a.G())){if(this.b||this.a){this.a&&Mi(this,this.a);this.b&&Ni(this,this.b);var b=this.f;b.beginPath();Pi(this,a.Vb(),0,a.Kb(),a.pa());this.a&&b.fill();this.b&&b.stroke()}""!==this.g&&(a=Ad(a),Li(this,a,2,2))}};
k.wc=function(a){if(jc(this.c,a.G())){if(this.b||this.a){this.a&&Mi(this,this.a);this.b&&Ni(this,this.b);var b=this.f,c=Si(a),d=0,e=a.c,f=a.pa(),g,h;b.beginPath();g=0;for(h=e.length;g<h;++g)d=Pi(this,c,d,e[g],f);this.a&&b.fill();this.b&&b.stroke()}""!==this.g&&(a=Ti(a),Li(this,a,a.length,2))}};function Mi(a,b){var c=a.f,d=a.U;d?d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle):(c.fillStyle=b.fillStyle,a.U={fillStyle:b.fillStyle})}
function Ni(a,b){var c=a.f,d=a.Qa;d?(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),nf&&!db(d.lineDash,b.lineDash)&&c.setLineDash(d.lineDash=b.lineDash),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle)):(c.lineCap=b.lineCap,nf&&c.setLineDash(b.lineDash),c.lineJoin=b.lineJoin,c.lineWidth=
b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.Qa={lineCap:b.lineCap,lineDash:b.lineDash,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle})}
k.Ma=function(a,b){if(a){var c=a.b;this.a={fillStyle:Ce(c?c:ni)}}else this.a=null;if(b){var c=b.b,d=b.c,e=b.g,f=b.i,g=b.f,h=b.j;this.b={lineCap:void 0!==d?d:"round",lineDash:e?e:oi,lineJoin:void 0!==f?f:"round",lineWidth:this.A*(void 0!==g?g:1),miterLimit:void 0!==h?h:10,strokeStyle:Ce(c?c:pi)}}else this.b=null};
k.dc=function(a){if(a){var b=a.Ac(),c=a.Ic(1),d=a.Jc(),e=a.ac();this.D=b[0];this.L=b[1];this.ra=e[1];this.i=c;this.H=a.l;this.eb=d[0];this.fa=d[1];this.sa=a.H;this.zb=a.o;this.j=a.i;this.na=a.u;this.va=e[0]}else this.i=null};
k.$b=function(a){if(a){var b=a.b;b?(b=b.b,this.l={fillStyle:Ce(b?b:ni)}):this.l=null;var c=a.f;if(c){var b=c.b,d=c.c,e=c.g,f=c.i,g=c.f,c=c.j;this.v={lineCap:void 0!==d?d:"round",lineDash:e?e:oi,lineJoin:void 0!==f?f:"round",lineWidth:void 0!==g?g:1,miterLimit:void 0!==c?c:10,strokeStyle:Ce(b?b:pi)}}else this.v=null;var b=a.g,d=a.c,e=a.i,f=a.v,g=a.j,c=a.a,h=a.Ka(),l=a.l;a=a.o;this.P={font:void 0!==b?b:"10px sans-serif",textAlign:void 0!==l?l:"center",textBaseline:void 0!==a?a:"middle"};this.g=void 0!==
h?h:"";this.Fa=void 0!==d?this.A*d:0;this.xa=void 0!==e?this.A*e:0;this.Ja=void 0!==f?f:!1;this.Ua=void 0!==g?g:0;this.o=this.A*(void 0!==c?c:1)}else this.g=""};function Ui(a){Pa.call(this);this.a=a}v(Ui,Pa);Ui.prototype.Ba=ea;Ui.prototype.te=nc;Ui.prototype.hf=function(a,b,c){return function(d,e){return Vi(a,b,d,e,function(a){c[d]||(c[d]={});c[d][a.Ca.toString()]=a})}};Ui.prototype.Fa=function(a){a.target.W()===li&&Wi(this)};function Xi(a,b){var c=b.W();c!=li&&c!=ki&&B(b,"change",a.Fa,a);c==ji&&(b.load(),c=b.W());return c==li}function Wi(a){var b=a.a;b.Fb()&&"ready"==b.uf()&&a.s()}
function Yi(a,b){b.Ih()&&a.postRenderFunctions.push(function(a,b,e){b=x(a).toString();a.Wc(e.viewState.projection,e.usedTiles[b])}.bind(null,b))}function Zi(a,b){if(b){var c,d,e;d=0;for(e=b.length;d<e;++d)c=b[d],a[x(c).toString()]=c}}function $i(a,b){var c=b.L;void 0!==c&&("string"===typeof c?a.logos[c]="":c&&(ha("string"==typeof c.href,44),ha("string"==typeof c.src,45),a.logos[c.src]=c.href))}
function aj(a,b,c,d){b=x(b).toString();c=c.toString();b in a?c in a[b]?(a=a[b][c],d.ea<a.ea&&(a.ea=d.ea),d.ca>a.ca&&(a.ca=d.ca),d.ga<a.ga&&(a.ga=d.ga),d.ja>a.ja&&(a.ja=d.ja)):a[b][c]=d:(a[b]={},a[b][c]=d)}
function bj(a,b,c,d,e,f,g,h,l,m){var p=x(b).toString();p in a.wantedTiles||(a.wantedTiles[p]={});var n=a.wantedTiles[p];a=a.tileQueue;var q=c.minZoom,r,u,w,y,z,A;for(A=g;A>=q;--A)for(u=fe(c,f,A,u),w=c.Ha(A),y=u.ea;y<=u.ca;++y)for(z=u.ga;z<=u.ja;++z)g-A<=h?(r=b.Dc(A,y,z,d,e),0==r.W()&&(n[r.bb()]=!0,r.bb()in a.a||a.c([r,p,ke(c,r.Ca),w])),void 0!==l&&l.call(m,r)):b.ig(A,y,z,e)};function cj(a){Ui.call(this,a);this.xa=Ph()}v(cj,Ui);function dj(a,b,c){var d=b.pixelRatio,e=b.size[0]*d,f=b.size[1]*d,g=b.viewState.rotation,h=ac(c),l=$b(c),m=Zb(c);c=Yb(c);Uh(b.coordinateToPixelTransform,h);Uh(b.coordinateToPixelTransform,l);Uh(b.coordinateToPixelTransform,m);Uh(b.coordinateToPixelTransform,c);a.save();qi(a,-g,e/2,f/2);a.beginPath();a.moveTo(h[0]*d,h[1]*d);a.lineTo(l[0]*d,l[1]*d);a.lineTo(m[0]*d,m[1]*d);a.lineTo(c[0]*d,c[1]*d);a.clip();qi(a,g,e/2,f/2)}
function ej(a,b,c,d,e){var f=a.a;if(Oa(f,b)){var g=d.size[0]*d.pixelRatio,h=d.size[1]*d.pixelRatio,l=d.viewState.rotation;qi(c,-l,g/2,h/2);a=void 0!==e?e:fj(a,d,0);f.b(new Jh(b,new Ji(c,d.pixelRatio,d.extent,a,d.viewState.rotation),d,c,null));qi(c,l,g/2,h/2)}}cj.prototype.C=function(a,b,c,d){if(this.Ba(a,b,0,mc,this))return c.call(d,this.a,null)};cj.prototype.v=function(a,b,c,d){ej(this,"postcompose",a,b,d)};
function fj(a,b,c){var d=b.viewState,e=b.pixelRatio,f=e/d.resolution;return Yh(a.xa,e*b.size[0]/2,e*b.size[1]/2,f,-f,-d.rotation,-d.center[0]+c,-d.center[1])};function gj(a){cj.call(this,a);this.u=Ph();this.i=null}v(gj,cj);gj.prototype.D=function(a,b,c){ej(this,"precompose",c,a,void 0);var d=this.l();if(d){var e=b.extent,f=void 0!==e;f&&dj(c,a,e);var e=this.P(),g=c.globalAlpha;c.globalAlpha=b.opacity;c.drawImage(d,0,0,+d.width,+d.height,Math.round(e[4]),Math.round(e[5]),Math.round(d.width*e[0]),Math.round(d.height*e[3]));c.globalAlpha=g;f&&c.restore()}this.v(c,a,b)};
gj.prototype.Ba=function(a,b,c,d,e){var f=this.a;return f.la().Ba(a,b.viewState.resolution,b.viewState.rotation,c,b.skippedFeatureUids,function(a){return d.call(e,a,f)})};
gj.prototype.C=function(a,b,c,d){if(this.l()){if(this.a.la().Ba!==ea)return cj.prototype.C.apply(this,arguments);var e=Uh(this.u,a.slice());xb(e,b.viewState.resolution/this.c);this.i||(this.i=De(1,1));this.i.clearRect(0,0,1,1);this.i.drawImage(this.l(),e[0],e[1],1,1,0,0,1,1);e=this.i.getImageData(0,0,1,1).data;if(0<e[3])return c.call(d,this.a,e)}};function hj(a){gj.call(this,a);this.f=null;this.j=Ph()}v(hj,gj);hj.prototype.l=function(){return this.f?this.f.a():null};hj.prototype.P=function(){return this.j};
hj.prototype.o=function(a,b){var c=a.pixelRatio,d=a.size,e=a.viewState,f=e.center,g=e.resolution,h=this.a.la(),l=a.viewHints,m=a.extent;void 0!==b.extent&&(m=ic(m,b.extent));l[Kd]||l[1]||cc(m)||(e=h.U(m,g,c,e.projection))&&Xi(this,e)&&(this.f=e,this.c=g);if(this.f){var e=this.f,l=e.G(),m=e.resolution,p=e.f,n=c*m/(g*p),l=Yh(this.j,c*d[0]/2,c*d[1]/2,n,n,0,p*(l[0]-f[0])/m,p*(f[1]-l[3])/m);Yh(this.u,c*d[0]/2-l[4],c*d[1]/2-l[5],c/g,-c/g,0,-f[0],-f[1]);Zi(a.attributions,e.j);$i(a,h)}return!!this.f};function ij(a){gj.call(this,a);this.L=De();this.j=null;this.f=[];this.H=Hb();this.Ua=new Td(0,0,0,0);this.U=Ph();this.na=0}v(ij,gj);
ij.prototype.o=function(a,b){var c=a.pixelRatio,d=a.size,e=a.viewState,f=e.projection,g=e.resolution,e=e.center,h=this.a,l=h.la(),m=l.g,p=l.Db(f),n=p.Ec(g,this.na),q=p.Ha(n),r=a.extent;void 0!==b.extent&&(r=ic(r,b.extent));if(cc(r))return!1;var u=ie(p,r,q),w,y=p.Kc(n);w=p.Ha(n);var z=Zd(p.Za(n),p.j);w=Rb(y[0]+u.ea*z[0]*w,y[1]+u.ga*z[1]*w,y[0]+(u.ca+1)*z[0]*w,y[1]+(u.ja+1)*z[1]*w,void 0);y=l.jb(c);z={};z[n]={};var A=this.hf(l,f,z),O=h.c(),Ja=this.H,ca=this.Ua,Ma=!1,D,La,kb;for(La=u.ea;La<=u.ca;++La)for(kb=
u.ga;kb<=u.ja;++kb){D=l.Dc(n,La,kb,c,f);var W=D.W();W==cg||4==W||3==W&&!O?W==cg&&(z[n][D.Ca.toString()]=D,Ma||-1!=this.f.indexOf(D)||(Ma=!0)):(D=bg(D),ge(p,D.Ca,A,ca,Ja)||(D=he(p,D.Ca,ca,Ja))&&A(n+1,D))}La=a.viewHints;if(!(this.c&&16<Date.now()-a.time&&(La[Kd]||La[1])||!Ma&&this.j&&Vb(this.j,w)&&this.Ja==m)){D=l.Dd(n,c,f);La=(u.ca-u.ea+1)*D[0];D=(u.ja-u.ga+1)*D[0];Ma=this.L;kb=Ma.canvas;A=l.tf(f);kb.width!=La||kb.height!=D?(kb.width=La,kb.height=D):Ma.clearRect(0,0,La,D);this.f.length=0;O=Object.keys(z).map(Number);
O.sort(Ya);var Ra,Pb,fc,Wc,de,He,W=0;for(Pb=O.length;W<Pb;++W){La=O[W];ca=l.Dd(La,c,f);D=p.Ha(La);Ra=D/q;fc=y*l.qf(f);Wc=z[La];for(var od in Wc)D=Wc[od],kb=p.Na(D.Ca,Ja),La=(kb[0]-w[0])/q*y,kb=(w[3]-kb[3])/q*y,de=ca[0]*Ra,He=ca[1]*Ra,A||Ma.clearRect(La,kb,de,He),this.A(D,a,b,La,kb,de,He,fc),this.f.push(D)}this.Ja=m;this.c=q;this.j=w}od=c/y*this.c/g;od=Yh(this.U,c*d[0]/2,c*d[1]/2,od,od,0,y*(this.j[0]-e[0])/this.c,y*(e[1]-this.j[3])/this.c);Yh(this.u,c*d[0]/2-od[4],c*d[1]/2-od[5],c/g,-c/g,0,-e[0],-e[1]);
aj(a.usedTiles,l,n,u);bj(a,l,p,c,f,r,n,h.f());Yi(a,l);$i(a,l);return 0<this.f.length};ij.prototype.A=function(a,b,c,d,e,f,g,h){(a=a.ub())&&this.L.drawImage(a,h,h,a.width-2*h,a.height-2*h,d,e,f,g)};ij.prototype.l=function(){return this.L.canvas};ij.prototype.P=function(){return this.U};function jj(){};function kj(a,b,c,d){this.zb=a;this.Qa=b;this.overlaps=d;this.c=0;this.resolution=c;this.va=this.ra=null;this.a=[];this.coordinates=[];this.Z=Ph();this.b=[];this.eb=[];this.sa=Ph();this.fa=Ph()}v(kj,Ii);
function lj(a,b,c,d,e,f,g){var h=a.coordinates.length,l=a.mf();g&&(c+=e);g=[b[c],b[c+1]];var m=[NaN,NaN],p=!0,n,q,r;for(n=c+e;n<d;n+=e)m[0]=b[n],m[1]=b[n+1],r=Qb(l,m),r!==q?(p&&(a.coordinates[h++]=g[0],a.coordinates[h++]=g[1]),a.coordinates[h++]=m[0],a.coordinates[h++]=m[1],p=!1):1===r?(a.coordinates[h++]=m[0],a.coordinates[h++]=m[1],p=!1):p=!0,g[0]=m[0],g[1]=m[1],q=r;if(f&&p||n===c+e)a.coordinates[h++]=g[0],a.coordinates[h++]=g[1];return h}
function mj(a,b){a.ra=[0,b,0];a.a.push(a.ra);a.va=[0,b,0];a.b.push(a.va)}function nj(a,b,c){if(a.U){var d=Uh(a.Z,a.U.slice());b.translate(d[0],d[1]);b.rotate(c)}b.fill();a.U&&b.setTransform.apply(b,a.fa)}
function oj(a,b,c,d,e,f,g,h,l){var m;db(d,a.Z)?m=a.eb:(m=Sc(a.coordinates,0,a.coordinates.length,2,d,a.eb),Th(a.Z,d));d=!wa(f);for(var p=0,n=g.length,q=0,r,u=a.sa,w=a.fa,y,z,A,O,Ja=0,ca=0,Ma=a.a!=g||a.overlaps?0:200;p<n;){var D=g[p],La,kb,W,Ra;switch(D[0]){case 0:q=D[1];d&&f[x(q).toString()]||!q.V()?p=D[2]:void 0===l||jc(l,q.V().G())?++p:p=D[2]+1;break;case 1:Ja>Ma&&(nj(a,b,e),Ja=0);ca>Ma&&(b.stroke(),ca=0);Ja||ca||b.beginPath();++p;break;case 2:q=D[1];r=m[q];D=m[q+1];A=m[q+2]-r;q=m[q+3]-D;q=Math.sqrt(A*
A+q*q);b.moveTo(r+q,D);b.arc(r,D,q,0,2*Math.PI,!0);++p;break;case 3:b.closePath();++p;break;case 4:q=D[1];r=D[2];La=D[3];kb=D[4]*c;W=D[5]*c;var Pb=D[6],fc=D[7],Wc=D[8],de=D[9];Ra=D[10];A=D[11];O=D[12];var He=D[13],od=D[14];for(Ra&&(A+=e);q<r;q+=2){D=m[q]-kb;Ra=m[q+1]-W;He&&(D=Math.round(D),Ra=Math.round(Ra));if(1!=O||0!==A){var bf=D+kb,mh=Ra+W;Yh(u,bf,mh,O,O,A,-bf,-mh);b.setTransform.apply(b,u)}bf=b.globalAlpha;1!=fc&&(b.globalAlpha=bf*fc);var mh=od+Wc>La.width?La.width-Wc:od,xo=Pb+de>La.height?La.height-
de:Pb;b.drawImage(La,Wc,de,mh,xo,D,Ra,mh*c,xo*c);1!=fc&&(b.globalAlpha=bf);1==O&&0===A||b.setTransform.apply(b,w)}++p;break;case 5:q=D[1];r=D[2];W=D[3];Pb=D[4]*c;fc=D[5]*c;A=D[6];O=D[7]*c;La=D[8];kb=D[9];for((Ra=D[10])&&(A+=e);q<r;q+=2){D=m[q]+Pb;Ra=m[q+1]+fc;if(1!=O||0!==A)Yh(u,D,Ra,O,O,A,-D,-Ra),b.setTransform.apply(b,u);Wc=W.split("\n");de=Wc.length;1<de?(He=Math.round(1.5*b.measureText("M").width),Ra-=(de-1)/2*He):He=0;for(od=0;od<de;od++)bf=Wc[od],kb&&b.strokeText(bf,D,Ra),La&&b.fillText(bf,
D,Ra),Ra+=He;1==O&&0===A||b.setTransform.apply(b,w)}++p;break;case 6:if(void 0!==h&&(q=D[1],q=h(q)))return q;++p;break;case 7:Ma?Ja++:nj(a,b,e);++p;break;case 8:q=D[1];r=D[2];D=m[q];Ra=m[q+1];A=D+.5|0;O=Ra+.5|0;if(A!==y||O!==z)b.moveTo(D,Ra),y=A,z=O;for(q+=2;q<r;q+=2)if(D=m[q],Ra=m[q+1],A=D+.5|0,O=Ra+.5|0,q==r-2||A!==y||O!==z)b.lineTo(D,Ra),y=A,z=O;++p;break;case 9:a.U=D[2];Ja&&(nj(a,b,e),Ja=0);b.fillStyle=D[1];++p;break;case 10:y=void 0!==D[7]?D[7]:!0;var yo=D[8];z=D[2];ca&&(b.stroke(),ca=0);b.strokeStyle=
D[1];b.lineWidth=y?z*c:z;b.lineCap=D[3];b.lineJoin=D[4];b.miterLimit=D[5];nf&&(z=D[6],y&&c!==yo&&(z=z.map(function(a){return a*c/yo}),D[6]=z,D[8]=c),b.setLineDash(z));z=y=NaN;++p;break;case 11:b.font=D[1];b.textAlign=D[2];b.textBaseline=D[3];++p;break;case 12:Ma?ca++:b.stroke();++p;break;default:++p}}Ja&&nj(a,b,e);ca&&b.stroke()}kj.prototype.f=function(a,b,c,d,e){oj(this,a,b,c,d,e,this.a,void 0,void 0)};
function pj(a){var b=a.b;b.reverse();var c,d=b.length,e,f,g=-1;for(c=0;c<d;++c)if(e=b[c],f=e[0],6==f)g=c;else if(0==f){e[2]=c;e=a.b;for(f=c;g<f;){var h=e[g];e[g]=e[f];e[f]=h;++g;--f}g=-1}}function qj(a,b){a.ra[2]=a.a.length;a.ra=null;a.va[2]=a.b.length;a.va=null;var c=[6,b];a.a.push(c);a.b.push(c)}kj.prototype.se=ea;kj.prototype.mf=function(){return this.Qa};function rj(a,b,c,d){kj.call(this,a,b,c,d);this.l=this.P=null;this.L=this.D=this.C=this.A=this.u=this.H=this.v=this.o=this.j=this.i=this.g=void 0}v(rj,kj);
rj.prototype.xc=function(a,b){if(this.l){mj(this,b);var c=a.ia(),d=this.coordinates.length,c=lj(this,c,0,c.length,a.pa(),!1,!1);this.a.push([4,d,c,this.l,this.g,this.i,this.j,this.o,this.v,this.H,this.u,this.A,this.C,this.D,this.L]);this.b.push([4,d,c,this.P,this.g,this.i,this.j,this.o,this.v,this.H,this.u,this.A,this.C,this.D,this.L]);qj(this,b)}};
rj.prototype.vc=function(a,b){if(this.l){mj(this,b);var c=a.ia(),d=this.coordinates.length,c=lj(this,c,0,c.length,a.pa(),!1,!1);this.a.push([4,d,c,this.l,this.g,this.i,this.j,this.o,this.v,this.H,this.u,this.A,this.C,this.D,this.L]);this.b.push([4,d,c,this.P,this.g,this.i,this.j,this.o,this.v,this.H,this.u,this.A,this.C,this.D,this.L]);qj(this,b)}};rj.prototype.se=function(){pj(this);this.i=this.g=void 0;this.l=this.P=null;this.L=this.D=this.A=this.u=this.H=this.v=this.o=this.C=this.j=void 0};
rj.prototype.dc=function(a){var b=a.Ac(),c=a.ac(),d=a.Lf(1),e=a.Ic(1),f=a.Jc();this.g=b[0];this.i=b[1];this.P=d;this.l=e;this.j=c[1];this.o=a.l;this.v=f[0];this.H=f[1];this.u=a.H;this.A=a.o;this.C=a.i;this.D=a.u;this.L=c[0]};function sj(a,b,c,d){kj.call(this,a,b,c,d);this.i=null;this.g={wd:void 0,rd:void 0,sd:null,td:void 0,ud:void 0,vd:void 0,Af:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}v(sj,kj);function tj(a,b,c,d,e){var f=a.coordinates.length;b=lj(a,b,c,d,e,!1,!1);f=[8,f,b];a.a.push(f);a.b.push(f);return d}k=sj.prototype;k.mf=function(){this.i||(this.i=Kb(this.Qa),0<this.c&&Jb(this.i,this.resolution*(this.c+1)/2,this.i));return this.i};
function uj(a){var b=a.g,c=b.strokeStyle,d=b.lineCap,e=b.lineDash,f=b.lineJoin,g=b.lineWidth,h=b.miterLimit;b.wd==c&&b.rd==d&&db(b.sd,e)&&b.td==f&&b.ud==g&&b.vd==h||(b.Af!=a.coordinates.length&&(a.a.push([12]),b.Af=a.coordinates.length),a.a.push([10,c,g,d,f,h,e,!0,1],[1]),b.wd=c,b.rd=d,b.sd=e,b.td=f,b.ud=g,b.vd=h)}
k.Pb=function(a,b){var c=this.g,d=c.lineWidth;void 0!==c.strokeStyle&&void 0!==d&&(uj(this),mj(this,b),this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,!0,1],[1]),c=a.ia(),tj(this,c,0,c.length,a.pa()),this.b.push([12]),qj(this,b))};
k.uc=function(a,b){var c=this.g,d=c.lineWidth;if(void 0!==c.strokeStyle&&void 0!==d){uj(this);mj(this,b);this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,!0,1],[1]);var c=a.Kb(),d=a.ia(),e=a.pa(),f=0,g,h;g=0;for(h=c.length;g<h;++g)f=tj(this,d,f,c[g],e);this.b.push([12]);qj(this,b)}};k.se=function(){this.g.Af!=this.coordinates.length&&this.a.push([12]);pj(this);this.g=null};
k.Ma=function(a,b){var c=b.b;this.g.strokeStyle=Ce(c?c:pi);c=b.c;this.g.lineCap=void 0!==c?c:"round";c=b.g;this.g.lineDash=c?c:oi;c=b.i;this.g.lineJoin=void 0!==c?c:"round";c=b.f;this.g.lineWidth=void 0!==c?c:1;c=b.j;this.g.miterLimit=void 0!==c?c:10;this.g.lineWidth>this.c&&(this.c=this.g.lineWidth,this.i=null)};function vj(a,b,c,d){kj.call(this,a,b,c,d);this.i=null;this.g={Bg:void 0,wd:void 0,rd:void 0,sd:null,td:void 0,ud:void 0,vd:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}v(vj,kj);
function wj(a,b,c,d,e){var f=a.g,g=void 0!==f.fillStyle,f=void 0!=f.strokeStyle,h=d.length,l=[1];a.a.push(l);a.b.push(l);for(l=0;l<h;++l){var m=d[l],p=a.coordinates.length;c=lj(a,b,c,m,e,!0,!f);c=[8,p,c];a.a.push(c);a.b.push(c);f&&(c=[3],a.a.push(c),a.b.push(c));c=m}b=[7];a.b.push(b);g&&a.a.push(b);f&&(g=[12],a.a.push(g),a.b.push(g));return c}k=vj.prototype;
k.hc=function(a,b){var c=this.g,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){xj(this,a);mj(this,b);this.b.push([9,Ae(ni)]);void 0!==c.strokeStyle&&this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,!0,1]);var e=a.ia(),d=this.coordinates.length;lj(this,e,0,e.length,a.pa(),!1,!1);e=[1];d=[2,d];this.a.push(e,d);this.b.push(e,d);d=[7];this.b.push(d);void 0!==c.fillStyle&&this.a.push(d);void 0!==c.strokeStyle&&(c=[12],this.a.push(c),this.b.push(c));qj(this,b)}};
k.yc=function(a,b){var c=this.g;xj(this,a);mj(this,b);this.b.push([9,Ae(ni)]);void 0!==c.strokeStyle&&this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,!0,1]);var c=a.Kb(),d=a.Vb();wj(this,d,0,c,a.pa());qj(this,b)};
k.wc=function(a,b){var c=this.g,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){xj(this,a);mj(this,b);this.b.push([9,Ae(ni)]);void 0!==c.strokeStyle&&this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,!0,1]);var c=a.c,d=Si(a),e=a.pa(),f=0,g,h;g=0;for(h=c.length;g<h;++g)f=wj(this,d,f,c[g],e);qj(this,b)}};k.se=function(){pj(this);this.g=null;var a=this.zb;if(0!==a){var b=this.coordinates,c,d;c=0;for(d=b.length;c<d;++c)b[c]=a*Math.round(b[c]/a)}};
k.mf=function(){this.i||(this.i=Kb(this.Qa),0<this.c&&Jb(this.i,this.resolution*(this.c+1)/2,this.i));return this.i};
k.Ma=function(a,b){var c=this.g;if(a){var d=a.b;c.fillStyle=Ce(d?d:ni)}else c.fillStyle=void 0;b?(d=b.b,c.strokeStyle=Ce(d?d:pi),d=b.c,c.lineCap=void 0!==d?d:"round",d=b.g,c.lineDash=d?d.slice():oi,d=b.i,c.lineJoin=void 0!==d?d:"round",d=b.f,c.lineWidth=void 0!==d?d:1,d=b.j,c.miterLimit=void 0!==d?d:10,c.lineWidth>this.c&&(this.c=c.lineWidth,this.i=null)):(c.strokeStyle=void 0,c.lineCap=void 0,c.lineDash=null,c.lineJoin=void 0,c.lineWidth=void 0,c.miterLimit=void 0)};
function xj(a,b){var c=a.g,d=c.fillStyle,e=c.strokeStyle,f=c.lineCap,g=c.lineDash,h=c.lineJoin,l=c.lineWidth,m=c.miterLimit;if(void 0!==d&&("string"!==typeof d||c.Bg!=d)){var p=[9,d];"string"!==typeof d&&(d=b.G(),p.push([d[0],d[3]]));a.a.push(p);c.Bg=c.fillStyle}void 0===e||c.wd==e&&c.rd==f&&db(c.sd,g)&&c.td==h&&c.ud==l&&c.vd==m||(a.a.push([10,e,l,f,h,m,g,!0,1]),c.wd=e,c.rd=f,c.sd=g,c.td=h,c.ud=l,c.vd=m)};function yj(a,b,c,d){kj.call(this,a,b,c,d);this.L=this.D=this.C=null;this.l="";this.v=this.o=0;this.H=void 0;this.A=this.u=0;this.j=this.i=this.g=null}v(yj,kj);
function zj(a,b,c,d,e){if(""!==a.l&&a.j&&(a.g||a.i)){if(a.g){var f=a.g,g=a.C;if(!g||g.fillStyle!=f.fillStyle){var h=[9,f.fillStyle];a.a.push(h);a.b.push(h);g?g.fillStyle=f.fillStyle:a.C={fillStyle:f.fillStyle}}}a.i&&(f=a.i,g=a.D,g&&g.lineCap==f.lineCap&&g.lineDash==f.lineDash&&g.lineJoin==f.lineJoin&&g.lineWidth==f.lineWidth&&g.miterLimit==f.miterLimit&&g.strokeStyle==f.strokeStyle||(h=[10,f.strokeStyle,f.lineWidth,f.lineCap,f.lineJoin,f.miterLimit,f.lineDash,!1,1],a.a.push(h),a.b.push(h),g?(g.lineCap=
f.lineCap,g.lineDash=f.lineDash,g.lineJoin=f.lineJoin,g.lineWidth=f.lineWidth,g.miterLimit=f.miterLimit,g.strokeStyle=f.strokeStyle):a.D={lineCap:f.lineCap,lineDash:f.lineDash,lineJoin:f.lineJoin,lineWidth:f.lineWidth,miterLimit:f.miterLimit,strokeStyle:f.strokeStyle}));f=a.j;g=a.L;g&&g.font==f.font&&g.textAlign==f.textAlign&&g.textBaseline==f.textBaseline||(h=[11,f.font,f.textAlign,f.textBaseline],a.a.push(h),a.b.push(h),g?(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline):a.L=
{font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline});mj(a,e);f=a.coordinates.length;b=lj(a,b,0,c,d,!1,!1);b=[5,f,b,a.l,a.o,a.v,a.u,a.A,!!a.g,!!a.i,a.H];a.a.push(b);a.b.push(b);qj(a,e)}}
yj.prototype.$b=function(a){if(a){var b=a.b;b?(b=b.b,b=Ce(b?b:ni),this.g?this.g.fillStyle=b:this.g={fillStyle:b}):this.g=null;var c=a.f;if(c){var b=c.b,d=c.c,e=c.g,f=c.i,g=c.f,c=c.j,d=void 0!==d?d:"round",e=e?e.slice():oi,f=void 0!==f?f:"round",g=void 0!==g?g:1,c=void 0!==c?c:10,b=Ce(b?b:pi);if(this.i){var h=this.i;h.lineCap=d;h.lineDash=e;h.lineJoin=f;h.lineWidth=g;h.miterLimit=c;h.strokeStyle=b}else this.i={lineCap:d,lineDash:e,lineJoin:f,lineWidth:g,miterLimit:c,strokeStyle:b}}else this.i=null;
var l=a.g,b=a.c,d=a.i,e=a.v,g=a.j,c=a.a,f=a.Ka(),h=a.l,m=a.o;a=void 0!==l?l:"10px sans-serif";h=void 0!==h?h:"center";m=void 0!==m?m:"middle";this.j?(l=this.j,l.font=a,l.textAlign=h,l.textBaseline=m):this.j={font:a,textAlign:h,textBaseline:m};this.l=void 0!==f?f:"";this.o=void 0!==b?b:0;this.v=void 0!==d?d:0;this.H=void 0!==e?e:!1;this.u=void 0!==g?g:0;this.A=void 0!==c?c:1}else this.l=""};var Aj=["Polygon","Circle","LineString","Image","Text"];function Bj(a,b,c,d,e){this.H=a;this.c=b;this.o=d;this.v=c;this.i=e;this.a={};this.j=De(1,1);this.l=Ph()}v(Bj,jj);var Cj={0:[[!0]]};function Dj(a,b,c){var d,e=Math.floor(a.length/2);if(b>=e)for(d=e;d<b;d++)a[d][c]=!0;else if(b<e)for(d=b+1;d<e;d++)a[d][c]=!0}
function Ej(a){if(void 0!==Cj[a])return Cj[a];for(var b=2*a+1,c=Array(b),d=0;d<b;d++)c[d]=Array(b);for(var b=a,e=d=0;b>=d;)Dj(c,a+b,a+d),Dj(c,a+d,a+b),Dj(c,a-d,a+b),Dj(c,a-b,a+d),Dj(c,a-b,a-d),Dj(c,a-d,a-b),Dj(c,a+d,a-b),Dj(c,a+b,a-d),d++,e+=1+2*d,0<2*(e-b)+1&&(--b,e+=1-2*b);return Cj[a]=c}function Fj(a){for(var b in a.a){var c=a.a[b],d;for(d in c)c[d].se()}}
Bj.prototype.Ba=function(a,b,c,d,e,f){d=Math.round(d);var g=2*d+1,h=Yh(this.l,d+.5,d+.5,1/b,-1/b,-c,-a[0],-a[1]),l=this.j;l.canvas.width!==g||l.canvas.height!==g?(l.canvas.width=g,l.canvas.height=g):l.clearRect(0,0,g,g);var m;void 0!==this.i&&(m=Hb(),Ib(m,a),Jb(m,b*(this.i+d),m));var p=Ej(d);return Gj(this,l,h,c,e,function(a){for(var b=l.getImageData(0,0,g,g).data,c=0;c<g;c++)for(var d=0;d<g;d++)if(p[c][d]&&0<b[4*(d*g+c)+3]){if(a=f(a))return a;l.clearRect(0,0,g,g);return}},m)};
function Hj(a,b){var c=a.c,d=c[0],e=c[1],f=c[2],c=c[3],d=[d,e,d,c,f,c,f,e];Sc(d,0,8,2,b,d);return d}Bj.prototype.b=function(a,b){var c=void 0!==a?a.toString():"0",d=this.a[c];void 0===d&&(d={},this.a[c]=d);c=d[b];void 0===c&&(c=new Ij[b](this.H,this.c,this.v,this.o),d[b]=c);return c};Bj.prototype.g=function(){return wa(this.a)};
Bj.prototype.f=function(a,b,c,d,e,f){var g=Object.keys(this.a).map(Number);g.sort(Ya);var h=Hj(this,c);a.save();a.beginPath();a.moveTo(h[0],h[1]);a.lineTo(h[2],h[3]);a.lineTo(h[4],h[5]);a.lineTo(h[6],h[7]);a.clip();f=f?f:Aj;var l,m,p,n,q,h=0;for(l=g.length;h<l;++h)for(n=this.a[g[h].toString()],m=0,p=f.length;m<p;++m)q=n[f[m]],void 0!==q&&q.f(a,b,c,d,e);a.restore()};
function Gj(a,b,c,d,e,f,g){var h=Object.keys(a.a).map(Number);h.sort(function(a,b){return b-a});var l,m,p,n,q;l=0;for(m=h.length;l<m;++l)for(n=a.a[h[l].toString()],p=Aj.length-1;0<=p;--p)if(q=n[Aj[p]],void 0!==q&&(q=oj(q,b,1,c,d,e,q.b,f,g)))return q}var Ij={Circle:vj,Image:rj,LineString:sj,Polygon:vj,Text:yj};function Jj(a,b){return x(a)-x(b)}function Kj(a,b){var c=.5*a/b;return c*c}function Lj(a,b,c,d,e,f){var g=!1,h,l;if(h=c.a)l=h.xe(),l==li||l==ki?h.Ii(e,f):(l==ji&&h.load(),h.eh(e,f),g=!0);if(e=(0,c.c)(b))d=e.Bd(d),(0,Mj[d.Y()])(a,d,c,b);return g}
var Mj={Point:function(a,b,c,d){var e=c.a;if(e){if(e.xe()!=li)return;var f=a.b(c.b,"Image");f.dc(e);f.xc(b,d)}if(e=c.Ka())a=a.b(c.b,"Text"),a.$b(e),zj(a,b.ia(),2,2,d)},LineString:function(a,b,c,d){var e=c.g;if(e){var f=a.b(c.b,"LineString");f.Ma(null,e);f.Pb(b,d)}if(e=c.Ka())a=a.b(c.b,"Text"),a.$b(e),zj(a,Qi(b),2,2,d)},Polygon:function(a,b,c,d){var e=c.f,f=c.g;if(e||f){var g=a.b(c.b,"Polygon");g.Ma(e,f);g.yc(b,d)}if(e=c.Ka())a=a.b(c.b,"Text"),a.$b(e),zj(a,Ad(b),2,2,d)},MultiPoint:function(a,b,c,d){var e=
c.a;if(e){if(e.xe()!=li)return;var f=a.b(c.b,"Image");f.dc(e);f.vc(b,d)}if(e=c.Ka())a=a.b(c.b,"Text"),a.$b(e),c=b.ia(),zj(a,c,c.length,b.pa(),d)},MultiLineString:function(a,b,c,d){var e=c.g;if(e){var f=a.b(c.b,"LineString");f.Ma(null,e);f.uc(b,d)}if(e=c.Ka())a=a.b(c.b,"Text"),a.$b(e),b=Ri(b),zj(a,b,b.length,2,d)},MultiPolygon:function(a,b,c,d){var e=c.f,f=c.g;if(f||e){var g=a.b(c.b,"Polygon");g.Ma(e,f);g.wc(b,d)}if(e=c.Ka())a=a.b(c.b,"Text"),a.$b(e),b=Ti(b),zj(a,b,b.length,2,d)},GeometryCollection:function(a,
b,c,d){b=b.f;var e,f;e=0;for(f=b.length;e<f;++e)(0,Mj[b[e].Y()])(a,b[e],c,d)},Circle:function(a,b,c,d){var e=c.f,f=c.g;if(e||f){var g=a.b(c.b,"Circle");g.Ma(e,f);g.hc(b,d)}if(e=c.Ka())a=a.b(c.b,"Text"),a.$b(e),zj(a,b.Fd(),2,2,d)}};function Nj(a){cj.call(this,a);this.f=!1;this.u=-1;this.H=NaN;this.j=Hb();this.c=this.l=null;this.i=De()}v(Nj,cj);
Nj.prototype.D=function(a,b,c){var d=a.extent,e=a.pixelRatio,f=b.me?a.skippedFeatureUids:{},g=a.viewState,h=g.projection,g=g.rotation,l=h.G(),m=this.a.la(),p=fj(this,a,0);ej(this,"precompose",c,a,p);var n=b.extent,q=void 0!==n;q&&dj(c,a,n);if((n=this.c)&&!n.g()){var r=0,u=0,w;if(Oa(this.a,"render")){w=c.canvas.width;var y=c.canvas.height;if(g){var z=Math.round(Math.sqrt(w*w+y*y)),r=(z-w)/2,u=(z-y)/2;w=y=z}this.i.canvas.width=w;this.i.canvas.height=y;w=this.i}else w=c;y=w.globalAlpha;w.globalAlpha=
b.opacity;w!=c&&w.translate(r,u);var z=a.size[0]*e,A=a.size[1]*e;qi(w,-g,z/2,A/2);n.f(w,e,p,g,f);if(m.D&&h.a&&!Ob(l,d)){for(var h=d[0],m=dc(l),O=0;h<l[0];)--O,p=m*O,p=fj(this,a,p),n.f(w,e,p,g,f),h+=m;O=0;for(h=d[2];h>l[2];)++O,p=m*O,p=fj(this,a,p),n.f(w,e,p,g,f),h-=m;p=fj(this,a,0)}qi(w,g,z/2,A/2);w!=c&&(ej(this,"render",w,a,p),c.drawImage(w.canvas,-r,-u),w.translate(-r,-u));w.globalAlpha=y}q&&c.restore();this.v(c,a,b,p)};
Nj.prototype.Ba=function(a,b,c,d,e){if(this.c){var f=this.a,g={};return this.c.Ba(a,b.viewState.resolution,b.viewState.rotation,c,{},function(a){var b=x(a).toString();if(!(b in g))return g[b]=!0,d.call(e,a,f)})}};Nj.prototype.A=function(){Wi(this)};
Nj.prototype.o=function(a){function b(a){var b,d=a.Gc();d?b=d.call(a,m):(d=c.j)&&(b=d(a,m));if(b){if(b){d=!1;if(Array.isArray(b))for(var e=0,f=b.length;e<f;++e)d=Lj(q,a,b[e],Kj(m,p),this.A,this)||d;else d=Lj(q,a,b,Kj(m,p),this.A,this)||d;a=d}else a=!1;this.f=this.f||a}}var c=this.a,d=c.la();Zi(a.attributions,d.j);$i(a,d);var e=a.viewHints[Kd],f=a.viewHints[1],g=c.Z,h=c.fa;if(!this.f&&!g&&e||!h&&f)return!0;var l=a.extent,h=a.viewState,e=h.projection,m=h.resolution,p=a.pixelRatio,f=c.g,n=c.i,g=c.get("renderOrder");
void 0===g&&(g=Jj);l=Jb(l,n*m);n=h.projection.G();d.D&&h.projection.a&&!Ob(n,a.extent)&&(a=Math.max(dc(l)/2,dc(n)),l[0]=n[0]-a,l[2]=n[2]+a);if(!this.f&&this.H==m&&this.u==f&&this.l==g&&Ob(this.j,l))return!0;this.c=null;this.f=!1;var q=new Bj(.5*m/p,l,m,d.xa,c.i);d.Ed(l,m,e);if(g){var r=[];d.Qb(l,function(a){r.push(a)},this);r.sort(g);r.forEach(b,this)}else d.Qb(l,b,this);Fj(q);this.H=m;this.u=f;this.l=g;this.j=l;this.c=q;return!0};function Oj(a){ij.call(this,a);this.Z=!1;this.sa=Ph();this.na=a.u==Fi?1:0}v(Oj,ij);var Pj={image:Aj,hybrid:["Polygon","LineString"]},Qj={hybrid:["Image","Text"],vector:Aj};
function Rj(a,b,c){function d(a){var b,c=a.Gc();c?b=c.call(a,r):(c=e.j)&&(b=c(a,r));if(b){Array.isArray(b)||(b=[b]);var c=A,d=z;if(b){var f=!1;if(Array.isArray(b))for(var g=0,h=b.length;g<h;++g)f=Lj(d,a,b[g],c,this.fa,this)||f;else f=Lj(d,a,b,c,this.fa,this)||f;a=f}else a=!1;this.Z=this.Z||a;l.xd=l.xd||a}}var e=a.a,f=c.pixelRatio;c=c.viewState.projection;var g=e.g,h=e.get("renderOrder")||null,l=b.g;if(l.xd||l.li!=g||l.bg!=h){l.jd=null;l.xd=!1;var m=e.la(),p=m.tileGrid,n=b.Ca,q=b.j,r=p.Ha(n[0]),u,
w,y;"tile-pixels"==q.Eb()?(u=y=m.jb(),p=Zd(p.Za(n[0])),u=[0,0,p[0]*u,p[1]*u]):(y=r,u=p.Na(n),Mc(c,q)||(w=!0,b.Ff(c)));l.xd=!1;var z=new Bj(0,u,y,m.i,e.i),A=Kj(y,f);b=b.i;h&&h!==l.bg&&b.sort(h);m=0;for(y=b.length;m<y;++m)f=b[m],w&&f.V().ob(q,c),d.call(a,f);Fj(z);l.li=g;l.bg=h;l.jd=z;l.resolution=NaN}}
Oj.prototype.A=function(a,b,c,d,e,f,g,h){var l=a;Rj(this,l,b);if(this.a.u!=Fi){var m=l,p=b,n=this.a,l=m.g,q=n.g,r=Pj[n.u];if(r&&l.cg!==q){l.cg=q;var u=m.Ca,w=m.Ca[0],q=p.pixelRatio,y=n.la(),z=y.tileGrid,A=y.jb(),n=Qh(this.sa);"tile-pixels"==m.j.Eb()?(u=q/A,Wh(n,u,u)):(A=z.Ha(w),A=q/A,u=z.Na(u,this.H),Wh(n,A,-A),Xh(n,-u[0],-u[3]));m=m.f;p=y.Dd(w,q,p.viewState.projection);m.canvas.width=p[0];m.canvas.height=p[1];l.jd.f(m,q,n,0,{},r)}}ij.prototype.A.apply(this,arguments)};
Oj.prototype.Ba=function(a,b,c,d,e){var f=b.viewState.resolution;b=b.viewState.rotation;c=void 0==c?0:c;var g=this.a,h={},l=this.f,m=g.la(),p=m.tileGrid,n,q,r,u,w,y;r=0;for(u=l.length;r<u;++r)y=l[r],q=y.Ca,w=m.tileGrid.Na(q,this.H),Mb(Jb(w,c*f),a)&&("tile-pixels"===y.j.Eb()?(w=ac(w),f=m.jb(),q=p.Ha(q[0])/f,q=[(a[0]-w[0])/q,(w[1]-a[1])/q]):q=a,y=y.g.jd,n=n||y.Ba(q,f,b,c,{},function(a){var b=x(a).toString();if(!(b in h))return h[b]=!0,d.call(e,a,g)}));return n};Oj.prototype.fa=function(){Wi(this)};
Oj.prototype.v=function(a,b,c){var d=Qj[this.a.u];if(d)for(var e=b.pixelRatio,f=b.viewState.rotation,g=b.size,h=Math.round(e*g[0]/2),g=Math.round(e*g[1]/2),l=this.f,m=[],p=[],n=l.length-1;0<=n;--n){var q=l[n],r;var u=q;r=b;if("tile-pixels"==u.j.Eb()){var w=this.a.la(),y=w.tileGrid,z=u.Ca,w=y.Ha(z[0])/w.jb(),u=r.viewState,A=r.pixelRatio,O=u.resolution/A,z=y.Na(z,this.H),y=u.center,z=ac(z);r=r.size;r=Yh(this.sa,Math.round(A*r[0]/2),Math.round(A*r[1]/2),w/O,w/O,u.rotation,(z[0]-y[0])/w,(y[1]-z[1])/w)}else r=
fj(this,r,0);w=Hj(q.g.jd,r);u=q.Ca[0];a.save();a.globalAlpha=c.opacity;qi(a,-f,h,g);A=0;for(O=m.length;A<O;++A)y=m[A],u<p[A]&&(a.beginPath(),a.moveTo(w[0],w[1]),a.lineTo(w[2],w[3]),a.lineTo(w[4],w[5]),a.lineTo(w[6],w[7]),a.moveTo(y[6],y[7]),a.lineTo(y[4],y[5]),a.lineTo(y[2],y[3]),a.lineTo(y[0],y[1]),a.clip());q.g.jd.f(a,e,r,f,{},d);a.restore();m.push(w);p.push(u)}ij.prototype.v.apply(this,arguments)};function Sj(a,b){$h.call(this,0,b);this.g=De();this.b=this.g.canvas;this.b.style.width="100%";this.b.style.height="100%";this.b.className="ol-unselectable";a.insertBefore(this.b,a.childNodes[0]||null);this.a=!0;this.c=Ph()}v(Sj,$h);Sj.prototype.Ag=function(a){return a instanceof ei?new hj(a):a instanceof F?new ij(a):a instanceof H?new Oj(a):a instanceof G?new Nj(a):null};
function Tj(a,b,c){var d=a.l,e=a.g;if(Oa(d,b)){var f=c.extent,g=c.pixelRatio,h=c.viewState.rotation,l=c.viewState,m=c.pixelRatio/l.resolution;a=Yh(a.c,a.b.width/2,a.b.height/2,m,-m,-l.rotation,-l.center[0],-l.center[1]);d.b(new Jh(b,new Ji(e,g,f,a,h),c,e,null))}}Sj.prototype.Y=function(){return"canvas"};
Sj.prototype.ag=function(a){if(a){var b=this.g,c=a.pixelRatio,d=Math.round(a.size[0]*c),c=Math.round(a.size[1]*c);this.b.width!=d||this.b.height!=c?(this.b.width=d,this.b.height=c):b.clearRect(0,0,d,c);var e=a.viewState.rotation;ai(a);Tj(this,"precompose",a);var f=a.layerStatesArray;eb(f);qi(b,e,d/2,c/2);var g=a.viewState.resolution,h,l,m,p;h=0;for(l=f.length;h<l;++h)p=f[h],m=p.layer,m=ci(this,m),Lh(p,g)&&"ready"==p.Ei&&m.o(a,p)&&m.D(a,p,b);qi(b,-e,d/2,c/2);Tj(this,"postcompose",a);this.a||(this.b.style.display=
"",this.a=!0);di(this,a);a.postRenderFunctions.push(bi)}else this.a&&(this.b.style.display="none",this.a=!1)};Sj.prototype.Bh=function(a,b,c,d,e,f){var g,h=b.viewState.resolution,l=b.layerStatesArray,m=l.length;a=Uh(b.pixelToCoordinateTransform,a.slice());for(--m;0<=m;--m){g=l[m];var p=g.layer;if(Lh(g,h)&&e.call(f,p)&&(g=ci(this,p).C(a,b,c,d)))return g}};var Uj=[0,0,0,1],Vj=[],Wj=[0,0,0,1];function Xj(a,b,c,d,e,f){a=(c-a)*(f-b)-(e-a)*(d-b);return a<=Yj&&a>=-Yj?void 0:0<a}var Yj=Number.EPSILON||2.220446049250313E-16;function Zj(a){this.b=a};function ak(a){this.b=a}v(ak,Zj);ak.prototype.Y=function(){return 35632};function bk(a){this.b=a}v(bk,Zj);bk.prototype.Y=function(){return 35633};function ck(){this.b="precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"}
v(ck,ak);var dk=new ck;
function ek(){this.b="varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}"}
v(ek,bk);var fk=new ek;function gk(a,b){this.D=a.getUniformLocation(b,"n");this.L=a.getUniformLocation(b,"k");this.f=a.getUniformLocation(b,"j");this.c=a.getUniformLocation(b,"i");this.a=a.getUniformLocation(b,"m");this.ra=a.getUniformLocation(b,"l");this.g=a.getUniformLocation(b,"h");this.va=a.getUniformLocation(b,"p");this.P=a.getUniformLocation(b,"o");this.j=a.getAttribLocation(b,"f");this.b=a.getAttribLocation(b,"e");this.u=a.getAttribLocation(b,"g")};function hk(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function ik(a,b){a[0]=b[0];a[1]=b[1];a[4]=b[2];a[5]=b[3];a[12]=b[4];a[13]=b[5];return a};function jk(a,b){this.origin=gc(b);this.Ua=Ph();this.xa=Ph();this.Ja=Ph();this.na=hk();this.b=[];this.o=null;this.g=[];this.i=[];this.a=[];this.v=null;this.j=void 0}v(jk,Ii);
jk.prototype.f=function(a,b,c,d,e,f,g,h,l,m,p){var n=a.b,q,r,u,w,y,z,A,O;this.j&&(q=n.isEnabled(n.STENCIL_TEST),r=n.getParameter(n.STENCIL_FUNC),u=n.getParameter(n.STENCIL_VALUE_MASK),w=n.getParameter(n.STENCIL_REF),y=n.getParameter(n.STENCIL_WRITEMASK),z=n.getParameter(n.STENCIL_FAIL),A=n.getParameter(n.STENCIL_PASS_DEPTH_PASS),O=n.getParameter(n.STENCIL_PASS_DEPTH_FAIL),n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),n.stencilMask(255),n.stencilFunc(n.ALWAYS,1,255),n.stencilOp(n.KEEP,n.KEEP,
n.REPLACE),this.j.f(a,b,c,d,e,f,g,h,l,m,p),n.stencilMask(0),n.stencilFunc(n.NOTEQUAL,1,255));kk(a,34962,this.v);kk(a,34963,this.o);f=this.Ke(n,a,e,f);var Ja=Qh(this.Ua);Wh(Ja,2/(c*e[0]),2/(c*e[1]));Vh(Ja,-d);Xh(Ja,-(b[0]-this.origin[0]),-(b[1]-this.origin[1]));b=Qh(this.Ja);Wh(b,2/e[0],2/e[1]);e=Qh(this.xa);0!==d&&Vh(e,-d);n.uniformMatrix4fv(f.g,!1,ik(this.na,Ja));n.uniformMatrix4fv(f.c,!1,ik(this.na,b));n.uniformMatrix4fv(f.f,!1,ik(this.na,e));n.uniform1f(f.a,g);var ca;void 0===l?this.yd(n,a,h,!1):
(m?a=this.$d(n,a,h,l,p):(n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),this.yd(n,a,h,!0),a=(a=l(null))?a:void 0),ca=a);this.Le(n,f);this.j&&(q||n.disable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),n.stencilFunc(r,w,u),n.stencilMask(y),n.stencilOp(z,O,A));return ca};function lk(a,b,c,d){a.drawElements(4,d-c,b.i?5125:5123,c*(b.i?4:2))};function mk(a){this.b=void 0!==a?a:[];this.a=nk}var nk=35044;function ok(a,b){jk.call(this,0,b);this.H=null;this.l=[];this.u=[];this.A=0;this.c={fillColor:null,strokeColor:null,lineDash:null,lineWidth:void 0,s:!1}}v(ok,jk);k=ok.prototype;
k.hc=function(a,b){var c=a.qe(),d=a.pa();if(c){this.g.push(this.b.length);this.i.push(b);this.c.s&&(this.u.push(this.b.length),this.c.s=!1);this.A=c;var c=a.ia(),c=Tc(c,2,d,-this.origin[0],-this.origin[1]),e=this.a.length,f=this.b.length,g=e/4,h;for(h=0;2>h;h+=d)this.a[e++]=c[h],this.a[e++]=c[h+1],this.a[e++]=0,this.a[e++]=this.A,this.a[e++]=c[h],this.a[e++]=c[h+1],this.a[e++]=1,this.a[e++]=this.A,this.a[e++]=c[h],this.a[e++]=c[h+1],this.a[e++]=2,this.a[e++]=this.A,this.a[e++]=c[h],this.a[e++]=c[h+
1],this.a[e++]=3,this.a[e++]=this.A,this.b[f++]=g,this.b[f++]=g+1,this.b[f++]=g+2,this.b[f++]=g+2,this.b[f++]=g+3,this.b[f++]=g,g+=4}else this.c.s&&(this.l.pop(),this.l.length&&(d=this.l[this.l.length-1],this.c.fillColor=d[0],this.c.strokeColor=d[1],this.c.lineWidth=d[2],this.c.s=!1))};k.vb=function(){this.v=new mk(this.a);this.o=new mk(this.b);this.g.push(this.b.length);0===this.u.length&&0<this.l.length&&(this.l=[]);this.b=this.a=null};
k.wb=function(a){var b=this.v,c=this.o;return function(){pk(a,b);pk(a,c)}};k.Ke=function(a,b,c,d){var e=qk(b,dk,fk),f;this.H?f=this.H:this.H=f=new gk(a,e);b.Lc(e);a.enableVertexAttribArray(f.b);a.vertexAttribPointer(f.b,2,5126,!1,16,0);a.enableVertexAttribArray(f.j);a.vertexAttribPointer(f.j,1,5126,!1,16,8);a.enableVertexAttribArray(f.u);a.vertexAttribPointer(f.u,1,5126,!1,16,12);a.uniform2fv(f.va,c);a.uniform1f(f.ra,d);return f};
k.Le=function(a,b){a.disableVertexAttribArray(b.b);a.disableVertexAttribArray(b.j);a.disableVertexAttribArray(b.u)};
k.yd=function(a,b,c){if(wa(c)){var d,e,f;e=this.g[this.g.length-1];for(c=this.u.length-1;0<=c;--c)d=this.u[c],f=this.l[c],a.uniform4fv(this.H.D,f[0]),rk(this,a,f[1],f[2]),lk(a,b,d,e),e=d}else{var g,h,l,m;l=this.g.length-2;f=e=this.g[l+1];for(d=this.u.length-1;0<=d;--d){g=this.l[d];a.uniform4fv(this.H.D,g[0]);rk(this,a,g[1],g[2]);for(g=this.u[d];0<=l&&this.g[l]>=g;)m=this.g[l],h=this.i[l],h=x(h).toString(),c[h]&&(e!==f&&lk(a,b,e,f),f=m),l--,e=m;e!==f&&lk(a,b,e,f);e=f=g}}};
k.$d=function(a,b,c,d,e){var f,g,h,l,m,p,n;n=this.g.length-2;h=this.g[n+1];for(f=this.u.length-1;0<=f;--f)for(g=this.l[f],a.uniform4fv(this.H.D,g[0]),rk(this,a,g[1],g[2]),l=this.u[f];0<=n&&this.g[n]>=l;){g=this.g[n];m=this.i[n];p=x(m).toString();if(void 0===c[p]&&m.V()&&(void 0===e||jc(e,m.V().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),lk(a,b,g,h),h=d(m)))return h;n--;h=g}};function rk(a,b,c,d){b.uniform4fv(a.H.P,c);b.uniform1f(a.H.L,d)}
k.Ma=function(a,b){var c,d;b?(c=b.g,this.c.lineDash=c?c:Vj,c=b.b,c instanceof CanvasGradient||c instanceof CanvasPattern?c=Wj:c=ye(c).map(function(a,b){return 3!=b?a/255:a})||Wj,d=b.f,d=void 0!==d?d:1):(c=[0,0,0,0],d=0);var e=a?a.b:[0,0,0,0];e instanceof CanvasGradient||e instanceof CanvasPattern?e=Uj:e=ye(e).map(function(a,b){return 3!=b?a/255:a})||Uj;this.c.strokeColor&&db(this.c.strokeColor,c)&&this.c.fillColor&&db(this.c.fillColor,e)&&this.c.lineWidth===d||(this.c.s=!0,this.c.fillColor=e,this.c.strokeColor=
c,this.c.lineWidth=d,this.l.push([e,c,d]))};function sk(){this.b="precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}v(sk,ak);var tk=new sk;
function uk(){this.b="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}"}v(uk,bk);var vk=new uk;
function wk(a,b){this.f=a.getUniformLocation(b,"j");this.c=a.getUniformLocation(b,"i");this.a=a.getUniformLocation(b,"k");this.g=a.getUniformLocation(b,"h");this.v=a.getAttribLocation(b,"e");this.H=a.getAttribLocation(b,"f");this.b=a.getAttribLocation(b,"c");this.A=a.getAttribLocation(b,"g");this.C=a.getAttribLocation(b,"d")};function xk(a,b){this.j=a;this.b=b;this.a={};this.f={};this.g={};this.o=this.v=this.c=this.l=null;(this.i=Za(da,"OES_element_index_uint"))&&b.getExtension("OES_element_index_uint");B(this.j,"webglcontextlost",this.co,this);B(this.j,"webglcontextrestored",this.eo,this)}v(xk,Ga);
function kk(a,b,c){var d=a.b,e=c.b,f=String(x(c));if(f in a.a)d.bindBuffer(b,a.a[f].buffer);else{var g=d.createBuffer();d.bindBuffer(b,g);var h;34962==b?h=new Float32Array(e):34963==b&&(h=a.i?new Uint32Array(e):new Uint16Array(e));d.bufferData(b,h,c.a);a.a[f]={gc:c,buffer:g}}}function pk(a,b){var c=a.b,d=String(x(b)),e=a.a[d];c.isContextLost()||c.deleteBuffer(e.buffer);delete a.a[d]}k=xk.prototype;
k.oa=function(){Fa(this.j);var a=this.b;if(!a.isContextLost()){for(var b in this.a)a.deleteBuffer(this.a[b].buffer);for(b in this.g)a.deleteProgram(this.g[b]);for(b in this.f)a.deleteShader(this.f[b]);a.deleteFramebuffer(this.c);a.deleteRenderbuffer(this.o);a.deleteTexture(this.v)}};k.bo=function(){return this.b};
function yk(a){if(!a.c){var b=a.b,c=b.createFramebuffer();b.bindFramebuffer(b.FRAMEBUFFER,c);var d=zk(b,1,1),e=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,e);b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,1,1);b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,d,0);b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,e);b.bindTexture(b.TEXTURE_2D,null);b.bindRenderbuffer(b.RENDERBUFFER,null);b.bindFramebuffer(b.FRAMEBUFFER,null);a.c=c;
a.v=d;a.o=e}return a.c}function Ak(a,b){var c=String(x(b));if(c in a.f)return a.f[c];var d=a.b,e=d.createShader(b.Y());d.shaderSource(e,b.b);d.compileShader(e);return a.f[c]=e}function qk(a,b,c){var d=x(b)+"/"+x(c);if(d in a.g)return a.g[d];var e=a.b,f=e.createProgram();e.attachShader(f,Ak(a,b));e.attachShader(f,Ak(a,c));e.linkProgram(f);return a.g[d]=f}k.co=function(){ua(this.a);ua(this.f);ua(this.g);this.o=this.v=this.c=this.l=null};k.eo=function(){};
k.Lc=function(a){if(a==this.l)return!1;this.b.useProgram(a);this.l=a;return!0};function Bk(a,b,c){var d=a.createTexture();a.bindTexture(a.TEXTURE_2D,d);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);void 0!==b&&a.texParameteri(3553,10242,b);void 0!==c&&a.texParameteri(3553,10243,c);return d}function zk(a,b,c){var d=Bk(a,void 0,void 0);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,b,c,0,a.RGBA,a.UNSIGNED_BYTE,null);return d}
function Ck(a,b){var c=Bk(a,33071,33071);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b);return c};function Dk(a,b){jk.call(this,0,b);this.D=this.C=void 0;this.A=[];this.H=[];this.ra=void 0;this.l=[];this.c=[];this.P=this.va=void 0;this.L=null;this.sa=this.fa=this.eb=this.Z=this.Qa=this.U=void 0;this.Fa=[];this.u=[];this.zb=void 0}v(Dk,jk);k=Dk.prototype;k.wb=function(a){var b=this.v,c=this.o,d=this.Fa,e=this.u,f=a.b;return function(){if(!f.isContextLost()){var g,h;g=0;for(h=d.length;g<h;++g)f.deleteTexture(d[g]);g=0;for(h=e.length;g<h;++g)f.deleteTexture(e[g])}pk(a,b);pk(a,c)}};
function Ek(a,b,c,d){var e=a.C,f=a.D,g=a.ra,h=a.va,l=a.P,m=a.U,p=a.Qa,n=a.Z,q=a.eb?1:0,r=-a.fa,u=a.sa,w=a.zb,y=Math.cos(r),r=Math.sin(r),z=a.b.length,A=a.a.length,O,Ja,ca,Ma,D,La;for(O=0;O<c;O+=d)D=b[O]-a.origin[0],La=b[O+1]-a.origin[1],Ja=A/8,ca=-u*e,Ma=-u*(g-f),a.a[A++]=D,a.a[A++]=La,a.a[A++]=ca*y-Ma*r,a.a[A++]=ca*r+Ma*y,a.a[A++]=p/l,a.a[A++]=(n+g)/h,a.a[A++]=m,a.a[A++]=q,ca=u*(w-e),Ma=-u*(g-f),a.a[A++]=D,a.a[A++]=La,a.a[A++]=ca*y-Ma*r,a.a[A++]=ca*r+Ma*y,a.a[A++]=(p+w)/l,a.a[A++]=(n+g)/h,a.a[A++]=
m,a.a[A++]=q,ca=u*(w-e),Ma=u*f,a.a[A++]=D,a.a[A++]=La,a.a[A++]=ca*y-Ma*r,a.a[A++]=ca*r+Ma*y,a.a[A++]=(p+w)/l,a.a[A++]=n/h,a.a[A++]=m,a.a[A++]=q,ca=-u*e,Ma=u*f,a.a[A++]=D,a.a[A++]=La,a.a[A++]=ca*y-Ma*r,a.a[A++]=ca*r+Ma*y,a.a[A++]=p/l,a.a[A++]=n/h,a.a[A++]=m,a.a[A++]=q,a.b[z++]=Ja,a.b[z++]=Ja+1,a.b[z++]=Ja+2,a.b[z++]=Ja,a.b[z++]=Ja+2,a.b[z++]=Ja+3}k.vc=function(a,b){this.g.push(this.b.length);this.i.push(b);var c=a.ia();Ek(this,c,c.length,a.pa())};
k.xc=function(a,b){this.g.push(this.b.length);this.i.push(b);var c=a.ia();Ek(this,c,c.length,a.pa())};k.vb=function(a){a=a.b;this.A.push(this.b.length);this.H.push(this.b.length);this.v=new mk(this.a);this.o=new mk(this.b);var b={};Fk(this.Fa,this.l,b,a);Fk(this.u,this.c,b,a);this.ra=this.D=this.C=void 0;this.c=this.l=null;this.P=this.va=void 0;this.b=null;this.sa=this.fa=this.eb=this.Z=this.Qa=this.U=void 0;this.a=null;this.zb=void 0};
function Fk(a,b,c,d){var e,f,g,h=b.length;for(g=0;g<h;++g)e=b[g],f=x(e).toString(),f in c?e=c[f]:(e=Ck(d,e),c[f]=e),a[g]=e}
k.Ke=function(a,b){var c=qk(b,tk,vk),d;this.L?d=this.L:this.L=d=new wk(a,c);b.Lc(c);a.enableVertexAttribArray(d.b);a.vertexAttribPointer(d.b,2,5126,!1,32,0);a.enableVertexAttribArray(d.v);a.vertexAttribPointer(d.v,2,5126,!1,32,8);a.enableVertexAttribArray(d.C);a.vertexAttribPointer(d.C,2,5126,!1,32,16);a.enableVertexAttribArray(d.H);a.vertexAttribPointer(d.H,1,5126,!1,32,24);a.enableVertexAttribArray(d.A);a.vertexAttribPointer(d.A,1,5126,!1,32,28);return d};
k.Le=function(a,b){a.disableVertexAttribArray(b.b);a.disableVertexAttribArray(b.v);a.disableVertexAttribArray(b.C);a.disableVertexAttribArray(b.H);a.disableVertexAttribArray(b.A)};
k.yd=function(a,b,c,d){var e=d?this.u:this.Fa;d=d?this.H:this.A;if(wa(c)){var f,g;c=0;f=e.length;for(g=0;c<f;++c){a.bindTexture(3553,e[c]);var h=d[c];lk(a,b,g,h);g=h}}else for(g=f=0,h=e.length;g<h;++g){a.bindTexture(3553,e[g]);for(var l=0<g?d[g-1]:0,m=d[g],p=l;f<this.g.length&&this.g[f]<=m;){var n=x(this.i[f]).toString();void 0!==c[n]?(p!==l&&lk(a,b,p,l),l=p=f===this.g.length-1?m:this.g[f+1]):l=f===this.g.length-1?m:this.g[f+1];f++}p!==l&&lk(a,b,p,l)}};
k.$d=function(a,b,c,d,e){var f,g,h,l,m,p,n=this.g.length-1;for(f=this.u.length-1;0<=f;--f)for(a.bindTexture(3553,this.u[f]),g=0<f?this.H[f-1]:0,l=this.H[f];0<=n&&this.g[n]>=g;){h=this.g[n];m=this.i[n];p=x(m).toString();if(void 0===c[p]&&m.V()&&(void 0===e||jc(e,m.V().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),lk(a,b,h,l),l=d(m)))return l;l=h;n--}};
k.dc=function(a){var b=a.Ac(),c=a.Ic(1),d=a.de(),e=a.Lf(1),f=a.l,g=a.Jc(),h=a.H,l=a.o,m=a.ac();a=a.i;var p;0===this.l.length?this.l.push(c):(p=this.l[this.l.length-1],x(p)!=x(c)&&(this.A.push(this.b.length),this.l.push(c)));0===this.c.length?this.c.push(e):(p=this.c[this.c.length-1],x(p)!=x(e)&&(this.H.push(this.b.length),this.c.push(e)));this.C=b[0];this.D=b[1];this.ra=m[1];this.va=d[1];this.P=d[0];this.U=f;this.Qa=g[0];this.Z=g[1];this.fa=l;this.eb=h;this.sa=a;this.zb=m[0]};function Gk(a,b,c){var d=b-c;return a[0]===a[d]&&a[1]===a[d+1]&&3<(b-0)/c?!!Zc(a,0,b,c):!1};function Hk(){this.b="precision mediump float;varying float a;varying vec2 b;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((b.x+1.0)/2.0*o.x*p,(b.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}v(Hk,ak);var Ik=new Hk;
function Jk(){this.b="varying float a;varying vec2 b;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;b=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}"}
v(Jk,bk);var Kk=new Jk;function Lk(a,b){this.D=a.getUniformLocation(b,"n");this.L=a.getUniformLocation(b,"k");this.P=a.getUniformLocation(b,"l");this.f=a.getUniformLocation(b,"j");this.c=a.getUniformLocation(b,"i");this.a=a.getUniformLocation(b,"m");this.ra=a.getUniformLocation(b,"p");this.g=a.getUniformLocation(b,"h");this.va=a.getUniformLocation(b,"o");this.i=a.getAttribLocation(b,"g");this.l=a.getAttribLocation(b,"d");this.o=a.getAttribLocation(b,"f");this.b=a.getAttribLocation(b,"e")};function Mk(a,b){jk.call(this,0,b);this.H=null;this.u=[];this.l=[];this.c={strokeColor:null,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,s:!1}}v(Mk,jk);
function Nk(a,b,c,d){var e,f=a.a.length,g=a.b.length,h="bevel"===a.c.lineJoin?0:"miter"===a.c.lineJoin?1:2,l="butt"===a.c.lineCap?0:"square"===a.c.lineCap?1:2,m=Gk(b,c,d),p,n,q,r=g,u=1,w,y,z;for(e=0;e<c;e+=d){q=f/7;w=y;y=z||[b[e],b[e+1]];if(0===e){z=[b[e+d],b[e+d+1]];if(c-0===2*d&&db(y,z))break;if(m)w=[b[c-2*d],b[c-2*d+1]],p=z;else{l&&(f=Ok(a,[0,0],y,z,7*u*l,f),f=Ok(a,[0,0],y,z,7*-u*l,f),a.b[g++]=q+2,a.b[g++]=q,a.b[g++]=q+1,a.b[g++]=q+1,a.b[g++]=q+3,a.b[g++]=q+2);f=Ok(a,[0,0],y,z,3*u*(l||1),f);f=
Ok(a,[0,0],y,z,3*-u*(l||1),f);r=f/7-1;continue}}else if(e===c-d){m?z=p:(w=w||[0,0],f=Ok(a,w,y,[0,0],5*u*(l||1),f),f=Ok(a,w,y,[0,0],5*-u*(l||1),f),a.b[g++]=q,a.b[g++]=r-1,a.b[g++]=r,a.b[g++]=r,a.b[g++]=q+1,a.b[g++]=q,l&&(f=Ok(a,w,y,[0,0],11*u*l,f),f=Ok(a,w,y,[0,0],11*-u*l,f),a.b[g++]=q+2,a.b[g++]=q,a.b[g++]=q+1,a.b[g++]=q+1,a.b[g++]=q+3,a.b[g++]=q+2));break}else z=[b[e+d],b[e+d+1]];n=Xj(w[0],w[1],y[0],y[1],z[0],z[1])?-1:1;f=Ok(a,w,y,z,13*n*(h||1),f);f=Ok(a,w,y,z,17*n*(h||1),f);f=Ok(a,w,y,z,19*-n*(h||
1),f);0<e&&(a.b[g++]=q,a.b[g++]=r-1,a.b[g++]=r,a.b[g++]=q+2,a.b[g++]=q,a.b[g++]=0<u*n?r:r-1);a.b[g++]=q;a.b[g++]=q+2;a.b[g++]=q+1;r=q+2;u=n;h&&(f=Ok(a,w,y,z,23*n*h,f),a.b[g++]=q+1,a.b[g++]=q+3,a.b[g++]=q)}m&&(q=q||f/7,n=wd([w[0],w[1],y[0],y[1],z[0],z[1]],0,6,2)?1:-1,f=Ok(a,w,y,z,13*n*(h||1),f),Ok(a,w,y,z,19*-n*(h||1),f),a.b[g++]=q,a.b[g++]=r-1,a.b[g++]=r,a.b[g++]=q+1,a.b[g++]=q,a.b[g++]=0<u*n?r:r-1)}
function Ok(a,b,c,d,e,f){a.a[f++]=b[0];a.a[f++]=b[1];a.a[f++]=c[0];a.a[f++]=c[1];a.a[f++]=d[0];a.a[f++]=d[1];a.a[f++]=e;return f}function Pk(a,b,c){b-=0;return b<2*c?!1:b===2*c?!db([a[0],a[1]],[a[0+c],a[c+1]]):!0}k=Mk.prototype;k.Pb=function(a,b){var c=a.ia(),d=a.pa();Pk(c,c.length,d)&&(c=Tc(c,c.length,d,-this.origin[0],-this.origin[1]),this.c.s&&(this.l.push(this.b.length),this.c.s=!1),this.g.push(this.b.length),this.i.push(b),Nk(this,c,c.length,d))};
k.uc=function(a,b){var c=this.b.length,d=a.Yc(),e,f;e=0;for(f=d.length;e<f;++e){var g=d[e].ia(),h=d[e].pa();Pk(g,g.length,h)&&(g=Tc(g,g.length,h,-this.origin[0],-this.origin[1]),Nk(this,g,g.length,h))}this.b.length>c&&(this.g.push(c),this.i.push(b),this.c.s&&(this.l.push(c),this.c.s=!1))};
function Qk(a,b,c,d){Gk(b,b.length,d)||(b.push(b[0]),b.push(b[1]));Nk(a,b,b.length,d);if(c.length){var e;b=0;for(e=c.length;b<e;++b)Gk(c[b],c[b].length,d)||(c[b].push(c[b][0]),c[b].push(c[b][1])),Nk(a,c[b],c[b].length,d)}}function Rk(a,b,c){c=void 0===c?a.b.length:c;a.g.push(c);a.i.push(b);a.c.s&&(a.l.push(c),a.c.s=!1)}k.vb=function(){this.v=new mk(this.a);this.o=new mk(this.b);this.g.push(this.b.length);0===this.l.length&&0<this.u.length&&(this.u=[]);this.b=this.a=null};
k.wb=function(a){var b=this.v,c=this.o;return function(){pk(a,b);pk(a,c)}};k.Ke=function(a,b,c,d){var e=qk(b,Ik,Kk),f;this.H?f=this.H:this.H=f=new Lk(a,e);b.Lc(e);a.enableVertexAttribArray(f.l);a.vertexAttribPointer(f.l,2,5126,!1,28,0);a.enableVertexAttribArray(f.b);a.vertexAttribPointer(f.b,2,5126,!1,28,8);a.enableVertexAttribArray(f.o);a.vertexAttribPointer(f.o,2,5126,!1,28,16);a.enableVertexAttribArray(f.i);a.vertexAttribPointer(f.i,1,5126,!1,28,24);a.uniform2fv(f.va,c);a.uniform1f(f.ra,d);return f};
k.Le=function(a,b){a.disableVertexAttribArray(b.l);a.disableVertexAttribArray(b.b);a.disableVertexAttribArray(b.o);a.disableVertexAttribArray(b.i)};
k.yd=function(a,b,c,d){var e=a.getParameter(a.DEPTH_FUNC),f=a.getParameter(a.DEPTH_WRITEMASK);d||(a.enable(a.DEPTH_TEST),a.depthMask(!0),a.depthFunc(a.NOTEQUAL));if(wa(c)){var g,h,l;h=this.g[this.g.length-1];for(c=this.l.length-1;0<=c;--c)g=this.l[c],l=this.u[c],Sk(this,a,l[0],l[1],l[2]),lk(a,b,g,h),a.clear(a.DEPTH_BUFFER_BIT),h=g}else{var m,p,n,q;n=this.g.length-2;l=h=this.g[n+1];for(g=this.l.length-1;0<=g;--g){m=this.u[g];Sk(this,a,m[0],m[1],m[2]);for(m=this.l[g];0<=n&&this.g[n]>=m;)q=this.g[n],
p=this.i[n],p=x(p).toString(),c[p]&&(h!==l&&(lk(a,b,h,l),a.clear(a.DEPTH_BUFFER_BIT)),l=q),n--,h=q;h!==l&&(lk(a,b,h,l),a.clear(a.DEPTH_BUFFER_BIT));h=l=m}}d||(a.disable(a.DEPTH_TEST),a.clear(a.DEPTH_BUFFER_BIT),a.depthMask(f),a.depthFunc(e))};
k.$d=function(a,b,c,d,e){var f,g,h,l,m,p,n;n=this.g.length-2;h=this.g[n+1];for(f=this.l.length-1;0<=f;--f)for(g=this.u[f],Sk(this,a,g[0],g[1],g[2]),l=this.l[f];0<=n&&this.g[n]>=l;){g=this.g[n];m=this.i[n];p=x(m).toString();if(void 0===c[p]&&m.V()&&(void 0===e||jc(e,m.V().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),lk(a,b,g,h),h=d(m)))return h;n--;h=g}};function Sk(a,b,c,d,e){b.uniform4fv(a.H.D,c);b.uniform1f(a.H.L,d);b.uniform1f(a.H.P,e)}
k.Ma=function(a,b){var c=b.c;this.c.lineCap=void 0!==c?c:"round";c=b.g;this.c.lineDash=c?c:Vj;c=b.i;this.c.lineJoin=void 0!==c?c:"round";c=b.b;c instanceof CanvasGradient||c instanceof CanvasPattern?c=Wj:c=ye(c).map(function(a,b){return 3!=b?a/255:a})||Wj;var d=b.f,d=void 0!==d?d:1,e=b.j,e=void 0!==e?e:10;this.c.strokeColor&&db(this.c.strokeColor,c)&&this.c.lineWidth===d&&this.c.miterLimit===e||(this.c.s=!0,this.c.strokeColor=c,this.c.lineWidth=d,this.c.miterLimit=e,this.u.push([c,d,e]))};function Tk(){this.b="precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}v(Tk,ak);var Uk=new Tk;function Vk(){this.b="attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}"}v(Vk,bk);var Wk=new Vk;
function Xk(a,b){this.D=a.getUniformLocation(b,"e");this.f=a.getUniformLocation(b,"d");this.c=a.getUniformLocation(b,"c");this.a=a.getUniformLocation(b,"f");this.g=a.getUniformLocation(b,"b");this.b=a.getAttribLocation(b,"a")};function Yk(a){this.b=this.a=this.g=void 0;this.c=void 0===a?!0:a;this.f=0}function Zk(a){var b=a.b;if(b){var c=b.next,d=b.pb;c&&(c.pb=d);d&&(d.next=c);a.b=c||d;a.g===a.a?(a.b=void 0,a.g=void 0,a.a=void 0):a.g===b?a.g=a.b:a.a===b&&(a.a=d?a.b.pb:a.b);a.f--}}function $k(a){a.b=a.g;if(a.b)return a.b.data}function al(a){if(a.b&&a.b.next)return a.b=a.b.next,a.b.data}function bl(a){if(a.b&&a.b.next)return a.b.next.data}function cl(a){if(a.b&&a.b.pb)return a.b=a.b.pb,a.b.data}
function dl(a){if(a.b&&a.b.pb)return a.b.pb.data}function el(a){if(a.b)return a.b.data}Yk.prototype.concat=function(a){if(a.b){if(this.b){var b=this.b.next;this.b.next=a.g;a.g.pb=this.b;b.pb=a.a;a.a.next=b;this.f+=a.f}else this.b=a.b,this.g=a.g,this.a=a.a,this.f=a.f;a.b=void 0;a.g=void 0;a.a=void 0;a.f=0}};var fl,gl,hl,il;
(function(){var a={},b={ma:a};(function(c){if("object"===typeof a&&"undefined"!==typeof b)b.ma=c();else{var d;"undefined"!==typeof window?d=window:"undefined"!==typeof global?d=global:"undefined"!==typeof self?d=self:d=this;d.Tp=c()}})(function(){return function d(a,b,g){function h(m,n){if(!b[m]){if(!a[m]){var q="function"==typeof require&&require;if(!n&&q)return q(m,!0);if(l)return l(m,!0);q=Error("Cannot find module '"+m+"'");throw q.code="MODULE_NOT_FOUND",q;}q=b[m]={ma:{}};a[m][0].call(q.ma,function(b){var d=
a[m][1][b];return h(d?d:b)},q,q.ma,d,a,b,g)}return b[m].ma}for(var l="function"==typeof require&&require,m=0;m<g.length;m++)h(g[m]);return h}({1:[function(a,b){function f(a,b,d,e,q){d=d||0;e=e||a.length-1;for(q=q||h;e>d;){if(600<e-d){var r=e-d+1,u=b-d+1,w=Math.log(r),y=.5*Math.exp(2*w/3),w=.5*Math.sqrt(w*y*(r-y)/r)*(0>u-r/2?-1:1);f(a,b,Math.max(d,Math.floor(b-u*y/r+w)),Math.min(e,Math.floor(b+(r-u)*y/r+w)),q)}r=a[b];u=d;y=e;g(a,d,b);for(0<q(a[e],r)&&g(a,d,e);u<y;){g(a,u,y);u++;for(y--;0>q(a[u],r);)u++;
for(;0<q(a[y],r);)y--}0===q(a[d],r)?g(a,d,y):(y++,g(a,y,e));y<=b&&(d=y+1);b<=y&&(e=y-1)}}function g(a,b,d){var e=a[b];a[b]=a[d];a[d]=e}function h(a,b){return a<b?-1:a>b?1:0}b.ma=f},{}],2:[function(a,b){function f(a,b){if(!(this instanceof f))return new f(a,b);this.af=Math.max(4,a||9);this.rg=Math.max(2,Math.ceil(.4*this.af));b&&this.vj(b);this.clear()}function g(a,b){h(a,0,a.children.length,b,a)}function h(a,b,d,e,f){f||(f=w(null));f.ea=Infinity;f.ga=Infinity;f.ca=-Infinity;f.ja=-Infinity;for(var g;b<
d;b++)g=a.children[b],l(f,a.ab?e(g):g);return f}function l(a,b){a.ea=Math.min(a.ea,b.ea);a.ga=Math.min(a.ga,b.ga);a.ca=Math.max(a.ca,b.ca);a.ja=Math.max(a.ja,b.ja)}function m(a,b){return a.ea-b.ea}function p(a,b){return a.ga-b.ga}function n(a){return(a.ca-a.ea)*(a.ja-a.ga)}function q(a){return a.ca-a.ea+(a.ja-a.ga)}function r(a,b){return a.ea<=b.ea&&a.ga<=b.ga&&b.ca<=a.ca&&b.ja<=a.ja}function u(a,b){return b.ea<=a.ca&&b.ga<=a.ja&&b.ca>=a.ea&&b.ja>=a.ga}function w(a){return{children:a,height:1,ab:!0,
ea:Infinity,ga:Infinity,ca:-Infinity,ja:-Infinity}}function y(a,b,d,e,f){for(var g=[b,d],h;g.length;)d=g.pop(),b=g.pop(),d-b<=e||(h=b+Math.ceil((d-b)/e/2)*e,z(a,h,b,d,f),g.push(b,h,h,d))}b.ma=f;var z=a("quickselect");f.prototype={all:function(){return this.mg(this.data,[])},search:function(a){var b=this.data,d=[],e=this.tb;if(!u(a,b))return d;for(var f=[],g,h,l,m;b;){g=0;for(h=b.children.length;g<h;g++)l=b.children[g],m=b.ab?e(l):l,u(a,m)&&(b.ab?d.push(l):r(a,m)?this.mg(l,d):f.push(l));b=f.pop()}return d},
load:function(a){if(!a||!a.length)return this;if(a.length<this.rg){for(var b=0,d=a.length;b<d;b++)this.Da(a[b]);return this}a=this.og(a.slice(),0,a.length-1,0);this.data.children.length?this.data.height===a.height?this.tg(this.data,a):(this.data.height<a.height&&(b=this.data,this.data=a,a=b),this.qg(a,this.data.height-a.height-1,!0)):this.data=a;return this},Da:function(a){a&&this.qg(a,this.data.height-1);return this},clear:function(){this.data=w([]);return this},remove:function(a,b){if(!a)return this;
for(var d=this.data,e=this.tb(a),f=[],g=[],h,l,m,p;d||f.length;){d||(d=f.pop(),l=f[f.length-1],h=g.pop(),p=!0);if(d.ab){a:{m=a;var n=d.children,q=b;if(q){for(var u=0;u<n.length;u++)if(q(m,n[u])){m=u;break a}m=-1}else m=n.indexOf(m)}if(-1!==m){d.children.splice(m,1);f.push(d);this.tj(f);break}}p||d.ab||!r(d,e)?l?(h++,d=l.children[h],p=!1):d=null:(f.push(d),g.push(h),h=0,l=d,d=d.children[0])}return this},tb:function(a){return a},ff:m,gf:p,toJSON:function(){return this.data},mg:function(a,b){for(var d=
[];a;)a.ab?b.push.apply(b,a.children):d.push.apply(d,a.children),a=d.pop();return b},og:function(a,b,d,e){var f=d-b+1,h=this.af,l;if(f<=h)return l=w(a.slice(b,d+1)),g(l,this.tb),l;e||(e=Math.ceil(Math.log(f)/Math.log(h)),h=Math.ceil(f/Math.pow(h,e-1)));l=w([]);l.ab=!1;l.height=e;var f=Math.ceil(f/h),h=f*Math.ceil(Math.sqrt(h)),m,p,n;for(y(a,b,d,h,this.ff);b<=d;b+=h)for(p=Math.min(b+h-1,d),y(a,b,p,f,this.gf),m=b;m<=p;m+=f)n=Math.min(m+f-1,p),l.children.push(this.og(a,m,n,e-1));g(l,this.tb);return l},
sj:function(a,b,d,e){for(var f,g,h,l,m,p,q,r;;){e.push(b);if(b.ab||e.length-1===d)break;q=r=Infinity;f=0;for(g=b.children.length;f<g;f++)h=b.children[f],m=n(h),p=(Math.max(h.ca,a.ca)-Math.min(h.ea,a.ea))*(Math.max(h.ja,a.ja)-Math.min(h.ga,a.ga))-m,p<r?(r=p,q=m<q?m:q,l=h):p===r&&m<q&&(q=m,l=h);b=l||b.children[0]}return b},qg:function(a,b,d){var e=this.tb;d=d?a:e(a);var e=[],f=this.sj(d,this.data,b,e);f.children.push(a);for(l(f,d);0<=b;)if(e[b].children.length>this.af)this.Aj(e,b),b--;else break;this.pj(d,
e,b)},Aj:function(a,b){var d=a[b],e=d.children.length,f=this.rg;this.qj(d,f,e);e=this.rj(d,f,e);e=w(d.children.splice(e,d.children.length-e));e.height=d.height;e.ab=d.ab;g(d,this.tb);g(e,this.tb);b?a[b-1].children.push(e):this.tg(d,e)},tg:function(a,b){this.data=w([a,b]);this.data.height=a.height+1;this.data.ab=!1;g(this.data,this.tb)},rj:function(a,b,d){var e,f,g,l,m,p,q;m=p=Infinity;for(e=b;e<=d-b;e++)f=h(a,0,e,this.tb),g=h(a,e,d,this.tb),l=Math.max(0,Math.min(f.ca,g.ca)-Math.max(f.ea,g.ea))*Math.max(0,
Math.min(f.ja,g.ja)-Math.max(f.ga,g.ga)),f=n(f)+n(g),l<m?(m=l,q=e,p=f<p?f:p):l===m&&f<p&&(p=f,q=e);return q},qj:function(a,b,d){var e=a.ab?this.ff:m,f=a.ab?this.gf:p,g=this.ng(a,b,d,e);b=this.ng(a,b,d,f);g<b&&a.children.sort(e)},ng:function(a,b,d,e){a.children.sort(e);e=this.tb;var f=h(a,0,b,e),g=h(a,d-b,d,e),m=q(f)+q(g),p,n;for(p=b;p<d-b;p++)n=a.children[p],l(f,a.ab?e(n):n),m+=q(f);for(p=d-b-1;p>=b;p--)n=a.children[p],l(g,a.ab?e(n):n),m+=q(g);return m},pj:function(a,b,d){for(;0<=d;d--)l(b[d],a)},
tj:function(a){for(var b=a.length-1,d;0<=b;b--)0===a[b].children.length?0<b?(d=a[b-1].children,d.splice(d.indexOf(a[b]),1)):this.clear():g(a[b],this.tb)},vj:function(a){var b=["return a"," - b",";"];this.ff=new Function("a","b",b.join(a[0]));this.gf=new Function("a","b",b.join(a[1]));this.tb=new Function("a","return {minX: a"+a[0]+", minY: a"+a[1]+", maxX: a"+a[2]+", maxY: a"+a[3]+"};")}}},{quickselect:1}]},{},[2])(2)});fl=b.ma})();function jl(a){this.b=fl(a);this.a={}}k=jl.prototype;k.Da=function(a,b){var c={ea:a[0],ga:a[1],ca:a[2],ja:a[3],value:b};this.b.Da(c);this.a[x(b)]=c};k.load=function(a,b){for(var c=Array(b.length),d=0,e=b.length;d<e;d++){var f=a[d],g=b[d],f={ea:f[0],ga:f[1],ca:f[2],ja:f[3],value:g};c[d]=f;this.a[x(g)]=f}this.b.load(c)};k.remove=function(a){a=x(a);var b=this.a[a];delete this.a[a];return null!==this.b.remove(b)};
function kl(a,b,c){var d=a.a[x(c)];Vb([d.ea,d.ga,d.ca,d.ja],b)||(a.remove(c),a.Da(b,c))}function ll(a){return a.b.all().map(function(a){return a.value})}function ml(a,b){return a.b.search({ea:b[0],ga:b[1],ca:b[2],ja:b[3]}).map(function(a){return a.value})}k.forEach=function(a,b){return nl(ll(this),a,b)};function pl(a,b,c,d){return nl(ml(a,b),c,d)}function nl(a,b,c){for(var d,e=0,f=a.length;e<f&&!(d=b.call(c,a[e]));e++);return d}k.clear=function(){this.b.clear();this.a={}};
k.G=function(){var a=this.b.data;return[a.ea,a.ga,a.ca,a.ja]};function ql(a,b){jk.call(this,0,b);this.j=new Mk(0,b);this.H=null;this.u=[];this.c=[];this.l={fillColor:null,s:!1}}v(ql,jk);function rl(a,b,c,d){var e=new Yk,f=new jl;b=sl(a,b,d,e,f,!0);if(c.length){var g,h,l=[];g=0;for(h=c.length;g<h;++g){var m={list:new Yk,ca:void 0};l.push(m);m.ca=sl(a,c[g],d,m.list,f,!1)}l.sort(function(a,b){return b.ca-a.ca});for(g=0;g<l.length;++g)tl(l[g].list,l[g].ca,e,b,f)}ul(e,f,!1);vl(a,e,f)}
function sl(a,b,c,d,e,f){var g,h,l=a.a.length/2,m,p,n,q=[],r=[];if(f===wd(b,0,b.length,c))for(p=m=wl(a,b[0],b[1],l++),f=b[0],g=c,h=b.length;g<h;g+=c)n=wl(a,b[g],b[g+1],l++),r.push(xl(p,n,d)),q.push([Math.min(p.x,n.x),Math.min(p.y,n.y),Math.max(p.x,n.x),Math.max(p.y,n.y)]),f=b[g]>f?b[g]:f,p=n;else for(g=b.length-c,p=m=wl(a,b[g],b[g+1],l++),f=b[g],g-=c,h=0;g>=h;g-=c)n=wl(a,b[g],b[g+1],l++),r.push(xl(p,n,d)),q.push([Math.min(p.x,n.x),Math.min(p.y,n.y),Math.max(p.x,n.x),Math.max(p.y,n.y)]),f=b[g]>f?b[g]:
f,p=n;r.push(xl(n,m,d));q.push([Math.min(p.x,n.x),Math.min(p.y,n.y),Math.max(p.x,n.x),Math.max(p.y,n.y)]);e.load(q,r);return f}function ul(a,b,c){var d=$k(a),e=d,f=al(a),g=!1;do{var h=c?Xj(f.X.x,f.X.y,e.X.x,e.X.y,e.ba.x,e.ba.y):Xj(e.ba.x,e.ba.y,e.X.x,e.X.y,f.X.x,f.X.y);void 0===h?(yl(e,f,a,b),g=!0,f===d&&(d=bl(a)),f=e,cl(a)):e.X.qb!==h&&(e.X.qb=h,g=!0);e=f;f=al(a)}while(e!==d);return g}
function tl(a,b,c,d,e){ul(a,e,!0);for(var f=$k(a);f.X.x!==b;)f=al(a);b=f.X;d={x:d,y:b.y,$a:-1};var g=Infinity,h,l,m,p;m=zl({ba:b,X:d},e,!0);h=0;for(l=m.length;h<l;++h){var n=m[h];if(void 0===n.ba.qb){var q=Al(b,d,n.ba,n.X,!0),r=Math.abs(b.x-q[0]);r<g&&(g=r,p={x:q[0],y:q[1],$a:-1},f=n)}}if(Infinity!==g){m=f.X;if(0<g&&(f=Bl(b,p,f.X,e),f.length))for(p=Infinity,h=0,l=f.length;h<l;++h)if(g=f[h],n=Math.atan2(b.y-g.y,d.x-g.x),n<p||n===p&&g.x<m.x)p=n,m=g;for(f=$k(c);f.X!==m;)f=al(c);d={x:b.x,y:b.y,$a:b.$a,
qb:void 0};h={x:f.X.x,y:f.X.y,$a:f.X.$a,qb:void 0};bl(a).ba=d;xl(b,f.X,a,e);xl(h,d,a,e);f.X=h;a.c&&a.b&&(a.g=a.b,a.a=a.b.pb);c.concat(a)}}
function vl(a,b,c){for(var d=!1,e=Cl(b,c);3<b.f;)if(e){if(!Dl(a,b,c,e,d)&&!ul(b,c,d)&&!El(a,b,c,!0))break}else if(!Dl(a,b,c,e,d)&&!ul(b,c,d)&&!El(a,b,c))if(e=Cl(b,c)){var d=b,f=2*d.f,g=Array(f),h=$k(d),l=h,m=0;do g[m++]=l.ba.x,g[m++]=l.ba.y,l=al(d);while(l!==h);d=!wd(g,0,f,2);ul(b,c,d)}else{e=a;d=b;f=g=$k(d);do{h=zl(f,c);if(h.length){g=h[0];h=Al(f.ba,f.X,g.ba,g.X);h=wl(e,h[0],h[1],e.a.length/2);l=new Yk;m=new jl;xl(h,f.X,l,m);f.X=h;kl(c,[Math.min(f.ba.x,h.x),Math.min(f.ba.y,h.y),Math.max(f.ba.x,h.x),
Math.max(f.ba.y,h.y)],f);for(f=al(d);f!==g;)xl(f.ba,f.X,l,m),c.remove(f),Zk(d),f=el(d);xl(g.ba,h,l,m);g.ba=h;kl(c,[Math.min(g.X.x,h.x),Math.min(g.X.y,h.y),Math.max(g.X.x,h.x),Math.max(g.X.y,h.y)],g);ul(d,c,!1);vl(e,d,c);ul(l,m,!1);vl(e,l,m);break}f=al(d)}while(f!==g);break}3===b.f&&(e=a.b.length,a.b[e++]=dl(b).ba.$a,a.b[e++]=el(b).ba.$a,a.b[e++]=bl(b).ba.$a)}
function Dl(a,b,c,d,e){var f=a.b.length,g=$k(b),h=dl(b),l=g,m=al(b),p=bl(b),n,q,r,u=!1;do{n=l.ba;q=l.X;r=m.X;if(!1===q.qb){var w=e?Fl(p.X,r,q,n,h.ba):Fl(h.ba,n,q,r,p.X);!d&&0!==zl({ba:n,X:r},c).length||!w||0!==Bl(n,q,r,c,!0).length||!d&&!1!==n.qb&&!1!==r.qb&&wd([h.ba.x,h.ba.y,n.x,n.y,q.x,q.y,r.x,r.y,p.X.x,p.X.y],0,10,2)!==!e||(a.b[f++]=n.$a,a.b[f++]=q.$a,a.b[f++]=r.$a,yl(l,m,b,c),m===g&&(g=p),u=!0)}h=dl(b);l=el(b);m=al(b);p=bl(b)}while(l!==g&&3<b.f);return u}
function El(a,b,c,d){var e=$k(b);al(b);var f=e,g=al(b),h=!1;do{var l=Al(f.ba,f.X,g.ba,g.X,d);if(l){var m,h=a.b.length,p=a.a.length/2,n=cl(b);Zk(b);c.remove(n);m=n===e;d?(l[0]===f.ba.x&&l[1]===f.ba.y?(cl(b),l=f.ba,g.ba=l,c.remove(f),m=m||f===e):(l=g.X,f.X=l,c.remove(g),m=m||g===e),Zk(b)):(l=wl(a,l[0],l[1],p),f.X=l,g.ba=l,kl(c,[Math.min(f.ba.x,f.X.x),Math.min(f.ba.y,f.X.y),Math.max(f.ba.x,f.X.x),Math.max(f.ba.y,f.X.y)],f),kl(c,[Math.min(g.ba.x,g.X.x),Math.min(g.ba.y,g.X.y),Math.max(g.ba.x,g.X.x),Math.max(g.ba.y,
g.X.y)],g));a.b[h++]=n.ba.$a;a.b[h++]=n.X.$a;a.b[h++]=l.$a;h=!0;if(m)break}f=dl(b);g=al(b)}while(f!==e);return h}function Cl(a,b){var c=$k(a),d=c;do{if(zl(d,b).length)return!1;d=al(a)}while(d!==c);return!0}function wl(a,b,c,d){var e=a.a.length;a.a[e++]=b;a.a[e++]=c;return{x:b,y:c,$a:d,qb:void 0}}
function xl(a,b,c,d){var e={ba:a,X:b},f={pb:void 0,next:void 0,data:e},g=c.b;if(g){var h=g.next;f.pb=g;f.next=h;g.next=f;h&&(h.pb=f);g===c.a&&(c.a=f)}else c.g=f,c.a=f,c.c&&(f.next=f,f.pb=f);c.b=f;c.f++;d&&d.Da([Math.min(a.x,b.x),Math.min(a.y,b.y),Math.max(a.x,b.x),Math.max(a.y,b.y)],e);return e}function yl(a,b,c,d){el(c)===b&&(Zk(c),a.X=b.X,d.remove(b),kl(d,[Math.min(a.ba.x,a.X.x),Math.min(a.ba.y,a.X.y),Math.max(a.ba.x,a.X.x),Math.max(a.ba.y,a.X.y)],a))}
function Bl(a,b,c,d,e){var f,g,h,l=[],m=ml(d,[Math.min(a.x,b.x,c.x),Math.min(a.y,b.y,c.y),Math.max(a.x,b.x,c.x),Math.max(a.y,b.y,c.y)]);d=0;for(f=m.length;d<f;++d)for(g in m[d])h=m[d][g],"object"!==typeof h||e&&!h.qb||h.x===a.x&&h.y===a.y||h.x===b.x&&h.y===b.y||h.x===c.x&&h.y===c.y||-1!==l.indexOf(h)||!qd([a.x,a.y,b.x,b.y,c.x,c.y],0,6,2,h.x,h.y)||l.push(h);return l}
function zl(a,b,c){var d=a.ba,e=a.X;b=ml(b,[Math.min(d.x,e.x),Math.min(d.y,e.y),Math.max(d.x,e.x),Math.max(d.y,e.y)]);var f=[],g,h;g=0;for(h=b.length;g<h;++g){var l=b[g];a!==l&&(c||l.ba!==e||l.X!==d)&&Al(d,e,l.ba,l.X,c)&&f.push(l)}return f}
function Al(a,b,c,d,e){var f=(d.y-c.y)*(b.x-a.x)-(d.x-c.x)*(b.y-a.y);if(0!==f&&(d=((d.x-c.x)*(a.y-c.y)-(d.y-c.y)*(a.x-c.x))/f,c=((b.x-a.x)*(a.y-c.y)-(b.y-a.y)*(a.x-c.x))/f,!e&&d>Yj&&d<1-Yj&&c>Yj&&c<1-Yj||e&&0<=d&&1>=d&&0<=c&&1>=c))return[a.x+d*(b.x-a.x),a.y+d*(b.y-a.y)]}
function Fl(a,b,c,d,e){if(void 0===b.qb||void 0===d.qb)return!1;var f=(c.x-d.x)*(b.y-d.y)>(c.y-d.y)*(b.x-d.x);e=(e.x-d.x)*(b.y-d.y)<(e.y-d.y)*(b.x-d.x);a=(a.x-b.x)*(d.y-b.y)>(a.y-b.y)*(d.x-b.x);c=(c.x-b.x)*(d.y-b.y)<(c.y-b.y)*(d.x-b.x);b=b.qb?c||a:c&&a;return(d.qb?e||f:e&&f)&&b}k=ql.prototype;
k.wc=function(a,b){var c=a.Ad(),d=a.pa(),e=this.b.length,f=this.j.b.length,g,h,l,m;g=0;for(h=c.length;g<h;++g){var p=c[g].Zc();if(0<p.length){var n=p[0].ia(),n=Tc(n,n.length,d,-this.origin[0],-this.origin[1]),q=[],r;l=1;for(m=p.length;l<m;++l)r=p[l].ia(),r=Tc(r,r.length,d,-this.origin[0],-this.origin[1]),q.push(r);Qk(this.j,n,q,d);rl(this,n,q,d)}}this.b.length>e&&(this.g.push(e),this.i.push(b),this.l.s&&(this.c.push(e),this.l.s=!1));this.j.b.length>f&&Rk(this.j,b,f)};
k.yc=function(a,b){var c=a.Zc(),d=a.pa();if(0<c.length){this.g.push(this.b.length);this.i.push(b);this.l.s&&(this.c.push(this.b.length),this.l.s=!1);Rk(this.j,b);var e=c[0].ia(),e=Tc(e,e.length,d,-this.origin[0],-this.origin[1]),f=[],g,h,l;g=1;for(h=c.length;g<h;++g)l=c[g].ia(),l=Tc(l,l.length,d,-this.origin[0],-this.origin[1]),f.push(l);Qk(this.j,e,f,d);rl(this,e,f,d)}};
k.vb=function(a){this.v=new mk(this.a);this.o=new mk(this.b);this.g.push(this.b.length);this.j.vb(a);0===this.c.length&&0<this.u.length&&(this.u=[]);this.b=this.a=null};k.wb=function(a){var b=this.v,c=this.o,d=this.j.wb(a);return function(){pk(a,b);pk(a,c);d()}};k.Ke=function(a,b){var c=qk(b,Uk,Wk),d;this.H?d=this.H:this.H=d=new Xk(a,c);b.Lc(c);a.enableVertexAttribArray(d.b);a.vertexAttribPointer(d.b,2,5126,!1,8,0);return d};k.Le=function(a,b){a.disableVertexAttribArray(b.b)};
k.yd=function(a,b,c,d){var e=a.getParameter(a.DEPTH_FUNC),f=a.getParameter(a.DEPTH_WRITEMASK);d||(a.enable(a.DEPTH_TEST),a.depthMask(!0),a.depthFunc(a.NOTEQUAL));if(wa(c)){var g,h,l;h=this.g[this.g.length-1];for(c=this.c.length-1;0<=c;--c)g=this.c[c],l=this.u[c],a.uniform4fv(this.H.D,l),lk(a,b,g,h),h=g}else{var m,p,n,q;n=this.g.length-2;l=h=this.g[n+1];for(g=this.c.length-1;0<=g;--g){m=this.u[g];a.uniform4fv(this.H.D,m);for(m=this.c[g];0<=n&&this.g[n]>=m;)q=this.g[n],p=this.i[n],p=x(p).toString(),
c[p]&&(h!==l&&(lk(a,b,h,l),a.clear(a.DEPTH_BUFFER_BIT)),l=q),n--,h=q;h!==l&&(lk(a,b,h,l),a.clear(a.DEPTH_BUFFER_BIT));h=l=m}}d||(a.disable(a.DEPTH_TEST),a.clear(a.DEPTH_BUFFER_BIT),a.depthMask(f),a.depthFunc(e))};
k.$d=function(a,b,c,d,e){var f,g,h,l,m,p,n;n=this.g.length-2;h=this.g[n+1];for(f=this.c.length-1;0<=f;--f)for(g=this.u[f],a.uniform4fv(this.H.D,g),l=this.c[f];0<=n&&this.g[n]>=l;){g=this.g[n];m=this.i[n];p=x(m).toString();if(void 0===c[p]&&m.V()&&(void 0===e||jc(e,m.V().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),lk(a,b,g,h),h=d(m)))return h;n--;h=g}};
k.Ma=function(a,b){var c=a?a.b:[0,0,0,0];c instanceof CanvasGradient||c instanceof CanvasPattern?c=Uj:c=ye(c).map(function(a,b){return 3!=b?a/255:a})||Uj;this.l.fillColor&&db(c,this.l.fillColor)||(this.l.fillColor=c,this.l.s=!0,this.u.push(c));b?this.j.Ma(null,b):this.j.Ma(null,new wi({color:[0,0,0,0],lineWidth:0}))};function Gl(){}Gl.prototype.f=function(){};function Hl(a,b,c){this.i=b;this.j=a;this.c=c;this.a={}}v(Hl,jj);function Il(a,b){var c=[],d;for(d in a.a){var e=a.a[d],f;for(f in e)c.push(e[f].wb(b))}return function(){for(var a=c.length,b,d=0;d<a;d++)b=c[d].apply(this,arguments);return b}}function Jl(a,b){for(var c in a.a){var d=a.a[c],e;for(e in d)d[e].vb(b)}}Hl.prototype.b=function(a,b){var c=void 0!==a?a.toString():"0",d=this.a[c];void 0===d&&(d={},this.a[c]=d);c=d[b];void 0===c&&(c=new Kl[b](this.j,this.i),d[b]=c);return c};
Hl.prototype.g=function(){return wa(this.a)};Hl.prototype.f=function(a,b,c,d,e,f,g,h){var l=Object.keys(this.a).map(Number);l.sort(Ya);var m,p,n,q,r,u;m=0;for(p=l.length;m<p;++m)for(r=this.a[l[m].toString()],n=0,q=Aj.length;n<q;++n)u=r[Aj[n]],void 0!==u&&u.f(a,b,c,d,e,f,g,h,void 0,!1)};
function Ll(a,b,c,d,e,f,g,h,l,m,p){var n=Ml,q=Object.keys(a.a).map(Number);q.sort(function(a,b){return b-a});var r,u,w,y,z;r=0;for(u=q.length;r<u;++r)for(y=a.a[q[r].toString()],w=Aj.length-1;0<=w;--w)if(z=y[Aj[w]],void 0!==z&&(z=z.f(b,c,d,e,n,f,g,h,l,m,p)))return z}
Hl.prototype.Ba=function(a,b,c,d,e,f,g,h,l,m){var p=b.b;p.bindFramebuffer(p.FRAMEBUFFER,yk(b));var n;void 0!==this.c&&(n=Jb(Sb(a),d*this.c));return Ll(this,b,a,d,e,g,h,l,function(a){var b=new Uint8Array(4);p.readPixels(0,0,1,1,p.RGBA,p.UNSIGNED_BYTE,b);if(0<b[3]&&(a=m(a)))return a},!0,n)};
function Nl(a,b,c,d,e,f,g,h){var l=c.b;l.bindFramebuffer(l.FRAMEBUFFER,yk(c));return void 0!==Ll(a,c,b,d,e,f,g,h,function(){var a=new Uint8Array(4);l.readPixels(0,0,1,1,l.RGBA,l.UNSIGNED_BYTE,a);return 0<a[3]},!1)}var Ml=[1,1],Kl={Circle:ok,Image:Dk,LineString:Mk,Polygon:ql,Text:Gl};function Ol(a,b,c,d,e,f,g){this.b=a;this.g=b;this.a=f;this.f=g;this.j=e;this.i=d;this.c=c;this.l=this.o=this.v=null}v(Ol,Ii);k=Ol.prototype;k.Gd=function(a){this.Ma(a.f,a.g);this.dc(a.a)};
k.tc=function(a){switch(a.Y()){case "Point":this.xc(a,null);break;case "LineString":this.Pb(a,null);break;case "Polygon":this.yc(a,null);break;case "MultiPoint":this.vc(a,null);break;case "MultiLineString":this.uc(a,null);break;case "MultiPolygon":this.wc(a,null);break;case "GeometryCollection":this.kf(a,null);break;case "Circle":this.hc(a,null)}};k.jf=function(a,b){var c=(0,b.c)(a);c&&jc(this.a,c.G())&&(this.Gd(b),this.tc(c))};k.kf=function(a){a=a.f;var b,c;b=0;for(c=a.length;b<c;++b)this.tc(a[b])};
k.xc=function(a,b){var c=this.b,d=(new Hl(1,this.a)).b(0,"Image");d.dc(this.v);d.xc(a,b);d.vb(c);d.f(this.b,this.g,this.c,this.i,this.j,this.f,1,{},void 0,!1);d.wb(c)()};k.vc=function(a,b){var c=this.b,d=(new Hl(1,this.a)).b(0,"Image");d.dc(this.v);d.vc(a,b);d.vb(c);d.f(this.b,this.g,this.c,this.i,this.j,this.f,1,{},void 0,!1);d.wb(c)()};
k.Pb=function(a,b){var c=this.b,d=(new Hl(1,this.a)).b(0,"LineString");d.Ma(null,this.l);d.Pb(a,b);d.vb(c);d.f(this.b,this.g,this.c,this.i,this.j,this.f,1,{},void 0,!1);d.wb(c)()};k.uc=function(a,b){var c=this.b,d=(new Hl(1,this.a)).b(0,"LineString");d.Ma(null,this.l);d.uc(a,b);d.vb(c);d.f(this.b,this.g,this.c,this.i,this.j,this.f,1,{},void 0,!1);d.wb(c)()};
k.yc=function(a,b){var c=this.b,d=(new Hl(1,this.a)).b(0,"Polygon");d.Ma(this.o,this.l);d.yc(a,b);d.vb(c);d.f(this.b,this.g,this.c,this.i,this.j,this.f,1,{},void 0,!1);d.wb(c)()};k.wc=function(a,b){var c=this.b,d=(new Hl(1,this.a)).b(0,"Polygon");d.Ma(this.o,this.l);d.wc(a,b);d.vb(c);d.f(this.b,this.g,this.c,this.i,this.j,this.f,1,{},void 0,!1);d.wb(c)()};
k.hc=function(a,b){var c=this.b,d=(new Hl(1,this.a)).b(0,"Circle");d.Ma(this.o,this.l);d.hc(a,b);d.vb(c);d.f(this.b,this.g,this.c,this.i,this.j,this.f,1,{},void 0,!1);d.wb(c)()};k.dc=function(a){this.v=a};k.Ma=function(a,b){this.o=a;this.l=b};function Pl(){this.b="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"}v(Pl,ak);var Ql=new Pl;function Rl(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}"}v(Rl,bk);var Sl=new Rl;
function Tl(a,b){this.g=a.getUniformLocation(b,"f");this.f=a.getUniformLocation(b,"e");this.i=a.getUniformLocation(b,"d");this.c=a.getUniformLocation(b,"g");this.b=a.getAttribLocation(b,"b");this.a=a.getAttribLocation(b,"c")};function Ul(a,b){Ui.call(this,b);this.f=a;this.U=new mk([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]);this.i=this.yb=null;this.j=void 0;this.v=Ph();this.u=Ph();this.C=hk();this.H=null}v(Ul,Ui);
function Vl(a,b,c){var d=a.f.g;if(void 0===a.j||a.j!=c){b.postRenderFunctions.push(function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))}.bind(null,d,a.i,a.yb));b=zk(d,c,c);var e=d.createFramebuffer();d.bindFramebuffer(36160,e);d.framebufferTexture2D(36160,36064,3553,b,0);a.yb=b;a.i=e;a.j=c}else d.bindFramebuffer(36160,a.i)}
Ul.prototype.Dh=function(a,b,c){Wl(this,"precompose",c,a);kk(c,34962,this.U);var d=c.b,e=qk(c,Ql,Sl),f;this.H?f=this.H:this.H=f=new Tl(d,e);c.Lc(e)&&(d.enableVertexAttribArray(f.b),d.vertexAttribPointer(f.b,2,5126,!1,16,0),d.enableVertexAttribArray(f.a),d.vertexAttribPointer(f.a,2,5126,!1,16,8),d.uniform1i(f.c,0));d.uniformMatrix4fv(f.i,!1,ik(this.C,this.v));d.uniformMatrix4fv(f.f,!1,ik(this.C,this.u));d.uniform1f(f.g,b.opacity);d.bindTexture(3553,this.yb);d.drawArrays(5,0,4);Wl(this,"postcompose",
c,a)};function Wl(a,b,c,d){a=a.a;if(Oa(a,b)){var e=d.viewState;a.b(new Jh(b,new Ol(c,e.center,e.resolution,e.rotation,d.size,d.extent,d.pixelRatio),d,null,c))}}Ul.prototype.If=function(){this.i=this.yb=null;this.j=void 0};function Xl(a,b,c,d,e,f){this.c=void 0!==f?f:null;hi.call(this,a,b,c,void 0!==f?ji:li,d);this.g=e}v(Xl,hi);Xl.prototype.i=function(a){this.state=a?ki:li;this.s()};Xl.prototype.load=function(){this.state==ji&&(this.state=mi,this.s(),this.c(this.i.bind(this)))};Xl.prototype.a=function(){return this.g};var Yl,Zl=-1<navigator.userAgent.indexOf("OPR"),$l=-1<navigator.userAgent.indexOf("Edge");Yl=!(!navigator.userAgent.match("CriOS")&&"chrome"in window&&"Google Inc."===navigator.vendor&&0==Zl&&0==$l);function am(a,b,c,d){var e=Pc(c,b,a);c=xc(b,d,c);b=b.ic();void 0!==b&&(c*=b);b=a.ic();void 0!==b&&(c/=b);a=xc(a,c,e)/c;isFinite(a)&&0<a&&(c/=a);return c}function bm(a,b,c,d){a=c-a;b=d-b;var e=Math.sqrt(a*a+b*b);return[Math.round(c+a/e),Math.round(d+b/e)]}
function cm(a,b,c,d,e,f,g,h,l,m,p){var n=De(Math.round(c*a),Math.round(c*b));if(0===l.length)return n.canvas;n.scale(c,c);var q=Hb();l.forEach(function(a){Wb(q,a.extent)});var r=De(Math.round(c*dc(q)/d),Math.round(c*ec(q)/d)),u=c/d;l.forEach(function(a){r.drawImage(a.image,m,m,a.image.width-2*m,a.image.height-2*m,(a.extent[0]-q[0])*u,-(a.extent[3]-q[3])*u,dc(a.extent)*u,ec(a.extent)*u)});var w=ac(g);h.f.forEach(function(a){var b=a.source,e=a.target,g=b[1][0],h=b[1][1],l=b[2][0],m=b[2][1];a=(e[0][0]-
w[0])/f;var p=-(e[0][1]-w[1])/f,u=(e[1][0]-w[0])/f,kb=-(e[1][1]-w[1])/f,W=(e[2][0]-w[0])/f,Ra=-(e[2][1]-w[1])/f,e=b[0][0],b=b[0][1],g=g-e,h=h-b,l=l-e,m=m-b;a:{g=[[g,h,0,0,u-a],[l,m,0,0,W-a],[0,0,g,h,kb-p],[0,0,l,m,Ra-p]];h=g.length;for(l=0;l<h;l++){for(var m=l,Pb=Math.abs(g[l][l]),fc=l+1;fc<h;fc++){var Wc=Math.abs(g[fc][l]);Wc>Pb&&(Pb=Wc,m=fc)}if(0===Pb){g=null;break a}Pb=g[m];g[m]=g[l];g[l]=Pb;for(m=l+1;m<h;m++)for(Pb=-g[m][l]/g[l][l],fc=l;fc<h+1;fc++)g[m][fc]=l==fc?0:g[m][fc]+Pb*g[l][fc]}l=Array(h);
for(m=h-1;0<=m;m--)for(l[m]=g[m][h]/g[m][m],Pb=m-1;0<=Pb;Pb--)g[Pb][h]-=g[Pb][m]*l[m];g=l}g&&(n.save(),n.beginPath(),Yl?(l=(a+u+W)/3,m=(p+kb+Ra)/3,h=bm(l,m,a,p),u=bm(l,m,u,kb),W=bm(l,m,W,Ra),n.moveTo(u[0],u[1]),n.lineTo(h[0],h[1]),n.lineTo(W[0],W[1])):(n.moveTo(u,kb),n.lineTo(a,p),n.lineTo(W,Ra)),n.clip(),n.transform(g[0],g[2],g[1],g[3],a,p),n.translate(q[0]-e,q[3]-b),n.scale(d/c,-d/c),n.drawImage(r.canvas,0,0),n.restore())});p&&(n.save(),n.strokeStyle="black",n.lineWidth=1,h.f.forEach(function(a){var b=
a.target;a=(b[0][0]-w[0])/f;var c=-(b[0][1]-w[1])/f,d=(b[1][0]-w[0])/f,e=-(b[1][1]-w[1])/f,g=(b[2][0]-w[0])/f,b=-(b[2][1]-w[1])/f;n.beginPath();n.moveTo(d,e);n.lineTo(a,c);n.lineTo(g,b);n.closePath();n.stroke()}),n.restore());return n.canvas};function dm(a,b,c,d,e){this.g=a;this.c=b;var f={},g=Nc(this.c,this.g);this.a=function(a){var b=a[0]+"/"+a[1];f[b]||(f[b]=g(a));return f[b]};this.i=d;this.v=e*e;this.f=[];this.l=!1;this.o=this.g.a&&!!d&&!!this.g.G()&&dc(d)==dc(this.g.G());this.b=this.g.G()?dc(this.g.G()):null;this.j=this.c.G()?dc(this.c.G()):null;a=ac(c);b=$b(c);d=Zb(c);c=Yb(c);e=this.a(a);var h=this.a(b),l=this.a(d),m=this.a(c);em(this,a,b,d,c,e,h,l,m,10);if(this.l){var p=Infinity;this.f.forEach(function(a){p=Math.min(p,a.source[0][0],
a.source[1][0],a.source[2][0])});this.f.forEach(function(a){if(Math.max(a.source[0][0],a.source[1][0],a.source[2][0])-p>this.b/2){var b=[[a.source[0][0],a.source[0][1]],[a.source[1][0],a.source[1][1]],[a.source[2][0],a.source[2][1]]];b[0][0]-p>this.b/2&&(b[0][0]-=this.b);b[1][0]-p>this.b/2&&(b[1][0]-=this.b);b[2][0]-p>this.b/2&&(b[2][0]-=this.b);Math.max(b[0][0],b[1][0],b[2][0])-Math.min(b[0][0],b[1][0],b[2][0])<this.b/2&&(a.source=b)}},this)}f={}}
function em(a,b,c,d,e,f,g,h,l,m){var p=Gb([f,g,h,l]),n=a.b?dc(p)/a.b:null,q=a.b,r=a.g.a&&.5<n&&1>n,u=!1;if(0<m){if(a.c.g&&a.j)var w=Gb([b,c,d,e]),u=u|.25<dc(w)/a.j;!r&&a.g.g&&n&&(u|=.25<n)}if(u||!a.i||jc(p,a.i)){if(!(u||isFinite(f[0])&&isFinite(f[1])&&isFinite(g[0])&&isFinite(g[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(l[0])&&isFinite(l[1])))if(0<m)u=!0;else return;if(0<m&&(u||(p=a.a([(b[0]+d[0])/2,(b[1]+d[1])/2]),q=r?(oa(f[0],q)+oa(h[0],q))/2-oa(p[0],q):(f[0]+h[0])/2-p[0],p=(f[1]+h[1])/2-p[1],
u=q*q+p*p>a.v),u)){Math.abs(b[0]-d[0])<=Math.abs(b[1]-d[1])?(r=[(c[0]+d[0])/2,(c[1]+d[1])/2],q=a.a(r),p=[(e[0]+b[0])/2,(e[1]+b[1])/2],n=a.a(p),em(a,b,c,r,p,f,g,q,n,m-1),em(a,p,r,d,e,n,q,h,l,m-1)):(r=[(b[0]+c[0])/2,(b[1]+c[1])/2],q=a.a(r),p=[(d[0]+e[0])/2,(d[1]+e[1])/2],n=a.a(p),em(a,b,r,p,e,f,q,n,l,m-1),em(a,r,c,d,p,q,g,h,n,m-1));return}if(r){if(!a.o)return;a.l=!0}a.f.push({source:[f,h,l],target:[b,d,e]});a.f.push({source:[f,g,h],target:[b,c,d]})}}
function fm(a){var b=Hb();a.f.forEach(function(a){a=a.source;Ib(b,a[0]);Ib(b,a[1]);Ib(b,a[2])});return b};function gm(a,b,c,d,e,f){this.H=b;this.v=a.G();var g=b.G(),h=g?ic(c,g):c,g=am(a,b,gc(h),d);this.l=new dm(a,b,h,this.v,.5*g);this.c=d;this.g=c;a=fm(this.l);this.o=(this.xb=f(a,g,e))?this.xb.f:1;this.Md=this.i=null;e=li;f=[];this.xb&&(e=ji,f=this.xb.j);hi.call(this,c,d,this.o,e,f)}v(gm,hi);gm.prototype.oa=function(){this.state==mi&&(ya(this.Md),this.Md=null);hi.prototype.oa.call(this)};gm.prototype.a=function(){return this.i};
gm.prototype.Ld=function(){var a=this.xb.W();a==li&&(this.i=cm(dc(this.g)/this.c,ec(this.g)/this.c,this.o,this.xb.resolution,0,this.c,this.g,this.l,[{extent:this.xb.G(),image:this.xb.a()}],0));this.state=a;this.s()};gm.prototype.load=function(){if(this.state==ji){this.state=mi;this.s();var a=this.xb.W();a==li||a==ki?this.Ld():(this.Md=B(this.xb,"change",function(){var a=this.xb.W();if(a==li||a==ki)ya(this.Md),this.Md=null,this.Ld()},this),this.xb.load())}};function hm(a){Sa.call(this);this.f=zc(a.projection);this.j=im(a.attributions);this.L=a.logo;this.Fa=void 0!==a.state?a.state:"ready";this.D=void 0!==a.wrapX?a.wrapX:!1}v(hm,Sa);function im(a){if("string"===typeof a)return[new pe({html:a})];if(a instanceof pe)return[a];if(Array.isArray(a)){for(var b=a.length,c=Array(b),d=0;d<b;d++){var e=a[d];c[d]="string"===typeof e?new pe({html:e}):e}return c}return null}k=hm.prototype;k.Ba=ea;k.za=function(){return this.j};k.ya=function(){return this.L};k.Aa=function(){return this.f};
k.W=function(){return this.Fa};k.wa=function(){this.s()};k.ua=function(a){this.j=im(a);this.s()};function jm(a,b){a.Fa=b;a.s()};function km(a){hm.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state});this.A=void 0!==a.resolutions?a.resolutions:null;this.a=null;this.sa=0}v(km,hm);function lm(a,b){a.A&&(b=a.A[$a(a.A,b,0)]);return b}
km.prototype.U=function(a,b,c,d){var e=this.f;if(e&&d&&!Mc(e,d)){if(this.a){if(this.sa==this.g&&Mc(this.a.H,d)&&this.a.resolution==b&&this.a.f==c&&Vb(this.a.G(),a))return this.a;Ha(this.a);this.a=null}this.a=new gm(e,d,a,b,c,function(a,b,c){return this.Xc(a,b,c,e)}.bind(this));this.sa=this.g;return this.a}e&&(d=e);return this.Xc(a,b,c,d)};km.prototype.o=function(a){a=a.target;switch(a.W()){case mi:this.b(new mm(nm,a));break;case li:this.b(new mm(om,a));break;case ki:this.b(new mm(pm,a))}};
function qm(a,b){a.a().src=b}function mm(a,b){Ia.call(this,a);this.image=b}v(mm,Ia);var nm="imageloadstart",om="imageloadend",pm="imageloaderror";function rm(a){km.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions,state:a.state});this.fa=a.canvasFunction;this.P=null;this.Z=0;this.na=void 0!==a.ratio?a.ratio:1.5}v(rm,km);rm.prototype.Xc=function(a,b,c,d){b=lm(this,b);var e=this.P;if(e&&this.Z==this.g&&e.resolution==b&&e.f==c&&Ob(e.G(),a))return e;a=a.slice();kc(a,this.na);(d=this.fa(a,b,c,[dc(a)/b*c,ec(a)/b*c],d))&&(e=new Xl(a,b,c,this.j,d));this.P=e;this.Z=this.g;return e};function sm(a){this.c=a.source;this.Ja=Ph();this.i=De();this.l=[0,0];this.xa=void 0==a.renderBuffer?100:a.renderBuffer;this.u=null;rm.call(this,{attributions:a.attributions,canvasFunction:this.Jj.bind(this),logo:a.logo,projection:a.projection,ratio:a.ratio,resolutions:a.resolutions,state:this.c.W()});this.C=null;this.v=void 0;this.Fh(a.style);B(this.c,"change",this.kn,this)}v(sm,rm);k=sm.prototype;
k.Jj=function(a,b,c,d,e){var f=new Bj(.5*b/c,a,b,this.c.xa,this.xa);this.c.Ed(a,b,e);var g=!1;this.c.Qb(a,function(a){var d;if(!(d=g)){var e;(d=a.Gc())?e=d.call(a,b):this.v&&(e=this.v(a,b));if(e){var p,n=!1;Array.isArray(e)||(e=[e]);d=0;for(p=e.length;d<p;++d)n=Lj(f,a,e[d],Kj(b,c),this.jn,this)||n;d=n}else d=!1}g=d},this);Fj(f);if(g)return null;this.l[0]!=d[0]||this.l[1]!=d[1]?(this.i.canvas.width=d[0],this.i.canvas.height=d[1],this.l[0]=d[0],this.l[1]=d[1]):this.i.clearRect(0,0,d[0],d[1]);a=tm(this,
gc(a),b,c,d);f.f(this.i,c,a,0,{});this.u=f;return this.i.canvas};k.Ba=function(a,b,c,d,e,f){if(this.u){var g={};return this.u.Ba(a,b,0,d,e,function(a){var b=x(a).toString();if(!(b in g))return g[b]=!0,f(a)})}};k.fn=function(){return this.c};k.gn=function(){return this.C};k.hn=function(){return this.v};function tm(a,b,c,d,e){c=d/c;return Yh(a.Ja,e[0]/2,e[1]/2,c,-c,0,-b[0],-b[1])}k.jn=function(){this.s()};k.kn=function(){jm(this,this.c.W())};
k.Fh=function(a){this.C=void 0!==a?a:Bi;this.v=a?zi(this.C):void 0;this.s()};function um(a,b){Ul.call(this,a,b);this.o=this.l=this.c=null}v(um,Ul);function vm(a,b){var c=b.a();return Ck(a.f.g,c)}um.prototype.Ba=function(a,b,c,d,e){var f=this.a;return f.la().Ba(a,b.viewState.resolution,b.viewState.rotation,c,b.skippedFeatureUids,function(a){return d.call(e,a,f)})};
um.prototype.Jf=function(a,b){var c=this.f.g,d=a.pixelRatio,e=a.viewState,f=e.center,g=e.resolution,h=e.rotation,l=this.c,m=this.yb,p=this.a.la(),n=a.viewHints,q=a.extent;void 0!==b.extent&&(q=ic(q,b.extent));n[Kd]||n[1]||cc(q)||(e=p.U(q,g,d,e.projection))&&Xi(this,e)&&(l=e,m=vm(this,e),this.yb&&a.postRenderFunctions.push(function(a,b){a.isContextLost()||a.deleteTexture(b)}.bind(null,c,this.yb)));l&&(c=this.f.c.j,wm(this,c.width,c.height,d,f,g,h,l.G()),this.o=null,d=this.v,Qh(d),Wh(d,1,-1),Xh(d,0,
-1),this.c=l,this.yb=m,Zi(a.attributions,l.j),$i(a,p));return!!l};function wm(a,b,c,d,e,f,g,h){b*=f;c*=f;a=a.u;Qh(a);Wh(a,2*d/b,2*d/c);Vh(a,-g);Xh(a,h[0]-e[0],h[1]-e[1]);Wh(a,(h[2]-h[0])/2,(h[3]-h[1])/2);Xh(a,1,1)}um.prototype.te=function(a,b){return void 0!==this.Ba(a,b,0,mc,this)};
um.prototype.Hf=function(a,b,c,d){if(this.c&&this.c.a())if(this.a.la()instanceof sm){var e=Uh(b.pixelToCoordinateTransform,a.slice());if(this.Ba(e,b,0,mc,this))return c.call(d,this.a,null)}else{e=[this.c.a().width,this.c.a().height];if(!this.o){var f=b.size;b=Ph();Xh(b,-1,-1);Wh(b,2/f[0],2/f[1]);Xh(b,0,f[1]);Wh(b,1,-1);var f=Zh(this.u.slice()),g=Ph();Xh(g,0,e[1]);Wh(g,1,-1);Wh(g,e[0]/2,e[1]/2);Xh(g,1,1);Sh(g,f);Sh(g,b);this.o=g}a=Uh(this.o,a.slice());if(!(0>a[0]||a[0]>e[0]||0>a[1]||a[1]>e[1])&&(this.l||
(this.l=De(1,1)),this.l.clearRect(0,0,1,1),this.l.drawImage(this.c.a(),a[0],a[1],1,1,0,0,1,1),e=this.l.getImageData(0,0,1,1).data,0<e[3]))return c.call(d,this.a,e)}};function xm(){this.b="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"}v(xm,ak);var ym=new xm;function zm(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}"}v(zm,bk);var Am=new zm;function Bm(a,b){this.g=a.getUniformLocation(b,"e");this.f=a.getUniformLocation(b,"d");this.b=a.getAttribLocation(b,"b");this.a=a.getAttribLocation(b,"c")};function Cm(a,b){Ul.call(this,a,b);this.L=ym;this.Z=Am;this.c=null;this.D=new mk([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]);this.A=this.l=null;this.o=-1;this.P=[0,0]}v(Cm,Ul);k=Cm.prototype;k.oa=function(){pk(this.f.c,this.D);Ul.prototype.oa.call(this)};k.hf=function(a,b,c){var d=this.f;return function(e,f){return Vi(a,b,e,f,function(a){var b=d.a.b.hasOwnProperty(a.bb());b&&(c[e]||(c[e]={}),c[e][a.Ca.toString()]=a);return b})}};k.If=function(){Ul.prototype.If.call(this);this.c=null};
k.Jf=function(a,b,c){var d=this.f,e=c.b,f=a.viewState,g=f.projection,h=this.a,l=h.la(),m=l.Db(g),p=m.Ec(f.resolution),n=m.Ha(p),q=l.Dd(p,a.pixelRatio,g),r=q[0]/Zd(m.Za(p),this.P)[0],u=n/r,w=l.jb(r)*l.qf(g),y=f.center,z=a.extent,A=ie(m,z,n);if(this.l&&Vd(this.l,A)&&this.o==l.g)u=this.A;else{var O=[A.ca-A.ea+1,A.ja-A.ga+1],Ja=ka(Math.max(O[0]*q[0],O[1]*q[1])),O=u*Ja,ca=m.Kc(p),Ma=ca[0]+A.ea*q[0]*u,u=ca[1]+A.ga*q[1]*u,u=[Ma,u,Ma+O,u+O];Vl(this,a,Ja);e.viewport(0,0,Ja,Ja);e.clearColor(0,0,0,0);e.clear(16384);
e.disable(3042);Ja=qk(c,this.L,this.Z);c.Lc(Ja);this.c||(this.c=new Bm(e,Ja));kk(c,34962,this.D);e.enableVertexAttribArray(this.c.b);e.vertexAttribPointer(this.c.b,2,5126,!1,16,0);e.enableVertexAttribArray(this.c.a);e.vertexAttribPointer(this.c.a,2,5126,!1,16,8);e.uniform1i(this.c.g,0);c={};c[p]={};var D=this.hf(l,g,c),La=h.c(),Ja=!0,Ma=Hb(),kb=new Td(0,0,0,0),W,Ra,Pb;for(Ra=A.ea;Ra<=A.ca;++Ra)for(Pb=A.ga;Pb<=A.ja;++Pb){ca=l.Dc(p,Ra,Pb,r,g);if(void 0!==b.extent&&(W=m.Na(ca.Ca,Ma),!jc(W,b.extent)))continue;
W=ca.W();(W=W==cg||4==W||3==W&&!La)||(ca=bg(ca));W=ca.W();if(W==cg){if(d.a.b.hasOwnProperty(ca.bb())){c[p][ca.Ca.toString()]=ca;continue}}else if(4==W||3==W&&!La)continue;Ja=!1;W=ge(m,ca.Ca,D,kb,Ma);W||(ca=he(m,ca.Ca,kb,Ma))&&D(p+1,ca)}b=Object.keys(c).map(Number);b.sort(Ya);for(var D=new Float32Array(4),fc,La=0,kb=b.length;La<kb;++La)for(fc in Ra=c[b[La]],Ra)ca=Ra[fc],W=m.Na(ca.Ca,Ma),D[0]=2*(W[2]-W[0])/O,D[1]=2*(W[3]-W[1])/O,D[2]=2*(W[0]-u[0])/O-1,D[3]=2*(W[1]-u[1])/O-1,e.uniform4fv(this.c.f,D),
Dm(d,ca,q,w*r),e.drawArrays(5,0,4);Ja?(this.l=A,this.A=u,this.o=l.g):(this.A=this.l=null,this.o=-1,a.animate=!0)}aj(a.usedTiles,l,p,A);var Wc=d.j;bj(a,l,m,r,g,z,p,h.f(),function(a){a.W()!=cg||d.a.b.hasOwnProperty(a.bb())||a.bb()in Wc.a||Wc.c([a,ke(m,a.Ca),m.Ha(a.Ca[0]),q,w*r])},this);Yi(a,l);$i(a,l);e=this.v;Qh(e);Xh(e,(Math.round(y[0]/n)*n-u[0])/(u[2]-u[0]),(Math.round(y[1]/n)*n-u[1])/(u[3]-u[1]));0!==f.rotation&&Vh(e,f.rotation);Wh(e,a.size[0]*f.resolution/(u[2]-u[0]),a.size[1]*f.resolution/(u[3]-
u[1]));Xh(e,-.5,-.5);return!0};k.Hf=function(a,b,c,d){if(this.i){a=Uh(this.v,[a[0]/b.size[0],(b.size[1]-a[1])/b.size[1]].slice());a=[a[0]*this.j,a[1]*this.j];b=this.f.c.b;b.bindFramebuffer(b.FRAMEBUFFER,this.i);var e=new Uint8Array(4);b.readPixels(a[0],a[1],1,1,b.RGBA,b.UNSIGNED_BYTE,e);if(0<e[3])return c.call(d,this.a,e)}};function Em(a,b){Ul.call(this,a,b);this.o=!1;this.P=-1;this.L=NaN;this.A=Hb();this.l=this.c=this.D=null}v(Em,Ul);k=Em.prototype;k.Dh=function(a,b,c){this.l=b;var d=a.viewState,e=this.c,f=a.size,g=a.pixelRatio,h=this.f.g;e&&!e.g()&&(h.enable(h.SCISSOR_TEST),h.scissor(0,0,f[0]*g,f[1]*g),e.f(c,d.center,d.resolution,d.rotation,f,g,b.opacity,b.me?a.skippedFeatureUids:{}),h.disable(h.SCISSOR_TEST))};k.oa=function(){var a=this.c;a&&(Il(a,this.f.c)(),this.c=null);Ul.prototype.oa.call(this)};
k.Ba=function(a,b,c,d,e){if(this.c&&this.l){c=b.viewState;var f=this.a,g={};return this.c.Ba(a,this.f.c,c.center,c.resolution,c.rotation,b.size,b.pixelRatio,this.l.opacity,{},function(a){var b=x(a).toString();if(!(b in g))return g[b]=!0,d.call(e,a,f)})}};k.te=function(a,b){if(this.c&&this.l){var c=b.viewState;return Nl(this.c,a,this.f.c,c.resolution,c.rotation,b.pixelRatio,this.l.opacity,b.skippedFeatureUids)}return!1};
k.Hf=function(a,b,c,d){a=Uh(b.pixelToCoordinateTransform,a.slice());if(this.te(a,b))return c.call(d,this.a,null)};k.Eh=function(){Wi(this)};
k.Jf=function(a,b,c){function d(a){var b,c=a.Gc();c?b=c.call(a,m):(c=e.j)&&(b=c(a,m));if(b){if(b){c=!1;if(Array.isArray(b))for(var d=b.length-1;0<=d;--d)c=Lj(q,a,b[d],Kj(m,p),this.Eh,this)||c;else c=Lj(q,a,b,Kj(m,p),this.Eh,this)||c;a=c}else a=!1;this.o=this.o||a}}var e=this.a;b=e.la();Zi(a.attributions,b.j);$i(a,b);var f=a.viewHints[Kd],g=a.viewHints[1],h=e.Z,l=e.fa;if(!this.o&&!h&&f||!l&&g)return!0;var g=a.extent,h=a.viewState,f=h.projection,m=h.resolution,p=a.pixelRatio,h=e.g,n=e.i,l=e.get("renderOrder");
void 0===l&&(l=Jj);g=Jb(g,n*m);if(!this.o&&this.L==m&&this.P==h&&this.D==l&&Ob(this.A,g))return!0;this.c&&a.postRenderFunctions.push(Il(this.c,c));this.o=!1;var q=new Hl(.5*m/p,g,e.i);b.Ed(g,m,f);if(l){var r=[];b.Qb(g,function(a){r.push(a)},this);r.sort(l);r.forEach(d,this)}else b.Qb(g,d,this);Jl(q,c);this.L=m;this.P=h;this.D=l;this.A=g;this.c=q;return!0};function Fm(){this.f=0;this.b={};this.g=this.a=null}k=Fm.prototype;k.clear=function(){this.f=0;this.b={};this.g=this.a=null};k.forEach=function(a,b){for(var c=this.a;c;)a.call(b,c.Rc,c.jc,this),c=c.Gb};k.get=function(a){a=this.b[a];ha(void 0!==a,15);if(a===this.g)return a.Rc;a===this.a?(this.a=this.a.Gb,this.a.fd=null):(a.Gb.fd=a.fd,a.fd.Gb=a.Gb);a.Gb=null;a.fd=this.g;this.g=this.g.Gb=a;return a.Rc};
k.pop=function(){var a=this.a;delete this.b[a.jc];a.Gb&&(a.Gb.fd=null);this.a=a.Gb;this.a||(this.g=null);--this.f;return a.Rc};k.replace=function(a,b){this.get(a);this.b[a].Rc=b};k.set=function(a,b){ha(!(a in this.b),16);var c={jc:a,Gb:null,fd:this.g,Rc:b};this.g?this.g.Gb=c:this.a=c;this.g=c;this.b[a]=c;++this.f};function Gm(a,b){$h.call(this,0,b);this.b=document.createElement("CANVAS");this.b.style.width="100%";this.b.style.height="100%";this.b.className="ol-unselectable";a.insertBefore(this.b,a.childNodes[0]||null);this.u=this.A=0;this.C=De();this.o=!0;this.g=ef(this.b,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0});this.c=new xk(this.b,this.g);B(this.b,"webglcontextlost",this.Um,this);B(this.b,"webglcontextrestored",this.Vm,this);this.a=new Fm;this.H=null;this.j=
new dg(function(a){var b=a[1];a=a[2];var e=b[0]-this.H[0],b=b[1]-this.H[1];return 65536*Math.log(a)+Math.sqrt(e*e+b*b)/a}.bind(this),function(a){return a[0].bb()});this.D=function(){if(0!==this.j.b.length){hg(this.j);var a=eg(this.j);Dm(this,a[0],a[3],a[4])}return!1}.bind(this);this.i=0;Hm(this)}v(Gm,$h);
function Dm(a,b,c,d){var e=a.g,f=b.bb();if(a.a.b.hasOwnProperty(f))a=a.a.get(f),e.bindTexture(3553,a.yb),9729!=a.gh&&(e.texParameteri(3553,10240,9729),a.gh=9729),9729!=a.ih&&(e.texParameteri(3553,10241,9729),a.ih=9729);else{var g=e.createTexture();e.bindTexture(3553,g);if(0<d){var h=a.C.canvas,l=a.C;a.A!==c[0]||a.u!==c[1]?(h.width=c[0],h.height=c[1],a.A=c[0],a.u=c[1]):l.clearRect(0,0,c[0],c[1]);l.drawImage(b.ub(),d,d,c[0],c[1],0,0,c[0],c[1]);e.texImage2D(3553,0,6408,6408,5121,h)}else e.texImage2D(3553,
0,6408,6408,5121,b.ub());e.texParameteri(3553,10240,9729);e.texParameteri(3553,10241,9729);e.texParameteri(3553,10242,33071);e.texParameteri(3553,10243,33071);a.a.set(f,{yb:g,gh:9729,ih:9729})}}k=Gm.prototype;k.Ag=function(a){return a instanceof ei?new um(this,a):a instanceof F?new Cm(this,a):a instanceof G?new Em(this,a):null};function Im(a,b,c){var d=a.l;if(Oa(d,b)){a=a.c;var e=c.viewState;d.b(new Jh(b,new Ol(a,e.center,e.resolution,e.rotation,c.size,c.extent,c.pixelRatio),c,null,a))}}
k.oa=function(){var a=this.g;a.isContextLost()||this.a.forEach(function(b){b&&a.deleteTexture(b.yb)});Ha(this.c);$h.prototype.oa.call(this)};k.Nj=function(a,b){for(var c=this.g,d;1024<this.a.f-this.i;){if(d=this.a.a.Rc)c.deleteTexture(d.yb);else if(+this.a.a.jc==b.index)break;else--this.i;this.a.pop()}};k.Y=function(){return"webgl"};k.Um=function(a){a.preventDefault();this.a.clear();this.i=0;a=this.f;for(var b in a)a[b].If()};k.Vm=function(){Hm(this);this.l.render()};
function Hm(a){a=a.g;a.activeTexture(33984);a.blendFuncSeparate(770,771,1,771);a.disable(2884);a.disable(2929);a.disable(3089);a.disable(2960)}
k.ag=function(a){var b=this.c,c=this.g;if(c.isContextLost())return!1;if(!a)return this.o&&(this.b.style.display="none",this.o=!1),!1;this.H=a.focus;this.a.set((-a.index).toString(),null);++this.i;Im(this,"precompose",a);var d=[],e=a.layerStatesArray;eb(e);var f=a.viewState.resolution,g,h,l,m;g=0;for(h=e.length;g<h;++g)m=e[g],Lh(m,f)&&"ready"==m.Ei&&(l=ci(this,m.layer),l.Jf(a,m,b)&&d.push(m));e=a.size[0]*a.pixelRatio;f=a.size[1]*a.pixelRatio;if(this.b.width!=e||this.b.height!=f)this.b.width=e,this.b.height=
f;c.bindFramebuffer(36160,null);c.clearColor(0,0,0,0);c.clear(16384);c.enable(3042);c.viewport(0,0,this.b.width,this.b.height);g=0;for(h=d.length;g<h;++g)m=d[g],l=ci(this,m.layer),l.Dh(a,m,b);this.o||(this.b.style.display="",this.o=!0);ai(a);1024<this.a.f-this.i&&a.postRenderFunctions.push(this.Nj.bind(this));0!==this.j.b.length&&(a.postRenderFunctions.push(this.D),a.animate=!0);Im(this,"postcompose",a);di(this,a);a.postRenderFunctions.push(bi)};
k.Ba=function(a,b,c,d,e,f,g){var h;if(this.g.isContextLost())return!1;var l=b.viewState,m=b.layerStatesArray,p;for(p=m.length-1;0<=p;--p){h=m[p];var n=h.layer;if(Lh(h,l.resolution)&&f.call(g,n)&&(h=ci(this,n).Ba(a,b,c,d,e)))return h}};k.Ch=function(a,b,c,d,e){c=!1;if(this.g.isContextLost())return!1;var f=b.viewState,g=b.layerStatesArray,h;for(h=g.length-1;0<=h;--h){var l=g[h],m=l.layer;if(Lh(l,f.resolution)&&d.call(e,m)&&(c=ci(this,m).te(a,b)))return!0}return c};
k.Bh=function(a,b,c,d,e){if(this.g.isContextLost())return!1;var f=b.viewState,g,h=b.layerStatesArray,l;for(l=h.length-1;0<=l;--l){g=h[l];var m=g.layer;if(Lh(g,f.resolution)&&e.call(d,m)&&(g=ci(this,m).Hf(a,b,c,d)))return g}};var Jm=["canvas","webgl"];
function I(a){Sa.call(this);var b=Km(a);this.Xe=void 0!==a.loadTilesWhileAnimating?a.loadTilesWhileAnimating:!1;this.Ve=void 0!==a.loadTilesWhileInteracting?a.loadTilesWhileInteracting:!1;this.cf=void 0!==a.pixelRatio?a.pixelRatio:mf;this.bf=b.logos;this.sa=function(){this.i=void 0;this.Zo.call(this,Date.now())}.bind(this);this.Ob=Ph();this.df=Ph();this.fc=0;this.a=null;this.Ua=Hb();this.D=this.L=this.P=null;this.f=document.createElement("DIV");this.f.className="ol-viewport"+(rf?" ol-touch":"");this.f.style.position=
"relative";this.f.style.overflow="hidden";this.f.style.width="100%";this.f.style.height="100%";this.f.style.msTouchAction="none";this.f.style.touchAction="none";this.A=document.createElement("DIV");this.A.className="ol-overlaycontainer";this.f.appendChild(this.A);this.u=document.createElement("DIV");this.u.className="ol-overlaycontainer-stopevent";a="click dblclick mousedown touchstart mspointerdown pointerdown mousewheel wheel".split(" ");for(var c=0,d=a.length;c<d;++c)B(this.u,a[c],Ka);this.f.appendChild(this.u);
this.Fa=new Yf(this);for(var e in af)B(this.Fa,af[e],this.Zg,this);this.na=b.keyboardEventTarget;this.v=null;B(this.f,"wheel",this.ad,this);B(this.f,"mousewheel",this.ad,this);this.l=b.controls;this.j=b.interactions;this.o=b.overlays;this.Mf={};this.C=new b.ap(this.f,this);this.U=null;this.Z=[];this.Ja=[];this.xa=new ig(this.Gk.bind(this),this.kl.bind(this));this.fa={};B(this,Ua(Lm),this.Tk,this);B(this,Ua(Mm),this.ll,this);B(this,Ua(Nm),this.hl,this);B(this,Ua(Om),this.jl,this);this.I(b.values);
this.l.forEach(function(a){a.setMap(this)},this);B(this.l,ue,function(a){a.element.setMap(this)},this);B(this.l,ve,function(a){a.element.setMap(null)},this);this.j.forEach(function(a){a.setMap(this)},this);B(this.j,ue,function(a){a.element.setMap(this)},this);B(this.j,ve,function(a){a.element.setMap(null)},this);this.o.forEach(this.wg,this);B(this.o,ue,function(a){this.wg(a.element)},this);B(this.o,ve,function(a){var b=a.element.i;void 0!==b&&delete this.Mf[b.toString()];a.element.setMap(null)},this)}
v(I,Sa);k=I.prototype;k.Bj=function(a){this.l.push(a)};k.Cj=function(a){this.j.push(a)};k.ug=function(a){this.Bc().cd().push(a)};k.vg=function(a){this.o.push(a)};k.wg=function(a){var b=a.i;void 0!==b&&(this.Mf[b.toString()]=a);a.setMap(this)};k.Ij=function(a){this.render();Array.prototype.push.apply(this.Z,arguments)};
k.oa=function(){Ha(this.Fa);Ha(this.C);Ea(this.f,"wheel",this.ad,this);Ea(this.f,"mousewheel",this.ad,this);void 0!==this.c&&(window.removeEventListener("resize",this.c,!1),this.c=void 0);this.i&&(cancelAnimationFrame(this.i),this.i=void 0);this.ph(null);Sa.prototype.oa.call(this)};k.ae=function(a,b,c){if(this.a)return a=this.Sa(a),c=void 0!==c?c:{},this.C.Ba(a,this.a,void 0!==c.hitTolerance?c.hitTolerance*this.a.pixelRatio:0,b,null,void 0!==c.layerFilter?c.layerFilter:mc,null)};
k.Wl=function(a,b,c,d,e){if(this.a)return this.C.Bh(a,this.a,b,void 0!==c?c:null,void 0!==d?d:mc,void 0!==e?e:null)};k.ml=function(a,b){if(!this.a)return!1;var c=this.Sa(a);b=void 0!==b?b:{};return this.C.Ch(c,this.a,void 0!==b.hitTolerance?b.hitTolerance*this.a.pixelRatio:0,void 0!==b.layerFilter?b.layerFilter:mc,null)};k.ck=function(a){return this.Sa(this.ce(a))};k.ce=function(a){var b=this.f.getBoundingClientRect();a=a.changedTouches?a.changedTouches[0]:a;return[a.clientX-b.left,a.clientY-b.top]};
k.vf=function(){return this.get(Om)};k.Cc=function(){var a=this.vf();return void 0!==a?"string"===typeof a?document.getElementById(a):a:null};k.Sa=function(a){var b=this.a;return b?Uh(b.pixelToCoordinateTransform,a.slice()):null};k.ak=function(){return this.l};k.vk=function(){return this.o};k.uk=function(a){a=this.Mf[a.toString()];return void 0!==a?a:null};k.hk=function(){return this.j};k.Bc=function(){return this.get(Lm)};k.oh=function(){return this.Bc().cd()};
k.Ga=function(a){var b=this.a;return b?Uh(b.coordinateToPixelTransform,a.slice(0,2)):null};k.nb=function(){return this.get(Nm)};k.aa=function(){return this.get(Mm)};k.Ik=function(){return this.f};k.Gk=function(a,b,c,d){var e=this.a;if(!(e&&b in e.wantedTiles&&e.wantedTiles[b][a.bb()]))return Infinity;a=c[0]-e.focus[0];c=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(a*a+c*c)/d};k.ad=function(a,b){var c=new $e(b||a.type,this,a);this.Zg(c)};
k.Zg=function(a){if(this.a){this.U=a.coordinate;a.frameState=this.a;var b=this.j.a,c;if(!1!==this.b(a))for(c=b.length-1;0<=c;c--){var d=b[c];if(d.f()&&!d.handleEvent(a))break}}};k.fl=function(){var a=this.a,b=this.xa;if(0!==b.b.length){var c=16,d=c;if(a){var e=a.viewHints;e[Kd]&&(c=this.Xe?8:0,d=2);e[1]&&(c=this.Ve?8:0,d=2)}b.j<c&&(hg(b),jg(b,c,d))}b=this.Ja;c=0;for(d=b.length;c<d;++c)b[c](this,a);b.length=0};k.hl=function(){this.render()};
k.jl=function(){var a;this.vf()&&(a=this.Cc());if(this.v){for(var b=0,c=this.v.length;b<c;++b)ya(this.v[b]);this.v=null}a?(a.appendChild(this.f),a=this.na?this.na:a,this.v=[B(a,"keydown",this.ad,this),B(a,"keypress",this.ad,this)],this.c||(this.c=this.ld.bind(this),window.addEventListener("resize",this.c,!1))):(Fe(this.f),void 0!==this.c&&(window.removeEventListener("resize",this.c,!1),this.c=void 0));this.ld()};k.kl=function(){this.render()};k.bh=function(){this.render()};
k.ll=function(){this.P&&(ya(this.P),this.P=null);this.L&&(ya(this.L),this.L=null);var a=this.aa();a&&(this.P=B(a,Xa,this.bh,this),this.L=B(a,"change",this.bh,this));this.render()};k.Tk=function(){this.D&&(this.D.forEach(ya),this.D=null);var a=this.Bc();a&&(this.D=[B(a,Xa,this.render,this),B(a,"change",this.render,this)]);this.render()};k.$o=function(){this.i&&cancelAnimationFrame(this.i);this.sa()};k.render=function(){void 0===this.i&&(this.i=requestAnimationFrame(this.sa))};k.To=function(a){return this.l.remove(a)};
k.Uo=function(a){return this.j.remove(a)};k.Wo=function(a){return this.Bc().cd().remove(a)};k.Xo=function(a){return this.o.remove(a)};
k.Zo=function(a){var b,c,d,e=this.nb(),f=this.aa(),g=Hb(),h=null;if(void 0!==e&&0<e[0]&&0<e[1]&&f&&Sd(f)){var h=Md(f,this.a?this.a.viewHints:void 0),l=this.Bc().sf(),m={};b=0;for(c=l.length;b<c;++b)m[x(l[b].layer)]=l[b];d=f.W();h={animate:!1,attributions:{},coordinateToPixelTransform:this.Ob,extent:g,focus:this.U?this.U:d.center,index:this.fc++,layerStates:m,layerStatesArray:l,logos:ta({},this.bf),pixelRatio:this.cf,pixelToCoordinateTransform:this.df,postRenderFunctions:[],size:e,skippedFeatureUids:this.fa,
tileQueue:this.xa,time:a,usedTiles:{},viewState:d,viewHints:h,wantedTiles:{}}}if(h){a=this.Z;b=e=0;for(c=a.length;b<c;++b)f=a[b],f(this,h)&&(a[e++]=f);a.length=e;h.extent=hc(d.center,d.resolution,d.rotation,h.size,g)}this.a=h;this.C.ag(h);h&&(h.animate&&this.render(),Array.prototype.push.apply(this.Ja,h.postRenderFunctions),0!==this.Z.length||h.viewHints[Kd]||h.viewHints[1]||Vb(h.extent,this.Ua)||(this.b(new Ge("moveend",this,h)),Kb(h.extent,this.Ua)));this.b(new Ge("postrender",this,h));setTimeout(this.fl.bind(this),
0)};k.vi=function(a){this.set(Lm,a)};k.eg=function(a){this.set(Nm,a)};k.ph=function(a){this.set(Om,a)};k.mp=function(a){this.set(Mm,a)};k.Di=function(a){a=x(a).toString();this.fa[a]=!0;this.render()};k.ld=function(){var a=this.Cc();if(a){var b=getComputedStyle(a);this.eg([a.offsetWidth-parseFloat(b.borderLeftWidth)-parseFloat(b.paddingLeft)-parseFloat(b.paddingRight)-parseFloat(b.borderRightWidth),a.offsetHeight-parseFloat(b.borderTopWidth)-parseFloat(b.paddingTop)-parseFloat(b.paddingBottom)-parseFloat(b.borderBottomWidth)])}else this.eg(void 0)};
k.Ji=function(a){a=x(a).toString();delete this.fa[a];this.render()};
function Km(a){var b=null;void 0!==a.keyboardEventTarget&&(b="string"===typeof a.keyboardEventTarget?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d={};if(void 0===a.logo||"boolean"===typeof a.logo&&a.logo)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/";
else{var e=a.logo;"string"===typeof e?d[e]="":e instanceof HTMLElement?d[x(e).toString()]=e:e&&(ha("string"==typeof e.href,44),ha("string"==typeof e.src,45),d[e.src]=e.href)}e=a.layers instanceof yh?a.layers:new yh({layers:a.layers});c[Lm]=e;c[Om]=a.target;c[Mm]=void 0!==a.view?a.view:new Fd;var e=$h,f;void 0!==a.renderer?(Array.isArray(a.renderer)?f=a.renderer:"string"===typeof a.renderer?f=[a.renderer]:ha(!1,46),0<=f.indexOf("dom")&&(f=f.concat(Jm))):f=Jm;var g,h;g=0;for(h=f.length;g<h;++g){var l=
f[g];if("canvas"==l){if(of){e=Sj;break}}else if("webgl"==l&&ff){e=Gm;break}}void 0!==a.controls?Array.isArray(a.controls)?f=new qe(a.controls.slice()):(ha(a.controls instanceof qe,47),f=a.controls):f=Ue();void 0!==a.interactions?Array.isArray(a.interactions)?g=new qe(a.interactions.slice()):(ha(a.interactions instanceof qe,48),g=a.interactions):g=ph();void 0!==a.overlays?Array.isArray(a.overlays)?a=new qe(a.overlays.slice()):(ha(a.overlays instanceof qe,49),a=a.overlays):a=new qe;return{controls:f,
interactions:g,keyboardEventTarget:b,logos:d,overlays:a,ap:e,values:c}}var Lm="layergroup",Nm="size",Om="target",Mm="view";Ih();function Pm(a){Sa.call(this);this.i=a.id;this.o=void 0!==a.insertFirst?a.insertFirst:!0;this.v=void 0!==a.stopEvent?a.stopEvent:!0;this.f=document.createElement("DIV");this.f.className="ol-overlay-container";this.f.style.position="absolute";this.autoPan=void 0!==a.autoPan?a.autoPan:!1;this.j=a.autoPanAnimation||{};this.l=void 0!==a.autoPanMargin?a.autoPanMargin:20;this.a={Xd:"",le:"",Je:"",Oe:"",visible:!0};this.c=null;B(this,Ua(Qm),this.Ok,this);B(this,Ua(Rm),this.Yk,this);B(this,Ua(Sm),this.bl,
this);B(this,Ua(Tm),this.dl,this);B(this,Ua(Um),this.el,this);void 0!==a.element&&this.pi(a.element);this.xi(void 0!==a.offset?a.offset:[0,0]);this.Ai(void 0!==a.positioning?a.positioning:Vm);void 0!==a.position&&this.Ef(a.position)}v(Pm,Sa);k=Pm.prototype;k.be=function(){return this.get(Qm)};k.Xl=function(){return this.i};k.oe=function(){return this.get(Rm)};k.Tg=function(){return this.get(Sm)};k.qh=function(){return this.get(Tm)};k.Ug=function(){return this.get(Um)};
k.Ok=function(){for(var a=this.f;a.lastChild;)a.removeChild(a.lastChild);(a=this.be())&&this.f.appendChild(a)};k.Yk=function(){this.c&&(Fe(this.f),ya(this.c),this.c=null);var a=this.oe();a&&(this.c=B(a,"postrender",this.render,this),Wm(this),a=this.v?a.u:a.A,this.o?a.insertBefore(this.f,a.childNodes[0]||null):a.appendChild(this.f))};k.render=function(){Wm(this)};k.bl=function(){Wm(this)};
k.dl=function(){Wm(this);if(void 0!==this.get(Tm)&&this.autoPan){var a=this.oe();if(void 0!==a&&a.Cc()){var b=Xm(a.Cc(),a.nb()),c=this.be(),d=c.offsetWidth,e=c.currentStyle||getComputedStyle(c),d=d+(parseInt(e.marginLeft,10)+parseInt(e.marginRight,10)),e=c.offsetHeight,f=c.currentStyle||getComputedStyle(c),e=e+(parseInt(f.marginTop,10)+parseInt(f.marginBottom,10)),g=Xm(c,[d,e]),c=this.l;Ob(b,g)||(d=g[0]-b[0],e=b[2]-g[2],f=g[1]-b[1],g=b[3]-g[3],b=[0,0],0>d?b[0]=d-c:0>e&&(b[0]=Math.abs(e)+c),0>f?b[1]=
f-c:0>g&&(b[1]=Math.abs(g)+c),0===b[0]&&0===b[1])||(c=a.aa().fb(),c=a.Ga(c),b=[c[0]+b[0],c[1]+b[1]],a.aa().animate({center:a.Sa(b),duration:this.j.duration,easing:this.j.easing}))}}};k.el=function(){Wm(this)};k.pi=function(a){this.set(Qm,a)};k.setMap=function(a){this.set(Rm,a)};k.xi=function(a){this.set(Sm,a)};k.Ef=function(a){this.set(Tm,a)};function Xm(a,b){var c=a.getBoundingClientRect(),d=c.left+window.pageXOffset,c=c.top+window.pageYOffset;return[d,c,d+b[0],c+b[1]]}
k.Ai=function(a){this.set(Um,a)};function Ym(a,b){a.a.visible!==b&&(a.f.style.display=b?"":"none",a.a.visible=b)}
function Wm(a){var b=a.oe(),c=a.qh();if(void 0!==b&&b.a&&void 0!==c){var c=b.Ga(c),d=b.nb(),b=a.f.style,e=a.Tg(),f=a.Ug(),g=e[0],e=e[1];if(f==Zm||f==$m||f==an)""!==a.a.le&&(a.a.le=b.left=""),g=Math.round(d[0]-c[0]-g)+"px",a.a.Je!=g&&(a.a.Je=b.right=g);else{""!==a.a.Je&&(a.a.Je=b.right="");if(f==bn||f==cn||f==dn)g-=a.f.offsetWidth/2;g=Math.round(c[0]+g)+"px";a.a.le!=g&&(a.a.le=b.left=g)}if(f==en||f==bn||f==Zm)""!==a.a.Oe&&(a.a.Oe=b.top=""),c=Math.round(d[1]-c[1]-e)+"px",a.a.Xd!=c&&(a.a.Xd=b.bottom=
c);else{""!==a.a.Xd&&(a.a.Xd=b.bottom="");if(f==fn||f==cn||f==$m)e-=a.f.offsetHeight/2;c=Math.round(c[1]+e)+"px";a.a.Oe!=c&&(a.a.Oe=b.top=c)}Ym(a,!0)}else Ym(a,!1)}var en="bottom-left",bn="bottom-center",Zm="bottom-right",fn="center-left",cn="center-center",$m="center-right",Vm="top-left",dn="top-center",an="top-right",Qm="element",Rm="map",Sm="offset",Tm="position",Um="positioning";function gn(a){a=a?a:{};this.j=void 0!==a.collapsed?a.collapsed:!0;this.l=void 0!==a.collapsible?a.collapsible:!0;this.l||(this.j=!1);var b=void 0!==a.className?a.className:"ol-overviewmap",c=void 0!==a.tipLabel?a.tipLabel:"Overview map",d=void 0!==a.collapseLabel?a.collapseLabel:"\u00ab";"string"===typeof d?(this.o=document.createElement("span"),this.o.textContent=d):this.o=d;d=void 0!==a.label?a.label:"\u00bb";"string"===typeof d?(this.u=document.createElement("span"),this.u.textContent=d):this.u=
d;var e=this.l&&!this.j?this.o:this.u,d=document.createElement("button");d.setAttribute("type","button");d.title=c;d.appendChild(e);B(d,"click",this.km,this);c=document.createElement("DIV");c.className="ol-overviewmap-map";var f=this.f=new I({controls:new qe,interactions:new qe,target:c,view:a.view});a.layers&&a.layers.forEach(function(a){f.ug(a)},this);e=document.createElement("DIV");e.className="ol-overviewmap-box";e.style.boxSizing="border-box";this.A=new Pm({position:[0,0],positioning:en,element:e});
this.f.vg(this.A);e=document.createElement("div");e.className=b+" ol-unselectable ol-control"+(this.j&&this.l?" ol-collapsed":"")+(this.l?"":" ol-uncollapsible");e.appendChild(c);e.appendChild(d);Ie.call(this,{element:e,render:a.render?a.render:hn,target:a.target})}v(gn,Ie);k=gn.prototype;
k.setMap=function(a){var b=this.a;a!==b&&(b&&(b=b.aa())&&Ea(b,Ua(Id),this.je,this),Ie.prototype.setMap.call(this,a),a&&(this.v.push(B(a,Xa,this.Zk,this)),0===this.f.oh().Ub()&&this.f.vi(a.Bc()),a=a.aa()))&&(B(a,Ua(Id),this.je,this),Sd(a)&&(this.f.ld(),jn(this)))};k.Zk=function(a){a.key===Mm&&((a=a.oldValue)&&Ea(a,Ua(Id),this.je,this),a=this.a.aa(),B(a,Ua(Id),this.je,this))};k.je=function(){this.f.aa().pe(this.a.aa().Ra())};
function hn(){var a=this.a,b=this.f;if(a.a&&b.a){var c=a.nb(),a=a.aa().Uc(c),d=b.nb(),c=b.aa().Uc(d),e=b.Ga(ac(a)),f=b.Ga(Zb(a)),b=Math.abs(e[0]-f[0]),e=Math.abs(e[1]-f[1]),f=d[0],d=d[1];b<.1*f||e<.1*d||b>.75*f||e>.75*d?jn(this):Ob(c,a)||(a=this.f,c=this.a.aa(),a.aa().Mb(c.fb()))}kn(this)}function jn(a){var b=a.a;a=a.f;var c=b.nb(),b=b.aa().Uc(c),c=a.nb();a=a.aa();kc(b,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2)));a.lf(b,c)}
function kn(a){var b=a.a,c=a.f;if(b.a&&c.a){var d=b.nb(),e=b.aa(),f=c.aa(),c=e.Ra(),b=a.A,g=a.A.be(),h=e.Uc(d),d=f.Oa(),e=Yb(h),f=$b(h),l;if(a=a.a.aa().fb())l=[e[0]-a[0],e[1]-a[1]],wb(l,c),rb(l,a);b.Ef(l);g&&(g.style.width=Math.abs((e[0]-f[0])/d)+"px",g.style.height=Math.abs((f[1]-e[1])/d)+"px")}}k.km=function(a){a.preventDefault();ln(this)};
function ln(a){a.element.classList.toggle("ol-collapsed");a.j?Ee(a.o,a.u):Ee(a.u,a.o);a.j=!a.j;var b=a.f;a.j||b.a||(b.ld(),jn(a),Da(b,"postrender",function(){kn(this)},a))}k.jm=function(){return this.l};k.mm=function(a){this.l!==a&&(this.l=a,this.element.classList.toggle("ol-uncollapsible"),!a&&this.j&&ln(this))};k.lm=function(a){this.l&&this.j!==a&&ln(this)};k.im=function(){return this.j};k.wk=function(){return this.f};function mn(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-scale-line";this.l=document.createElement("DIV");this.l.className=b+"-inner";this.f=document.createElement("DIV");this.f.className=b+" ol-unselectable";this.f.appendChild(this.l);this.u=null;this.o=void 0!==a.minWidth?a.minWidth:64;this.j=!1;this.C=void 0;this.A="";Ie.call(this,{element:this.f,render:a.render?a.render:nn,target:a.target});B(this,Ua(on),this.L,this);this.D(a.units||pn)}v(mn,Ie);var qn=[1,2,5];mn.prototype.Eb=function(){return this.get(on)};
function nn(a){(a=a.frameState)?this.u=a.viewState:this.u=null;rn(this)}mn.prototype.L=function(){rn(this)};mn.prototype.D=function(a){this.set(on,a)};
function rn(a){var b=a.u;if(b){var c=b.projection,d=c.ic(),b=xc(c,b.resolution,b.center)*d,d=a.o*b,c="",e=a.Eb();e==sn?(c=qc.degrees,b/=c,d<c/60?(c="\u2033",b*=3600):d<c?(c="\u2032",b*=60):c="\u00b0"):e==tn?.9144>d?(c="in",b/=.0254):1609.344>d?(c="ft",b/=.3048):(c="mi",b/=1609.344):e==un?(b/=1852,c="nm"):e==pn?1>d?(c="mm",b*=1E3):1E3>d?c="m":(c="km",b/=1E3):e==vn?.9144>d?(c="in",b*=39.37):1609.344>d?(c="ft",b/=.30480061):(c="mi",b/=1609.3472):ha(!1,33);for(var e=3*Math.floor(Math.log(a.o*b)/Math.log(10)),
f;;){f=qn[(e%3+3)%3]*Math.pow(10,Math.floor(e/3));d=Math.round(f/b);if(isNaN(d)){a.f.style.display="none";a.j=!1;return}if(d>=a.o)break;++e}b=f+" "+c;a.A!=b&&(a.l.innerHTML=b,a.A=b);a.C!=d&&(a.l.style.width=d+"px",a.C=d);a.j||(a.f.style.display="",a.j=!0)}else a.j&&(a.f.style.display="none",a.j=!1)}var on="units",sn="degrees",tn="imperial",un="nautical",pn="metric",vn="us";function wn(a){a=a?a:{};this.f=void 0;this.j=xn;this.u=[];this.C=this.o=0;this.U=null;this.fa=!1;this.Z=void 0!==a.duration?a.duration:200;var b=void 0!==a.className?a.className:"ol-zoomslider",c=document.createElement("button");c.setAttribute("type","button");c.className=b+"-thumb ol-unselectable";var d=document.createElement("div");d.className=b+" ol-unselectable ol-control";d.appendChild(c);this.l=new Tf(d);B(this.l,"pointerdown",this.Nk,this);B(this.l,"pointermove",this.Xg,this);B(this.l,"pointerup",
this.Yg,this);B(d,"click",this.Mk,this);B(c,"click",Ka);Ie.call(this,{element:d,render:a.render?a.render:yn})}v(wn,Ie);wn.prototype.oa=function(){Ha(this.l);Ie.prototype.oa.call(this)};var xn=0;k=wn.prototype;k.setMap=function(a){Ie.prototype.setMap.call(this,a);a&&a.render()};
function yn(a){if(a.frameState){if(!this.fa){var b=this.element,c=b.offsetWidth,d=b.offsetHeight,e=b.firstElementChild,f=getComputedStyle(e),b=e.offsetWidth+parseFloat(f.marginRight)+parseFloat(f.marginLeft),e=e.offsetHeight+parseFloat(f.marginTop)+parseFloat(f.marginBottom);this.U=[b,e];c>d?(this.j=1,this.C=c-b):(this.j=xn,this.o=d-e);this.fa=!0}a=a.frameState.viewState.resolution;a!==this.f&&(this.f=a,zn(this,a))}}
k.Mk=function(a){var b=this.a.aa();a=An(this,ia(1===this.j?(a.offsetX-this.U[0]/2)/this.C:(a.offsetY-this.U[1]/2)/this.o,0,1));b.animate({resolution:b.constrainResolution(a),duration:this.Z,easing:Cb})};
k.Nk=function(a){if(!this.A&&a.b.target===this.element.firstElementChild&&(Jd(this.a.aa(),1,1),this.D=a.clientX,this.L=a.clientY,this.A=!0,0===this.u.length)){a=this.Xg;var b=this.Yg;this.u.push(B(document,"mousemove",a,this),B(document,"touchmove",a,this),B(document,"pointermove",a,this),B(document,"mouseup",b,this),B(document,"touchend",b,this),B(document,"pointerup",b,this))}};
k.Xg=function(a){if(this.A){var b=this.element.firstElementChild;this.f=An(this,ia(1===this.j?(a.clientX-this.D+parseInt(b.style.left,10))/this.C:(a.clientY-this.L+parseInt(b.style.top,10))/this.o,0,1));this.a.aa().Oc(this.f);zn(this,this.f);this.D=a.clientX;this.L=a.clientY}};k.Yg=function(){if(this.A){var a=this.a.aa();Jd(a,1,-1);a.animate({resolution:a.constrainResolution(this.f),duration:this.Z,easing:Cb});this.A=!1;this.L=this.D=void 0;this.u.forEach(ya);this.u.length=0}};
function zn(a,b){var c;c=1-Rd(a.a.aa())(b);var d=a.element.firstElementChild;1==a.j?d.style.left=a.C*c+"px":d.style.top=a.o*c+"px"}function An(a,b){return Qd(a.a.aa())(1-b)};function Bn(a){a=a?a:{};this.f=a.extent?a.extent:null;var b=void 0!==a.className?a.className:"ol-zoom-extent",c=void 0!==a.label?a.label:"E",d=void 0!==a.tipLabel?a.tipLabel:"Fit to extent",e=document.createElement("button");e.setAttribute("type","button");e.title=d;e.appendChild("string"===typeof c?document.createTextNode(c):c);B(e,"click",this.j,this);c=document.createElement("div");c.className=b+" ol-unselectable ol-control";c.appendChild(e);Ie.call(this,{element:c,target:a.target})}v(Bn,Ie);
Bn.prototype.j=function(a){a.preventDefault();var b=this.a;a=b.aa();var c=this.f?this.f:a.o.G(),b=b.nb();a.lf(c,b)};function Cn(a){Sa.call(this);a=a?a:{};this.a=null;B(this,Ua(Dn),this.Kl,this);this.Cf(void 0!==a.tracking?a.tracking:!1)}v(Cn,Sa);k=Cn.prototype;k.oa=function(){this.Cf(!1);Sa.prototype.oa.call(this)};
k.io=function(a){if(null!==a.alpha){var b=na(a.alpha);this.set(En,b);"boolean"===typeof a.absolute&&a.absolute?this.set(Fn,b):"number"===typeof a.webkitCompassHeading&&-1!=a.webkitCompassAccuracy&&this.set(Fn,na(a.webkitCompassHeading))}null!==a.beta&&this.set(Gn,na(a.beta));null!==a.gamma&&this.set(Hn,na(a.gamma));this.s()};k.Vj=function(){return this.get(En)};k.Yj=function(){return this.get(Gn)};k.ek=function(){return this.get(Hn)};k.Jl=function(){return this.get(Fn)};k.kh=function(){return this.get(Dn)};
k.Kl=function(){if(pf){var a=this.kh();a&&!this.a?this.a=B(window,"deviceorientation",this.io,this):a||null===this.a||(ya(this.a),this.a=null)}};k.Cf=function(a){this.set(Dn,a)};var En="alpha",Gn="beta",Hn="gamma",Fn="heading",Dn="tracking";function J(a){Sa.call(this);this.f=void 0;this.a="geometry";this.i=null;this.j=void 0;this.c=null;B(this,Ua(this.a),this.he,this);void 0!==a&&(a instanceof Rc||!a?this.Pa(a):this.I(a))}v(J,Sa);k=J.prototype;k.clone=function(){var a=new J(this.R());a.Nc(this.a);var b=this.V();b&&a.Pa(b.clone());(b=this.i)&&a.Df(b);return a};k.V=function(){return this.get(this.a)};k.Ll=function(){return this.f};k.gk=function(){return this.a};k.Ml=function(){return this.i};k.Gc=function(){return this.j};k.Nl=function(){this.s()};
k.he=function(){this.c&&(ya(this.c),this.c=null);var a=this.V();a&&(this.c=B(a,"change",this.Nl,this));this.s()};k.Pa=function(a){this.set(this.a,a)};k.Df=function(a){this.j=(this.i=a)?In(a):void 0;this.s()};k.cc=function(a){this.f=a;this.s()};k.Nc=function(a){Ea(this,Ua(this.a),this.he,this);this.a=a;B(this,Ua(this.a),this.he,this);this.he()};function In(a){if("function"!==typeof a){var b;Array.isArray(a)?b=a:(ha(a instanceof xi,41),b=[a]);a=function(){return b}}return a};var Jn=document.implementation.createDocument("","",null);function Kn(a,b){return Jn.createElementNS(a,b)}function Ln(a,b){return Mn(a,b,[]).join("")}function Mn(a,b,c){if(a.nodeType==Node.CDATA_SECTION_NODE||a.nodeType==Node.TEXT_NODE)b?c.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):c.push(a.nodeValue);else for(a=a.firstChild;a;a=a.nextSibling)Mn(a,b,c);return c}function Nn(a){return a instanceof Document}function On(a){return a instanceof Node}
function Pn(a){return(new DOMParser).parseFromString(a,"application/xml")}function Qn(a,b){return function(c,d){var e=a.call(b,c,d);void 0!==e&&bb(d[d.length-1],e)}}function Rn(a,b){return function(c,d){var e=a.call(void 0!==b?b:this,c,d);void 0!==e&&d[d.length-1].push(e)}}function Sn(a,b){return function(c,d){var e=a.call(void 0!==b?b:this,c,d);void 0!==e&&(d[d.length-1]=e)}}
function Tn(a){return function(b,c){var d=a.call(this,b,c);if(void 0!==d){var e=c[c.length-1],f=b.localName,g;f in e?g=e[f]:g=e[f]=[];g.push(d)}}}function K(a,b){return function(c,d){var e=a.call(this,c,d);void 0!==e&&(d[d.length-1][void 0!==b?b:c.localName]=e)}}function L(a,b){return function(c,d,e){a.call(void 0!==b?b:this,c,d,e);e[e.length-1].node.appendChild(c)}}
function Un(a){var b,c;return function(d,e,f){if(!b){b={};var g={};g[d.localName]=a;b[d.namespaceURI]=g;c=Vn(d.localName)}Wn(b,c,e,f)}}function Vn(a,b){return function(c,d,e){c=d[d.length-1].node;d=a;void 0===d&&(d=e);e=b;void 0===b&&(e=c.namespaceURI);return Kn(e,d)}}var Xn=Vn();function Yn(a,b){for(var c=b.length,d=Array(c),e=0;e<c;++e)d[e]=a[b[e]];return d}function M(a,b,c){c=void 0!==c?c:{};var d,e;d=0;for(e=a.length;d<e;++d)c[a[d]]=b;return c}
function Zn(a,b,c,d){for(b=b.firstElementChild;b;b=b.nextElementSibling){var e=a[b.namespaceURI];void 0!==e&&(e=e[b.localName])&&e.call(d,b,c)}}function N(a,b,c,d,e){d.push(a);Zn(b,c,d,e);return d.pop()}function Wn(a,b,c,d,e,f){for(var g=(void 0!==e?e:c).length,h,l,m=0;m<g;++m)h=c[m],void 0!==h&&(l=b.call(f,h,d,void 0!==e?e[m]:void 0),void 0!==l&&a[l.namespaceURI][l.localName].call(f,l,h,d))}function $n(a,b,c,d,e,f,g){e.push(a);Wn(b,c,d,e,f,g);e.pop()};function ao(a,b,c,d){return function(e,f,g){var h=new XMLHttpRequest;h.open("GET","function"===typeof a?a(e,f,g):a,!0);"arraybuffer"==b.Y()&&(h.responseType="arraybuffer");h.onload=function(){if(!h.status||200<=h.status&&300>h.status){var a=b.Y(),e;"json"==a||"text"==a?e=h.responseText:"xml"==a?(e=h.responseXML)||(e=Pn(h.responseText)):"arraybuffer"==a&&(e=h.response);e?c.call(this,b.La(e,{featureProjection:g}),b.Wa(e)):d.call(this)}else d.call(this)}.bind(this);h.send()}}
function bo(a,b){return ao(a,b,function(a){this.Tc(a)},ea)};function co(){this.j=this.defaultDataProjection=null}function eo(a,b,c){var d;c&&(d={dataProjection:c.dataProjection?c.dataProjection:a.Wa(b),featureProjection:c.featureProjection});return fo(a,d)}function fo(a,b){return ta({dataProjection:a.defaultDataProjection,featureProjection:a.j},b)}
function go(a,b,c){var d=c?zc(c.featureProjection):null,e=c?zc(c.dataProjection):null,f;d&&e&&!Mc(d,e)?a instanceof Rc?f=(b?a.clone():a).ob(b?d:e,b?e:d):f=Qc(b?a.slice():a,b?d:e,b?e:d):f=a;if(b&&c&&c.decimals){var g=Math.pow(10,c.decimals);a=function(a){for(var b=0,c=a.length;b<c;++b)a[b]=Math.round(a[b]*g)/g;return a};Array.isArray(f)?a(f):f.sc(a)}return f};function ho(){co.call(this)}v(ho,co);function io(a){return"string"===typeof a?(a=JSON.parse(a))?a:null:null!==a?a:null}k=ho.prototype;k.Y=function(){return"json"};k.bc=function(a,b){return this.gd(io(a),eo(this,a,b))};k.La=function(a,b){return this.Sf(io(a),eo(this,a,b))};k.hd=function(a,b){return this.ci(io(a),eo(this,a,b))};k.Wa=function(a){return this.ii(io(a))};k.Od=function(a,b){return JSON.stringify(this.md(a,b))};k.ec=function(a,b){return JSON.stringify(this.Se(a,b))};
k.od=function(a,b){return JSON.stringify(this.Te(a,b))};function jo(a,b,c,d,e,f){var g=NaN,h=NaN,l=(c-b)/d;if(0!==l)if(1==l)g=a[b],h=a[b+1];else if(2==l)g=(1-e)*a[b]+e*a[b+d],h=(1-e)*a[b+1]+e*a[b+d+1];else{var h=a[b],l=a[b+1],m=0,g=[0],p;for(p=b+d;p<c;p+=d){var n=a[p],q=a[p+1],m=m+Math.sqrt((n-h)*(n-h)+(q-l)*(q-l));g.push(m);h=n;l=q}c=e*m;l=0;m=g.length;for(p=!1;l<m;)e=l+(m-l>>1),h=+Ya(g[e],c),0>h?l=e+1:(m=e,p=!h);e=p?l:~l;0>e?(c=(c-g[-e-2])/(g[-e-1]-g[-e-2]),b+=(-e-2)*d,g=pa(a[b],a[b+d],c),h=pa(a[b+1],a[b+d+1],c)):(g=a[b+e*d],h=a[b+e*d+1])}return f?(f[0]=
g,f[1]=h,f):[g,h]}function ko(a,b,c,d,e,f){if(c==b)return null;if(e<a[b+d-1])return f?(c=a.slice(b,b+d),c[d-1]=e,c):null;if(a[c-1]<e)return f?(c=a.slice(c-d,c),c[d-1]=e,c):null;if(e==a[b+d-1])return a.slice(b,b+d);b/=d;for(c/=d;b<c;)f=b+c>>1,e<a[(f+1)*d-1]?c=f:b=f+1;c=a[b*d-1];if(e==c)return a.slice((b-1)*d,(b-1)*d+d);f=(e-c)/(a[(b+1)*d-1]-c);c=[];var g;for(g=0;g<d-1;++g)c.push(pa(a[(b-1)*d+g],a[b*d+g],f));c.push(e);return c}
function lo(a,b,c,d,e,f){var g=0;if(f)return ko(a,g,b[b.length-1],c,d,e);if(d<a[c-1])return e?(a=a.slice(0,c),a[c-1]=d,a):null;if(a[a.length-1]<d)return e?(a=a.slice(a.length-c),a[c-1]=d,a):null;e=0;for(f=b.length;e<f;++e){var h=b[e];if(g!=h){if(d<a[g+c-1])break;if(d<=a[h-1])return ko(a,g,h,c,d,!1);g=h}}return null};function P(a,b){Uc.call(this);this.c=null;this.A=this.C=this.l=-1;this.qa(a,b)}v(P,Uc);k=P.prototype;k.Dj=function(a){this.B?bb(this.B,a):this.B=a.slice();this.s()};k.clone=function(){var a=new P(null);a.da(this.ka,this.B.slice());return a};k.Ab=function(a,b,c,d){if(d<Lb(this.G(),a,b))return d;this.A!=this.g&&(this.C=Math.sqrt(bd(this.B,0,this.B.length,this.a,0)),this.A=this.g);return dd(this.B,0,this.B.length,this.a,this.C,!1,a,b,c,d)};
k.Sj=function(a,b){return td(this.B,0,this.B.length,this.a,a,b)};k.pm=function(a,b){return"XYM"!=this.ka&&"XYZM"!=this.ka?null:ko(this.B,0,this.B.length,this.a,a,void 0!==b?b:!1)};k.$=function(){return id(this.B,0,this.B.length,this.a)};k.Kg=function(a,b){return jo(this.B,0,this.B.length,this.a,a,b)};k.qm=function(){var a=this.B,b=this.a,c=a[0],d=a[1],e=0,f;for(f=0+b;f<this.B.length;f+=b)var g=a[f],h=a[f+1],e=e+Math.sqrt((g-c)*(g-c)+(h-d)*(h-d)),c=g,d=h;return e};
function Qi(a){a.l!=a.g&&(a.c=a.Kg(.5,a.c),a.l=a.g);return a.c}k.$c=function(a){var b=[];b.length=kd(this.B,0,this.B.length,this.a,a,b,0);a=new P(null);a.da("XY",b);return a};k.Y=function(){return"LineString"};k.Ta=function(a){return ud(this.B,0,this.B.length,this.a,a)};k.qa=function(a,b){a?(Yc(this,b,a,1),this.B||(this.B=[]),this.B.length=gd(this.B,0,a,this.a),this.s()):this.da("XY",null)};k.da=function(a,b){Xc(this,a,b);this.s()};function Q(a,b){Uc.call(this);this.c=[];this.l=this.A=-1;this.qa(a,b)}v(Q,Uc);k=Q.prototype;k.Ej=function(a){this.B?bb(this.B,a.ia().slice()):this.B=a.ia().slice();this.c.push(this.B.length);this.s()};k.clone=function(){var a=new Q(null);a.da(this.ka,this.B.slice(),this.c.slice());return a};k.Ab=function(a,b,c,d){if(d<Lb(this.G(),a,b))return d;this.l!=this.g&&(this.A=Math.sqrt(cd(this.B,0,this.c,this.a,0)),this.l=this.g);return ed(this.B,0,this.c,this.a,this.A,!1,a,b,c,d)};
k.sm=function(a,b,c){return"XYM"!=this.ka&&"XYZM"!=this.ka||0===this.B.length?null:lo(this.B,this.c,this.a,a,void 0!==b?b:!1,void 0!==c?c:!1)};k.$=function(){return jd(this.B,0,this.c,this.a)};k.Kb=function(){return this.c};k.mk=function(a){if(0>a||this.c.length<=a)return null;var b=new P(null);b.da(this.ka,this.B.slice(0===a?0:this.c[a-1],this.c[a]));return b};
k.Yc=function(){var a=this.B,b=this.c,c=this.ka,d=[],e=0,f,g;f=0;for(g=b.length;f<g;++f){var h=b[f],l=new P(null);l.da(c,a.slice(e,h));d.push(l);e=h}return d};function Ri(a){var b=[],c=a.B,d=0,e=a.c;a=a.a;var f,g;f=0;for(g=e.length;f<g;++f){var h=e[f],d=jo(c,d,h,a,.5);bb(b,d);d=h}return b}k.$c=function(a){var b=[],c=[],d=this.B,e=this.c,f=this.a,g=0,h=0,l,m;l=0;for(m=e.length;l<m;++l){var p=e[l],h=kd(d,g,p,f,a,b,h);c.push(h);g=p}b.length=h;a=new Q(null);a.da("XY",b,c);return a};k.Y=function(){return"MultiLineString"};
k.Ta=function(a){a:{var b=this.B,c=this.c,d=this.a,e=0,f,g;f=0;for(g=c.length;f<g;++f){if(ud(b,e,c[f],d,a)){a=!0;break a}e=c[f]}a=!1}return a};k.qa=function(a,b){if(a){Yc(this,b,a,2);this.B||(this.B=[]);var c=hd(this.B,0,a,this.a,this.c);this.B.length=0===c.length?0:c[c.length-1];this.s()}else this.da("XY",null,this.c)};k.da=function(a,b,c){Xc(this,a,b);this.c=c;this.s()};
function mo(a,b){var c=a.ka,d=[],e=[],f,g;f=0;for(g=b.length;f<g;++f){var h=b[f];0===f&&(c=h.ka);bb(d,h.ia());e.push(d.length)}a.da(c,d,e)};function R(a,b){Uc.call(this);this.qa(a,b)}v(R,Uc);k=R.prototype;k.Gj=function(a){this.B?bb(this.B,a.ia()):this.B=a.ia().slice();this.s()};k.clone=function(){var a=new R(null);a.da(this.ka,this.B.slice());return a};k.Ab=function(a,b,c,d){if(d<Lb(this.G(),a,b))return d;var e=this.B,f=this.a,g,h,l;g=0;for(h=e.length;g<h;g+=f)if(l=ma(a,b,e[g],e[g+1]),l<d){d=l;for(l=0;l<f;++l)c[l]=e[g+l];c.length=f}return d};k.$=function(){return id(this.B,0,this.B.length,this.a)};
k.yk=function(a){var b=this.B?this.B.length/this.a:0;if(0>a||b<=a)return null;b=new C(null);b.da(this.ka,this.B.slice(a*this.a,(a+1)*this.a));return b};k.re=function(){var a=this.B,b=this.ka,c=this.a,d=[],e,f;e=0;for(f=a.length;e<f;e+=c){var g=new C(null);g.da(b,a.slice(e,e+c));d.push(g)}return d};k.Y=function(){return"MultiPoint"};k.Ta=function(a){var b=this.B,c=this.a,d,e,f,g;d=0;for(e=b.length;d<e;d+=c)if(f=b[d],g=b[d+1],Nb(a,f,g))return!0;return!1};
k.qa=function(a,b){a?(Yc(this,b,a,1),this.B||(this.B=[]),this.B.length=gd(this.B,0,a,this.a),this.s()):this.da("XY",null)};k.da=function(a,b){Xc(this,a,b);this.s()};function S(a,b){Uc.call(this);this.c=[];this.A=-1;this.C=null;this.P=this.D=this.L=-1;this.l=null;this.qa(a,b)}v(S,Uc);k=S.prototype;k.Hj=function(a){if(this.B){var b=this.B.length;bb(this.B,a.ia());a=a.Kb().slice();var c,d;c=0;for(d=a.length;c<d;++c)a[c]+=b}else this.B=a.ia().slice(),a=a.Kb().slice(),this.c.push();this.c.push(a);this.s()};k.clone=function(){for(var a=new S(null),b=this.c.length,c=Array(b),d=0;d<b;++d)c[d]=this.c[d].slice();no(a,this.ka,this.B.slice(),c);return a};
k.Ab=function(a,b,c,d){if(d<Lb(this.G(),a,b))return d;if(this.D!=this.g){var e=this.c,f=0,g=0,h,l;h=0;for(l=e.length;h<l;++h)var m=e[h],g=cd(this.B,f,m,this.a,g),f=m[m.length-1];this.L=Math.sqrt(g);this.D=this.g}e=Si(this);f=this.c;g=this.a;h=this.L;l=0;var m=[NaN,NaN],p,n;p=0;for(n=f.length;p<n;++p){var q=f[p];d=ed(e,l,q,g,h,!0,a,b,c,d,m);l=q[q.length-1]}return d};
k.Hc=function(a,b){var c;a:{c=Si(this);var d=this.c,e=this.a,f=0;if(0!==d.length){var g,h;g=0;for(h=d.length;g<h;++g){var l=d[g];if(rd(c,f,l,e,a,b)){c=!0;break a}f=l[l.length-1]}}c=!1}return c};k.tm=function(){var a=Si(this),b=this.c,c=0,d=0,e,f;e=0;for(f=b.length;e<f;++e)var g=b[e],d=d+$c(a,c,g,this.a),c=g[g.length-1];return d};
k.$=function(a){var b;void 0!==a?(b=Si(this).slice(),zd(b,this.c,this.a,a)):b=this.B;a=b;b=this.c;var c=this.a,d=0,e=[],f=0,g,h;g=0;for(h=b.length;g<h;++g){var l=b[g];e[f++]=jd(a,d,l,c,e[f]);d=l[l.length-1]}e.length=f;return e};
function Ti(a){if(a.A!=a.g){var b=a.B,c=a.c,d=a.a,e=0,f=[],g,h;g=0;for(h=c.length;g<h;++g){var l=c[g],e=Tb(b,e,l[0],d);f.push((e[0]+e[2])/2,(e[1]+e[3])/2);e=l[l.length-1]}b=Si(a);c=a.c;d=a.a;g=0;h=[];l=0;for(e=c.length;l<e;++l){var m=c[l];h=sd(b,g,m,d,f,2*l,h);g=m[m.length-1]}a.C=h;a.A=a.g}return a.C}k.jk=function(){var a=new R(null);a.da("XY",Ti(this).slice());return a};
function Si(a){if(a.P!=a.g){var b=a.B,c;a:{c=a.c;var d,e;d=0;for(e=c.length;d<e;++d)if(!xd(b,c[d],a.a,void 0)){c=!1;break a}c=!0}c?a.l=b:(a.l=b.slice(),a.l.length=zd(a.l,a.c,a.a));a.P=a.g}return a.l}k.$c=function(a){var b=[],c=[],d=this.B,e=this.c,f=this.a;a=Math.sqrt(a);var g=0,h=0,l,m;l=0;for(m=e.length;l<m;++l){var p=e[l],n=[],h=ld(d,g,p,f,a,b,h,n);c.push(n);g=p[p.length-1]}b.length=h;d=new S(null);no(d,"XY",b,c);return d};
k.zk=function(a){if(0>a||this.c.length<=a)return null;var b;0===a?b=0:(b=this.c[a-1],b=b[b.length-1]);a=this.c[a].slice();var c=a[a.length-1];if(0!==b){var d,e;d=0;for(e=a.length;d<e;++d)a[d]-=b}d=new E(null);d.da(this.ka,this.B.slice(b,c),a);return d};k.Ad=function(){var a=this.ka,b=this.B,c=this.c,d=[],e=0,f,g,h,l;f=0;for(g=c.length;f<g;++f){var m=c[f].slice(),p=m[m.length-1];if(0!==e)for(h=0,l=m.length;h<l;++h)m[h]-=e;h=new E(null);h.da(a,b.slice(e,p),m);d.push(h);e=p}return d};k.Y=function(){return"MultiPolygon"};
k.Ta=function(a){a:{var b=Si(this),c=this.c,d=this.a,e=0,f,g;f=0;for(g=c.length;f<g;++f){var h=c[f];if(vd(b,e,h,d,a)){a=!0;break a}e=h[h.length-1]}a=!1}return a};k.qa=function(a,b){if(a){Yc(this,b,a,3);this.B||(this.B=[]);var c=this.B,d=this.a,e=this.c,f=0,e=e?e:[],g=0,h,l;h=0;for(l=a.length;h<l;++h)f=hd(c,f,a[h],d,e[g]),e[g++]=f,f=f[f.length-1];e.length=g;0===e.length?this.B.length=0:(c=e[e.length-1],this.B.length=0===c.length?0:c[c.length-1]);this.s()}else no(this,"XY",null,this.c)};
function no(a,b,c,d){Xc(a,b,c);a.c=d;a.s()}function oo(a,b){var c=a.ka,d=[],e=[],f,g,h;f=0;for(g=b.length;f<g;++f){var l=b[f];0===f&&(c=l.ka);var m=d.length;h=l.Kb();var p,n;p=0;for(n=h.length;p<n;++p)h[p]+=m;bb(d,l.ia());e.push(h)}no(a,c,d,e)};function po(a){a=a?a:{};co.call(this);this.b=a.geometryName}v(po,ho);
function qo(a,b){if(!a)return null;var c;if("number"===typeof a.x&&"number"===typeof a.y)c="Point";else if(a.points)c="MultiPoint";else if(a.paths)c=1===a.paths.length?"LineString":"MultiLineString";else if(a.rings){var d=a.rings,e=ro(a),f=[];c=[];var g,h;g=0;for(h=d.length;g<h;++g){var l=ab(d[g]);wd(l,0,l.length,e.length)?f.push([d[g]]):c.push(d[g])}for(;c.length;){d=c.shift();e=!1;for(g=f.length-1;0<=g;g--)if(Ob((new md(f[g][0])).G(),(new md(d)).G())){f[g].push(d);e=!0;break}e||f.push([d.reverse()])}a=
ta({},a);1===f.length?(c="Polygon",a.rings=f[0]):(c="MultiPolygon",a.rings=f)}return go((0,so[c])(a),!1,b)}function ro(a){var b="XY";!0===a.hasZ&&!0===a.hasM?b="XYZM":!0===a.hasZ?b="XYZ":!0===a.hasM&&(b="XYM");return b}function to(a){a=a.ka;return{hasZ:"XYZ"===a||"XYZM"===a,hasM:"XYM"===a||"XYZM"===a}}
var so={Point:function(a){return void 0!==a.m&&void 0!==a.z?new C([a.x,a.y,a.z,a.m],"XYZM"):void 0!==a.z?new C([a.x,a.y,a.z],"XYZ"):void 0!==a.m?new C([a.x,a.y,a.m],"XYM"):new C([a.x,a.y])},LineString:function(a){return new P(a.paths[0],ro(a))},Polygon:function(a){return new E(a.rings,ro(a))},MultiPoint:function(a){return new R(a.points,ro(a))},MultiLineString:function(a){return new Q(a.paths,ro(a))},MultiPolygon:function(a){return new S(a.rings,ro(a))}},uo={Point:function(a){var b=a.$(),c;a=a.ka;
"XYZ"===a?c={x:b[0],y:b[1],z:b[2]}:"XYM"===a?c={x:b[0],y:b[1],m:b[2]}:"XYZM"===a?c={x:b[0],y:b[1],z:b[2],m:b[3]}:"XY"===a?c={x:b[0],y:b[1]}:ha(!1,34);return c},LineString:function(a){var b=to(a);return{hasZ:b.hasZ,hasM:b.hasM,paths:[a.$()]}},Polygon:function(a){var b=to(a);return{hasZ:b.hasZ,hasM:b.hasM,rings:a.$(!1)}},MultiPoint:function(a){var b=to(a);return{hasZ:b.hasZ,hasM:b.hasM,points:a.$()}},MultiLineString:function(a){var b=to(a);return{hasZ:b.hasZ,hasM:b.hasM,paths:a.$()}},MultiPolygon:function(a){var b=
to(a);a=a.$(!1);for(var c=[],d=0;d<a.length;d++)for(var e=a[d].length-1;0<=e;e--)c.push(a[d][e]);return{hasZ:b.hasZ,hasM:b.hasM,rings:c}}};k=po.prototype;k.gd=function(a,b){var c=qo(a.geometry,b),d=new J;this.b&&d.Nc(this.b);d.Pa(c);b&&b.zf&&a.attributes[b.zf]&&d.cc(a.attributes[b.zf]);a.attributes&&d.I(a.attributes);return d};
k.Sf=function(a,b){var c=b?b:{};if(a.features){var d=[],e=a.features,f,g;c.zf=a.objectIdFieldName;f=0;for(g=e.length;f<g;++f)d.push(this.gd(e[f],c));return d}return[this.gd(a,c)]};k.ci=function(a,b){return qo(a,b)};k.ii=function(a){return a.spatialReference&&a.spatialReference.wkid?zc("EPSG:"+a.spatialReference.wkid):null};function vo(a,b){return(0,uo[a.Y()])(go(a,!0,b),b)}k.Te=function(a,b){return vo(a,fo(this,b))};
k.md=function(a,b){b=fo(this,b);var c={},d=a.V();d&&(c.geometry=vo(d,b));d=a.R();delete d[a.a];c.attributes=wa(d)?{}:d;b&&b.featureProjection&&(c.spatialReference={wkid:zc(b.featureProjection).hb.split(":").pop()});return c};k.Se=function(a,b){b=fo(this,b);var c=[],d,e;d=0;for(e=a.length;d<e;++d)c.push(this.md(a[d],b));return{features:c}};function wo(a){this.Nb=a};function zo(a){this.Nb=a}v(zo,wo);function Ao(a,b,c){this.Nb=a;this.b=b;this.a=c}v(Ao,zo);function Bo(a,b){Ao.call(this,"And",a,b)}v(Bo,Ao);function Co(a,b,c){this.Nb="BBOX";this.geometryName=a;this.extent=b;this.srsName=c}v(Co,wo);function Do(a,b){this.Nb=a;this.b=b}v(Do,wo);function Eo(a,b,c,d){Do.call(this,a,b);this.g=c;this.a=d}v(Eo,Do);function Fo(a,b,c){Eo.call(this,"PropertyIsEqualTo",a,b,c)}v(Fo,Eo);function Go(a,b){Eo.call(this,"PropertyIsGreaterThan",a,b)}v(Go,Eo);function Ho(a,b){Eo.call(this,"PropertyIsGreaterThanOrEqualTo",a,b)}v(Ho,Eo);function Io(a,b,c,d){this.Nb=a;this.geometryName=b||"the_geom";this.geometry=c;this.srsName=d}v(Io,wo);function Jo(a,b,c){Io.call(this,"Intersects",a,b,c)}v(Jo,Io);function Ko(a,b,c){Do.call(this,"PropertyIsBetween",a);this.a=b;this.g=c}v(Ko,Do);function Lo(a,b,c,d,e,f){Do.call(this,"PropertyIsLike",a);this.f=b;this.i=void 0!==c?c:"*";this.c=void 0!==d?d:".";this.g=void 0!==e?e:"!";this.a=f}v(Lo,Do);function Mo(a){Do.call(this,"PropertyIsNull",a)}v(Mo,Do);function No(a,b){Eo.call(this,"PropertyIsLessThan",a,b)}v(No,Eo);function Oo(a,b){Eo.call(this,"PropertyIsLessThanOrEqualTo",a,b)}v(Oo,Eo);function Po(a){this.Nb="Not";this.condition=a}v(Po,zo);function Qo(a,b,c){Eo.call(this,"PropertyIsNotEqualTo",a,b,c)}v(Qo,Eo);function Ro(a,b){Ao.call(this,"Or",a,b)}v(Ro,Ao);function So(a,b,c){Io.call(this,"Within",a,b,c)}v(So,Io);function To(a,b){return new Bo(a,b)}function Uo(a,b,c){return new Co(a,b,c)};function Vo(a){Rc.call(this);this.f=a?a:null;Wo(this)}v(Vo,Rc);function Xo(a){var b=[],c,d;c=0;for(d=a.length;c<d;++c)b.push(a[c].clone());return b}function Yo(a){var b,c;if(a.f)for(b=0,c=a.f.length;b<c;++b)Ea(a.f[b],"change",a.s,a)}function Wo(a){var b,c;if(a.f)for(b=0,c=a.f.length;b<c;++b)B(a.f[b],"change",a.s,a)}k=Vo.prototype;k.clone=function(){var a=new Vo(null);a.ti(this.f);return a};
k.Ab=function(a,b,c,d){if(d<Lb(this.G(),a,b))return d;var e=this.f,f,g;f=0;for(g=e.length;f<g;++f)d=e[f].Ab(a,b,c,d);return d};k.Hc=function(a,b){var c=this.f,d,e;d=0;for(e=c.length;d<e;++d)if(c[d].Hc(a,b))return!0;return!1};k.Yd=function(a){Rb(Infinity,Infinity,-Infinity,-Infinity,a);for(var b=this.f,c=0,d=b.length;c<d;++c)Wb(a,b[c].G());return a};k.pf=function(){return Xo(this.f)};
k.Bd=function(a){this.o!=this.g&&(ua(this.i),this.j=0,this.o=this.g);if(0>a||0!==this.j&&a<this.j)return this;var b=a.toString();if(this.i.hasOwnProperty(b))return this.i[b];var c=[],d=this.f,e=!1,f,g;f=0;for(g=d.length;f<g;++f){var h=d[f],l=h.Bd(a);c.push(l);l!==h&&(e=!0)}if(e)return a=new Vo(null),Yo(a),a.f=c,Wo(a),a.s(),this.i[b]=a;this.j=a;return this};k.Y=function(){return"GeometryCollection"};k.Ta=function(a){var b=this.f,c,d;c=0;for(d=b.length;c<d;++c)if(b[c].Ta(a))return!0;return!1};
k.rotate=function(a,b){for(var c=this.f,d=0,e=c.length;d<e;++d)c[d].rotate(a,b);this.s()};k.scale=function(a,b,c){c||(c=gc(this.G()));for(var d=this.f,e=0,f=d.length;e<f;++e)d[e].scale(a,b,c);this.s()};k.ti=function(a){a=Xo(a);Yo(this);this.f=a;Wo(this);this.s()};k.sc=function(a){var b=this.f,c,d;c=0;for(d=b.length;c<d;++c)b[c].sc(a);this.s()};k.translate=function(a,b){var c=this.f,d,e;d=0;for(e=c.length;d<e;++d)c[d].translate(a,b);this.s()};k.oa=function(){Yo(this);Rc.prototype.oa.call(this)};function Zo(a){a=a?a:{};co.call(this);this.defaultDataProjection=zc(a.defaultDataProjection?a.defaultDataProjection:"EPSG:4326");a.featureProjection&&(this.j=zc(a.featureProjection));this.b=a.geometryName}v(Zo,ho);function $o(a,b){return a?go((0,ap[a.type])(a),!1,b):null}function bp(a,b){return(0,cp[a.Y()])(go(a,!0,b),b)}
var ap={Point:function(a){return new C(a.coordinates)},LineString:function(a){return new P(a.coordinates)},Polygon:function(a){return new E(a.coordinates)},MultiPoint:function(a){return new R(a.coordinates)},MultiLineString:function(a){return new Q(a.coordinates)},MultiPolygon:function(a){return new S(a.coordinates)},GeometryCollection:function(a,b){var c=a.geometries.map(function(a){return $o(a,b)});return new Vo(c)}},cp={Point:function(a){return{type:"Point",coordinates:a.$()}},LineString:function(a){return{type:"LineString",
coordinates:a.$()}},Polygon:function(a,b){var c;b&&(c=b.rightHanded);return{type:"Polygon",coordinates:a.$(c)}},MultiPoint:function(a){return{type:"MultiPoint",coordinates:a.$()}},MultiLineString:function(a){return{type:"MultiLineString",coordinates:a.$()}},MultiPolygon:function(a,b){var c;b&&(c=b.rightHanded);return{type:"MultiPolygon",coordinates:a.$(c)}},GeometryCollection:function(a,b){return{type:"GeometryCollection",geometries:a.f.map(function(a){var d=ta({},b);delete d.featureProjection;return bp(a,
d)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};k=Zo.prototype;k.gd=function(a,b){var c;c="Feature"===a.type?a:{type:"Feature",geometry:a};var d=$o(c.geometry,b),e=new J;this.b&&e.Nc(this.b);e.Pa(d);void 0!==c.id&&e.cc(c.id);c.properties&&e.I(c.properties);return e};k.Sf=function(a,b){var c;if("FeatureCollection"===a.type){c=[];var d=a.features,e,f;e=0;for(f=d.length;e<f;++e)c.push(this.gd(d[e],b))}else c=[this.gd(a,b)];return c};k.ci=function(a,b){return $o(a,b)};
k.ii=function(a){a=a.crs;var b;a?"name"==a.type?b=zc(a.properties.name):"EPSG"==a.type?b=zc("EPSG:"+a.properties.code):ha(!1,36):b=this.defaultDataProjection;return b};k.md=function(a,b){b=fo(this,b);var c={type:"Feature"},d=a.f;void 0!==d&&(c.id=d);(d=a.V())?c.geometry=bp(d,b):c.geometry=null;d=a.R();delete d[a.a];wa(d)?c.properties=null:c.properties=d;return c};k.Se=function(a,b){b=fo(this,b);var c=[],d,e;d=0;for(e=a.length;d<e;++d)c.push(this.md(a[d],b));return{type:"FeatureCollection",features:c}};
k.Te=function(a,b){return bp(a,fo(this,b))};function dp(){this.f=new XMLSerializer;co.call(this)}v(dp,co);k=dp.prototype;k.Y=function(){return"xml"};k.bc=function(a,b){if(Nn(a))return ep(this,a,b);if(On(a))return this.ai(a,b);if("string"===typeof a){var c=Pn(a);return ep(this,c,b)}return null};function ep(a,b,c){a=fp(a,b,c);return 0<a.length?a[0]:null}k.La=function(a,b){if(Nn(a))return fp(this,a,b);if(On(a))return this.oc(a,b);if("string"===typeof a){var c=Pn(a);return fp(this,c,b)}return[]};
function fp(a,b,c){var d=[];for(b=b.firstChild;b;b=b.nextSibling)b.nodeType==Node.ELEMENT_NODE&&bb(d,a.oc(b,c));return d}k.hd=function(a,b){if(Nn(a))return this.u(a,b);if(On(a)){var c=this.Ee(a,[eo(this,a,b?b:{})]);return c?c:null}return"string"===typeof a?(c=Pn(a),this.u(c,b)):null};k.Wa=function(a){return Nn(a)?this.Xf(a):On(a)?this.He(a):"string"===typeof a?(a=Pn(a),this.Xf(a)):null};k.Xf=function(){return this.defaultDataProjection};k.He=function(){return this.defaultDataProjection};
k.Od=function(a,b){var c=this.C(a,b);return this.f.serializeToString(c)};k.ec=function(a,b){var c=this.a(a,b);return this.f.serializeToString(c)};k.od=function(a,b){var c=this.H(a,b);return this.f.serializeToString(c)};function gp(a){a=a?a:{};this.featureType=a.featureType;this.featureNS=a.featureNS;this.srsName=a.srsName;this.schemaLocation="";this.b={};this.b["http://www.opengis.net/gml"]={featureMember:Sn(gp.prototype.Id),featureMembers:Sn(gp.prototype.Id)};dp.call(this)}v(gp,dp);var hp=/^[\s\xa0]*$/;k=gp.prototype;
k.Id=function(a,b){var c=a.localName,d=null;if("FeatureCollection"==c)"http://www.opengis.net/wfs"===a.namespaceURI?d=N([],this.b,a,b,this):d=N(null,this.b,a,b,this);else if("featureMembers"==c||"featureMember"==c){var e=b[0],f=e.featureType,g=e.featureNS,h,l;if(!f&&a.childNodes){f=[];g={};h=0;for(l=a.childNodes.length;h<l;++h){var m=a.childNodes[h];if(1===m.nodeType){var p=m.nodeName.split(":").pop();if(-1===f.indexOf(p)){var n="",q=0,m=m.namespaceURI,r;for(r in g){if(g[r]===m){n=r;break}++q}n||
(n="p"+q,g[n]=m);f.push(n+":"+p)}}}"featureMember"!=c&&(e.featureType=f,e.featureNS=g)}"string"===typeof g&&(h=g,g={},g.p0=h);var e={},f=Array.isArray(f)?f:[f],u;for(u in g){p={};h=0;for(l=f.length;h<l;++h)(-1===f[h].indexOf(":")?"p0":f[h].split(":")[0])===u&&(p[f[h].split(":").pop()]="featureMembers"==c?Rn(this.Rf,this):Sn(this.Rf,this));e[g[u]]=p}"featureMember"==c?d=N(void 0,e,a,b):d=N([],e,a,b)}null===d&&(d=[]);return d};
k.Ee=function(a,b){var c=b[0];c.srsName=a.firstElementChild.getAttribute("srsName");var d=N(null,this.lg,a,b,this);if(d)return go(d,!1,c)};
k.Rf=function(a,b){var c,d;(d=a.getAttribute("fid"))||(d=a.getAttributeNS("http://www.opengis.net/gml","id")||"");var e={},f;for(c=a.firstElementChild;c;c=c.nextElementSibling){var g=c.localName;if(0===c.childNodes.length||1===c.childNodes.length&&(3===c.firstChild.nodeType||4===c.firstChild.nodeType)){var h=Ln(c,!1);hp.test(h)&&(h=void 0);e[g]=h}else"boundedBy"!==g&&(f=g),e[g]=this.Ee(c,b)}c=new J(e);f&&c.Nc(f);d&&c.cc(d);return c};
k.hi=function(a,b){var c=this.De(a,b);if(c){var d=new C(null);d.da("XYZ",c);return d}};k.fi=function(a,b){var c=N([],this.cj,a,b,this);if(c)return new R(c)};k.ei=function(a,b){var c=N([],this.bj,a,b,this);if(c){var d=new Q(null);mo(d,c);return d}};k.gi=function(a,b){var c=N([],this.dj,a,b,this);if(c){var d=new S(null);oo(d,c);return d}};k.Yh=function(a,b){Zn(this.gj,a,b,this)};k.dh=function(a,b){Zn(this.$i,a,b,this)};k.Zh=function(a,b){Zn(this.hj,a,b,this)};
k.Fe=function(a,b){var c=this.De(a,b);if(c){var d=new P(null);d.da("XYZ",c);return d}};k.Do=function(a,b){var c=N(null,this.Qd,a,b,this);if(c)return c};k.di=function(a,b){var c=this.De(a,b);if(c){var d=new md(null);nd(d,"XYZ",c);return d}};k.Ge=function(a,b){var c=N([null],this.We,a,b,this);if(c&&c[0]){var d=new E(null),e=c[0],f=[e.length],g,h;g=1;for(h=c.length;g<h;++g)bb(e,c[g]),f.push(e.length);d.da("XYZ",e,f);return d}};k.De=function(a,b){return N(null,this.Qd,a,b,this)};
k.cj={"http://www.opengis.net/gml":{pointMember:Rn(gp.prototype.Yh),pointMembers:Rn(gp.prototype.Yh)}};k.bj={"http://www.opengis.net/gml":{lineStringMember:Rn(gp.prototype.dh),lineStringMembers:Rn(gp.prototype.dh)}};k.dj={"http://www.opengis.net/gml":{polygonMember:Rn(gp.prototype.Zh),polygonMembers:Rn(gp.prototype.Zh)}};k.gj={"http://www.opengis.net/gml":{Point:Rn(gp.prototype.De)}};k.$i={"http://www.opengis.net/gml":{LineString:Rn(gp.prototype.Fe)}};k.hj={"http://www.opengis.net/gml":{Polygon:Rn(gp.prototype.Ge)}};
k.Rd={"http://www.opengis.net/gml":{LinearRing:Sn(gp.prototype.Do)}};k.oc=function(a,b){var c={featureType:this.featureType,featureNS:this.featureNS};b&&ta(c,eo(this,a,b));return this.Id(a,[c])||[]};k.He=function(a){return zc(this.srsName?this.srsName:a.firstElementChild.getAttribute("srsName"))};function ip(a){a=Ln(a,!1);return jp(a)}function jp(a){if(a=/^\s*(true|1)|(false|0)\s*$/.exec(a))return void 0!==a[1]||!1}function kp(a){a=Ln(a,!1);a=Date.parse(a);return isNaN(a)?void 0:a/1E3}function lp(a){a=Ln(a,!1);return mp(a)}function mp(a){if(a=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(a))return parseFloat(a[1])}function np(a){a=Ln(a,!1);return op(a)}function op(a){if(a=/^\s*(\d+)\s*$/.exec(a))return parseInt(a[1],10)}function T(a){return Ln(a,!1).trim()}
function pp(a,b){qp(a,b?"1":"0")}function rp(a,b){a.appendChild(Jn.createTextNode(b.toPrecision()))}function sp(a,b){a.appendChild(Jn.createTextNode(b.toString()))}function qp(a,b){a.appendChild(Jn.createTextNode(b))};function tp(a){a=a?a:{};gp.call(this,a);this.v=void 0!==a.surface?a.surface:!1;this.i=void 0!==a.curve?a.curve:!1;this.l=void 0!==a.multiCurve?a.multiCurve:!0;this.o=void 0!==a.multiSurface?a.multiSurface:!0;this.schemaLocation=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd"}v(tp,gp);k=tp.prototype;k.Ho=function(a,b){var c=N([],this.aj,a,b,this);if(c){var d=new Q(null);mo(d,c);return d}};
k.Io=function(a,b){var c=N([],this.ej,a,b,this);if(c){var d=new S(null);oo(d,c);return d}};k.Cg=function(a,b){Zn(this.Xi,a,b,this)};k.Gi=function(a,b){Zn(this.lj,a,b,this)};k.Lo=function(a,b){return N([null],this.fj,a,b,this)};k.Oo=function(a,b){return N([null],this.kj,a,b,this)};k.Mo=function(a,b){return N([null],this.We,a,b,this)};k.Go=function(a,b){return N([null],this.Qd,a,b,this)};k.ql=function(a,b){var c=N(void 0,this.Rd,a,b,this);c&&b[b.length-1].push(c)};
k.Oj=function(a,b){var c=N(void 0,this.Rd,a,b,this);c&&(b[b.length-1][0]=c)};k.ji=function(a,b){var c=N([null],this.mj,a,b,this);if(c&&c[0]){var d=new E(null),e=c[0],f=[e.length],g,h;g=1;for(h=c.length;g<h;++g)bb(e,c[g]),f.push(e.length);d.da("XYZ",e,f);return d}};k.$h=function(a,b){var c=N([null],this.Yi,a,b,this);if(c){var d=new P(null);d.da("XYZ",c);return d}};k.Co=function(a,b){var c=N([null],this.Zi,a,b,this);return Rb(c[1][0],c[1][1],c[2][0],c[2][1])};
k.Eo=function(a,b){for(var c=Ln(a,!1),d=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,e=[],f;f=d.exec(c);)e.push(parseFloat(f[1])),c=c.substr(f[0].length);if(""===c){c=b[0].srsName;d="enu";c&&(d=zc(c).b);if("neu"===d)for(c=0,d=e.length;c<d;c+=3)f=e[c],e[c]=e[c+1],e[c+1]=f;c=e.length;2==c&&e.push(0);return 0===c?void 0:e}};
k.Vf=function(a,b){var c=Ln(a,!1).replace(/^\s*|\s*$/g,""),d=b[0].srsName,e=a.parentNode.getAttribute("srsDimension"),f="enu";d&&(f=zc(d).b);c=c.split(/\s+/);d=2;a.getAttribute("srsDimension")?d=op(a.getAttribute("srsDimension")):a.getAttribute("dimension")?d=op(a.getAttribute("dimension")):e&&(d=op(e));for(var g,h,l=[],m=0,p=c.length;m<p;m+=d)e=parseFloat(c[m]),g=parseFloat(c[m+1]),h=3===d?parseFloat(c[m+2]):0,"en"===f.substr(0,2)?l.push(e,g,h):l.push(g,e,h);return l};
k.Qd={"http://www.opengis.net/gml":{pos:Sn(tp.prototype.Eo),posList:Sn(tp.prototype.Vf)}};k.We={"http://www.opengis.net/gml":{interior:tp.prototype.ql,exterior:tp.prototype.Oj}};
k.lg={"http://www.opengis.net/gml":{Point:Sn(gp.prototype.hi),MultiPoint:Sn(gp.prototype.fi),LineString:Sn(gp.prototype.Fe),MultiLineString:Sn(gp.prototype.ei),LinearRing:Sn(gp.prototype.di),Polygon:Sn(gp.prototype.Ge),MultiPolygon:Sn(gp.prototype.gi),Surface:Sn(tp.prototype.ji),MultiSurface:Sn(tp.prototype.Io),Curve:Sn(tp.prototype.$h),MultiCurve:Sn(tp.prototype.Ho),Envelope:Sn(tp.prototype.Co)}};k.aj={"http://www.opengis.net/gml":{curveMember:Rn(tp.prototype.Cg),curveMembers:Rn(tp.prototype.Cg)}};
k.ej={"http://www.opengis.net/gml":{surfaceMember:Rn(tp.prototype.Gi),surfaceMembers:Rn(tp.prototype.Gi)}};k.Xi={"http://www.opengis.net/gml":{LineString:Rn(gp.prototype.Fe),Curve:Rn(tp.prototype.$h)}};k.lj={"http://www.opengis.net/gml":{Polygon:Rn(gp.prototype.Ge),Surface:Rn(tp.prototype.ji)}};k.mj={"http://www.opengis.net/gml":{patches:Sn(tp.prototype.Lo)}};k.Yi={"http://www.opengis.net/gml":{segments:Sn(tp.prototype.Oo)}};k.Zi={"http://www.opengis.net/gml":{lowerCorner:Rn(tp.prototype.Vf),upperCorner:Rn(tp.prototype.Vf)}};
k.fj={"http://www.opengis.net/gml":{PolygonPatch:Sn(tp.prototype.Mo)}};k.kj={"http://www.opengis.net/gml":{LineStringSegment:Sn(tp.prototype.Go)}};function up(a,b,c){c=c[c.length-1].srsName;b=b.$();for(var d=b.length,e=Array(d),f,g=0;g<d;++g){f=b[g];var h=g,l="enu";c&&(l=zc(c).b);e[h]="en"===l.substr(0,2)?f[0]+" "+f[1]:f[1]+" "+f[0]}qp(a,e.join(" "))}
k.Ti=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);d=Kn(a.namespaceURI,"pos");a.appendChild(d);c=c[c.length-1].srsName;a="enu";c&&(a=zc(c).b);b=b.$();qp(d,"en"===a.substr(0,2)?b[0]+" "+b[1]:b[1]+" "+b[0])};var vp={"http://www.opengis.net/gml":{lowerCorner:L(qp),upperCorner:L(qp)}};k=tp.prototype;k.zp=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);$n({node:a},vp,Xn,[b[0]+" "+b[1],b[2]+" "+b[3]],c,["lowerCorner","upperCorner"],this)};
k.Qi=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);d=Kn(a.namespaceURI,"posList");a.appendChild(d);up(d,b,c)};k.jj=function(a,b){var c=b[b.length-1],d=c.node,e=c.exteriorWritten;void 0===e&&(c.exteriorWritten=!0);return Kn(d.namespaceURI,void 0!==e?"interior":"exterior")};
k.Ue=function(a,b,c){var d=c[c.length-1].srsName;"PolygonPatch"!==a.nodeName&&d&&a.setAttribute("srsName",d);"Polygon"===a.nodeName||"PolygonPatch"===a.nodeName?(b=b.Zc(),$n({node:a,srsName:d},wp,this.jj,b,c,void 0,this)):"Surface"===a.nodeName&&(d=Kn(a.namespaceURI,"patches"),a.appendChild(d),a=Kn(d.namespaceURI,"PolygonPatch"),d.appendChild(a),this.Ue(a,b,c))};
k.Qe=function(a,b,c){var d=c[c.length-1].srsName;"LineStringSegment"!==a.nodeName&&d&&a.setAttribute("srsName",d);"LineString"===a.nodeName||"LineStringSegment"===a.nodeName?(d=Kn(a.namespaceURI,"posList"),a.appendChild(d),up(d,b,c)):"Curve"===a.nodeName&&(d=Kn(a.namespaceURI,"segments"),a.appendChild(d),a=Kn(d.namespaceURI,"LineStringSegment"),d.appendChild(a),this.Qe(a,b,c))};
k.Si=function(a,b,c){var d=c[c.length-1],e=d.srsName,d=d.surface;e&&a.setAttribute("srsName",e);b=b.Ad();$n({node:a,srsName:e,surface:d},xp,this.c,b,c,void 0,this)};k.Ap=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);b=b.re();$n({node:a,srsName:d},yp,Vn("pointMember"),b,c,void 0,this)};k.Ri=function(a,b,c){var d=c[c.length-1],e=d.srsName,d=d.curve;e&&a.setAttribute("srsName",e);b=b.Yc();$n({node:a,srsName:e,curve:d},zp,this.c,b,c,void 0,this)};
k.Ui=function(a,b,c){var d=Kn(a.namespaceURI,"LinearRing");a.appendChild(d);this.Qi(d,b,c)};k.Vi=function(a,b,c){var d=this.g(b,c);d&&(a.appendChild(d),this.Ue(d,b,c))};k.Bp=function(a,b,c){var d=Kn(a.namespaceURI,"Point");a.appendChild(d);this.Ti(d,b,c)};k.Pi=function(a,b,c){var d=this.g(b,c);d&&(a.appendChild(d),this.Qe(d,b,c))};
k.pd=function(a,b,c){var d=c[c.length-1],e=ta({},d);e.node=a;var f;Array.isArray(b)?d.dataProjection?f=Qc(b,d.featureProjection,d.dataProjection):f=b:f=go(b,!0,d);$n(e,Ap,this.g,[f],c,void 0,this)};
k.Ni=function(a,b,c){var d=b.f;d&&a.setAttribute("fid",d);var d=c[c.length-1],e=d.featureNS,f=b.a;d.Mc||(d.Mc={},d.Mc[e]={});var g=b.R();b=[];var h=[],l;for(l in g){var m=g[l];null!==m&&(b.push(l),h.push(m),l==f||m instanceof Rc?l in d.Mc[e]||(d.Mc[e][l]=L(this.pd,this)):l in d.Mc[e]||(d.Mc[e][l]=L(qp)))}l=ta({},d);l.node=a;$n(l,d.Mc,Vn(void 0,e),h,c,b)};
var xp={"http://www.opengis.net/gml":{surfaceMember:L(tp.prototype.Vi),polygonMember:L(tp.prototype.Vi)}},yp={"http://www.opengis.net/gml":{pointMember:L(tp.prototype.Bp)}},zp={"http://www.opengis.net/gml":{lineStringMember:L(tp.prototype.Pi),curveMember:L(tp.prototype.Pi)}},wp={"http://www.opengis.net/gml":{exterior:L(tp.prototype.Ui),interior:L(tp.prototype.Ui)}},Ap={"http://www.opengis.net/gml":{Curve:L(tp.prototype.Qe),MultiCurve:L(tp.prototype.Ri),Point:L(tp.prototype.Ti),MultiPoint:L(tp.prototype.Ap),
LineString:L(tp.prototype.Qe),MultiLineString:L(tp.prototype.Ri),LinearRing:L(tp.prototype.Qi),Polygon:L(tp.prototype.Ue),MultiPolygon:L(tp.prototype.Si),Surface:L(tp.prototype.Ue),MultiSurface:L(tp.prototype.Si),Envelope:L(tp.prototype.zp)}},Bp={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};tp.prototype.c=function(a,b){return Kn("http://www.opengis.net/gml",Bp[b[b.length-1].node.nodeName])};
tp.prototype.g=function(a,b){var c=b[b.length-1],d=c.multiSurface,e=c.surface,f=c.curve,c=c.multiCurve,g;Array.isArray(a)?g="Envelope":(g=a.Y(),"MultiPolygon"===g&&!0===d?g="MultiSurface":"Polygon"===g&&!0===e?g="Surface":"LineString"===g&&!0===f?g="Curve":"MultiLineString"===g&&!0===c&&(g="MultiCurve"));return Kn("http://www.opengis.net/gml",g)};
tp.prototype.H=function(a,b){b=fo(this,b);var c=Kn("http://www.opengis.net/gml","geom"),d={node:c,srsName:this.srsName,curve:this.i,surface:this.v,multiSurface:this.o,multiCurve:this.l};b&&ta(d,b);this.pd(c,a,[d]);return c};
tp.prototype.a=function(a,b){b=fo(this,b);var c=Kn("http://www.opengis.net/gml","featureMembers");c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var d={srsName:this.srsName,curve:this.i,surface:this.v,multiSurface:this.o,multiCurve:this.l,featureNS:this.featureNS,featureType:this.featureType};b&&ta(d,b);var d=[d],e=d[d.length-1],f=e.featureType,g=e.featureNS,h={};h[g]={};h[g][f]=L(this.Ni,this);e=ta({},e);e.node=c;$n(e,h,Vn(f,g),a,d);return c};function Cp(a){a=a?a:{};gp.call(this,a);this.b["http://www.opengis.net/gml"].featureMember=Rn(gp.prototype.Id);this.schemaLocation=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}v(Cp,gp);k=Cp.prototype;
k.bi=function(a,b){var c=Ln(a,!1).replace(/^\s*|\s*$/g,""),d=b[0].srsName,e=a.parentNode.getAttribute("srsDimension"),f="enu";d&&(d=zc(d))&&(f=d.b);c=c.split(/[\s,]+/);d=2;a.getAttribute("srsDimension")?d=op(a.getAttribute("srsDimension")):a.getAttribute("dimension")?d=op(a.getAttribute("dimension")):e&&(d=op(e));for(var g,h,l=[],m=0,p=c.length;m<p;m+=d)e=parseFloat(c[m]),g=parseFloat(c[m+1]),h=3===d?parseFloat(c[m+2]):0,"en"===f.substr(0,2)?l.push(e,g,h):l.push(g,e,h);return l};
k.Ao=function(a,b){var c=N([null],this.Wi,a,b,this);return Rb(c[1][0],c[1][1],c[1][3],c[1][4])};k.ol=function(a,b){var c=N(void 0,this.Rd,a,b,this);c&&b[b.length-1].push(c)};k.jo=function(a,b){var c=N(void 0,this.Rd,a,b,this);c&&(b[b.length-1][0]=c)};k.Qd={"http://www.opengis.net/gml":{coordinates:Sn(Cp.prototype.bi)}};k.We={"http://www.opengis.net/gml":{innerBoundaryIs:Cp.prototype.ol,outerBoundaryIs:Cp.prototype.jo}};k.Wi={"http://www.opengis.net/gml":{coordinates:Rn(Cp.prototype.bi)}};
k.lg={"http://www.opengis.net/gml":{Point:Sn(gp.prototype.hi),MultiPoint:Sn(gp.prototype.fi),LineString:Sn(gp.prototype.Fe),MultiLineString:Sn(gp.prototype.ei),LinearRing:Sn(gp.prototype.di),Polygon:Sn(gp.prototype.Ge),MultiPolygon:Sn(gp.prototype.gi),Box:Sn(Cp.prototype.Ao)}};function Dp(a){a=a?a:{};dp.call(this);this.defaultDataProjection=zc("EPSG:4326");this.b=a.readExtensions}v(Dp,dp);var Ep=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];function Fp(a,b,c,d){a.push(parseFloat(c.getAttribute("lon")),parseFloat(c.getAttribute("lat")));"ele"in d?(a.push(d.ele),delete d.ele,b.hasZ=!0):a.push(0);"time"in d?(a.push(d.time),delete d.time,b.hasM=!0):a.push(0);return a}
function Gp(a,b,c){var d="XY",e=2;a.hasZ&&a.hasM?(d="XYZM",e=4):a.hasZ?(d="XYZ",e=3):a.hasM&&(d="XYM",e=3);if(4!==e){var f,g;f=0;for(g=b.length/4;f<g;f++)b[f*e]=b[4*f],b[f*e+1]=b[4*f+1],a.hasZ&&(b[f*e+2]=b[4*f+2]),a.hasM&&(b[f*e+2]=b[4*f+3]);b.length=b.length/4*e;if(c)for(f=0,g=c.length;f<g;f++)c[f]=c[f]/4*e}return d}function Hp(a,b){var c=b[b.length-1],d=a.getAttribute("href");null!==d&&(c.link=d);Zn(Ip,a,b)}function Jp(a,b){b[b.length-1].extensionsNode_=a}
function Kp(a,b){var c=b[0],d=N({flatCoordinates:[],layoutOptions:{}},Lp,a,b);if(d){var e=d.flatCoordinates;delete d.flatCoordinates;var f=d.layoutOptions;delete d.layoutOptions;var f=Gp(f,e),g=new P(null);g.da(f,e);go(g,!1,c);c=new J(g);c.I(d);return c}}
function Mp(a,b){var c=b[0],d=N({flatCoordinates:[],ends:[],layoutOptions:{}},Np,a,b);if(d){var e=d.flatCoordinates;delete d.flatCoordinates;var f=d.ends;delete d.ends;var g=d.layoutOptions;delete d.layoutOptions;var g=Gp(g,e,f),h=new Q(null);h.da(g,e,f);go(h,!1,c);c=new J(h);c.I(d);return c}}function Op(a,b){var c=b[0],d=N({},Pp,a,b);if(d){var e={},f=Fp([],e,a,d),e=Gp(e,f),f=new C(f,e);go(f,!1,c);c=new J(f);c.I(d);return c}}
var Qp={rte:Kp,trk:Mp,wpt:Op},Rp=M(Ep,{rte:Rn(Kp),trk:Rn(Mp),wpt:Rn(Op)}),Ip=M(Ep,{text:K(T,"linkText"),type:K(T,"linkType")}),Lp=M(Ep,{name:K(T),cmt:K(T),desc:K(T),src:K(T),link:Hp,number:K(np),extensions:Jp,type:K(T),rtept:function(a,b){var c=N({},Sp,a,b);if(c){var d=b[b.length-1];Fp(d.flatCoordinates,d.layoutOptions,a,c)}}}),Sp=M(Ep,{ele:K(lp),time:K(kp)}),Np=M(Ep,{name:K(T),cmt:K(T),desc:K(T),src:K(T),link:Hp,number:K(np),type:K(T),extensions:Jp,trkseg:function(a,b){var c=b[b.length-1];Zn(Tp,
a,b);c.ends.push(c.flatCoordinates.length)}}),Tp=M(Ep,{trkpt:function(a,b){var c=N({},Up,a,b);if(c){var d=b[b.length-1];Fp(d.flatCoordinates,d.layoutOptions,a,c)}}}),Up=M(Ep,{ele:K(lp),time:K(kp)}),Pp=M(Ep,{ele:K(lp),time:K(kp),magvar:K(lp),geoidheight:K(lp),name:K(T),cmt:K(T),desc:K(T),src:K(T),link:Hp,sym:K(T),type:K(T),fix:K(T),sat:K(np),hdop:K(lp),vdop:K(lp),pdop:K(lp),ageofdgpsdata:K(lp),dgpsid:K(np),extensions:Jp});
function Vp(a,b){b||(b=[]);for(var c=0,d=b.length;c<d;++c){var e=b[c];if(a.b){var f=e.get("extensionsNode_")||null;a.b(e,f)}e.set("extensionsNode_",void 0)}}Dp.prototype.ai=function(a,b){if(!Za(Ep,a.namespaceURI))return null;var c=Qp[a.localName];if(!c)return null;c=c(a,[eo(this,a,b)]);if(!c)return null;Vp(this,[c]);return c};Dp.prototype.oc=function(a,b){if(!Za(Ep,a.namespaceURI))return[];if("gpx"==a.localName){var c=N([],Rp,a,[eo(this,a,b)]);if(c)return Vp(this,c),c}return[]};
function Wp(a,b,c){a.setAttribute("href",b);b=c[c.length-1].properties;$n({node:a},Xp,Xn,[b.linkText,b.linkType],c,Yp)}function Zp(a,b,c){var d=c[c.length-1],e=d.node.namespaceURI,f=d.properties;a.setAttributeNS(null,"lat",b[1]);a.setAttributeNS(null,"lon",b[0]);switch(d.geometryLayout){case "XYZM":0!==b[3]&&(f.time=b[3]);case "XYZ":0!==b[2]&&(f.ele=b[2]);break;case "XYM":0!==b[2]&&(f.time=b[2])}b="rtept"==a.nodeName?$p[e]:aq[e];d=Yn(f,b);$n({node:a,properties:f},bq,Xn,d,c,b)}
var Yp=["text","type"],Xp=M(Ep,{text:L(qp),type:L(qp)}),cq=M(Ep,"name cmt desc src link number type rtept".split(" ")),dq=M(Ep,{name:L(qp),cmt:L(qp),desc:L(qp),src:L(qp),link:L(Wp),number:L(sp),type:L(qp),rtept:Un(L(Zp))}),$p=M(Ep,["ele","time"]),eq=M(Ep,"name cmt desc src link number type trkseg".split(" ")),hq=M(Ep,{name:L(qp),cmt:L(qp),desc:L(qp),src:L(qp),link:L(Wp),number:L(sp),type:L(qp),trkseg:Un(L(function(a,b,c){$n({node:a,geometryLayout:b.ka,properties:{}},fq,gq,b.$(),c)}))}),gq=Vn("trkpt"),
fq=M(Ep,{trkpt:L(Zp)}),aq=M(Ep,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),bq=M(Ep,{ele:L(rp),time:L(function(a,b){var c=new Date(1E3*b);a.appendChild(Jn.createTextNode(c.getUTCFullYear()+"-"+pb(c.getUTCMonth()+1)+"-"+pb(c.getUTCDate())+"T"+pb(c.getUTCHours())+":"+pb(c.getUTCMinutes())+":"+pb(c.getUTCSeconds())+"Z"))}),magvar:L(rp),geoidheight:L(rp),name:L(qp),cmt:L(qp),desc:L(qp),src:L(qp),link:L(Wp),sym:L(qp),type:L(qp),fix:L(qp),
sat:L(sp),hdop:L(rp),vdop:L(rp),pdop:L(rp),ageofdgpsdata:L(rp),dgpsid:L(sp)}),iq={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function jq(a,b){var c=a.V();if(c&&(c=iq[c.Y()]))return Kn(b[b.length-1].node.namespaceURI,c)}
var kq=M(Ep,{rte:L(function(a,b,c){var d=c[0],e=b.R();a={node:a,properties:e};if(b=b.V())b=go(b,!0,d),a.geometryLayout=b.ka,e.rtept=b.$();d=cq[c[c.length-1].node.namespaceURI];e=Yn(e,d);$n(a,dq,Xn,e,c,d)}),trk:L(function(a,b,c){var d=c[0],e=b.R();a={node:a,properties:e};if(b=b.V())b=go(b,!0,d),e.trkseg=b.Yc();d=eq[c[c.length-1].node.namespaceURI];e=Yn(e,d);$n(a,hq,Xn,e,c,d)}),wpt:L(function(a,b,c){var d=c[0],e=c[c.length-1];e.properties=b.R();if(b=b.V())b=go(b,!0,d),e.geometryLayout=b.ka,Zp(a,b.$(),
c)})});Dp.prototype.a=function(a,b){b=fo(this,b);var c=Kn("http://www.topografix.com/GPX/1/1","gpx");c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance");c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd");c.setAttribute("version","1.1");c.setAttribute("creator","OpenLayers 3");$n({node:c},kq,jq,a,[b]);return c};function lq(){co.call(this)}v(lq,co);function mq(a){return"string"===typeof a?a:""}k=lq.prototype;k.Y=function(){return"text"};k.bc=function(a,b){return this.Hd(mq(a),fo(this,b))};k.La=function(a,b){return this.Tf(mq(a),fo(this,b))};k.hd=function(a,b){return this.Jd(mq(a),fo(this,b))};k.Wa=function(){return this.defaultDataProjection};k.Od=function(a,b){return this.Re(a,fo(this,b))};k.ec=function(a,b){return this.Oi(a,fo(this,b))};k.od=function(a,b){return this.Pd(a,fo(this,b))};function nq(a){a=a?a:{};co.call(this);this.defaultDataProjection=zc("EPSG:4326");this.b=a.altitudeMode?a.altitudeMode:oq}v(nq,lq);var pq=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,qq=/^H.([A-Z]{3}).*?:(.*)/,rq=/^HFDTE(\d{2})(\d{2})(\d{2})/,sq=/\r\n|\r|\n/;
nq.prototype.Hd=function(a,b){var c=this.b,d=a.split(sq),e={},f=[],g=2E3,h=0,l=1,m=-1,p,n;p=0;for(n=d.length;p<n;++p){var q=d[p],r;if("B"==q.charAt(0)){if(r=pq.exec(q)){var q=parseInt(r[1],10),u=parseInt(r[2],10),w=parseInt(r[3],10),y=parseInt(r[4],10)+parseInt(r[5],10)/6E4;"S"==r[6]&&(y=-y);var z=parseInt(r[7],10)+parseInt(r[8],10)/6E4;"W"==r[9]&&(z=-z);f.push(z,y);c!=oq&&f.push(c==tq?parseInt(r[11],10):c==uq?parseInt(r[12],10):0);r=Date.UTC(g,h,l,q,u,w);r<m&&(r=Date.UTC(g,h,l+1,q,u,w));f.push(r/
1E3);m=r}}else"H"==q.charAt(0)&&((r=rq.exec(q))?(l=parseInt(r[1],10),h=parseInt(r[2],10)-1,g=2E3+parseInt(r[3],10)):(r=qq.exec(q))&&(e[r[1]]=r[2].trim()))}if(0===f.length)return null;d=new P(null);d.da(c==oq?"XYM":"XYZM",f);c=new J(go(d,!1,b));c.I(e);return c};nq.prototype.Tf=function(a,b){var c=this.Hd(a,b);return c?[c]:[]};var uq="barometric",tq="gps",oq="none";function vq(a,b,c,d,e,f){Na.call(this);this.l=null;this.a=a?a:new Image;null!==d&&(this.a.crossOrigin=d);this.c=f?document.createElement("CANVAS"):null;this.j=f;this.i=null;this.f=e;this.g=c;this.o=b;this.v=!1;this.f==li&&wq(this)}v(vq,Na);function wq(a){var b=De(1,1);try{b.drawImage(a.a,0,0),b.getImageData(0,0,1,1)}catch(c){a.v=!0}}vq.prototype.H=function(){this.f=ki;this.i.forEach(ya);this.i=null;this.b("change")};
vq.prototype.u=function(){this.f=li;this.g&&(this.a.width=this.g[0],this.a.height=this.g[1]);this.g=[this.a.width,this.a.height];this.i.forEach(ya);this.i=null;wq(this);if(!this.v&&null!==this.j){this.c.width=this.a.width;this.c.height=this.a.height;var a=this.c.getContext("2d");a.drawImage(this.a,0,0);for(var b=a.getImageData(0,0,this.a.width,this.a.height),c=b.data,d=this.j[0]/255,e=this.j[1]/255,f=this.j[2]/255,g=0,h=c.length;g<h;g+=4)c[g]*=d,c[g+1]*=e,c[g+2]*=f;a.putImageData(b,0,0)}this.b("change")};
vq.prototype.load=function(){if(this.f==ji){this.f=mi;this.i=[Da(this.a,"error",this.H,this),Da(this.a,"load",this.u,this)];try{this.a.src=this.o}catch(a){this.H()}}};function xq(a){a=a||{};this.c=void 0!==a.anchor?a.anchor:[.5,.5];this.j=null;this.a=void 0!==a.anchorOrigin?a.anchorOrigin:yq;this.C=void 0!==a.anchorXUnits?a.anchorXUnits:zq;this.D=void 0!==a.anchorYUnits?a.anchorYUnits:zq;this.ra=void 0!==a.crossOrigin?a.crossOrigin:null;var b=void 0!==a.img?a.img:null,c=void 0!==a.imgSize?a.imgSize:null,d=a.src;ha(!(void 0!==d&&b),4);ha(!b||b&&c,5);void 0!==d&&0!==d.length||!b||(d=b.src||x(b).toString());ha(void 0!==d&&0<d.length,6);var e=void 0!==a.src?ji:li;
this.f=void 0!==a.color?ye(a.color):null;var f=this.ra,g=this.f,h=Nh.get(d,f,g);h||(h=new vq(b,d,c,f,e,g),Nh.set(d,f,g,h));this.b=h;this.L=void 0!==a.offset?a.offset:[0,0];this.g=void 0!==a.offsetOrigin?a.offsetOrigin:yq;this.v=null;this.A=void 0!==a.size?a.size:null;ri.call(this,{opacity:void 0!==a.opacity?a.opacity:1,rotation:void 0!==a.rotation?a.rotation:0,scale:void 0!==a.scale?a.scale:1,snapToPixel:void 0!==a.snapToPixel?a.snapToPixel:!0,rotateWithView:void 0!==a.rotateWithView?a.rotateWithView:
!1})}v(xq,ri);k=xq.prototype;
k.clone=function(){var a=this.Ic(1),b;if(this.b.f===li)if("IMG"===a.tagName.toUpperCase())b=a.cloneNode(!0);else{b=document.createElement("canvas");var c=b.getContext("2d");b.width=a.width;b.height=a.height;c.drawImage(a,0,0)}return new xq({anchor:this.c.slice(),anchorOrigin:this.a,anchorXUnits:this.C,anchorYUnits:this.D,crossOrigin:this.ra,color:this.f&&this.f.slice?this.f.slice():this.f||void 0,img:b?b:void 0,imgSize:b?this.b.g.slice():void 0,src:b?void 0:this.b.o,offset:this.L.slice(),offsetOrigin:this.g,
size:null!==this.A?this.A.slice():void 0,opacity:this.l,scale:this.i,snapToPixel:this.u,rotation:this.o,rotateWithView:this.H})};k.Ac=function(){if(this.j)return this.j;var a=this.c,b=this.ac();if(this.C==zq||this.D==zq){if(!b)return null;a=this.c.slice();this.C==zq&&(a[0]*=b[0]);this.D==zq&&(a[1]*=b[1])}if(this.a!=yq){if(!b)return null;a===this.c&&(a=this.c.slice());if(this.a==Aq||this.a==Bq)a[0]=-a[0]+b[0];if(this.a==Cq||this.a==Bq)a[1]=-a[1]+b[1]}return this.j=a};k.Gn=function(){return this.f};
k.Ic=function(){var a=this.b;return a.c?a.c:a.a};k.de=function(){return this.b.g};k.xe=function(){return this.b.f};k.Lf=function(){var a=this.b;if(!a.l)if(a.v){var b=a.g[0],c=a.g[1],d=De(b,c);d.fillRect(0,0,b,c);a.l=d.canvas}else a.l=a.a;return a.l};k.Jc=function(){if(this.v)return this.v;var a=this.L;if(this.g!=yq){var b=this.ac(),c=this.b.g;if(!b||!c)return null;a=a.slice();if(this.g==Aq||this.g==Bq)a[0]=c[0]-b[0]-a[0];if(this.g==Cq||this.g==Bq)a[1]=c[1]-b[1]-a[1]}return this.v=a};k.Hn=function(){return this.b.o};
k.ac=function(){return this.A?this.A:this.b.g};k.eh=function(a,b){return B(this.b,"change",a,b)};k.load=function(){this.b.load()};k.Ii=function(a,b){Ea(this.b,"change",a,b)};var zq="fraction",Cq="bottom-left",Bq="bottom-right",yq="top-left",Aq="top-right";function Dq(a){a=a||{};this.g=a.font;this.j=a.rotation;this.v=a.rotateWithView;this.a=a.scale;this.H=a.text;this.l=a.textAlign;this.o=a.textBaseline;this.b=void 0!==a.fill?a.fill:new vi({color:"#333"});this.f=void 0!==a.stroke?a.stroke:null;this.c=void 0!==a.offsetX?a.offsetX:0;this.i=void 0!==a.offsetY?a.offsetY:0}k=Dq.prototype;
k.clone=function(){return new Dq({font:this.g,rotation:this.j,rotateWithView:this.v,scale:this.a,text:this.Ka(),textAlign:this.l,textBaseline:this.o,fill:this.b?this.b.clone():void 0,stroke:this.f?this.f.clone():void 0,offsetX:this.c,offsetY:this.i})};k.dk=function(){return this.g};k.sk=function(){return this.c};k.tk=function(){return this.i};k.Vn=function(){return this.b};k.Wn=function(){return this.v};k.Xn=function(){return this.j};k.Yn=function(){return this.a};k.Zn=function(){return this.f};
k.Ka=function(){return this.H};k.Dk=function(){return this.l};k.Ek=function(){return this.o};k.si=function(a){this.g=a};k.yi=function(a){this.c=a};k.zi=function(a){this.i=a};k.Sh=function(a){this.b=a};k.$n=function(a){this.j=a};k.Th=function(a){this.a=a};k.Uh=function(a){this.f=a};k.Vh=function(a){this.H=a};k.Bi=function(a){this.l=a};k.lp=function(a){this.o=a};function Eq(a){a=a?a:{};dp.call(this);Fq||(Gq=[255,255,255,1],Hq=new vi({color:Gq}),Iq=[20,2],Jq=Kq="pixels",Lq=[64,64],Mq="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",Nq=.5,Oq=new xq({anchor:Iq,anchorOrigin:Cq,anchorXUnits:Kq,anchorYUnits:Jq,crossOrigin:"anonymous",rotation:0,scale:Nq,size:Lq,src:Mq}),Pq="NO_IMAGE",Qq=new wi({color:Gq,width:1}),Rq=new wi({color:[51,51,51,1],width:2}),Sq=new Dq({font:"bold 16px Helvetica",fill:Hq,stroke:Rq,scale:.8}),Tq=new xi({fill:Hq,image:Oq,
text:Sq,stroke:Qq,zIndex:0}),Fq=[Tq]);this.defaultDataProjection=zc("EPSG:4326");this.g=a.defaultStyle?a.defaultStyle:Fq;this.c=void 0!==a.extractStyles?a.extractStyles:!0;this.l=void 0!==a.writeStyles?a.writeStyles:!0;this.b={};this.i=void 0!==a.showPointNames?a.showPointNames:!0}var Fq,Gq,Hq,Iq,Kq,Jq,Lq,Mq,Nq,Oq,Pq,Qq,Rq,Sq,Tq;v(Eq,dp);
var Uq=["http://www.google.com/kml/ext/2.2"],Vq=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],Wq={fraction:zq,pixels:"pixels"};
function Xq(a,b){var c,d=[0,0],e="start";a.a&&(c=a.a.de(),null===c&&(c=Lq),2==c.length&&(e=a.a.i,d[0]=e*c[0]/2,d[1]=-e*c[1]/2,e="left"));if(null!==a.Ka()){var f=a.Ka();c=f.clone();c.si(f.g||Sq.g);c.Th(f.a||Sq.a);c.Sh(f.b||Sq.b);c.Uh(f.f||Rq)}else c=Sq.clone();c.Vh(b);c.yi(d[0]);c.zi(d[1]);c.Bi(e);return new xi({text:c})}
function Yq(a,b,c,d,e){return function(){var f=e,g="";f&&this.V()&&(f="Point"===this.V().Y());f&&(g=this.get("name"),f=f&&g);if(a)return f?(f=Xq(a[0],g),a.concat(f)):a;if(b){var h=Zq(b,c,d);return f?(f=Xq(h[0],g),h.concat(f)):h}return f?(f=Xq(c[0],g),c.concat(f)):c}}function Zq(a,b,c){return Array.isArray(a)?a:"string"===typeof a?(!(a in c)&&"#"+a in c&&(a="#"+a),Zq(c[a],b,c)):b}
function $q(a){a=Ln(a,!1);if(a=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(a))return a=a[1],[parseInt(a.substr(6,2),16),parseInt(a.substr(4,2),16),parseInt(a.substr(2,2),16),parseInt(a.substr(0,2),16)/255]}function ar(a){a=Ln(a,!1);for(var b=[],c=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i,d;d=c.exec(a);)b.push(parseFloat(d[1]),parseFloat(d[2]),d[3]?parseFloat(d[3]):0),a=a.substr(d[0].length);return""!==a?void 0:b}
function br(a){var b=Ln(a,!1).trim();return a.baseURI?(new URL(b,a.baseURI)).href:b}function cr(a){return lp(a)}function dr(a,b){return N(null,er,a,b)}function fr(a,b){var c=N({B:[],Mi:[]},gr,a,b);if(c){var d=c.B,c=c.Mi,e,f;e=0;for(f=Math.min(d.length,c.length);e<f;++e)d[4*e+3]=c[e];c=new P(null);c.da("XYZM",d);return c}}function hr(a,b){var c=N({},ir,a,b),d=N(null,jr,a,b);if(d){var e=new P(null);e.da("XYZ",d);e.I(c);return e}}
function kr(a,b){var c=N({},ir,a,b),d=N(null,jr,a,b);if(d){var e=new E(null);e.da("XYZ",d,[d.length]);e.I(c);return e}}
function lr(a,b){var c=N([],mr,a,b);if(!c)return null;if(0===c.length)return new Vo(c);var d,e=!0,f=c[0].Y(),g,h,l;h=1;for(l=c.length;h<l;++h)if(g=c[h],g.Y()!=f){e=!1;break}if(e)if("Point"==f){d=c[0];e=d.ka;f=d.ia();h=1;for(l=c.length;h<l;++h)g=c[h],bb(f,g.ia());d=new R(null);d.da(e,f);nr(d,c)}else"LineString"==f?(d=new Q(null),mo(d,c),nr(d,c)):"Polygon"==f?(d=new S(null),oo(d,c),nr(d,c)):"GeometryCollection"==f?d=new Vo(c):ha(!1,37);else d=new Vo(c);return d}
function or(a,b){var c=N({},ir,a,b),d=N(null,jr,a,b);if(d){var e=new C(null);e.da("XYZ",d);e.I(c);return e}}function pr(a,b){var c=N({},ir,a,b),d=N([null],qr,a,b);if(d&&d[0]){var e=new E(null),f=d[0],g=[f.length],h,l;h=1;for(l=d.length;h<l;++h)bb(f,d[h]),g.push(f.length);e.da("XYZ",f,g);e.I(c);return e}}
function rr(a,b){var c=N({},sr,a,b);if(!c)return null;var d="fillStyle"in c?c.fillStyle:Hq,e=c.fill;void 0===e||e||(d=null);e="imageStyle"in c?c.imageStyle:Oq;e==Pq&&(e=void 0);var f="textStyle"in c?c.textStyle:Sq,g="strokeStyle"in c?c.strokeStyle:Qq,c=c.outline;void 0===c||c||(g=null);return[new xi({fill:d,image:e,stroke:g,text:f,zIndex:void 0})]}
function nr(a,b){var c=b.length,d=Array(b.length),e=Array(b.length),f,g,h,l;h=l=!1;for(g=0;g<c;++g)f=b[g],d[g]=f.get("extrude"),e[g]=f.get("altitudeMode"),h=h||void 0!==d[g],l=l||e[g];h&&a.set("extrude",d);l&&a.set("altitudeMode",e)}function tr(a,b){Zn(ur,a,b)}function vr(a,b){Zn(wr,a,b)}
var xr=M(Vq,{displayName:K(T),value:K(T)}),ur=M(Vq,{Data:function(a,b){var c=a.getAttribute("name");Zn(xr,a,b);var d=b[b.length-1];null!==c?d[c]=d.value:null!==d.displayName&&(d[d.displayName]=d.value)},SchemaData:function(a,b){Zn(yr,a,b)}}),wr=M(Vq,{LatLonAltBox:function(a,b){var c=N({},zr,a,b);if(c){var d=b[b.length-1];d.extent=[parseFloat(c.west),parseFloat(c.south),parseFloat(c.east),parseFloat(c.north)];d.altitudeMode=c.altitudeMode;d.minAltitude=parseFloat(c.minAltitude);d.maxAltitude=parseFloat(c.maxAltitude)}},
Lod:function(a,b){var c=N({},Ar,a,b);if(c){var d=b[b.length-1];d.minLodPixels=parseFloat(c.minLodPixels);d.maxLodPixels=parseFloat(c.maxLodPixels);d.minFadeExtent=parseFloat(c.minFadeExtent);d.maxFadeExtent=parseFloat(c.maxFadeExtent)}}}),zr=M(Vq,{altitudeMode:K(T),minAltitude:K(lp),maxAltitude:K(lp),north:K(lp),south:K(lp),east:K(lp),west:K(lp)}),Ar=M(Vq,{minLodPixels:K(lp),maxLodPixels:K(lp),minFadeExtent:K(lp),maxFadeExtent:K(lp)}),ir=M(Vq,{extrude:K(ip),altitudeMode:K(T)}),er=M(Vq,{coordinates:Sn(ar)}),
qr=M(Vq,{innerBoundaryIs:function(a,b){var c=N(void 0,Br,a,b);c&&b[b.length-1].push(c)},outerBoundaryIs:function(a,b){var c=N(void 0,Cr,a,b);c&&(b[b.length-1][0]=c)}}),gr=M(Vq,{when:function(a,b){var c=b[b.length-1].Mi,d=Ln(a,!1),d=Date.parse(d);c.push(isNaN(d)?0:d)}},M(Uq,{coord:function(a,b){var c=b[b.length-1].B,d=Ln(a,!1);(d=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(d))?c.push(parseFloat(d[1]),parseFloat(d[2]),
parseFloat(d[3]),0):c.push(0,0,0,0)}})),jr=M(Vq,{coordinates:Sn(ar)}),Dr=M(Vq,{href:K(br)},M(Uq,{x:K(lp),y:K(lp),w:K(lp),h:K(lp)})),Er=M(Vq,{Icon:K(function(a,b){var c=N({},Dr,a,b);return c?c:null}),heading:K(lp),hotSpot:K(function(a){var b=a.getAttribute("xunits"),c=a.getAttribute("yunits");return{x:parseFloat(a.getAttribute("x")),jg:Wq[b],y:parseFloat(a.getAttribute("y")),kg:Wq[c]}}),scale:K(cr)}),Br=M(Vq,{LinearRing:Sn(dr)}),Fr=M(Vq,{color:K($q),scale:K(cr)}),Gr=M(Vq,{color:K($q),width:K(lp)}),
mr=M(Vq,{LineString:Rn(hr),LinearRing:Rn(kr),MultiGeometry:Rn(lr),Point:Rn(or),Polygon:Rn(pr)}),Hr=M(Uq,{Track:Rn(fr)}),Jr=M(Vq,{ExtendedData:tr,Region:vr,Link:function(a,b){Zn(Ir,a,b)},address:K(T),description:K(T),name:K(T),open:K(ip),phoneNumber:K(T),visibility:K(ip)}),Ir=M(Vq,{href:K(br)}),Cr=M(Vq,{LinearRing:Sn(dr)}),Kr=M(Vq,{Style:K(rr),key:K(T),styleUrl:K(br)}),Mr=M(Vq,{ExtendedData:tr,Region:vr,MultiGeometry:K(lr,"geometry"),LineString:K(hr,"geometry"),LinearRing:K(kr,"geometry"),Point:K(or,
"geometry"),Polygon:K(pr,"geometry"),Style:K(rr),StyleMap:function(a,b){var c=N(void 0,Lr,a,b);if(c){var d=b[b.length-1];Array.isArray(c)?d.Style=c:"string"===typeof c?d.styleUrl=c:ha(!1,38)}},address:K(T),description:K(T),name:K(T),open:K(ip),phoneNumber:K(T),styleUrl:K(br),visibility:K(ip)},M(Uq,{MultiTrack:K(function(a,b){var c=N([],Hr,a,b);if(c){var d=new Q(null);mo(d,c);return d}},"geometry"),Track:K(fr,"geometry")})),Nr=M(Vq,{color:K($q),fill:K(ip),outline:K(ip)}),yr=M(Vq,{SimpleData:function(a,
b){var c=a.getAttribute("name");if(null!==c){var d=T(a);b[b.length-1][c]=d}}}),sr=M(Vq,{IconStyle:function(a,b){var c=N({},Er,a,b);if(c){var d=b[b.length-1],e="Icon"in c?c.Icon:{},f=!("Icon"in c)||0<Object.keys(e).length,g,h=e.href;h?g=h:f&&(g=Mq);var l,m,p;(h=c.hotSpot)?(l=[h.x,h.y],m=h.jg,p=h.kg):g===Mq?(l=Iq,m=Kq,p=Jq):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(g)&&(l=[.5,0],p=m=zq);var n,h=e.x,q=e.y;void 0!==h&&void 0!==q&&(n=[h,q]);var r,h=e.w,e=e.h;void 0!==h&&void 0!==e&&(r=[h,e]);var u,
e=c.heading;void 0!==e&&(u=na(e));c=c.scale;f?(g==Mq&&(r=Lq,void 0===c&&(c=Nq)),f=new xq({anchor:l,anchorOrigin:Cq,anchorXUnits:m,anchorYUnits:p,crossOrigin:"anonymous",offset:n,offsetOrigin:Cq,rotation:u,scale:c,size:r,src:g}),d.imageStyle=f):d.imageStyle=Pq}},LabelStyle:function(a,b){var c=N({},Fr,a,b);c&&(b[b.length-1].textStyle=new Dq({fill:new vi({color:"color"in c?c.color:Gq}),scale:c.scale}))},LineStyle:function(a,b){var c=N({},Gr,a,b);c&&(b[b.length-1].strokeStyle=new wi({color:"color"in c?
c.color:Gq,width:"width"in c?c.width:1}))},PolyStyle:function(a,b){var c=N({},Nr,a,b);if(c){var d=b[b.length-1];d.fillStyle=new vi({color:"color"in c?c.color:Gq});var e=c.fill;void 0!==e&&(d.fill=e);c=c.outline;void 0!==c&&(d.outline=c)}}}),Lr=M(Vq,{Pair:function(a,b){var c=N({},Kr,a,b);if(c){var d=c.key;d&&"normal"==d&&((d=c.styleUrl)&&(b[b.length-1]=d),(c=c.Style)&&(b[b.length-1]=c))}}});k=Eq.prototype;
k.Qf=function(a,b){var c=M(Vq,{Document:Qn(this.Qf,this),Folder:Qn(this.Qf,this),Placemark:Rn(this.Wf,this),Style:this.Qo.bind(this),StyleMap:this.Po.bind(this)});if(c=N([],c,a,b,this))return c};k.Wf=function(a,b){var c=N({geometry:null},Mr,a,b);if(c){var d=new J,e=a.getAttribute("id");null!==e&&d.cc(e);var e=b[0],f=c.geometry;f&&go(f,!1,e);d.Pa(f);delete c.geometry;this.c&&d.Df(Yq(c.Style,c.styleUrl,this.g,this.b,this.i));delete c.Style;d.I(c);return d}};
k.Qo=function(a,b){var c=a.getAttribute("id");if(null!==c){var d=rr(a,b);d&&(c=a.baseURI?(new URL("#"+c,a.baseURI)).href:"#"+c,this.b[c]=d)}};k.Po=function(a,b){var c=a.getAttribute("id");if(null!==c){var d=N(void 0,Lr,a,b);d&&(c=a.baseURI?(new URL("#"+c,a.baseURI)).href:"#"+c,this.b[c]=d)}};k.ai=function(a,b){if(!Za(Vq,a.namespaceURI))return null;var c=this.Wf(a,[eo(this,a,b)]);return c?c:null};
k.oc=function(a,b){if(!Za(Vq,a.namespaceURI))return[];var c;c=a.localName;if("Document"==c||"Folder"==c)return(c=this.Qf(a,[eo(this,a,b)]))?c:[];if("Placemark"==c)return(c=this.Wf(a,[eo(this,a,b)]))?[c]:[];if("kml"==c){c=[];var d;for(d=a.firstElementChild;d;d=d.nextElementSibling){var e=this.oc(d,b);e&&bb(c,e)}return c}return[]};k.Jo=function(a){if(Nn(a))return Or(this,a);if(On(a))return Pr(this,a);if("string"===typeof a)return a=Pn(a),Or(this,a)};
function Or(a,b){var c;for(c=b.firstChild;c;c=c.nextSibling)if(c.nodeType==Node.ELEMENT_NODE){var d=Pr(a,c);if(d)return d}}function Pr(a,b){var c;for(c=b.firstElementChild;c;c=c.nextElementSibling)if(Za(Vq,c.namespaceURI)&&"name"==c.localName)return T(c);for(c=b.firstElementChild;c;c=c.nextElementSibling){var d=c.localName;if(Za(Vq,c.namespaceURI)&&("Document"==d||"Folder"==d||"Placemark"==d||"kml"==d)&&(d=Pr(a,c)))return d}}
k.Ko=function(a){var b=[];Nn(a)?bb(b,Qr(this,a)):On(a)?bb(b,Rr(this,a)):"string"===typeof a&&(a=Pn(a),bb(b,Qr(this,a)));return b};function Qr(a,b){var c,d=[];for(c=b.firstChild;c;c=c.nextSibling)c.nodeType==Node.ELEMENT_NODE&&bb(d,Rr(a,c));return d}
function Rr(a,b){var c,d=[];for(c=b.firstElementChild;c;c=c.nextElementSibling)if(Za(Vq,c.namespaceURI)&&"NetworkLink"==c.localName){var e=N({},Jr,c,[]);d.push(e)}for(c=b.firstElementChild;c;c=c.nextElementSibling)e=c.localName,!Za(Vq,c.namespaceURI)||"Document"!=e&&"Folder"!=e&&"kml"!=e||bb(d,Rr(a,c));return d}k.No=function(a){var b=[];Nn(a)?bb(b,Sr(this,a)):On(a)?bb(b,this.Ie(a)):"string"===typeof a&&(a=Pn(a),bb(b,Sr(this,a)));return b};
function Sr(a,b){var c,d=[];for(c=b.firstChild;c;c=c.nextSibling)c.nodeType==Node.ELEMENT_NODE&&bb(d,a.Ie(c));return d}k.Ie=function(a){var b,c=[];for(b=a.firstElementChild;b;b=b.nextElementSibling)if(Za(Vq,b.namespaceURI)&&"Region"==b.localName){var d=N({},wr,b,[]);c.push(d)}for(b=a.firstElementChild;b;b=b.nextElementSibling)a=b.localName,!Za(Vq,b.namespaceURI)||"Document"!=a&&"Folder"!=a&&"kml"!=a||bb(c,this.Ie(b));return c};
function Tr(a,b){var c=ye(b),c=[255*(4==c.length?c[3]:1),c[2],c[1],c[0]],d;for(d=0;4>d;++d){var e=parseInt(c[d],10).toString(16);c[d]=1==e.length?"0"+e:e}qp(a,c.join(""))}function Ur(a,b,c){a={node:a};var d=b.Y(),e,f;"GeometryCollection"==d?(e=b.pf(),f=Vr):"MultiPoint"==d?(e=b.re(),f=Wr):"MultiLineString"==d?(e=b.Yc(),f=Xr):"MultiPolygon"==d?(e=b.Ad(),f=Yr):ha(!1,39);$n(a,Zr,f,e,c)}function $r(a,b,c){$n({node:a},as,bs,[b],c)}
function cs(a,b,c){var d={node:a};b.f&&a.setAttribute("id",b.f);a=b.R();var e={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};e[b.a]=1;var f=Object.keys(a||{}).sort().filter(function(a){return!e[a]});if(0<f.length){var g=Yn(a,f);$n(d,ds,es,[{names:f,values:g}],c)}if(f=b.Gc())if(f=f.call(b,0))f=Array.isArray(f)?f[0]:f,this.l&&(a.Style=f),(f=f.Ka())&&(a.name=f.Ka());f=fs[c[c.length-1].node.namespaceURI];a=Yn(a,f);$n(d,ds,Xn,a,c,f);a=c[0];(b=b.V())&&(b=go(b,!0,a));$n(d,
ds,Vr,[b],c)}function gs(a,b,c){var d=b.ia();a={node:a};a.layout=b.ka;a.stride=b.pa();$n(a,hs,is,[d],c)}function js(a,b,c){b=b.Zc();var d=b.shift();a={node:a};$n(a,ks,ls,b,c);$n(a,ks,ms,[d],c)}function ns(a,b){rp(a,Math.round(1E6*b)/1E6)}
var os=M(Vq,["Document","Placemark"]),rs=M(Vq,{Document:L(function(a,b,c){$n({node:a},ps,qs,b,c,void 0,this)}),Placemark:L(cs)}),ps=M(Vq,{Placemark:L(cs)}),ss=M(Vq,{Data:L(function(a,b,c){a.setAttribute("name",b.name);a={node:a};b=b.value;"object"==typeof b?(null!==b&&b.displayName&&$n(a,ss,Xn,[b.displayName],c,["displayName"]),null!==b&&b.value&&$n(a,ss,Xn,[b.value],c,["value"])):$n(a,ss,Xn,[b],c,["value"])}),value:L(function(a,b){qp(a,b)}),displayName:L(function(a,b){a.appendChild(Jn.createCDATASection(b))})}),
ts={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},us=M(Vq,["href"],M(Uq,["x","y","w","h"])),vs=M(Vq,{href:L(qp)},M(Uq,{x:L(rp),y:L(rp),w:L(rp),h:L(rp)})),ws=M(Vq,["scale","heading","Icon","hotSpot"]),ys=M(Vq,{Icon:L(function(a,b,c){a={node:a};var d=us[c[c.length-1].node.namespaceURI],e=Yn(b,d);$n(a,vs,Xn,e,c,d);d=us[Uq[0]];e=Yn(b,d);$n(a,vs,
xs,e,c,d)}),heading:L(rp),hotSpot:L(function(a,b){a.setAttribute("x",b.x);a.setAttribute("y",b.y);a.setAttribute("xunits",b.jg);a.setAttribute("yunits",b.kg)}),scale:L(ns)}),zs=M(Vq,["color","scale"]),As=M(Vq,{color:L(Tr),scale:L(ns)}),Bs=M(Vq,["color","width"]),Cs=M(Vq,{color:L(Tr),width:L(rp)}),as=M(Vq,{LinearRing:L(gs)}),Zr=M(Vq,{LineString:L(gs),Point:L(gs),Polygon:L(js),GeometryCollection:L(Ur)}),fs=M(Vq,"name open visibility address phoneNumber description styleUrl Style".split(" ")),ds=M(Vq,
{ExtendedData:L(function(a,b,c){a={node:a};var d=b.names;b=b.values;for(var e=d.length,f=0;f<e;f++)$n(a,ss,Ds,[{name:d[f],value:b[f]}],c)}),MultiGeometry:L(Ur),LineString:L(gs),LinearRing:L(gs),Point:L(gs),Polygon:L(js),Style:L(function(a,b,c){a={node:a};var d={},e=b.f,f=b.g,g=b.a;b=b.Ka();g instanceof xq&&(d.IconStyle=g);b&&(d.LabelStyle=b);f&&(d.LineStyle=f);e&&(d.PolyStyle=e);b=Es[c[c.length-1].node.namespaceURI];d=Yn(d,b);$n(a,Fs,Xn,d,c,b)}),address:L(qp),description:L(qp),name:L(qp),open:L(pp),
phoneNumber:L(qp),styleUrl:L(qp),visibility:L(pp)}),hs=M(Vq,{coordinates:L(function(a,b,c){c=c[c.length-1];var d=c.layout;c=c.stride;var e;"XY"==d||"XYM"==d?e=2:"XYZ"==d||"XYZM"==d?e=3:ha(!1,34);var f,g=b.length,h="";if(0<g){h+=b[0];for(d=1;d<e;++d)h+=","+b[d];for(f=c;f<g;f+=c)for(h+=" "+b[f],d=1;d<e;++d)h+=","+b[f+d]}qp(a,h)})}),ks=M(Vq,{outerBoundaryIs:L($r),innerBoundaryIs:L($r)}),Gs=M(Vq,{color:L(Tr)}),Es=M(Vq,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Fs=M(Vq,{IconStyle:L(function(a,
b,c){a={node:a};var d={},e=b.ac(),f=b.de(),g={href:b.b.o};if(e){g.w=e[0];g.h=e[1];var h=b.Ac(),l=b.Jc();l&&f&&0!==l[0]&&l[1]!==e[1]&&(g.x=l[0],g.y=f[1]-(l[1]+e[1]));h&&0!==h[0]&&h[1]!==e[1]&&(d.hotSpot={x:h[0],jg:"pixels",y:e[1]-h[1],kg:"pixels"})}d.Icon=g;e=b.i;1!==e&&(d.scale=e);b=b.o;0!==b&&(d.heading=b);b=ws[c[c.length-1].node.namespaceURI];d=Yn(d,b);$n(a,ys,Xn,d,c,b)}),LabelStyle:L(function(a,b,c){a={node:a};var d={},e=b.b;e&&(d.color=e.b);(b=b.a)&&1!==b&&(d.scale=b);b=zs[c[c.length-1].node.namespaceURI];
d=Yn(d,b);$n(a,As,Xn,d,c,b)}),LineStyle:L(function(a,b,c){a={node:a};var d=Bs[c[c.length-1].node.namespaceURI];b=Yn({color:b.b,width:b.f},d);$n(a,Cs,Xn,b,c,d)}),PolyStyle:L(function(a,b,c){$n({node:a},Gs,Hs,[b.b],c)})});function xs(a,b,c){return Kn(Uq[0],"gx:"+c)}function qs(a,b){return Kn(b[b.length-1].node.namespaceURI,"Placemark")}function Vr(a,b){if(a)return Kn(b[b.length-1].node.namespaceURI,ts[a.Y()])}
var Hs=Vn("color"),is=Vn("coordinates"),Ds=Vn("Data"),es=Vn("ExtendedData"),ls=Vn("innerBoundaryIs"),Wr=Vn("Point"),Xr=Vn("LineString"),bs=Vn("LinearRing"),Yr=Vn("Polygon"),ms=Vn("outerBoundaryIs");
Eq.prototype.a=function(a,b){b=fo(this,b);var c=Kn(Vq[4],"kml");c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",Uq[0]);c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance");c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var d={node:c},e={};1<a.length?e.Document=a:1==a.length&&(e.Placemark=a[0]);var f=os[c.namespaceURI],
e=Yn(e,f);$n(d,rs,Xn,e,[b],f,this);return c};(function(){var a={},b={ma:a};(function(c){if("object"===typeof a&&"undefined"!==typeof b)b.ma=c();else{var d;"undefined"!==typeof window?d=window:"undefined"!==typeof global?d=global:"undefined"!==typeof self?d=self:d=this;d.Rp=c()}})(function(){return function d(a,b,g){function h(m,n){if(!b[m]){if(!a[m]){var q="function"==typeof require&&require;if(!n&&q)return q(m,!0);if(l)return l(m,!0);q=Error("Cannot find module '"+m+"'");throw q.code="MODULE_NOT_FOUND",q;}q=b[m]={ma:{}};a[m][0].call(q.ma,function(b){var d=
a[m][1][b];return h(d?d:b)},q,q.ma,d,a,b,g)}return b[m].ma}for(var l="function"==typeof require&&require,m=0;m<g.length;m++)h(g[m]);return h}({1:[function(a,b,f){f.read=function(a,b,d,e,f){var n;n=8*f-e-1;var q=(1<<n)-1,r=q>>1,u=-7;f=d?f-1:0;var w=d?-1:1,y=a[b+f];f+=w;d=y&(1<<-u)-1;y>>=-u;for(u+=n;0<u;d=256*d+a[b+f],f+=w,u-=8);n=d&(1<<-u)-1;d>>=-u;for(u+=e;0<u;n=256*n+a[b+f],f+=w,u-=8);if(0===d)d=1-r;else{if(d===q)return n?NaN:Infinity*(y?-1:1);n+=Math.pow(2,e);d-=r}return(y?-1:1)*n*Math.pow(2,d-
e)};f.write=function(a,b,d,e,f,n){var q,r=8*n-f-1,u=(1<<r)-1,w=u>>1,y=23===f?Math.pow(2,-24)-Math.pow(2,-77):0;n=e?0:n-1;var z=e?1:-1,A=0>b||0===b&&0>1/b?1:0;b=Math.abs(b);isNaN(b)||Infinity===b?(b=isNaN(b)?1:0,e=u):(e=Math.floor(Math.log(b)/Math.LN2),1>b*(q=Math.pow(2,-e))&&(e--,q*=2),b=1<=e+w?b+y/q:b+y*Math.pow(2,1-w),2<=b*q&&(e++,q/=2),e+w>=u?(b=0,e=u):1<=e+w?(b=(b*q-1)*Math.pow(2,f),e+=w):(b=b*Math.pow(2,w-1)*Math.pow(2,f),e=0));for(;8<=f;a[d+n]=b&255,n+=z,b/=256,f-=8);e=e<<f|b;for(r+=f;0<r;a[d+
n]=e&255,n+=z,e/=256,r-=8);a[d+n-z]|=128*A}},{}],2:[function(a,b){function f(a){this.gc=ArrayBuffer.isView&&ArrayBuffer.isView(a)?a:new Uint8Array(a||0);this.type=this.ha=0;this.length=this.gc.length}function g(a,b,d){var e=d.gc,f,g;g=e[d.ha++];f=(g&112)>>4;if(128>g)return h(a,f,b);g=e[d.ha++];f|=(g&127)<<3;if(128>g)return h(a,f,b);g=e[d.ha++];f|=(g&127)<<10;if(128>g)return h(a,f,b);g=e[d.ha++];f|=(g&127)<<17;if(128>g)return h(a,f,b);g=e[d.ha++];f|=(g&127)<<24;if(128>g)return h(a,f,b);g=e[d.ha++];
if(128>g)return h(a,f|(g&1)<<31,b);throw Error("Expected varint not more than 10 bytes");}function h(a,b,d){return d?4294967296*b+(a>>>0):4294967296*(b>>>0)+(a>>>0)}b.ma=f;var l=a("ieee754");f.f=0;f.g=1;f.b=2;f.a=5;f.prototype={Uf:function(a,b,d){for(d=d||this.length;this.ha<d;){var e=this.Ia(),f=e>>3,g=this.ha;this.type=e&7;a(f,b,this);this.ha===g&&this.qp(e)}return b},Fo:function(){var a=l.read(this.gc,this.ha,!0,23,4);this.ha+=4;return a},Bo:function(){var a=l.read(this.gc,this.ha,!0,52,8);this.ha+=
8;return a},Ia:function(a){var b=this.gc,d,e;e=b[this.ha++];d=e&127;if(128>e)return d;e=b[this.ha++];d|=(e&127)<<7;if(128>e)return d;e=b[this.ha++];d|=(e&127)<<14;if(128>e)return d;e=b[this.ha++];d|=(e&127)<<21;if(128>e)return d;e=b[this.ha];return g(d|(e&15)<<28,a,this)},Ro:function(){return this.Ia(!0)},Kd:function(){var a=this.Ia();return 1===a%2?(a+1)/-2:a/2},zo:function(){return!!this.Ia()},Yf:function(){for(var a=this.Ia()+this.ha,b=this.gc,d="",e=this.ha;e<a;){var f=b[e],g=null,h=239<f?4:223<
f?3:191<f?2:1;if(e+h>a)break;var l,z,A;if(1===h)128>f&&(g=f);else if(2===h)l=b[e+1],128===(l&192)&&(g=(f&31)<<6|l&63,127>=g&&(g=null));else if(3===h){if(l=b[e+1],z=b[e+2],128===(l&192)&&128===(z&192)&&(g=(f&15)<<12|(l&63)<<6|z&63,2047>=g||55296<=g&&57343>=g))g=null}else 4===h&&(l=b[e+1],z=b[e+2],A=b[e+3],128===(l&192)&&128===(z&192)&&128===(A&192)&&(g=(f&15)<<18|(l&63)<<12|(z&63)<<6|A&63,65535>=g||1114112<=g))&&(g=null);null===g?(g=65533,h=1):65535<g&&(g-=65536,d+=String.fromCharCode(g>>>10&1023|
55296),g=56320|g&1023);d+=String.fromCharCode(g);e+=h}this.ha=a;return d},qp:function(a){a&=7;if(a===f.f)for(;127<this.gc[this.ha++];);else if(a===f.b)this.ha=this.Ia()+this.ha;else if(a===f.a)this.ha+=4;else if(a===f.g)this.ha+=8;else throw Error("Unimplemented type: "+a);}}},{ieee754:1}]},{},[2])(2)});gl=b.ma})();(function(){var a={},b={ma:a};(function(c){if("object"===typeof a&&"undefined"!==typeof b)b.ma=c();else{var d;"undefined"!==typeof window?d=window:"undefined"!==typeof global?d=global:"undefined"!==typeof self?d=self:d=this;d.Up=c()}})(function(){return function d(a,b,g){function h(m,n){if(!b[m]){if(!a[m]){var q="function"==typeof require&&require;if(!n&&q)return q(m,!0);if(l)return l(m,!0);q=Error("Cannot find module '"+m+"'");throw q.code="MODULE_NOT_FOUND",q;}q=b[m]={ma:{}};a[m][0].call(q.ma,function(b){var d=
a[m][1][b];return h(d?d:b)},q,q.ma,d,a,b,g)}return b[m].ma}for(var l="function"==typeof require&&require,m=0;m<g.length;m++)h(g[m]);return h}({1:[function(a,b){function f(a,b){this.x=a;this.y=b}b.ma=f;f.prototype={clone:function(){return new f(this.x,this.y)},add:function(a){return this.clone().oj(a)},rotate:function(a){return this.clone().yj(a)},round:function(){return this.clone().zj()},angle:function(){return Math.atan2(this.y,this.x)},oj:function(a){this.x+=a.x;this.y+=a.y;return this},yj:function(a){var b=
Math.cos(a);a=Math.sin(a);var d=a*this.x+b*this.y;this.x=b*this.x-a*this.y;this.y=d;return this},zj:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this}};f.b=function(a){return a instanceof f?a:Array.isArray(a)?new f(a[0],a[1]):a}},{}],2:[function(a,b){b.ma.nj=a("./lib/vectortile.js");b.ma.Op=a("./lib/vectortilefeature.js");b.ma.Pp=a("./lib/vectortilelayer.js")},{"./lib/vectortile.js":3,"./lib/vectortilefeature.js":4,"./lib/vectortilelayer.js":5}],3:[function(a,b){function f(a,
b,d){3===a&&(a=new g(d,d.Ia()+d.ha),a.length&&(b[a.name]=a))}var g=a("./vectortilelayer");b.ma=function(a,b){this.layers=a.Uf(f,{},b)}},{"./vectortilelayer":5}],4:[function(a,b){function f(a,b,d,e,f){this.properties={};this.extent=d;this.type=0;this.rc=a;this.Ye=-1;this.Td=e;this.Vd=f;a.Uf(g,this,b)}function g(a,b,d){if(1==a)b.id=d.Ia();else if(2==a)for(a=d.Ia()+d.ha;d.ha<a;){var e=b.Td[d.Ia()],f=b.Vd[d.Ia()];b.properties[e]=f}else 3==a?b.type=d.Ia():4==a&&(b.Ye=d.ha)}var h=a("point-geometry");b.ma=
f;f.b=["Unknown","Point","LineString","Polygon"];f.prototype.fh=function(){var a=this.rc;a.ha=this.Ye;for(var b=a.Ia()+a.ha,d=1,e=0,f=0,g=0,u=[],w;a.ha<b;)if(e||(e=a.Ia(),d=e&7,e>>=3),e--,1===d||2===d)f+=a.Kd(),g+=a.Kd(),1===d&&(w&&u.push(w),w=[]),w.push(new h(f,g));else if(7===d)w&&w.push(w[0].clone());else throw Error("unknown command "+d);w&&u.push(w);return u};f.prototype.bbox=function(){var a=this.rc;a.ha=this.Ye;for(var b=a.Ia()+a.ha,d=1,e=0,f=0,g=0,h=Infinity,w=-Infinity,y=Infinity,z=-Infinity;a.ha<
b;)if(e||(e=a.Ia(),d=e&7,e>>=3),e--,1===d||2===d)f+=a.Kd(),g+=a.Kd(),f<h&&(h=f),f>w&&(w=f),g<y&&(y=g),g>z&&(z=g);else if(7!==d)throw Error("unknown command "+d);return[h,y,w,z]}},{"point-geometry":1}],5:[function(a,b){function f(a,b){this.version=1;this.name=null;this.extent=4096;this.length=0;this.rc=a;this.Td=[];this.Vd=[];this.Sd=[];a.Uf(g,this,b);this.length=this.Sd.length}function g(a,b,d){15===a?b.version=d.Ia():1===a?b.name=d.Yf():5===a?b.extent=d.Ia():2===a?b.Sd.push(d.ha):3===a?b.Td.push(d.Yf()):
4===a&&b.Vd.push(h(d))}function h(a){for(var b=null,d=a.Ia()+a.ha;a.ha<d;)b=a.Ia()>>3,b=1===b?a.Yf():2===b?a.Fo():3===b?a.Bo():4===b?a.Ro():5===b?a.Ia():6===b?a.Kd():7===b?a.zo():null;return b}var l=a("./vectortilefeature.js");b.ma=f;f.prototype.feature=function(a){if(0>a||a>=this.Sd.length)throw Error("feature index out of bounds");this.rc.ha=this.Sd[a];a=this.rc.Ia()+this.rc.ha;return new l(this.rc,a,this.extent,this.Td,this.Vd)}},{"./vectortilefeature.js":4}]},{},[2])(2)});hl=b.ma})();function Is(a,b,c,d){this.g=a;this.b=b;this.c=c;this.f=d}k=Is.prototype;k.get=function(a){return this.f[a]};k.Kb=function(){return this.c};k.G=function(){this.a||(this.a="Point"===this.g?Sb(this.b):Tb(this.b,0,this.b.length,2));return this.a};k.Vb=function(){return this.b};k.ia=Is.prototype.Vb;k.V=function(){return this};k.Tm=function(){return this.f};k.Bd=Is.prototype.V;k.pa=function(){return 2};k.Gc=ea;k.Y=function(){return this.g};function Js(a){co.call(this);a=a?a:{};this.defaultDataProjection=new sc({code:"",units:"tile-pixels"});this.b=a.featureClass?a.featureClass:Is;this.g=a.geometryName?a.geometryName:"geometry";this.a=a.layerName?a.layerName:"layer";this.f=a.layers?a.layers:null}v(Js,co);Js.prototype.Y=function(){return"arraybuffer"};
Js.prototype.La=function(a,b){var c=this.f,d=new gl(a),d=new hl.nj(d),e=[],f=this.b,g,h,l;for(l in d.layers)if(!c||-1!=c.indexOf(l)){g=d.layers[l];for(var m=0,p=g.length;m<p;++m){if(f===Is){var n=g.feature(m);h=l;var q=n.fh(),r=[],u=[];Ks(q,u,r);var w=n.type,y=void 0;1===w?y=1===q.length?"Point":"MultiPoint":2===w?y=1===q.length?"LineString":"MultiLineString":3===w&&(y="Polygon");n=n.properties;n[this.a]=h;h=new this.b(y,u,r,n)}else{q=g.feature(m);n=l;y=b;h=new this.b;r=q.id;u=q.properties;u[this.a]=
n;n=q.type;if(0===n)n=null;else{var q=q.fh(),w=[],z=[];Ks(q,z,w);var A=void 0;1===n?A=1===q.length?new C(null):new R(null):2===n?1===q.length?A=new P(null):A=new Q(null):3===n&&(A=new E(null));A.da("XY",z,w);n=A}(y=go(n,!1,fo(this,y)))&&(u[this.g]=y);h.cc(r);h.I(u);h.Nc(this.g)}e.push(h)}}return e};Js.prototype.Wa=function(){return this.defaultDataProjection};Js.prototype.c=function(a){this.f=a};
function Ks(a,b,c){for(var d=0,e=0,f=a.length;e<f;++e){var g=a[e],h,l;h=0;for(l=g.length;h<l;++h){var m=g[h];b.push(m.x,m.y)}d+=2*h;c.push(d)}};function Ls(){dp.call(this);this.defaultDataProjection=zc("EPSG:4326")}v(Ls,dp);function Ms(a,b){b[b.length-1].Nd[a.getAttribute("k")]=a.getAttribute("v")}
var Ns=[null],Os=M(Ns,{nd:function(a,b){b[b.length-1].bd.push(a.getAttribute("ref"))},tag:Ms}),Qs=M(Ns,{node:function(a,b){var c=b[0],d=b[b.length-1],e=a.getAttribute("id"),f=[parseFloat(a.getAttribute("lon")),parseFloat(a.getAttribute("lat"))];d.jh[e]=f;var g=N({Nd:{}},Ps,a,b);wa(g.Nd)||(f=new C(f),go(f,!1,c),c=new J(f),c.cc(e),c.I(g.Nd),d.features.push(c))},way:function(a,b){for(var c=b[0],d=a.getAttribute("id"),e=N({bd:[],Nd:{}},Os,a,b),f=b[b.length-1],g=[],h=0,l=e.bd.length;h<l;h++)bb(g,f.jh[e.bd[h]]);
e.bd[0]==e.bd[e.bd.length-1]?(h=new E(null),h.da("XY",g,[g.length])):(h=new P(null),h.da("XY",g));go(h,!1,c);c=new J(h);c.cc(d);c.I(e.Nd);f.features.push(c)}}),Ps=M(Ns,{tag:Ms});Ls.prototype.oc=function(a,b){var c=eo(this,a,b);return"osm"==a.localName&&(c=N({jh:{},features:[]},Qs,a,[c]),c.features)?c.features:[]};function Rs(a){return a.getAttributeNS("http://www.w3.org/1999/xlink","href")};function Ss(){}Ss.prototype.read=function(a){return Nn(a)?this.a(a):On(a)?this.b(a):"string"===typeof a?(a=Pn(a),this.a(a)):null};function Ts(){}v(Ts,Ss);Ts.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null};Ts.prototype.b=function(a){return(a=N({},Us,a,[]))?a:null};
var Vs=[null,"http://www.opengis.net/ows/1.1"],Us=M(Vs,{ServiceIdentification:K(function(a,b){return N({},Ws,a,b)}),ServiceProvider:K(function(a,b){return N({},Xs,a,b)}),OperationsMetadata:K(function(a,b){return N({},Ys,a,b)})}),Zs=M(Vs,{DeliveryPoint:K(T),City:K(T),AdministrativeArea:K(T),PostalCode:K(T),Country:K(T),ElectronicMailAddress:K(T)}),$s=M(Vs,{Value:Tn(function(a){return T(a)})}),at=M(Vs,{AllowedValues:K(function(a,b){return N({},$s,a,b)})}),ct=M(Vs,{Phone:K(function(a,b){return N({},
bt,a,b)}),Address:K(function(a,b){return N({},Zs,a,b)})}),et=M(Vs,{HTTP:K(function(a,b){return N({},dt,a,b)})}),dt=M(Vs,{Get:Tn(function(a,b){var c=Rs(a);return c?N({href:c},ft,a,b):void 0}),Post:void 0}),gt=M(Vs,{DCP:K(function(a,b){return N({},et,a,b)})}),Ys=M(Vs,{Operation:function(a,b){var c=a.getAttribute("name"),d=N({},gt,a,b);d&&(b[b.length-1][c]=d)}}),bt=M(Vs,{Voice:K(T),Facsimile:K(T)}),ft=M(Vs,{Constraint:Tn(function(a,b){var c=a.getAttribute("name");return c?N({name:c},at,a,b):void 0})}),
ht=M(Vs,{IndividualName:K(T),PositionName:K(T),ContactInfo:K(function(a,b){return N({},ct,a,b)})}),Ws=M(Vs,{Title:K(T),ServiceTypeVersion:K(T),ServiceType:K(T)}),Xs=M(Vs,{ProviderName:K(T),ProviderSite:K(Rs),ServiceContact:K(function(a,b){return N({},ht,a,b)})});function it(a,b,c,d){var e;void 0!==d?e=d:e=[];for(var f=d=0;f<b;){var g=a[f++];e[d++]=a[f++];e[d++]=g;for(g=2;g<c;++g)e[d++]=a[f++]}e.length=d};function jt(a){a=a?a:{};co.call(this);this.defaultDataProjection=zc("EPSG:4326");this.b=a.factor?a.factor:1E5;this.a=a.geometryLayout?a.geometryLayout:"XY"}v(jt,lq);function kt(a,b,c){var d,e=Array(b);for(d=0;d<b;++d)e[d]=0;var f,g;f=0;for(g=a.length;f<g;)for(d=0;d<b;++d,++f){var h=a[f],l=h-e[d];e[d]=h;a[f]=l}return lt(a,c?c:1E5)}function mt(a,b,c){var d,e=Array(b);for(d=0;d<b;++d)e[d]=0;a=nt(a,c?c:1E5);var f;c=0;for(f=a.length;c<f;)for(d=0;d<b;++d,++c)e[d]+=a[c],a[c]=e[d];return a}
function lt(a,b){var c=b?b:1E5,d,e;d=0;for(e=a.length;d<e;++d)a[d]=Math.round(a[d]*c);c=0;for(d=a.length;c<d;++c)e=a[c],a[c]=0>e?~(e<<1):e<<1;c="";d=0;for(e=a.length;d<e;++d){for(var f=a[d],g,h="";32<=f;)g=(32|f&31)+63,h+=String.fromCharCode(g),f>>=5;h+=String.fromCharCode(f+63);c+=h}return c}
function nt(a,b){var c=b?b:1E5,d=[],e=0,f=0,g,h;g=0;for(h=a.length;g<h;++g){var l=a.charCodeAt(g)-63,e=e|(l&31)<<f;32>l?(d.push(e),f=e=0):f+=5}e=0;for(f=d.length;e<f;++e)g=d[e],d[e]=g&1?~(g>>1):g>>1;e=0;for(f=d.length;e<f;++e)d[e]/=c;return d}k=jt.prototype;k.Hd=function(a,b){var c=this.Jd(a,b);return new J(c)};k.Tf=function(a,b){return[this.Hd(a,b)]};k.Jd=function(a,b){var c=Vc(this.a),d=mt(a,c,this.b);it(d,d.length,c,d);c=id(d,0,d.length,c);return go(new P(c,this.a),!1,fo(this,b))};
k.Re=function(a,b){var c=a.V();if(c)return this.Pd(c,b);ha(!1,40);return""};k.Oi=function(a,b){return this.Re(a[0],b)};k.Pd=function(a,b){a=go(a,!0,fo(this,b));var c=a.ia(),d=a.pa();it(c,c.length,d,c);return kt(c,d,this.b)};function ot(a){a=a?a:{};co.call(this);this.defaultDataProjection=zc(a.defaultDataProjection?a.defaultDataProjection:"EPSG:4326")}v(ot,ho);function pt(a,b){var c=[],d,e,f,g;f=0;for(g=a.length;f<g;++f)d=a[f],0<f&&c.pop(),0<=d?e=b[d]:e=b[~d].slice().reverse(),c.push.apply(c,e);d=0;for(e=c.length;d<e;++d)c[d]=c[d].slice();return c}function qt(a,b,c,d,e){a=a.geometries;var f=[],g,h;g=0;for(h=a.length;g<h;++g)f[g]=rt(a[g],b,c,d,e);return f}
function rt(a,b,c,d,e){var f=a.type,g=st[f];b="Point"===f||"MultiPoint"===f?g(a,c,d):g(a,b);c=new J;c.Pa(go(b,!1,e));void 0!==a.id&&c.cc(a.id);a.properties&&c.I(a.properties);return c}
ot.prototype.Sf=function(a,b){if("Topology"==a.type){var c,d=null,e=null;a.transform&&(c=a.transform,d=c.scale,e=c.translate);var f=a.arcs;if(c){c=d;var g=e,h,l;h=0;for(l=f.length;h<l;++h){var m=f[h],p=c,n=g,q=0,r=0,u,w,y;w=0;for(y=m.length;w<y;++w)u=m[w],q+=u[0],r+=u[1],u[0]=q,u[1]=r,tt(u,p,n)}}c=[];g=va(a.objects);h=0;for(l=g.length;h<l;++h)"GeometryCollection"===g[h].type?(m=g[h],c.push.apply(c,qt(m,f,d,e,b))):(m=g[h],c.push(rt(m,f,d,e,b)));return c}return[]};
function tt(a,b,c){a[0]=a[0]*b[0]+c[0];a[1]=a[1]*b[1]+c[1]}ot.prototype.Wa=function(){return this.defaultDataProjection};
var st={Point:function(a,b,c){a=a.coordinates;b&&c&&tt(a,b,c);return new C(a)},LineString:function(a,b){var c=pt(a.arcs,b);return new P(c)},Polygon:function(a,b){var c=[],d,e;d=0;for(e=a.arcs.length;d<e;++d)c[d]=pt(a.arcs[d],b);return new E(c)},MultiPoint:function(a,b,c){a=a.coordinates;var d,e;if(b&&c)for(d=0,e=a.length;d<e;++d)tt(a[d],b,c);return new R(a)},MultiLineString:function(a,b){var c=[],d,e;d=0;for(e=a.arcs.length;d<e;++d)c[d]=pt(a.arcs[d],b);return new Q(c)},MultiPolygon:function(a,b){var c=
[],d,e,f,g,h,l;h=0;for(l=a.arcs.length;h<l;++h){d=a.arcs[h];e=[];f=0;for(g=d.length;f<g;++f)e[f]=pt(d[f],b);c[h]=e}return new S(c)}};function ut(a){a=a?a:{};this.i=a.featureType;this.g=a.featureNS;this.b=a.gmlFormat?a.gmlFormat:new tp;this.c=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd";dp.call(this)}v(ut,dp);ut.prototype.oc=function(a,b){var c={featureType:this.i,featureNS:this.g};ta(c,eo(this,a,b?b:{}));c=[c];this.b.b["http://www.opengis.net/gml"].featureMember=Rn(gp.prototype.Id);(c=N([],this.b.b,a,c,this.b))||(c=[]);return c};
ut.prototype.o=function(a){if(Nn(a))return vt(a);if(On(a))return N({},wt,a,[]);if("string"===typeof a)return a=Pn(a),vt(a)};ut.prototype.l=function(a){if(Nn(a))return xt(this,a);if(On(a))return yt(this,a);if("string"===typeof a)return a=Pn(a),xt(this,a)};function xt(a,b){for(var c=b.firstChild;c;c=c.nextSibling)if(c.nodeType==Node.ELEMENT_NODE)return yt(a,c)}var zt={"http://www.opengis.net/gml":{boundedBy:K(gp.prototype.Ee,"bounds")}};
function yt(a,b){var c={},d=op(b.getAttribute("numberOfFeatures"));c.numberOfFeatures=d;return N(c,zt,b,[],a.b)}
var At={"http://www.opengis.net/wfs":{totalInserted:K(np),totalUpdated:K(np),totalDeleted:K(np)}},Bt={"http://www.opengis.net/ogc":{FeatureId:Rn(function(a){return a.getAttribute("fid")})}},Ct={"http://www.opengis.net/wfs":{Feature:function(a,b){Zn(Bt,a,b)}}},wt={"http://www.opengis.net/wfs":{TransactionSummary:K(function(a,b){return N({},At,a,b)},"transactionSummary"),InsertResults:K(function(a,b){return N([],Ct,a,b)},"insertIds")}};
function vt(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return N({},wt,a,[])}var Dt={"http://www.opengis.net/wfs":{PropertyName:L(qp)}};function Et(a,b){var c=Kn("http://www.opengis.net/ogc","Filter"),d=Kn("http://www.opengis.net/ogc","FeatureId");c.appendChild(d);d.setAttribute("fid",b);a.appendChild(c)}
var Ft={"http://www.opengis.net/wfs":{Insert:L(function(a,b,c){var d=c[c.length-1],d=Kn(d.featureNS,d.featureType);a.appendChild(d);tp.prototype.Ni(d,b,c)}),Update:L(function(a,b,c){var d=c[c.length-1];ha(void 0!==b.f,27);var e=d.featureType,f=d.featurePrefix,f=f?f:"feature",g=d.featureNS;a.setAttribute("typeName",f+":"+e);a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+f,g);e=b.f;if(void 0!==e){for(var f=b.S(),g=[],h=0,l=f.length;h<l;h++){var m=b.get(f[h]);void 0!==m&&g.push({name:f[h],
value:m})}$n({node:a,srsName:d.srsName},Ft,Vn("Property"),g,c);Et(a,e)}}),Delete:L(function(a,b,c){var d=c[c.length-1];ha(void 0!==b.f,26);c=d.featureType;var e=d.featurePrefix,e=e?e:"feature",d=d.featureNS;a.setAttribute("typeName",e+":"+c);a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+e,d);b=b.f;void 0!==b&&Et(a,b)}),Property:L(function(a,b,c){var d=Kn("http://www.opengis.net/wfs","Name");a.appendChild(d);qp(d,b.name);void 0!==b.value&&null!==b.value&&(d=Kn("http://www.opengis.net/wfs",
"Value"),a.appendChild(d),b.value instanceof Rc?tp.prototype.pd(d,b.value,c):qp(d,b.value))}),Native:L(function(a,b){b.yp&&a.setAttribute("vendorId",b.yp);void 0!==b.cp&&a.setAttribute("safeToIgnore",b.cp);void 0!==b.value&&qp(a,b.value)})}};function Gt(a,b,c){a={node:a};var d=b.b;$n(a,Ht,Vn(d.Nb),[d],c);b=b.a;$n(a,Ht,Vn(b.Nb),[b],c)}function It(a,b){void 0!==b.a&&a.setAttribute("matchCase",b.a.toString());Jt(a,b.b);Kt(a,""+b.g)}
function Lt(a,b,c){a=Kn("http://www.opengis.net/ogc",a);qp(a,c);b.appendChild(a)}function Jt(a,b){Lt("PropertyName",a,b)}function Kt(a,b){Lt("Literal",a,b)}
var Ht={"http://www.opengis.net/wfs":{Query:L(function(a,b,c){var d=c[c.length-1],e=d.featurePrefix,f=d.featureNS,g=d.propertyNames,h=d.srsName;a.setAttribute("typeName",(e?e+":":"")+b);h&&a.setAttribute("srsName",h);f&&a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+e,f);b=ta({},d);b.node=a;$n(b,Dt,Vn("PropertyName"),g,c);if(d=d.filter)g=Kn("http://www.opengis.net/ogc","Filter"),a.appendChild(g),$n({node:g},Ht,Vn(d.Nb),[d],c)})},"http://www.opengis.net/ogc":{And:L(Gt),Or:L(Gt),Not:L(function(a,
b,c){b=b.condition;$n({node:a},Ht,Vn(b.Nb),[b],c)}),BBOX:L(function(a,b,c){c[c.length-1].srsName=b.srsName;Jt(a,b.geometryName);tp.prototype.pd(a,b.extent,c)}),Intersects:L(function(a,b,c){c[c.length-1].srsName=b.srsName;Jt(a,b.geometryName);tp.prototype.pd(a,b.geometry,c)}),Within:L(function(a,b,c){c[c.length-1].srsName=b.srsName;Jt(a,b.geometryName);tp.prototype.pd(a,b.geometry,c)}),PropertyIsEqualTo:L(It),PropertyIsNotEqualTo:L(It),PropertyIsLessThan:L(It),PropertyIsLessThanOrEqualTo:L(It),PropertyIsGreaterThan:L(It),
PropertyIsGreaterThanOrEqualTo:L(It),PropertyIsNull:L(function(a,b){Jt(a,b.b)}),PropertyIsBetween:L(function(a,b){Jt(a,b.b);var c=Kn("http://www.opengis.net/ogc","LowerBoundary");a.appendChild(c);Kt(c,""+b.a);c=Kn("http://www.opengis.net/ogc","UpperBoundary");a.appendChild(c);Kt(c,""+b.g)}),PropertyIsLike:L(function(a,b){a.setAttribute("wildCard",b.i);a.setAttribute("singleChar",b.c);a.setAttribute("escapeChar",b.g);void 0!==b.a&&a.setAttribute("matchCase",b.a.toString());Jt(a,b.b);Kt(a,""+b.f)})}};
ut.prototype.v=function(a){var b=Kn("http://www.opengis.net/wfs","GetFeature");b.setAttribute("service","WFS");b.setAttribute("version","1.1.0");var c;if(a&&(a.handle&&b.setAttribute("handle",a.handle),a.outputFormat&&b.setAttribute("outputFormat",a.outputFormat),void 0!==a.maxFeatures&&b.setAttribute("maxFeatures",a.maxFeatures),a.resultType&&b.setAttribute("resultType",a.resultType),void 0!==a.startIndex&&b.setAttribute("startIndex",a.startIndex),void 0!==a.count&&b.setAttribute("count",a.count),
c=a.filter,a.bbox)){ha(a.geometryName,12);var d=Uo(a.geometryName,a.bbox,a.srsName);c?c=To(c,d):c=d}b.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.c);c={node:b,srsName:a.srsName,featureNS:a.featureNS?a.featureNS:this.g,featurePrefix:a.featurePrefix,geometryName:a.geometryName,filter:c,propertyNames:a.propertyNames?a.propertyNames:[]};ha(Array.isArray(a.featureTypes),11);a=a.featureTypes;c=[c];d=ta({},c[c.length-1]);d.node=b;$n(d,Ht,Vn("Query"),a,c);return b};
ut.prototype.A=function(a,b,c,d){var e=[],f=Kn("http://www.opengis.net/wfs","Transaction");f.setAttribute("service","WFS");f.setAttribute("version","1.1.0");var g,h;d&&(g=d.gmlOptions?d.gmlOptions:{},d.handle&&f.setAttribute("handle",d.handle));f.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.c);a&&(h={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,srsName:d.srsName},ta(h,g),$n(h,Ft,Vn("Insert"),a,e));b&&(h={node:f,featureNS:d.featureNS,
featureType:d.featureType,featurePrefix:d.featurePrefix,srsName:d.srsName},ta(h,g),$n(h,Ft,Vn("Update"),b,e));c&&$n({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,srsName:d.srsName},Ft,Vn("Delete"),c,e);d.nativeElements&&$n({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,srsName:d.srsName},Ft,Vn("Native"),d.nativeElements,e);return f};
ut.prototype.Xf=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.He(a);return null};ut.prototype.He=function(a){if(a.firstElementChild&&a.firstElementChild.firstElementChild)for(a=a.firstElementChild.firstElementChild,a=a.firstElementChild;a;a=a.nextElementSibling)if(0!==a.childNodes.length&&(1!==a.childNodes.length||3!==a.firstChild.nodeType)){var b=[{}];this.b.Ee(a,b);return zc(b.pop().srsName)}return null};function Mt(a){a=a?a:{};co.call(this);this.b=void 0!==a.splitCollection?a.splitCollection:!1}v(Mt,lq);function Nt(a){a=a.$();return 0===a.length?"":a.join(" ")}function Ot(a){a=a.$();for(var b=[],c=0,d=a.length;c<d;++c)b.push(a[c].join(" "));return b.join(",")}function Pt(a){var b=[];a=a.Zc();for(var c=0,d=a.length;c<d;++c)b.push("("+Ot(a[c])+")");return b.join(",")}
function Qt(a){var b=a.Y(),c=(0,Rt[b])(a),b=b.toUpperCase();if(a instanceof Uc){a=a.ka;var d="";if("XYZ"===a||"XYZM"===a)d+="Z";if("XYM"===a||"XYZM"===a)d+="M";a=d;0<a.length&&(b+=" "+a)}return 0===c.length?b+" EMPTY":b+"("+c+")"}
var Rt={Point:Nt,LineString:Ot,Polygon:Pt,MultiPoint:function(a){var b=[];a=a.re();for(var c=0,d=a.length;c<d;++c)b.push("("+Nt(a[c])+")");return b.join(",")},MultiLineString:function(a){var b=[];a=a.Yc();for(var c=0,d=a.length;c<d;++c)b.push("("+Ot(a[c])+")");return b.join(",")},MultiPolygon:function(a){var b=[];a=a.Ad();for(var c=0,d=a.length;c<d;++c)b.push("("+Pt(a[c])+")");return b.join(",")},GeometryCollection:function(a){var b=[];a=a.pf();for(var c=0,d=a.length;c<d;++c)b.push(Qt(a[c]));return b.join(",")}};
k=Mt.prototype;k.Hd=function(a,b){var c=this.Jd(a,b);if(c){var d=new J;d.Pa(c);return d}return null};k.Tf=function(a,b){var c=[],d=this.Jd(a,b);this.b&&"GeometryCollection"==d.Y()?c=d.f:c=[d];for(var e=[],f=0,g=c.length;f<g;++f)d=new J,d.Pa(c[f]),e.push(d);return e};k.Jd=function(a,b){var c;c=new St(new Tt(a));Ut(c);return(c=Vt(c))?go(c,!1,b):null};k.Re=function(a,b){var c=a.V();return c?this.Pd(c,b):""};
k.Oi=function(a,b){if(1==a.length)return this.Re(a[0],b);for(var c=[],d=0,e=a.length;d<e;++d)c.push(a[d].V());c=new Vo(c);return this.Pd(c,b)};k.Pd=function(a,b){return Qt(go(a,!0,b))};function Tt(a){this.a=a;this.b=-1}
function Wt(a){var b=a.a.charAt(++a.b),c={position:a.b,value:b};if("("==b)c.type=2;else if(","==b)c.type=5;else if(")"==b)c.type=3;else if("0"<=b&&"9">=b||"."==b||"-"==b){c.type=4;var d,b=a.b,e=!1,f=!1;do{if("."==d)e=!0;else if("e"==d||"E"==d)f=!0;d=a.a.charAt(++a.b)}while("0"<=d&&"9">=d||"."==d&&(void 0===e||!e)||!f&&("e"==d||"E"==d)||f&&("-"==d||"+"==d));a=parseFloat(a.a.substring(b,a.b--));c.value=a}else if("a"<=b&&"z">=b||"A"<=b&&"Z">=b){c.type=1;b=a.b;do d=a.a.charAt(++a.b);while("a"<=d&&"z">=
d||"A"<=d&&"Z">=d);a=a.a.substring(b,a.b--).toUpperCase();c.value=a}else{if(" "==b||"\t"==b||"\r"==b||"\n"==b)return Wt(a);if(""===b)c.type=6;else throw Error("Unexpected character: "+b);}return c}function St(a){this.g=a;this.a="XY"}function Ut(a){a.b=Wt(a.g)}function Xt(a,b){var c=a.b.type==b;c&&Ut(a);return c}
function Vt(a){var b=a.b;if(Xt(a,1)){var b=b.value,c="XY",d=a.b;1==a.b.type&&(d=d.value,"Z"===d?c="XYZ":"M"===d?c="XYM":"ZM"===d&&(c="XYZM"),"XY"!==c&&Ut(a));a.a=c;if("GEOMETRYCOLLECTION"==b){a:{if(Xt(a,2)){b=[];do b.push(Vt(a));while(Xt(a,5));if(Xt(a,3)){a=b;break a}}else if(Yt(a)){a=[];break a}throw Error(Zt(a));}return new Vo(a)}d=$t[b];c=au[b];if(!d||!c)throw Error("Invalid geometry type: "+b);b=d.call(a);return new c(b,a.a)}throw Error(Zt(a));}k=St.prototype;
k.Of=function(){if(Xt(this,2)){var a=bu(this);if(Xt(this,3))return a}else if(Yt(this))return null;throw Error(Zt(this));};k.Nf=function(){if(Xt(this,2)){var a=cu(this);if(Xt(this,3))return a}else if(Yt(this))return[];throw Error(Zt(this));};k.Pf=function(){if(Xt(this,2)){var a=du(this);if(Xt(this,3))return a}else if(Yt(this))return[];throw Error(Zt(this));};
k.mo=function(){if(Xt(this,2)){var a;if(2==this.b.type)for(a=[this.Of()];Xt(this,5);)a.push(this.Of());else a=cu(this);if(Xt(this,3))return a}else if(Yt(this))return[];throw Error(Zt(this));};k.lo=function(){if(Xt(this,2)){var a=du(this);if(Xt(this,3))return a}else if(Yt(this))return[];throw Error(Zt(this));};k.no=function(){if(Xt(this,2)){for(var a=[this.Pf()];Xt(this,5);)a.push(this.Pf());if(Xt(this,3))return a}else if(Yt(this))return[];throw Error(Zt(this));};
function bu(a){for(var b=[],c=a.a.length,d=0;d<c;++d){var e=a.b;if(Xt(a,4))b.push(e.value);else break}if(b.length==c)return b;throw Error(Zt(a));}function cu(a){for(var b=[bu(a)];Xt(a,5);)b.push(bu(a));return b}function du(a){for(var b=[a.Nf()];Xt(a,5);)b.push(a.Nf());return b}function Yt(a){var b=1==a.b.type&&"EMPTY"==a.b.value;b&&Ut(a);return b}function Zt(a){return"Unexpected `"+a.b.value+"` at position "+a.b.position+" in `"+a.g.a+"`"}
var au={POINT:C,LINESTRING:P,POLYGON:E,MULTIPOINT:R,MULTILINESTRING:Q,MULTIPOLYGON:S},$t={POINT:St.prototype.Of,LINESTRING:St.prototype.Nf,POLYGON:St.prototype.Pf,MULTIPOINT:St.prototype.mo,MULTILINESTRING:St.prototype.lo,MULTIPOLYGON:St.prototype.no};function eu(){this.version=void 0}v(eu,Ss);eu.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null};eu.prototype.b=function(a){this.version=a.getAttribute("version").trim();return(a=N({version:this.version},fu,a,[]))?a:null};function gu(a,b){return N({},hu,a,b)}function iu(a,b){return N({},ju,a,b)}function ku(a,b){var c=gu(a,b);if(c){var d=[op(a.getAttribute("width")),op(a.getAttribute("height"))];c.size=d;return c}}
function lu(a,b){return N([],mu,a,b)}
var nu=[null,"http://www.opengis.net/wms"],fu=M(nu,{Service:K(function(a,b){return N({},ou,a,b)}),Capability:K(function(a,b){return N({},pu,a,b)})}),pu=M(nu,{Request:K(function(a,b){return N({},qu,a,b)}),Exception:K(function(a,b){return N([],ru,a,b)}),Layer:K(function(a,b){return N({},su,a,b)})}),ou=M(nu,{Name:K(T),Title:K(T),Abstract:K(T),KeywordList:K(lu),OnlineResource:K(Rs),ContactInformation:K(function(a,b){return N({},tu,a,b)}),Fees:K(T),AccessConstraints:K(T),LayerLimit:K(np),MaxWidth:K(np),
MaxHeight:K(np)}),tu=M(nu,{ContactPersonPrimary:K(function(a,b){return N({},uu,a,b)}),ContactPosition:K(T),ContactAddress:K(function(a,b){return N({},vu,a,b)}),ContactVoiceTelephone:K(T),ContactFacsimileTelephone:K(T),ContactElectronicMailAddress:K(T)}),uu=M(nu,{ContactPerson:K(T),ContactOrganization:K(T)}),vu=M(nu,{AddressType:K(T),Address:K(T),City:K(T),StateOrProvince:K(T),PostCode:K(T),Country:K(T)}),ru=M(nu,{Format:Rn(T)}),su=M(nu,{Name:K(T),Title:K(T),Abstract:K(T),KeywordList:K(lu),CRS:Tn(T),
EX_GeographicBoundingBox:K(function(a,b){var c=N({},wu,a,b);if(c){var d=c.westBoundLongitude,e=c.southBoundLatitude,f=c.eastBoundLongitude,c=c.northBoundLatitude;return void 0===d||void 0===e||void 0===f||void 0===c?void 0:[d,e,f,c]}}),BoundingBox:Tn(function(a){var b=[mp(a.getAttribute("minx")),mp(a.getAttribute("miny")),mp(a.getAttribute("maxx")),mp(a.getAttribute("maxy"))],c=[mp(a.getAttribute("resx")),mp(a.getAttribute("resy"))];return{crs:a.getAttribute("CRS"),extent:b,res:c}}),Dimension:Tn(function(a){return{name:a.getAttribute("name"),
units:a.getAttribute("units"),unitSymbol:a.getAttribute("unitSymbol"),"default":a.getAttribute("default"),multipleValues:jp(a.getAttribute("multipleValues")),nearestValue:jp(a.getAttribute("nearestValue")),current:jp(a.getAttribute("current")),values:T(a)}}),Attribution:K(function(a,b){return N({},xu,a,b)}),AuthorityURL:Tn(function(a,b){var c=gu(a,b);if(c)return c.name=a.getAttribute("name"),c}),Identifier:Tn(T),MetadataURL:Tn(function(a,b){var c=gu(a,b);if(c)return c.type=a.getAttribute("type"),
c}),DataURL:Tn(gu),FeatureListURL:Tn(gu),Style:Tn(function(a,b){return N({},yu,a,b)}),MinScaleDenominator:K(lp),MaxScaleDenominator:K(lp),Layer:Tn(function(a,b){var c=b[b.length-1],d=N({},su,a,b);if(d){var e=jp(a.getAttribute("queryable"));void 0===e&&(e=c.queryable);d.queryable=void 0!==e?e:!1;e=op(a.getAttribute("cascaded"));void 0===e&&(e=c.cascaded);d.cascaded=e;e=jp(a.getAttribute("opaque"));void 0===e&&(e=c.opaque);d.opaque=void 0!==e?e:!1;e=jp(a.getAttribute("noSubsets"));void 0===e&&(e=c.noSubsets);
d.noSubsets=void 0!==e?e:!1;(e=mp(a.getAttribute("fixedWidth")))||(e=c.fixedWidth);d.fixedWidth=e;(e=mp(a.getAttribute("fixedHeight")))||(e=c.fixedHeight);d.fixedHeight=e;["Style","CRS","AuthorityURL"].forEach(function(a){a in c&&(d[a]=(d[a]||[]).concat(c[a]))});"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(a){a in d||(d[a]=c[a])});return d}})}),xu=M(nu,{Title:K(T),OnlineResource:K(Rs),LogoURL:K(ku)}),wu=M(nu,{westBoundLongitude:K(lp),
eastBoundLongitude:K(lp),southBoundLatitude:K(lp),northBoundLatitude:K(lp)}),qu=M(nu,{GetCapabilities:K(iu),GetMap:K(iu),GetFeatureInfo:K(iu)}),ju=M(nu,{Format:Tn(T),DCPType:Tn(function(a,b){return N({},zu,a,b)})}),zu=M(nu,{HTTP:K(function(a,b){return N({},Au,a,b)})}),Au=M(nu,{Get:K(gu),Post:K(gu)}),yu=M(nu,{Name:K(T),Title:K(T),Abstract:K(T),LegendURL:Tn(ku),StyleSheetURL:K(gu),StyleURL:K(gu)}),hu=M(nu,{Format:K(T),OnlineResource:K(Rs)}),mu=M(nu,{Keyword:Rn(T)});function Bu(a){a=a?a:{};this.g="http://mapserver.gis.umn.edu/mapserver";this.b=new Cp;this.c=a.layers?a.layers:null;dp.call(this)}v(Bu,dp);
Bu.prototype.oc=function(a,b){var c={};b&&ta(c,eo(this,a,b));var d=[c];a.setAttribute("namespaceURI",this.g);var e=a.localName,c=[];if(0!==a.childNodes.length){if("msGMLOutput"==e)for(var f=0,g=a.childNodes.length;f<g;f++){var h=a.childNodes[f];if(h.nodeType===Node.ELEMENT_NODE){var l=d[0],m=h.localName.replace("_layer","");if(!this.c||Za(this.c,m)){m+="_feature";l.featureType=m;l.featureNS=this.g;var p={};p[m]=Rn(this.b.Rf,this.b);l=M([l.featureNS,null],p);h.setAttribute("namespaceURI",this.g);(h=
N([],l,h,d,this.b))&&bb(c,h)}}}"FeatureCollection"==e&&(d=N([],this.b.b,a,[{}],this.b))&&(c=d)}return c};function Cu(){this.g=new Ts}v(Cu,Ss);Cu.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null};Cu.prototype.b=function(a){var b=a.getAttribute("version").trim(),c=this.g.b(a);if(!c)return null;c.version=b;return(c=N(c,Du,a,[]))?c:null};function Eu(a){var b=T(a).split(" ");if(b&&2==b.length)return a=+b[0],b=+b[1],isNaN(a)||isNaN(b)?void 0:[a,b]}
var Fu=[null,"http://www.opengis.net/wmts/1.0"],Gu=[null,"http://www.opengis.net/ows/1.1"],Du=M(Fu,{Contents:K(function(a,b){return N({},Hu,a,b)})}),Hu=M(Fu,{Layer:Tn(function(a,b){return N({},Iu,a,b)}),TileMatrixSet:Tn(function(a,b){return N({},Ju,a,b)})}),Iu=M(Fu,{Style:Tn(function(a,b){var c=N({},Ku,a,b);if(c){var d="true"===a.getAttribute("isDefault");c.isDefault=d;return c}}),Format:Tn(T),TileMatrixSetLink:Tn(function(a,b){return N({},Lu,a,b)}),Dimension:Tn(function(a,b){return N({},Mu,a,b)}),
ResourceURL:Tn(function(a){var b=a.getAttribute("format"),c=a.getAttribute("template");a=a.getAttribute("resourceType");var d={};b&&(d.format=b);c&&(d.template=c);a&&(d.resourceType=a);return d})},M(Gu,{Title:K(T),Abstract:K(T),WGS84BoundingBox:K(function(a,b){var c=N([],Nu,a,b);return 2!=c.length?void 0:Gb(c)}),Identifier:K(T)})),Ku=M(Fu,{LegendURL:Tn(function(a){var b={};b.format=a.getAttribute("format");b.href=Rs(a);return b})},M(Gu,{Title:K(T),Identifier:K(T)})),Lu=M(Fu,{TileMatrixSet:K(T),TileMatrixSetLimits:K(function(a,
b){return N([],Ou,a,b)})}),Ou=M(Fu,{TileMatrixLimits:Rn(function(a,b){return N({},Pu,a,b)})}),Pu=M(Fu,{TileMatrix:K(T),MinTileRow:K(np),MaxTileRow:K(np),MinTileCol:K(np),MaxTileCol:K(np)}),Mu=M(Fu,{Default:K(T),Value:Tn(T)},M(Gu,{Identifier:K(T)})),Nu=M(Gu,{LowerCorner:Rn(Eu),UpperCorner:Rn(Eu)}),Ju=M(Fu,{WellKnownScaleSet:K(T),TileMatrix:Tn(function(a,b){return N({},Qu,a,b)})},M(Gu,{SupportedCRS:K(T),Identifier:K(T)})),Qu=M(Fu,{TopLeftCorner:K(Eu),ScaleDenominator:K(lp),TileWidth:K(np),TileHeight:K(np),
MatrixWidth:K(np),MatrixHeight:K(np)},M(Gu,{Identifier:K(T)}));function Ru(a){Sa.call(this);a=a||{};this.a=null;this.c=Oc;this.f=void 0;B(this,Ua(Su),this.Ql,this);B(this,Ua(Tu),this.Rl,this);void 0!==a.projection&&this.nh(zc(a.projection));void 0!==a.trackingOptions&&this.Ci(a.trackingOptions);this.ne(void 0!==a.tracking?a.tracking:!1)}v(Ru,Sa);k=Ru.prototype;k.oa=function(){this.ne(!1);Sa.prototype.oa.call(this)};k.Ql=function(){var a=this.lh();a&&(this.c=yc(zc("EPSG:4326"),a),this.a&&this.set(Uu,this.c(this.a)))};
k.Rl=function(){if(qf){var a=this.mh();a&&void 0===this.f?this.f=navigator.geolocation.watchPosition(this.uo.bind(this),this.vo.bind(this),this.Wg()):a||void 0===this.f||(navigator.geolocation.clearWatch(this.f),this.f=void 0)}};
k.uo=function(a){a=a.coords;this.set(Vu,a.accuracy);this.set(Wu,null===a.altitude?void 0:a.altitude);this.set(Xu,null===a.altitudeAccuracy?void 0:a.altitudeAccuracy);this.set(Yu,null===a.heading?void 0:na(a.heading));this.a?(this.a[0]=a.longitude,this.a[1]=a.latitude):this.a=[a.longitude,a.latitude];var b=this.c(this.a);this.set(Uu,b);this.set(Zu,null===a.speed?void 0:a.speed);a=Bd(Eh,this.a,a.accuracy);a.sc(this.c);this.set($u,a);this.s()};k.vo=function(a){a.type="error";this.ne(!1);this.b(a)};
k.Tj=function(){return this.get(Vu)};k.Uj=function(){return this.get($u)||null};k.Wj=function(){return this.get(Wu)};k.Xj=function(){return this.get(Xu)};k.Ol=function(){return this.get(Yu)};k.Pl=function(){return this.get(Uu)};k.lh=function(){return this.get(Su)};k.Bk=function(){return this.get(Zu)};k.mh=function(){return this.get(Tu)};k.Wg=function(){return this.get(av)};k.nh=function(a){this.set(Su,a)};k.ne=function(a){this.set(Tu,a)};k.Ci=function(a){this.set(av,a)};
var Vu="accuracy",$u="accuracyGeometry",Wu="altitude",Xu="altitudeAccuracy",Yu="heading",Uu="position",Su="projection",Zu="speed",Tu="tracking",av="trackingOptions";function bv(a,b,c){Uc.call(this);this.dg(a,b?b:0,c)}v(bv,Uc);k=bv.prototype;k.clone=function(){var a=new bv(null);Xc(a,this.ka,this.B.slice());a.s();return a};k.Ab=function(a,b,c,d){var e=this.B;a-=e[0];var f=b-e[1];b=a*a+f*f;if(b<d){if(0===b)for(d=0;d<this.a;++d)c[d]=e[d];else for(d=this.qe()/Math.sqrt(b),c[0]=e[0]+d*a,c[1]=e[1]+d*f,d=2;d<this.a;++d)c[d]=e[d];c.length=this.a;return b}return d};k.Hc=function(a,b){var c=this.B,d=a-c[0],c=b-c[1];return d*d+c*c<=cv(this)};
k.Fd=function(){return this.B.slice(0,this.a)};k.Yd=function(a){var b=this.B,c=b[this.a]-b[0];return Rb(b[0]-c,b[1]-c,b[0]+c,b[1]+c,a)};k.qe=function(){return Math.sqrt(cv(this))};function cv(a){var b=a.B[a.a]-a.B[0];a=a.B[a.a+1]-a.B[1];return b*b+a*a}k.Y=function(){return"Circle"};k.Ta=function(a){var b=this.G();return jc(a,b)?(b=this.Fd(),a[0]<=b[0]&&a[2]>=b[0]||a[1]<=b[1]&&a[3]>=b[1]?!0:Xb(a,this.mb,this)):!1};
k.nm=function(a){var b=this.a,c=a.slice();c[b]=c[0]+(this.B[b]-this.B[0]);var d;for(d=1;d<b;++d)c[b+d]=a[d];Xc(this,this.ka,c);this.s()};k.dg=function(a,b,c){if(a){Yc(this,c,a,0);this.B||(this.B=[]);c=this.B;a=fd(c,a);c[a++]=c[0]+b;var d;b=1;for(d=this.a;b<d;++b)c[a++]=c[b];c.length=a}else Xc(this,"XY",null);this.s()};k.om=function(a){this.B[this.a]=this.B[0]+a;this.s()};function dv(a,b,c){for(var d=[],e=a(0),f=a(1),g=b(e),h=b(f),l=[f,e],m=[h,g],p=[1,0],n={},q=1E5,r,u,w,y,z;0<--q&&0<p.length;)w=p.pop(),e=l.pop(),g=m.pop(),f=w.toString(),f in n||(d.push(g[0],g[1]),n[f]=!0),y=p.pop(),f=l.pop(),h=m.pop(),z=(w+y)/2,r=a(z),u=b(r),la(u[0],u[1],g[0],g[1],h[0],h[1])<c?(d.push(h[0],h[1]),f=y.toString(),n[f]=!0):(p.push(y,z,z,w),m.push(h,u,u,g),l.push(f,r,r,e));return d}function ev(a,b,c,d,e){var f=zc("EPSG:4326");return dv(function(d){return[a,b+(c-b)*d]},Nc(f,d),e)}
function fv(a,b,c,d,e){var f=zc("EPSG:4326");return dv(function(d){return[b+(c-b)*d,a]},Nc(f,d),e)};function gv(a){a=a||{};this.c=this.l=null;this.g=this.i=Infinity;this.f=this.j=-Infinity;this.A=this.u=Infinity;this.D=this.C=-Infinity;this.va=void 0!==a.targetSize?a.targetSize:100;this.L=void 0!==a.maxLines?a.maxLines:100;this.b=[];this.a=[];this.ra=void 0!==a.strokeStyle?a.strokeStyle:hv;this.H=this.o=void 0;this.v=null;this.setMap(void 0!==a.map?a.map:null)}var hv=new wi({color:"rgba(0,0,0,0.2)"}),iv=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];
function jv(a,b,c,d,e,f,g){var h=g;b=ev(b,c,d,a.c,e);h=void 0!==a.b[h]?a.b[h]:new P(null);h.da("XY",b);jc(h.G(),f)&&(a.b[g++]=h);return g}function kv(a,b,c,d,e){var f=e;b=fv(b,a.f,a.g,a.c,c);f=void 0!==a.a[f]?a.a[f]:new P(null);f.da("XY",b);jc(f.G(),d)&&(a.a[e++]=f);return e}k=gv.prototype;k.Sl=function(){return this.l};k.qk=function(){return this.b};k.xk=function(){return this.a};
k.ah=function(a){var b=a.vectorContext,c=a.frameState,d=c.extent;a=c.viewState;var e=a.center,f=a.projection,g=a.resolution;a=c.pixelRatio;a=g*g/(4*a*a);if(!this.c||!Mc(this.c,f)){var h=zc("EPSG:4326"),l=f.G(),m=f.i,p=Qc(m,h,f),n=m[2],q=m[1],r=m[0],u=p[3],w=p[2],y=p[1],p=p[0];this.i=m[3];this.g=n;this.j=q;this.f=r;this.u=u;this.A=w;this.C=y;this.D=p;this.o=Nc(h,f);this.H=Nc(f,h);this.v=this.H(gc(l));this.c=f}f.a&&(f=f.G(),h=dc(f),c=c.focus[0],c<f[0]||c>f[2])&&(c=h*Math.ceil((f[0]-c)/h),d=[d[0]+c,
d[1],d[2]+c,d[3]]);c=this.v[0];f=this.v[1];h=-1;m=Math.pow(this.va*g,2);n=[];q=[];g=0;for(l=iv.length;g<l;++g){r=iv[g]/2;n[0]=c-r;n[1]=f-r;q[0]=c+r;q[1]=f+r;this.o(n,n);this.o(q,q);r=Math.pow(q[0]-n[0],2)+Math.pow(q[1]-n[1],2);if(r<=m)break;h=iv[g]}g=h;if(-1==g)this.b.length=this.a.length=0;else{c=this.H(e);e=c[0];c=c[1];f=this.L;h=[Math.max(d[0],this.D),Math.max(d[1],this.C),Math.min(d[2],this.A),Math.min(d[3],this.u)];h=Qc(h,this.c,"EPSG:4326");m=h[3];q=h[1];e=Math.floor(e/g)*g;n=ia(e,this.f,this.g);
l=jv(this,n,q,m,a,d,0);for(h=0;n!=this.f&&h++<f;)n=Math.max(n-g,this.f),l=jv(this,n,q,m,a,d,l);n=ia(e,this.f,this.g);for(h=0;n!=this.g&&h++<f;)n=Math.min(n+g,this.g),l=jv(this,n,q,m,a,d,l);this.b.length=l;c=Math.floor(c/g)*g;e=ia(c,this.j,this.i);l=kv(this,e,a,d,0);for(h=0;e!=this.j&&h++<f;)e=Math.max(e-g,this.j),l=kv(this,e,a,d,l);e=ia(c,this.j,this.i);for(h=0;e!=this.i&&h++<f;)e=Math.min(e+g,this.i),l=kv(this,e,a,d,l);this.a.length=l}b.Ma(null,this.ra);a=0;for(e=this.b.length;a<e;++a)g=this.b[a],
b.Pb(g,null);a=0;for(e=this.a.length;a<e;++a)g=this.a[a],b.Pb(g,null)};k.setMap=function(a){this.l&&(this.l.K("postcompose",this.ah,this),this.l.render());a&&(a.J("postcompose",this.ah,this),a.render());this.l=a};function lv(a,b,c,d,e){ag.call(this,a,b);this.l=c;this.g=new Image;null!==d&&(this.g.crossOrigin=d);this.i=null;this.o=e}v(lv,ag);k=lv.prototype;k.oa=function(){1==this.state&&mv(this);this.a&&Ha(this.a);this.state=5;this.s();ag.prototype.oa.call(this)};k.ub=function(){return this.g};k.bb=function(){return this.l};k.Tl=function(){this.state=3;mv(this);this.s()};k.Ul=function(){this.state=this.g.naturalWidth&&this.g.naturalHeight?cg:4;mv(this);this.s()};
k.load=function(){if(0==this.state||3==this.state)this.state=1,this.s(),this.i=[Da(this.g,"error",this.Tl,this),Da(this.g,"load",this.Ul,this)],this.o(this,this.l)};function mv(a){a.i.forEach(ya);a.i=null};function nv(a){a=a?a:{};lg.call(this,{handleEvent:mc});this.i=a.formatConstructors?a.formatConstructors:[];this.l=a.projection?zc(a.projection):null;this.a=null;this.target=a.target?a.target:null}v(nv,lg);function ov(a){a=a.dataTransfer.files;var b,c,d;b=0;for(c=a.length;b<c;++b){d=a.item(b);var e=new FileReader;e.addEventListener("load",this.j.bind(this,d));e.readAsText(d)}}function pv(a){a.stopPropagation();a.preventDefault();a.dataTransfer.dropEffect="copy"}
nv.prototype.j=function(a,b){var c=b.target.result,d=this.v,e=this.l;e||(e=d.aa().o);var d=this.i,f=[],g,h;g=0;for(h=d.length;g<h;++g){var l=new d[g];var m={featureProjection:e};try{f=l.La(c,m)}catch(p){f=null}if(f&&0<f.length)break}this.b(new qv(rv,a,f,e))};nv.prototype.setMap=function(a){this.a&&(this.a.forEach(ya),this.a=null);lg.prototype.setMap.call(this,a);a&&(a=this.target?this.target:a.f,this.a=[B(a,"drop",ov,this),B(a,"dragenter",pv,this),B(a,"dragover",pv,this),B(a,"drop",pv,this)])};
var rv="addfeatures";function qv(a,b,c,d){Ia.call(this,a);this.features=c;this.file=b;this.projection=d}v(qv,Ia);function sv(a){a=a?a:{};Bg.call(this,{handleDownEvent:tv,handleDragEvent:uv,handleUpEvent:vv});this.o=a.condition?a.condition:xg;this.a=this.i=void 0;this.j=0;this.u=void 0!==a.duration?a.duration:400}v(sv,Bg);function uv(a){if(zg(a)){var b=a.map,c=b.nb(),d=a.pixel;a=d[0]-c[0]/2;d=c[1]/2-d[1];c=Math.atan2(d,a);a=Math.sqrt(a*a+d*d);b=b.aa();void 0!==this.i&&(d=c-this.i,ng(b,b.Ra()-d));this.i=c;void 0!==this.a&&(c=this.a*(b.Oa()/a),pg(b,c));void 0!==this.a&&(this.j=this.a/a);this.a=a}}
function vv(a){if(!zg(a))return!0;a=a.map.aa();Jd(a,1,-1);var b=this.j-1,c=a.Ra(),c=a.constrainRotation(c,0);ng(a,c,void 0,void 0);var c=a.Oa(),d=this.u,c=a.constrainResolution(c,0,b);pg(a,c,void 0,d);this.j=0;return!1}function tv(a){return zg(a)&&this.o(a)?(Jd(a.map.aa(),1,1),this.a=this.i=void 0,!0):!1};function wv(){return[[-Infinity,-Infinity,Infinity,Infinity]]};function U(a){a=a||{};hm.call(this,{attributions:a.attributions,logo:a.logo,projection:void 0,state:"ready",wrapX:void 0!==a.wrapX?a.wrapX:!0});this.U=ea;this.P=a.format;this.xa=void 0==a.overlaps?!0:a.overlaps;this.Z=a.url;void 0!==a.loader?this.U=a.loader:void 0!==this.Z&&(ha(this.P,7),this.U=bo(this.Z,this.P));this.fc=void 0!==a.strategy?a.strategy:wv;var b=void 0!==a.useSpatialIndex?a.useSpatialIndex:!0;this.a=b?new jl:null;this.sa=new jl;this.i={};this.l={};this.o={};this.v={};this.c=null;var c,
d;a.features instanceof qe?(c=a.features,d=c.a):Array.isArray(a.features)&&(d=a.features);b||void 0!==c||(c=new qe(d));void 0!==d&&xv(this,d);void 0!==c&&yv(this,c)}v(U,hm);k=U.prototype;k.gb=function(a){var b=x(a).toString();if(zv(this,b,a)){Av(this,b,a);var c=a.V();c?(b=c.G(),this.a&&this.a.Da(b,a)):this.i[b]=a;this.b(new Bv(Cv,a))}this.s()};function Av(a,b,c){a.v[b]=[B(c,"change",a.Mh,a),B(c,Xa,a.Mh,a)]}
function zv(a,b,c){var d=!0,e=c.f;void 0!==e?e.toString()in a.l?d=!1:a.l[e.toString()]=c:(ha(!(b in a.o),30),a.o[b]=c);return d}k.Tc=function(a){xv(this,a);this.s()};function xv(a,b){var c,d,e,f,g=[],h=[],l=[];d=0;for(e=b.length;d<e;d++)f=b[d],c=x(f).toString(),zv(a,c,f)&&h.push(f);d=0;for(e=h.length;d<e;d++){f=h[d];c=x(f).toString();Av(a,c,f);var m=f.V();m?(c=m.G(),g.push(c),l.push(f)):a.i[c]=f}a.a&&a.a.load(g,l);d=0;for(e=h.length;d<e;d++)a.b(new Bv(Cv,h[d]))}
function yv(a,b){var c=!1;B(a,Cv,function(a){c||(c=!0,b.push(a.feature),c=!1)});B(a,Dv,function(a){c||(c=!0,b.remove(a.feature),c=!1)});B(b,ue,function(a){c||(c=!0,this.gb(a.element),c=!1)},a);B(b,ve,function(a){c||(c=!0,this.rb(a.element),c=!1)},a);a.c=b}
k.clear=function(a){if(a){for(var b in this.v)this.v[b].forEach(ya);this.c||(this.v={},this.l={},this.o={})}else if(this.a){this.a.forEach(this.$f,this);for(var c in this.i)this.$f(this.i[c])}this.c&&this.c.clear();this.a&&this.a.clear();this.sa.clear();this.i={};this.b(new Bv(Ev));this.s()};k.Fg=function(a,b){if(this.a)return this.a.forEach(a,b);if(this.c)return this.c.forEach(a,b)};function Fv(a,b,c){a.Qb([b[0],b[1],b[0],b[1]],function(a){if(a.V().mb(b))return c.call(void 0,a)})}
k.Qb=function(a,b,c){if(this.a)return pl(this.a,a,b,c);if(this.c)return this.c.forEach(b,c)};k.Gg=function(a,b,c){return this.Qb(a,function(d){if(d.V().Ta(a)&&(d=b.call(c,d)))return d})};k.Og=function(){return this.c};k.we=function(){var a;this.c?a=this.c.a:this.a&&(a=ll(this.a),wa(this.i)||bb(a,va(this.i)));return a};k.Ng=function(a){var b=[];Fv(this,a,function(a){b.push(a)});return b};k.nf=function(a){return ml(this.a,a)};
k.Jg=function(a,b){var c=a[0],d=a[1],e=null,f=[NaN,NaN],g=Infinity,h=[-Infinity,-Infinity,Infinity,Infinity],l=b?b:mc;pl(this.a,h,function(a){if(l(a)){var b=a.V(),n=g;g=b.Ab(c,d,f,g);g<n&&(e=a,a=Math.sqrt(g),h[0]=c-a,h[1]=d-a,h[2]=c+a,h[3]=d+a)}});return e};k.G=function(){return this.a.G()};k.Mg=function(a){a=this.l[a.toString()];return void 0!==a?a:null};k.Kh=function(){return this.P};k.Lh=function(){return this.Z};
k.Mh=function(a){a=a.target;var b=x(a).toString(),c=a.V();c?(c=c.G(),b in this.i?(delete this.i[b],this.a&&this.a.Da(c,a)):this.a&&kl(this.a,c,a)):b in this.i||(this.a&&this.a.remove(a),this.i[b]=a);c=a.f;void 0!==c?(c=c.toString(),b in this.o?(delete this.o[b],this.l[c]=a):this.l[c]!==a&&(Gv(this,a),this.l[c]=a)):b in this.o||(Gv(this,a),this.o[b]=a);this.s();this.b(new Bv(Hv,a))};
k.Ed=function(a,b,c){var d=this.sa;a=this.fc(a,b);var e,f;e=0;for(f=a.length;e<f;++e){var g=a[e];pl(d,g,function(a){return Ob(a.extent,g)})||(this.U.call(this,g,b,c),d.Da(g,{extent:g.slice()}))}};k.rb=function(a){var b=x(a).toString();b in this.i?delete this.i[b]:this.a&&this.a.remove(a);this.$f(a);this.s()};k.$f=function(a){var b=x(a).toString();this.v[b].forEach(ya);delete this.v[b];var c=a.f;void 0!==c?delete this.l[c.toString()]:delete this.o[b];this.b(new Bv(Dv,a))};
function Gv(a,b){for(var c in a.l)if(a.l[c]===b){delete a.l[c];break}}function Bv(a,b){Ia.call(this,a);this.feature=b}v(Bv,Ia);var Cv="addfeature",Hv="changefeature",Ev="clear",Dv="removefeature";function Iv(a){Bg.call(this,{handleDownEvent:Jv,handleEvent:Kv,handleUpEvent:Lv});this.fa=null;this.u=!1;this.Ua=a.source?a.source:null;this.xa=a.features?a.features:null;this.Mj=a.snapTolerance?a.snapTolerance:12;this.U=a.type;this.i=Mv(this.U);this.Fa=a.minPoints?a.minPoints:this.i===Nv?3:2;this.na=a.maxPoints?a.maxPoints:Infinity;this.fc=a.finishCondition?a.finishCondition:mc;var b=a.geometryFunction;if(!b)if("Circle"===this.U)b=function(a,b){var c=b?b:new bv([NaN,NaN]);c.dg(a[0],Math.sqrt(yb(a[0],
a[1])));return c};else{var c,d=this.i;d===Ov?c=C:d===Pv?c=P:d===Nv&&(c=E);b=function(a,b){var g=b;g?d===Nv?g.qa([a[0].concat([a[0][0]])]):g.qa(a):g=new c(a);return g}}this.D=b;this.P=this.C=this.a=this.L=this.j=this.o=null;this.Ob=a.clickTolerance?a.clickTolerance*a.clickTolerance:36;this.sa=new G({source:new U({useSpatialIndex:!1,wrapX:a.wrapX?a.wrapX:!1}),style:a.style?a.style:Qv()});this.Ja=a.geometryName;this.Lj=a.condition?a.condition:wg;this.Xe=a.freehand?mc:a.freehandCondition?a.freehandCondition:
xg;B(this,Ua(mg),this.Li,this)}v(Iv,Bg);function Qv(){var a=Ci();return function(b){return a[b.V().Y()]}}k=Iv.prototype;k.setMap=function(a){Bg.prototype.setMap.call(this,a);this.Li()};function Kv(a){this.u=this.i!==Ov&&this.Xe(a);var b=!this.u;this.u&&"pointerdrag"===a.type&&null!==this.j?(Rv(this,a),b=!1):"pointermove"===a.type?b=Sv(this,a):"dblclick"===a.type&&(b=!1);return Cg.call(this,a)&&b}
function Jv(a){return this.u?(this.fa=a.pixel,this.o||Tv(this,a),!0):this.Lj(a)?(this.fa=a.pixel,!0):!1}function Lv(a){var b=this.fa,c=a.pixel,d=b[0]-c[0],b=b[1]-c[1],d=d*d+b*b,b=!0,c=this.i===Uv;(this.u?d>this.Ob:d<=this.Ob)?(Sv(this,a),this.o?this.u||c?this.zd():Vv(this,a)?this.fc(a)&&this.zd():Rv(this,a):(Tv(this,a),this.i===Ov&&this.zd()),b=!1):c&&(this.o=null);return b}
function Sv(a,b){if(a.o){var c=b.coordinate,d=a.j.V(),e;a.i===Ov?e=a.a:a.i===Nv?(e=a.a[0],e=e[e.length-1],Vv(a,b)&&(c=a.o.slice())):(e=a.a,e=e[e.length-1]);e[0]=c[0];e[1]=c[1];a.D(a.a,d);a.L&&a.L.V().qa(c);d instanceof E&&a.i!==Nv?(a.C||(a.C=new J(new P(null))),d=d.Qg(0),c=a.C.V(),c.da(d.ka,d.ia())):a.P&&(c=a.C.V(),c.qa(a.P));Wv(a)}else c=b.coordinate.slice(),a.L?a.L.V().qa(c):(a.L=new J(new C(c)),Wv(a));return!0}
function Vv(a,b){var c=!1;if(a.j){var d=!1,e=[a.o];a.i===Pv?d=a.a.length>a.Fa:a.i===Nv&&(d=a.a[0].length>a.Fa,e=[a.a[0][0],a.a[0][a.a[0].length-2]]);if(d)for(var d=b.map,f=0,g=e.length;f<g;f++){var h=e[f],l=d.Ga(h),m=b.pixel,c=m[0]-l[0],l=m[1]-l[1];if(c=Math.sqrt(c*c+l*l)<=(a.u?1:a.Mj)){a.o=h;break}}}return c}
function Tv(a,b){var c=b.coordinate;a.o=c;a.i===Ov?a.a=c.slice():a.i===Nv?(a.a=[[c.slice(),c.slice()]],a.P=a.a[0]):(a.a=[c.slice(),c.slice()],a.i===Uv&&(a.P=a.a));a.P&&(a.C=new J(new P(a.P)));c=a.D(a.a);a.j=new J;a.Ja&&a.j.Nc(a.Ja);a.j.Pa(c);Wv(a);a.b(new Xv(Yv,a.j))}
function Rv(a,b){var c=b.coordinate,d=a.j.V(),e,f;a.i===Pv?(a.o=c.slice(),f=a.a,f.length>=a.na&&(a.u?f.pop():e=!0),f.push(c.slice()),a.D(f,d)):a.i===Nv&&(f=a.a[0],f.length>=a.na&&(a.u?f.pop():e=!0),f.push(c.slice()),e&&(a.o=f[0]),a.D(a.a,d));Wv(a);e&&a.zd()}k.Vo=function(){var a=this.j.V(),b,c;this.i===Pv?(b=this.a,b.splice(-2,1),this.D(b,a)):this.i===Nv&&(b=this.a[0],b.splice(-2,1),c=this.C.V(),c.qa(b),this.D(this.a,a));0===b.length&&(this.o=null);Wv(this)};
k.zd=function(){var a=Zv(this),b=this.a,c=a.V();this.i===Pv?(b.pop(),this.D(b,c)):this.i===Nv&&(b[0].pop(),this.D(b,c),b=c.$());"MultiPoint"===this.U?a.Pa(new R([b])):"MultiLineString"===this.U?a.Pa(new Q([b])):"MultiPolygon"===this.U&&a.Pa(new S([b]));this.b(new Xv($v,a));this.xa&&this.xa.push(a);this.Ua&&this.Ua.gb(a)};function Zv(a){a.o=null;var b=a.j;b&&(a.j=null,a.L=null,a.C=null,a.sa.la().clear(!0));return b}
k.vm=function(a){var b=a.V();this.j=a;this.a=b.$();a=this.a[this.a.length-1];this.o=a.slice();this.a.push(a.slice());Wv(this);this.b(new Xv(Yv,this.j))};k.Qc=nc;function Wv(a){var b=[];a.j&&b.push(a.j);a.C&&b.push(a.C);a.L&&b.push(a.L);a=a.sa.la();a.clear(!0);a.Tc(b)}k.Li=function(){var a=this.v,b=this.f();a&&b||Zv(this);this.sa.setMap(b?a:null)};
function Mv(a){var b;"Point"===a||"MultiPoint"===a?b=Ov:"LineString"===a||"MultiLineString"===a?b=Pv:"Polygon"===a||"MultiPolygon"===a?b=Nv:"Circle"===a&&(b=Uv);return b}var Ov="Point",Pv="LineString",Nv="Polygon",Uv="Circle";function Xv(a,b){Ia.call(this,a);this.feature=b}v(Xv,Ia);var Yv="drawstart",$v="drawend";function aw(a){this.a=this.j=null;this.C=!1;this.D=this.o=null;a||(a={});a.extent&&this.i(a.extent);Bg.call(this,{handleDownEvent:bw,handleDragEvent:cw,handleEvent:dw,handleUpEvent:ew});this.u=new G({source:new U({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.boxStyle?a.boxStyle:fw(),updateWhileAnimating:!0,updateWhileInteracting:!0});this.L=new G({source:new U({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.pointerStyle?a.pointerStyle:gw(),updateWhileAnimating:!0,updateWhileInteracting:!0})}v(aw,Bg);
function dw(a){if(!(a instanceof cf))return!0;if("pointermove"==a.type&&!this.A){var b=a.pixel,c=a.map,d=hw(this,b,c);d||(d=c.Sa(b));iw(this,d)}Cg.call(this,a);return!1}
function bw(a){function b(a){var b=null,c=null;a[0]==e[0]?b=e[2]:a[0]==e[2]&&(b=e[0]);a[1]==e[1]?c=e[3]:a[1]==e[3]&&(c=e[1]);return null!==b&&null!==c?[b,c]:null}var c=a.pixel,d=a.map,e=this.G();(a=hw(this,c,d))&&e?(c=a[0]==e[0]||a[0]==e[2]?a[0]:null,d=a[1]==e[1]||a[1]==e[3]?a[1]:null,null!==c&&null!==d?this.a=jw(b(a)):null!==c?this.a=kw(b([c,e[1]]),b([c,e[3]])):null!==d&&(this.a=kw(b([e[0],d]),b([e[2],d])))):(a=d.Sa(c),this.i([a[0],a[1],a[0],a[1]]),this.a=jw(a));return!0}
function cw(a){this.a&&(a=a.coordinate,this.i(this.a(a)),iw(this,a));return!0}function ew(){this.a=null;var a=this.G();a&&0!==bc(a)||this.i(null);return!1}function fw(){var a=Ci();return function(){return a.Polygon}}function gw(){var a=Ci();return function(){return a.Point}}function jw(a){return function(b){return Gb([a,b])}}function kw(a,b){return a[0]==b[0]?function(c){return Gb([a,[c[0],b[1]]])}:a[1]==b[1]?function(c){return Gb([a,[b[0],c[1]]])}:null}
function hw(a,b,c){function d(a,b){return zb(e,a)-zb(e,b)}var e=c.Sa(b),f=a.G();if(f){f=[[[f[0],f[1]],[f[0],f[3]]],[[f[0],f[3]],[f[2],f[3]]],[[f[2],f[3]],[f[2],f[1]]],[[f[2],f[1]],[f[0],f[1]]]];f.sort(d);var f=f[0],g=sb(e,f),h=c.Ga(g);if(10>=Math.sqrt(yb(b,h)))return b=c.Ga(f[0]),c=c.Ga(f[1]),b=yb(h,b),c=yb(h,c),a.C=10>=Math.sqrt(Math.min(b,c)),a.C&&(g=b>c?f[1]:f[0]),g}return null}function iw(a,b){var c=a.D;c?c.V().qa(b):(c=new J(new C(b)),a.D=c,a.L.la().gb(c))}
aw.prototype.setMap=function(a){this.u.setMap(a);this.L.setMap(a);Bg.prototype.setMap.call(this,a)};aw.prototype.G=function(){return this.j};aw.prototype.i=function(a){this.j=a?a:null;var b=this.o;b?a?b.Pa(Cd(a)):b.Pa(void 0):(this.o=b=a?new J(Cd(a)):new J({}),this.u.la().gb(b));this.b(new lw(this.j))};function lw(a){Ia.call(this,mw);this.b=a}v(lw,Ia);var mw="extentchanged";function nw(a){Bg.call(this,{handleDownEvent:ow,handleDragEvent:pw,handleEvent:qw,handleUpEvent:rw});this.Ua=a.condition?a.condition:Ag;this.xa=function(a){return wg(a)&&vg(a)};this.Ja=a.deleteCondition?a.deleteCondition:this.xa;this.Fa=this.a=null;this.sa=[0,0];this.C=this.L=!1;this.i=new jl;this.fa=void 0!==a.pixelTolerance?a.pixelTolerance:10;this.o=this.na=!1;this.j=[];this.D=new G({source:new U({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.style?a.style:sw(),updateWhileAnimating:!0,updateWhileInteracting:!0});
this.U={Point:this.Cm,LineString:this.uh,LinearRing:this.uh,Polygon:this.Dm,MultiPoint:this.Am,MultiLineString:this.zm,MultiPolygon:this.Bm,GeometryCollection:this.ym};this.u=a.features;this.u.forEach(this.Gf,this);B(this.u,ue,this.wm,this);B(this.u,ve,this.xm,this);this.P=null}v(nw,Bg);k=nw.prototype;k.Gf=function(a){var b=a.V();b&&b.Y()in this.U&&this.U[b.Y()].call(this,a,b);(b=this.v)&&b.a&&tw(this,this.sa,b);B(a,"change",this.th,this)};function uw(a,b){a.C||(a.C=!0,a.b(new vw(ww,a.u,b)))}
function xw(a,b){yw(a,b);a.a&&0===a.u.Ub()&&(a.D.la().rb(a.a),a.a=null);Ea(b,"change",a.th,a)}function yw(a,b){var c=a.i,d=[];c.forEach(function(a){b===a.feature&&d.push(a)});for(var e=d.length-1;0<=e;--e)c.remove(d[e])}k.Ea=function(a){this.a&&!a&&(this.D.la().rb(this.a),this.a=null);Bg.prototype.Ea.call(this,a)};k.setMap=function(a){this.D.setMap(a);Bg.prototype.setMap.call(this,a)};k.wm=function(a){this.Gf(a.element)};k.th=function(a){this.o||(a=a.target,xw(this,a),this.Gf(a))};
k.xm=function(a){xw(this,a.element)};k.Cm=function(a,b){var c=b.$(),c={feature:a,geometry:b,ta:[c,c]};this.i.Da(b.G(),c)};k.Am=function(a,b){var c=b.$(),d,e,f;e=0;for(f=c.length;e<f;++e)d=c[e],d={feature:a,geometry:b,depth:[e],index:e,ta:[d,d]},this.i.Da(b.G(),d)};k.uh=function(a,b){var c=b.$(),d,e,f,g;d=0;for(e=c.length-1;d<e;++d)f=c.slice(d,d+2),g={feature:a,geometry:b,index:d,ta:f},this.i.Da(Gb(f),g)};
k.zm=function(a,b){var c=b.$(),d,e,f,g,h,l,m;g=0;for(h=c.length;g<h;++g)for(d=c[g],e=0,f=d.length-1;e<f;++e)l=d.slice(e,e+2),m={feature:a,geometry:b,depth:[g],index:e,ta:l},this.i.Da(Gb(l),m)};k.Dm=function(a,b){var c=b.$(),d,e,f,g,h,l,m;g=0;for(h=c.length;g<h;++g)for(d=c[g],e=0,f=d.length-1;e<f;++e)l=d.slice(e,e+2),m={feature:a,geometry:b,depth:[g],index:e,ta:l},this.i.Da(Gb(l),m)};
k.Bm=function(a,b){var c=b.$(),d,e,f,g,h,l,m,p,n,q;l=0;for(m=c.length;l<m;++l)for(p=c[l],g=0,h=p.length;g<h;++g)for(d=p[g],e=0,f=d.length-1;e<f;++e)n=d.slice(e,e+2),q={feature:a,geometry:b,depth:[g,l],index:e,ta:n},this.i.Da(Gb(n),q)};k.ym=function(a,b){var c,d=b.f;for(c=0;c<d.length;++c)this.U[d[c].Y()].call(this,a,d[c])};function zw(a,b){var c=a.a;c?c.V().qa(b):(c=new J(new C(b)),a.a=c,a.D.la().gb(c))}function Aw(a,b){return a.index-b.index}
function ow(a){if(!this.Ua(a))return!1;tw(this,a.pixel,a.map);this.j.length=0;this.C=!1;var b=this.a;if(b){var c=[],b=b.V().$(),d=Gb([b]),d=ml(this.i,d),e={};d.sort(Aw);for(var f=0,g=d.length;f<g;++f){var h=d[f],l=h.ta,m=x(h.feature),p=h.depth;p&&(m+="-"+p.join("-"));e[m]||(e[m]=Array(2));if(vb(l[0],b)&&!e[m][0])this.j.push([h,0]),e[m][0]=h;else if(vb(l[1],b)&&!e[m][1]){if("LineString"!==h.geometry.Y()&&"MultiLineString"!==h.geometry.Y()||!e[m][0]||0!==e[m][0].index)this.j.push([h,1]),e[m][1]=h}else x(l)in
this.Fa&&!e[m][0]&&!e[m][1]&&c.push([h,b])}c.length&&uw(this,a);for(a=c.length-1;0<=a;--a)this.pl.apply(this,c[a])}return!!this.a}
function pw(a){this.L=!1;uw(this,a);a=a.coordinate;for(var b=0,c=this.j.length;b<c;++b){for(var d=this.j[b],e=d[0],f=e.depth,g=e.geometry,h=g.$(),l=e.ta,d=d[1];a.length<g.pa();)a.push(l[d][a.length]);switch(g.Y()){case "Point":h=a;l[0]=l[1]=a;break;case "MultiPoint":h[e.index]=a;l[0]=l[1]=a;break;case "LineString":h[e.index+d]=a;l[d]=a;break;case "MultiLineString":h[f[0]][e.index+d]=a;l[d]=a;break;case "Polygon":h[f[0]][e.index+d]=a;l[d]=a;break;case "MultiPolygon":h[f[1]][f[0]][e.index+d]=a,l[d]=
a}e=g;this.o=!0;e.qa(h);this.o=!1}zw(this,a)}function rw(a){for(var b,c=this.j.length-1;0<=c;--c)b=this.j[c][0],kl(this.i,Gb(b.ta),b);this.C&&(this.b(new vw(Bw,this.u,a)),this.C=!1);return!1}function qw(a){if(!(a instanceof cf))return!0;this.P=a;var b;Md(a.map.aa())[1]||"pointermove"!=a.type||this.A||(this.sa=a.pixel,tw(this,a.pixel,a.map));this.a&&this.Ja(a)&&(b="singleclick"==a.type&&this.L?!0:this.ki());"singleclick"==a.type&&(this.L=!1);return Cg.call(this,a)&&!b}
function tw(a,b,c){function d(a,b){return zb(e,a.ta)-zb(e,b.ta)}var e=c.Sa(b),f=Jb(Sb(e),c.aa().Oa()*a.fa),f=ml(a.i,f);if(0<f.length){f.sort(d);var g=f[0].ta,h=sb(e,g),l=c.Ga(h);if(Math.sqrt(yb(b,l))<=a.fa){b=c.Ga(g[0]);c=c.Ga(g[1]);b=yb(l,b);l=yb(l,c);a.na=Math.sqrt(Math.min(b,l))<=a.fa;a.na&&(h=b>l?g[1]:g[0]);zw(a,h);h={};h[x(g)]=!0;c=1;for(b=f.length;c<b;++c)if(l=f[c].ta,vb(g[0],l[0])&&vb(g[1],l[1])||vb(g[0],l[1])&&vb(g[1],l[0]))h[x(l)]=!0;else break;a.Fa=h;return}}a.a&&(a.D.la().rb(a.a),a.a=null)}
k.pl=function(a,b){for(var c=a.ta,d=a.feature,e=a.geometry,f=a.depth,g=a.index,h;b.length<e.pa();)b.push(0);switch(e.Y()){case "MultiLineString":h=e.$();h[f[0]].splice(g+1,0,b);break;case "Polygon":h=e.$();h[f[0]].splice(g+1,0,b);break;case "MultiPolygon":h=e.$();h[f[1]][f[0]].splice(g+1,0,b);break;case "LineString":h=e.$();h.splice(g+1,0,b);break;default:return}this.o=!0;e.qa(h);this.o=!1;h=this.i;h.remove(a);Cw(this,e,g,f,1);var l={ta:[c[0],b],feature:d,geometry:e,depth:f,index:g};h.Da(Gb(l.ta),
l);this.j.push([l,1]);c={ta:[b,c[1]],feature:d,geometry:e,depth:f,index:g+1};h.Da(Gb(c.ta),c);this.j.push([c,0]);this.L=!0};
k.ki=function(){if(this.P&&"pointerdrag"!=this.P.type){var a=this.P;uw(this,a);var b=this.j,c={},d,e,f,g,h,l,m,p,n;for(h=b.length-1;0<=h;--h)g=b[h],p=g[0],n=x(p.feature),p.depth&&(n+="-"+p.depth.join("-")),n in c||(c[n]={}),0===g[1]?(c[n].right=p,c[n].index=p.index):1==g[1]&&(c[n].left=p,c[n].index=p.index+1);for(n in c){m=c[n].right;h=c[n].left;g=c[n].index;l=g-1;p=void 0!==h?h:m;0>l&&(l=0);b=p.geometry;e=f=b.$();d=!1;switch(b.Y()){case "MultiLineString":2<f[p.depth[0]].length&&(f[p.depth[0]].splice(g,
1),d=!0);break;case "LineString":2<f.length&&(f.splice(g,1),d=!0);break;case "MultiPolygon":e=e[p.depth[1]];case "Polygon":e=e[p.depth[0]],4<e.length&&(g==e.length-1&&(g=0),e.splice(g,1),d=!0,0===g&&(e.pop(),e.push(e[0]),l=e.length-1))}d&&(d=b,this.o=!0,d.qa(f),this.o=!1,f=[],void 0!==h&&(this.i.remove(h),f.push(h.ta[0])),void 0!==m&&(this.i.remove(m),f.push(m.ta[1])),void 0!==h&&void 0!==m&&(h={depth:p.depth,feature:p.feature,geometry:p.geometry,index:l,ta:f},this.i.Da(Gb(h.ta),h)),Cw(this,b,g,p.depth,
-1),this.a&&(this.D.la().rb(this.a),this.a=null))}this.b(new vw(Bw,this.u,a));this.C=!1;return!0}return!1};function Cw(a,b,c,d,e){pl(a.i,b.G(),function(a){a.geometry===b&&(void 0===d||void 0===a.depth||db(a.depth,d))&&a.index>c&&(a.index+=e)})}function sw(){var a=Ci();return function(){return a.Point}}function vw(a,b,c){Ia.call(this,a);this.features=b;this.mapBrowserEvent=c}v(vw,Ia);var ww="modifystart",Bw="modifyend";function Dw(a){lg.call(this,{handleEvent:Ew});a=a?a:{};this.C=a.condition?a.condition:vg;this.A=a.addCondition?a.addCondition:nc;this.D=a.removeCondition?a.removeCondition:nc;this.L=a.toggleCondition?a.toggleCondition:xg;this.o=a.multi?a.multi:!1;this.l=a.filter?a.filter:mc;this.j=a.hitTolerance?a.hitTolerance:0;this.i=new G({source:new U({useSpatialIndex:!1,features:a.features,wrapX:a.wrapX}),style:a.style?a.style:Fw(),updateWhileAnimating:!0,updateWhileInteracting:!0});if(a.layers)if("function"===
typeof a.layers)a=a.layers;else{var b=a.layers;a=function(a){return Za(b,a)}}else a=mc;this.u=a;this.a={};a=this.i.la().c;B(a,ue,this.Em,this);B(a,ve,this.Im,this)}v(Dw,lg);k=Dw.prototype;k.Fm=function(){return this.i.la().c};k.Gm=function(){return this.j};k.Hm=function(a){a=x(a);return this.a[a]};
function Ew(a){if(!this.C(a))return!0;var b=this.A(a),c=this.D(a),d=this.L(a),e=!b&&!c&&!d,f=a.map,g=this.i.la().c,h=[],l=[];if(e){ua(this.a);f.ae(a.pixel,function(a,b){if(this.l(a,b)){l.push(a);var c=x(a);this.a[c]=b;return!this.o}}.bind(this),{layerFilter:this.u,hitTolerance:this.j});for(e=g.Ub()-1;0<=e;--e){var f=g.item(e),m=l.indexOf(f);-1<m?l.splice(m,1):(g.remove(f),h.push(f))}0!==l.length&&g.Bf(l)}else{f.ae(a.pixel,function(a,e){if(this.l(a,e)){if(!b&&!d||Za(g.a,a))(c||d)&&Za(g.a,a)&&(h.push(a),
f=x(a),delete this.a[f]);else{l.push(a);var f=x(a);this.a[f]=e}return!this.o}}.bind(this),{layerFilter:this.u,hitTolerance:this.j});for(e=h.length-1;0<=e;--e)g.remove(h[e]);g.Bf(l)}(0<l.length||0<h.length)&&this.b(new Gw(Hw,l,h,a));return ug(a)}k.Jm=function(a){this.j=a};k.setMap=function(a){var b=this.v,c=this.i.la().c;b&&c.forEach(b.Ji,b);lg.prototype.setMap.call(this,a);this.i.setMap(a);a&&c.forEach(a.Di,a)};
function Fw(){var a=Ci();bb(a.Polygon,a.LineString);bb(a.GeometryCollection,a.LineString);return function(b){return b.V()?a[b.V().Y()]:null}}k.Em=function(a){var b=this.v;b&&b.Di(a.element)};k.Im=function(a){var b=this.v;b&&b.Ji(a.element)};function Gw(a,b,c,d){Ia.call(this,a);this.selected=b;this.deselected=c;this.mapBrowserEvent=d}v(Gw,Ia);var Hw="select";function Iw(a){Bg.call(this,{handleEvent:Jw,handleDownEvent:mc,handleUpEvent:Kw});a=a?a:{};this.o=a.source?a.source:null;this.sa=void 0!==a.vertex?a.vertex:!0;this.P=void 0!==a.edge?a.edge:!0;this.j=a.features?a.features:null;this.na=[];this.C={};this.D={};this.U={};this.u={};this.L=null;this.i=void 0!==a.pixelTolerance?a.pixelTolerance:10;this.Fa=Lw.bind(this);this.a=new jl;this.fa={Point:this.Pm,LineString:this.xh,LinearRing:this.xh,Polygon:this.Qm,MultiPoint:this.Nm,MultiLineString:this.Mm,MultiPolygon:this.Om,
GeometryCollection:this.Lm}}v(Iw,Bg);k=Iw.prototype;k.gb=function(a,b){var c=void 0!==b?b:!0,d=x(a),e=a.V();if(e){var f=this.fa[e.Y()];f&&(this.U[d]=e.G(Hb()),f.call(this,a,e),c&&(this.D[d]=B(e,"change",this.Pk.bind(this,a),this)))}c&&(this.C[d]=B(a,Ua(a.a),this.Km,this))};k.Qj=function(a){this.gb(a)};k.Rj=function(a){this.rb(a)};k.vh=function(a){var b;a instanceof Bv?b=a.feature:a instanceof te&&(b=a.element);this.gb(b)};
k.wh=function(a){var b;a instanceof Bv?b=a.feature:a instanceof te&&(b=a.element);this.rb(b)};k.Km=function(a){a=a.target;this.rb(a,!0);this.gb(a,!0)};k.Pk=function(a){if(this.A){var b=x(a);b in this.u||(this.u[b]=a)}else this.Ki(a)};k.rb=function(a,b){var c=void 0!==b?b:!0,d=x(a),e=this.U[d];if(e){var f=this.a,g=[];pl(f,e,function(b){a===b.feature&&g.push(b)});for(e=g.length-1;0<=e;--e)f.remove(g[e]);c&&(Qa(this.D[d]),delete this.D[d])}c&&(Qa(this.C[d]),delete this.C[d])};
k.setMap=function(a){var b=this.v,c=this.na,d;this.j?d=this.j:this.o&&(d=this.o.we());b&&(c.forEach(Qa),c.length=0,d.forEach(this.Rj,this));Bg.prototype.setMap.call(this,a);a&&(this.j?c.push(B(this.j,ue,this.vh,this),B(this.j,ve,this.wh,this)):this.o&&c.push(B(this.o,Cv,this.vh,this),B(this.o,Dv,this.wh,this)),d.forEach(this.Qj,this))};k.Qc=nc;k.Ki=function(a){this.rb(a,!1);this.gb(a,!1)};k.Lm=function(a,b){var c,d=b.f;for(c=0;c<d.length;++c)this.fa[d[c].Y()].call(this,a,d[c])};
k.xh=function(a,b){var c=b.$(),d,e,f,g;d=0;for(e=c.length-1;d<e;++d)f=c.slice(d,d+2),g={feature:a,ta:f},this.a.Da(Gb(f),g)};k.Mm=function(a,b){var c=b.$(),d,e,f,g,h,l,m;g=0;for(h=c.length;g<h;++g)for(d=c[g],e=0,f=d.length-1;e<f;++e)l=d.slice(e,e+2),m={feature:a,ta:l},this.a.Da(Gb(l),m)};k.Nm=function(a,b){var c=b.$(),d,e,f;e=0;for(f=c.length;e<f;++e)d=c[e],d={feature:a,ta:[d,d]},this.a.Da(b.G(),d)};
k.Om=function(a,b){var c=b.$(),d,e,f,g,h,l,m,p,n,q;l=0;for(m=c.length;l<m;++l)for(p=c[l],g=0,h=p.length;g<h;++g)for(d=p[g],e=0,f=d.length-1;e<f;++e)n=d.slice(e,e+2),q={feature:a,ta:n},this.a.Da(Gb(n),q)};k.Pm=function(a,b){var c=b.$(),c={feature:a,ta:[c,c]};this.a.Da(b.G(),c)};k.Qm=function(a,b){var c=b.$(),d,e,f,g,h,l,m;g=0;for(h=c.length;g<h;++g)for(d=c[g],e=0,f=d.length-1;e<f;++e)l=d.slice(e,e+2),m={feature:a,ta:l},this.a.Da(Gb(l),m)};
function Jw(a){var b,c,d=a.pixel,e=a.coordinate;b=a.map;var f=b.Sa([d[0]-this.i,d[1]+this.i]);c=b.Sa([d[0]+this.i,d[1]-this.i]);var f=Gb([f,c]),g=ml(this.a,f),h,f=!1,l=null;c=null;if(0<g.length){this.L=e;g.sort(this.Fa);g=g[0].ta;if(this.sa&&!this.P){if(e=b.Ga(g[0]),h=b.Ga(g[1]),e=yb(d,e),d=yb(d,h),h=Math.sqrt(Math.min(e,d)),h=h<=this.i)f=!0,l=e>d?g[1]:g[0],c=b.Ga(l)}else this.P&&(l=sb(e,g),c=b.Ga(l),Math.sqrt(yb(d,c))<=this.i&&(f=!0,this.sa&&(e=b.Ga(g[0]),h=b.Ga(g[1]),e=yb(c,e),d=yb(c,h),h=Math.sqrt(Math.min(e,
d)),h=h<=this.i)))&&(l=e>d?g[1]:g[0],c=b.Ga(l));f&&(c=[Math.round(c[0]),Math.round(c[1])])}b=l;f&&(a.coordinate=b.slice(0,2),a.pixel=c);return Cg.call(this,a)}function Kw(){var a=va(this.u);a.length&&(a.forEach(this.Ki,this),this.u={});return!1}function Lw(a,b){return zb(this.L,a.ta)-zb(this.L,b.ta)};function Mw(a){Bg.call(this,{handleDownEvent:Nw,handleDragEvent:Ow,handleMoveEvent:Pw,handleUpEvent:Qw});a=a?a:{};this.o=void 0;this.a=null;this.j=void 0!==a.features?a.features:null;var b;if(a.layers)if("function"===typeof a.layers)b=a.layers;else{var c=a.layers;b=function(a){return Za(c,a)}}else b=mc;this.C=b;this.u=a.hitTolerance?a.hitTolerance:0;this.i=null}v(Mw,Bg);
function Nw(a){this.i=Rw(this,a.pixel,a.map);if(!this.a&&this.i){this.a=a.coordinate;Pw.call(this,a);var b=this.j||new qe([this.i]);this.b(new Sw(Tw,b,a.coordinate));return!0}return!1}function Qw(a){if(this.a){this.a=null;Pw.call(this,a);var b=this.j||new qe([this.i]);this.b(new Sw(Uw,b,a.coordinate));return!0}return!1}
function Ow(a){if(this.a){a=a.coordinate;var b=a[0]-this.a[0],c=a[1]-this.a[1],d=this.j||new qe([this.i]);d.forEach(function(a){var d=a.V();d.translate(b,c);a.Pa(d)});this.a=a;this.b(new Sw(Vw,d,a))}}function Pw(a){var b=a.map.Cc();Rw(this,a.pixel,a.map)?(this.o=b.style.cursor,b.style.cursor=this.a?"-webkit-grabbing":"-webkit-grab",b.style.cursor=this.a?"grabbing":"grab"):(b.style.cursor=void 0!==this.o?this.o:"",this.o=void 0)}
function Rw(a,b,c){return c.ae(b,function(a){if(!this.j||Za(this.j.a,a))return a}.bind(a),{layerFilter:a.C,hitTolerance:a.u})}Mw.prototype.D=function(){return this.u};Mw.prototype.L=function(a){this.u=a};function Sw(a,b,c){Ia.call(this,a);this.features=b;this.coordinate=c}v(Sw,Ia);var Tw="translatestart",Vw="translating",Uw="translateend";function V(a){a=a?a:{};var b=ta({},a);delete b.gradient;delete b.radius;delete b.blur;delete b.shadow;delete b.weight;G.call(this,b);this.f=null;this.U=void 0!==a.shadow?a.shadow:250;this.P=void 0;this.c=null;B(this,Ua(Ww),this.Qk,this);this.ui(a.gradient?a.gradient:Xw);this.ni(void 0!==a.blur?a.blur:15);this.Ah(void 0!==a.radius?a.radius:8);B(this,Ua(Yw),this.xf,this);B(this,Ua(Zw),this.xf,this);this.xf();var c=a.weight?a.weight:"weight",d;"string"===typeof c?d=function(a){return a.get(c)}:d=c;this.l(function(a){a=
d(a);a=void 0!==a?ia(a,0,1):1;var b=255*a|0,c=this.c[b];c||(c=[new xi({image:new xq({opacity:a,src:this.P})})],this.c[b]=c);return c}.bind(this));this.set("renderOrder",null);B(this,"render",this.gl,this)}v(V,G);var Xw=["#00f","#0ff","#0f0","#ff0","#f00"];k=V.prototype;k.Ig=function(){return this.get(Yw)};k.Pg=function(){return this.get(Ww)};k.zh=function(){return this.get(Zw)};
k.Qk=function(){for(var a=this.Pg(),b=De(1,256),c=b.createLinearGradient(0,0,1,256),d=1/(a.length-1),e=0,f=a.length;e<f;++e)c.addColorStop(e*d,a[e]);b.fillStyle=c;b.fillRect(0,0,1,256);this.f=b.getImageData(0,0,1,256).data};k.xf=function(){var a=this.zh(),b=this.Ig(),c=a+b+1,d=2*c,d=De(d,d);d.shadowOffsetX=d.shadowOffsetY=this.U;d.shadowBlur=b;d.shadowColor="#000";d.beginPath();b=c-this.U;d.arc(b,b,a,0,2*Math.PI,!0);d.fill();this.P=d.canvas.toDataURL();this.c=Array(256);this.s()};
k.gl=function(a){a=a.context;var b=a.canvas,b=a.getImageData(0,0,b.width,b.height),c=b.data,d,e,f;d=0;for(e=c.length;d<e;d+=4)if(f=4*c[d+3])c[d]=this.f[f],c[d+1]=this.f[f+1],c[d+2]=this.f[f+2];a.putImageData(b,0,0)};k.ni=function(a){this.set(Yw,a)};k.ui=function(a){this.set(Ww,a)};k.Ah=function(a){this.set(Zw,a)};var Yw="blur",Ww="gradient",Zw="radius";function $w(a,b,c,d){function e(){delete window[g];f.parentNode.removeChild(f)}var f=document.createElement("script"),g="olc_"+x(b);f.async=!0;f.src=a+(-1==a.indexOf("?")?"?":"&")+(d||"callback")+"="+g;var h=setTimeout(function(){e();c&&c()},1E4);window[g]=function(a){clearTimeout(h);e();b(a)};document.getElementsByTagName("head")[0].appendChild(f)};function ax(a,b,c,d,e,f,g,h,l,m,p){ag.call(this,e,0);this.C=void 0!==p?p:!1;this.A=g;this.u=h;this.H=null;this.f=b;this.l=d;this.o=f?f:e;this.g=[];this.kd=null;this.i=0;f=d.Na(this.o);h=this.l.G();e=this.f.G();f=h?ic(f,h):f;if(0===bc(f))this.state=4;else if((h=a.G())&&(e?e=ic(e,h):e=h),d=d.Ha(this.o[0]),d=am(a,c,gc(f),d),!isFinite(d)||0>=d)this.state=4;else if(this.v=new dm(a,c,f,e,d*(void 0!==m?m:.5)),0===this.v.f.length)this.state=4;else if(this.i=b.Ec(d),c=fm(this.v),e&&(a.a?(c[1]=ia(c[1],e[1],
e[3]),c[3]=ia(c[3],e[1],e[3])):c=ic(c,e)),bc(c)){a=fe(b,c,this.i);for(b=a.ea;b<=a.ca;b++)for(c=a.ga;c<=a.ja;c++)(m=l(this.i,b,c,g))&&this.g.push(m);0===this.g.length&&(this.state=4)}else this.state=4}v(ax,ag);ax.prototype.oa=function(){1==this.state&&(this.kd.forEach(ya),this.kd=null);ag.prototype.oa.call(this)};ax.prototype.ub=function(){return this.H};
ax.prototype.Ld=function(){var a=[];this.g.forEach(function(b){b&&b.W()==cg&&a.push({extent:this.f.Na(b.Ca),image:b.ub()})},this);this.g.length=0;if(0===a.length)this.state=3;else{var b=this.o[0],c=this.l.Za(b),d="number"===typeof c?c:c[0],c="number"===typeof c?c:c[1],b=this.l.Ha(b),e=this.f.Ha(this.i),f=this.l.Na(this.o);this.H=cm(d,c,this.A,e,this.f.G(),b,f,this.v,a,this.u,this.C);this.state=cg}this.s()};
ax.prototype.load=function(){if(0==this.state){this.state=1;this.s();var a=0;this.kd=[];this.g.forEach(function(b){var c=b.W();if(0==c||1==c){a++;var d;d=B(b,"change",function(){var c=b.W();if(c==cg||3==c||4==c)ya(d),a--,0===a&&(this.kd.forEach(ya),this.kd=null,this.Ld())},this);this.kd.push(d)}},this);this.g.forEach(function(a){0==a.W()&&a.load()});0===a&&setTimeout(this.Ld.bind(this),0)}};function bx(a,b){var c=/\{z\}/g,d=/\{x\}/g,e=/\{y\}/g,f=/\{-y\}/g;return function(g){if(g)return a.replace(c,g[0].toString()).replace(d,g[1].toString()).replace(e,function(){return(-g[2]-1).toString()}).replace(f,function(){var a=b.a?b.a[g[0]]:null;ha(a,55);return(a.ja-a.ga+1+g[2]).toString()})}}function cx(a,b){for(var c=a.length,d=Array(c),e=0;e<c;++e)d[e]=bx(a[e],b);return dx(d)}function dx(a){return 1===a.length?a[0]:function(b,c,d){if(b)return a[oa((b[1]<<b[0])+b[2],a.length)](b,c,d)}}
function ex(){}function fx(a){var b=[],c=/\{([a-z])-([a-z])\}/.exec(a);if(c){var d=c[2].charCodeAt(0),e;for(e=c[1].charCodeAt(0);e<=d;++e)b.push(a.replace(c[0],String.fromCharCode(e)));return b}if(c=c=/\{(\d+)-(\d+)\}/.exec(a)){d=parseInt(c[2],10);for(e=parseInt(c[1],10);e<=d;e++)b.push(a.replace(c[0],e.toString()));return b}b.push(a);return b};function gx(a){Fm.call(this);this.c=void 0!==a?a:2048}v(gx,Fm);function hx(a){return a.f>a.c}gx.prototype.Wc=function(a){for(var b,c;hx(this);){b=this.a.Rc;c=b.Ca[0].toString();var d;if(d=c in a)b=b.Ca,d=Ud(a[c],b[1],b[2]);if(d)break;else Ha(this.pop())}};function ix(a){hm.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state,wrapX:a.wrapX});this.sa=void 0!==a.opaque?a.opaque:!1;this.xa=void 0!==a.tilePixelRatio?a.tilePixelRatio:1;this.tileGrid=void 0!==a.tileGrid?a.tileGrid:null;this.a=new gx(a.cacheSize);this.l=[0,0];this.jc=""}v(ix,hm);k=ix.prototype;k.Ih=function(){return hx(this.a)};k.Wc=function(a,b){var c=this.Cd(a);c&&c.Wc(b)};
function Vi(a,b,c,d,e){b=a.Cd(b);if(!b)return!1;for(var f=!0,g,h,l=d.ea;l<=d.ca;++l)for(var m=d.ga;m<=d.ja;++m)g=a.Lb(c,l,m),h=!1,b.b.hasOwnProperty(g)&&(g=b.get(g),(h=g.W()===cg)&&(h=!1!==e(g))),h||(f=!1);return f}k.qf=function(){return 0};function jx(a,b){a.jc!==b&&(a.jc=b,a.s())}k.Lb=function(a,b,c){return a+"/"+b+"/"+c};k.tf=function(){return this.sa};k.Va=function(){return this.tileGrid};k.Db=function(a){return this.tileGrid?this.tileGrid:le(a)};
k.Cd=function(a){var b=this.f;return b&&!Mc(b,a)?null:this.a};k.jb=function(){return this.xa};k.Dd=function(a,b,c){c=this.Db(c);b=this.jb(b);a=Zd(c.Za(a),this.l);return 1==b?a:Yd(a,b,this.l)};function kx(a,b,c){var d=void 0!==c?c:a.f;c=a.Db(d);if(a.D&&d.g){var e=b;b=e[0];a=ke(c,e);d=me(d);Mb(d,a)?b=e:(e=dc(d),a[0]+=e*Math.ceil((d[0]-a[0])/e),b=c.wf(a,b))}e=b[0];d=b[1];a=b[2];if(c.minZoom>e||e>c.maxZoom)c=!1;else{var f=c.G();c=(c=f?fe(c,f,e):c.a?c.a[e]:null)?Ud(c,d,a):!0}return c?b:null}
k.wa=function(){this.a.clear();this.s()};k.ig=ea;function lx(a,b){Ia.call(this,a);this.tile=b}v(lx,Ia);function mx(a){ix.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX});this.tileLoadFunction=a.tileLoadFunction;this.tileUrlFunction=this.zc?this.zc.bind(this):ex;this.urls=null;a.urls?this.Ya(a.urls):a.url&&this.cb(a.url);a.tileUrlFunction&&this.Xa(a.tileUrlFunction)}v(mx,ix);k=mx.prototype;k.ib=function(){return this.tileLoadFunction};
k.kb=function(){return this.tileUrlFunction};k.lb=function(){return this.urls};k.Jh=function(a){a=a.target;switch(a.W()){case 1:this.b(new lx("tileloadstart",a));break;case cg:this.b(new lx("tileloadend",a));break;case 3:this.b(new lx("tileloaderror",a))}};k.sb=function(a){this.a.clear();this.tileLoadFunction=a;this.s()};k.Xa=function(a,b){this.tileUrlFunction=a;"undefined"!==typeof b?jx(this,b):this.s()};
k.cb=function(a){var b=this.urls=fx(a);this.Xa(this.zc?this.zc.bind(this):cx(b,this.tileGrid),a)};k.Ya=function(a){this.urls=a;var b=a.join("\n");this.Xa(this.zc?this.zc.bind(this):cx(a,this.tileGrid),b)};k.ig=function(a,b,c){a=this.Lb(a,b,c);this.a.b.hasOwnProperty(a)&&this.a.get(a)};function X(a){mx.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:nx,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:a.wrapX});this.crossOrigin=void 0!==a.crossOrigin?a.crossOrigin:null;this.tileClass=void 0!==a.tileClass?a.tileClass:lv;this.i={};this.v={};this.na=a.reprojectionErrorThreshold;
this.C=!1}v(X,mx);k=X.prototype;k.Ih=function(){if(hx(this.a))return!0;for(var a in this.i)if(hx(this.i[a]))return!0;return!1};k.Wc=function(a,b){var c=this.Cd(a);this.a.Wc(this.a==c?b:{});for(var d in this.i){var e=this.i[d];e.Wc(e==c?b:{})}};k.qf=function(a){return this.f&&a&&!Mc(this.f,a)?0:this.rf()};k.rf=function(){return 0};k.tf=function(a){return this.f&&a&&!Mc(this.f,a)?!1:mx.prototype.tf.call(this,a)};
k.Db=function(a){var b=this.f;return!this.tileGrid||b&&!Mc(b,a)?(b=x(a).toString(),b in this.v||(this.v[b]=le(a)),this.v[b]):this.tileGrid};k.Cd=function(a){var b=this.f;if(!b||Mc(b,a))return this.a;a=x(a).toString();a in this.i||(this.i[a]=new gx);return this.i[a]};function ox(a,b,c,d,e,f,g){b=[b,c,d];e=(c=kx(a,b,f))?a.tileUrlFunction(c,e,f):void 0;e=new a.tileClass(b,void 0!==e?0:4,void 0!==e?e:"",a.crossOrigin,a.tileLoadFunction);e.key=g;B(e,"change",a.Jh,a);return e}
k.Dc=function(a,b,c,d,e){if(this.f&&e&&!Mc(this.f,e)){var f=this.Cd(e);c=[a,b,c];var g;a=this.Lb.apply(this,c);f.b.hasOwnProperty(a)&&(g=f.get(a));b=this.jc;if(g&&g.key==b)return g;var h=this.f,l=this.Db(h),m=this.Db(e),p=kx(this,c,e);d=new ax(h,l,e,m,c,p,this.jb(d),this.rf(),function(a,b,c,d){return px(this,a,b,c,d,h)}.bind(this),this.na,this.C);d.key=b;g?(d.a=g,f.replace(a,d)):f.set(a,d);return d}return px(this,a,b,c,d,e)};
function px(a,b,c,d,e,f){var g,h=a.Lb(b,c,d),l=a.jc;if(a.a.b.hasOwnProperty(h)){if(g=a.a.get(h),g.key!=l){var m=g;g=ox(a,b,c,d,e,f,l);0==m.W()?g.a=m.a:g.a=m;if(g.a){b=g.a;c=g;do{if(b.W()==cg){b.a=null;break}else 1==b.W()?c=b:0==b.W()?c.a=b.a:c=b;b=c.a}while(b)}a.a.replace(h,g)}}else g=ox(a,b,c,d,e,f,l),a.a.set(h,g);return g}k.Hb=function(a){if(this.C!=a){this.C=a;for(var b in this.i)this.i[b].clear();this.s()}};k.Ib=function(a,b){var c=zc(a);c&&(c=x(c).toString(),c in this.v||(this.v[c]=b))};
function nx(a,b){a.ub().src=b};function qx(a){this.A=void 0!==a.hidpi?a.hidpi:!1;X.call(this,{cacheSize:a.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:zc("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:"loading",tileLoadFunction:a.tileLoadFunction,tilePixelRatio:this.A?2:1,wrapX:void 0!==a.wrapX?a.wrapX:!0});this.P=void 0!==a.culture?a.culture:"en-us";this.u=void 0!==a.maxZoom?a.maxZoom:-1;this.c=a.key;this.o=a.imagerySet;$w("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.o+"?uriScheme=https&include=ImageryProviders&key="+
this.c,this.fa.bind(this),void 0,"jsonp")}v(qx,X);var rx=new pe({html:'<a class="ol-attribution-bing-tos" href="http://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'});qx.prototype.U=function(){return this.c};qx.prototype.Z=function(){return this.o};
qx.prototype.fa=function(a){if(200!=a.statusCode||"OK"!=a.statusDescription||"ValidCredentials"!=a.authenticationResultCode||1!=a.resourceSets.length||1!=a.resourceSets[0].resources.length)jm(this,"error");else{var b=a.brandLogoUri;-1==b.indexOf("https")&&(b=b.replace("http","https"));var c=a.resourceSets[0].resources[0],d=-1==this.u?c.zoomMax:this.u;a=me(this.f);var e=oe({extent:a,minZoom:c.zoomMin,maxZoom:d,tileSize:(c.imageWidth==c.imageHeight?c.imageWidth:[c.imageWidth,c.imageHeight])/this.jb()});
this.tileGrid=e;var f=this.P,g=this.A;this.tileUrlFunction=dx(c.imageUrlSubdomains.map(function(a){var b=[0,0,0],d=c.imageUrl.replace("{subdomain}",a).replace("{culture}",f);return function(a){if(a)return $d(a[0],a[1],-a[2]-1,b),a=d,g&&(a+="&dpi=d1&device=mobile"),a.replace("{quadkey}",ae(b))}}));if(c.imageryProviders){var h=yc(zc("EPSG:4326"),this.f);a=c.imageryProviders.map(function(a){var b=a.attribution,c={};a.coverageAreas.forEach(function(a){var b=a.zoomMin,f=Math.min(a.zoomMax,d);a=a.bbox;
a=lc([a[1],a[0],a[3],a[2]],h);var g,l;for(g=b;g<=f;++g)l=g.toString(),b=fe(e,a,g),l in c?c[l].push(b):c[l]=[b]});return new pe({html:b,tileRanges:c})});a.push(rx);this.ua(a)}this.L=b;jm(this,"ready")}};function sx(a){a=a||{};var b=void 0!==a.projection?a.projection:"EPSG:3857",c=void 0!==a.tileGrid?a.tileGrid:oe({extent:me(b),maxZoom:a.maxZoom,minZoom:a.minZoom,tileSize:a.tileSize});X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:a.opaque,projection:b,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:c,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,
wrapX:void 0!==a.wrapX?a.wrapX:!0})}v(sx,X);function tx(a){this.u=a.account;this.A=a.map||"";this.c=a.config||{};this.o={};sx.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,maxZoom:void 0!==a.maxZoom?a.maxZoom:18,minZoom:a.minZoom,projection:a.projection,state:"loading",wrapX:a.wrapX});ux(this)}v(tx,sx);k=tx.prototype;k.$j=function(){return this.c};k.wp=function(a){ta(this.c,a);ux(this)};k.fp=function(a){this.c=a||{};ux(this)};
function ux(a){var b=JSON.stringify(a.c);if(a.o[b])vx(a,a.o[b]);else{var c="https://"+a.u+".cartodb.com/api/v1/map";a.A&&(c+="/named/"+a.A);var d=new XMLHttpRequest;d.addEventListener("load",a.Sk.bind(a,b));d.addEventListener("error",a.Rk.bind(a));d.open("POST",c);d.setRequestHeader("Content-type","application/json");d.send(JSON.stringify(a.c))}}
k.Sk=function(a,b){var c=b.target;if(!c.status||200<=c.status&&300>c.status){var d;try{d=JSON.parse(c.responseText)}catch(e){jm(this,"error");return}vx(this,d);this.o[a]=d;jm(this,"ready")}else jm(this,"error")};k.Rk=function(){jm(this,"error")};function vx(a,b){a.cb("https://"+b.cdn_url.https+"/"+a.u+"/api/v1/map/"+b.layergroupid+"/{z}/{x}/{y}.png")};function Y(a){U.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,wrapX:a.wrapX});this.C=void 0;this.fa=void 0!==a.distance?a.distance:20;this.A=[];this.na=a.geometryFunction||function(a){a=a.V();ha(a instanceof C,10);return a};this.u=a.source;this.u.J("change",Y.prototype.Ja,this)}v(Y,U);Y.prototype.Ua=function(){return this.u};Y.prototype.Ed=function(a,b,c){this.u.Ed(a,b,c);b!==this.C&&(this.clear(),this.C=b,wx(this),this.Tc(this.A))};
Y.prototype.Ob=function(a){this.fa=a;this.Ja()};Y.prototype.Ja=function(){this.clear();wx(this);this.Tc(this.A);this.s()};function wx(a){if(void 0!==a.C){a.A.length=0;for(var b=Hb(),c=a.fa*a.C,d=a.u.we(),e={},f=0,g=d.length;f<g;f++){var h=d[f];x(h).toString()in e||!(h=a.na(h))||(h=h.$(),Sb(h,b),Jb(b,c,b),h=a.u.nf(b),h=h.filter(function(a){a=x(a).toString();return a in e?!1:e[a]=!0}),a.A.push(xx(a,h)))}}}
function xx(a,b){for(var c=[0,0],d=b.length-1;0<=d;--d){var e=a.na(b[d]);e?rb(c,e.$()):b.splice(d,1)}xb(c,1/b.length);c=new J(new C(c));c.set("features",b);return c};function yx(a,b){var c=[];Object.keys(b).forEach(function(a){null!==b[a]&&void 0!==b[a]&&c.push(a+"="+encodeURIComponent(b[a]))});var d=c.join("&");a=a.replace(/[?&]$/,"");a=-1===a.indexOf("?")?a+"?":a+"&";return a+d};function zx(a){a=a||{};km.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions});this.Z=void 0!==a.crossOrigin?a.crossOrigin:null;this.i=a.url;this.l=void 0!==a.imageLoadFunction?a.imageLoadFunction:qm;this.u=a.params||{};this.c=null;this.v=[0,0];this.P=0;this.C=void 0!==a.ratio?a.ratio:1.5}v(zx,km);k=zx.prototype;k.Xm=function(){return this.u};
k.Xc=function(a,b,c,d){if(void 0===this.i)return null;b=lm(this,b);var e=this.c;if(e&&this.P==this.g&&e.resolution==b&&e.f==c&&Ob(e.G(),a))return e;e={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};ta(e,this.u);a=a.slice();var f=(a[0]+a[2])/2,g=(a[1]+a[3])/2;if(1!=this.C){var h=this.C*dc(a)/2,l=this.C*ec(a)/2;a[0]=f-h;a[1]=g-l;a[2]=f+h;a[3]=g+l}var h=b/c,l=Math.ceil(dc(a)/h),m=Math.ceil(ec(a)/h);a[0]=f-h*l/2;a[2]=f+h*l/2;a[1]=g-h*m/2;a[3]=g+h*m/2;this.v[0]=l;this.v[1]=m;f=a;g=this.v;d=d.hb.split(":").pop();
e.SIZE=g[0]+","+g[1];e.BBOX=f.join(",");e.BBOXSR=d;e.IMAGESR=d;e.DPI=90*c;d=this.i;f=d.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");f==d&&ha(!1,50);e=yx(f,e);this.c=new ii(a,b,c,this.j,e,this.Z,this.l);this.P=this.g;B(this.c,"change",this.o,this);return this.c};k.Wm=function(){return this.l};k.Ym=function(){return this.i};k.Zm=function(a){this.c=null;this.l=a;this.s()};k.$m=function(a){a!=this.i&&(this.i=a,this.c=null,this.s())};
k.an=function(a){ta(this.u,a);this.c=null;this.s()};function Ax(a){km.call(this,{projection:a.projection,resolutions:a.resolutions});this.Z=void 0!==a.crossOrigin?a.crossOrigin:null;this.v=void 0!==a.displayDpi?a.displayDpi:96;this.l=a.params||{};this.P=a.url;this.c=void 0!==a.imageLoadFunction?a.imageLoadFunction:qm;this.fa=void 0!==a.hidpi?a.hidpi:!0;this.na=void 0!==a.metersPerUnit?a.metersPerUnit:1;this.u=void 0!==a.ratio?a.ratio:1;this.xa=void 0!==a.useOverlay?a.useOverlay:!1;this.i=null;this.C=0}v(Ax,km);k=Ax.prototype;k.cn=function(){return this.l};
k.Xc=function(a,b,c){b=lm(this,b);c=this.fa?c:1;var d=this.i;if(d&&this.C==this.g&&d.resolution==b&&d.f==c&&Ob(d.G(),a))return d;1!=this.u&&(a=a.slice(),kc(a,this.u));var e=[dc(a)/b*c,ec(a)/b*c];if(void 0!==this.P){var d=this.P,f=gc(a),g=this.na,h=dc(a),l=ec(a),m=e[0],p=e[1],n=.0254/this.v,e={OPERATION:this.xa?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.v,SETDISPLAYWIDTH:Math.round(e[0]),SETDISPLAYHEIGHT:Math.round(e[1]),
SETVIEWSCALE:p*h>m*l?h*g/(m*n):l*g/(p*n),SETVIEWCENTERX:f[0],SETVIEWCENTERY:f[1]};ta(e,this.l);d=yx(d,e);d=new ii(a,b,c,this.j,d,this.Z,this.c);B(d,"change",this.o,this)}else d=null;this.i=d;this.C=this.g;return d};k.bn=function(){return this.c};k.en=function(a){ta(this.l,a);this.s()};k.dn=function(a){this.i=null;this.c=a;this.s()};function Bx(a){var b=a.imageExtent,c=void 0!==a.crossOrigin?a.crossOrigin:null,d=void 0!==a.imageLoadFunction?a.imageLoadFunction:qm;km.call(this,{attributions:a.attributions,logo:a.logo,projection:zc(a.projection)});this.c=new ii(b,void 0,1,this.j,a.url,c,d);this.i=a.imageSize?a.imageSize:null;B(this.c,"change",this.o,this)}v(Bx,km);Bx.prototype.Xc=function(a){return jc(a,this.c.G())?this.c:null};
Bx.prototype.o=function(a){if(this.c.W()==li){var b=this.c.G(),c=this.c.a(),d,e;this.i?(d=this.i[0],e=this.i[1]):(d=c.width,e=c.height);b=Math.ceil(dc(b)/(ec(b)/e));if(b!=d){var b=De(b,e),f=b.canvas;b.drawImage(c,0,0,d,e,0,0,f.width,f.height);this.c.g=f}}km.prototype.o.call(this,a)};function Cx(a){a=a||{};km.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions});this.na=void 0!==a.crossOrigin?a.crossOrigin:null;this.l=a.url;this.C=void 0!==a.imageLoadFunction?a.imageLoadFunction:qm;this.i=a.params||{};this.u=!0;Dx(this);this.fa=a.serverType;this.xa=void 0!==a.hidpi?a.hidpi:!0;this.c=null;this.P=[0,0];this.Z=0;this.v=void 0!==a.ratio?a.ratio:1.5}v(Cx,km);var Ex=[101,101];k=Cx.prototype;
k.ln=function(a,b,c,d){if(void 0!==this.l){var e=hc(a,b,0,Ex),f={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.i.LAYERS};ta(f,this.i,d);d=Math.floor((e[3]-a[1])/b);f[this.u?"I":"X"]=Math.floor((a[0]-e[0])/b);f[this.u?"J":"Y"]=d;return Fx(this,e,Ex,1,zc(c),f)}};k.nn=function(){return this.i};
k.Xc=function(a,b,c,d){if(void 0===this.l)return null;b=lm(this,b);1==c||this.xa&&void 0!==this.fa||(c=1);a=a.slice();var e=(a[0]+a[2])/2,f=(a[1]+a[3])/2,g=b/c,h=dc(a)/g,g=ec(a)/g,l=this.c;if(l&&this.Z==this.g&&l.resolution==b&&l.f==c&&Ob(l.G(),a))return l;if(1!=this.v){var l=this.v*dc(a)/2,m=this.v*ec(a)/2;a[0]=e-l;a[1]=f-m;a[2]=e+l;a[3]=f+m}e={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};ta(e,this.i);this.P[0]=Math.ceil(h*this.v);this.P[1]=Math.ceil(g*this.v);
d=Fx(this,a,this.P,c,d,e);this.c=new ii(a,b,c,this.j,d,this.na,this.C);this.Z=this.g;B(this.c,"change",this.o,this);return this.c};k.mn=function(){return this.C};
function Fx(a,b,c,d,e,f){ha(void 0!==a.l,9);f[a.u?"CRS":"SRS"]=e.hb;"STYLES"in a.i||(f.STYLES="");if(1!=d)switch(a.fa){case "geoserver":d=90*d+.5|0;f.FORMAT_OPTIONS="FORMAT_OPTIONS"in f?f.FORMAT_OPTIONS+(";dpi:"+d):"dpi:"+d;break;case "mapserver":f.MAP_RESOLUTION=90*d;break;case "carmentaserver":case "qgis":f.DPI=90*d;break;default:ha(!1,8)}f.WIDTH=c[0];f.HEIGHT=c[1];c=e.b;var g;a.u&&"ne"==c.substr(0,2)?g=[b[1],b[0],b[3],b[2]]:g=b;f.BBOX=g.join(",");return yx(a.l,f)}k.pn=function(){return this.l};
k.qn=function(a){this.c=null;this.C=a;this.s()};k.rn=function(a){a!=this.l&&(this.l=a,this.c=null,this.s())};k.sn=function(a){ta(this.i,a);Dx(this);this.c=null;this.s()};function Dx(a){a.u=0<=qb(a.i.VERSION||"1.3.0")};function Gx(a){a=a||{};var b;void 0!==a.attributions?b=a.attributions:b=[Hx];sx.call(this,{attributions:b,cacheSize:a.cacheSize,crossOrigin:void 0!==a.crossOrigin?a.crossOrigin:"anonymous",opaque:void 0!==a.opaque?a.opaque:!0,maxZoom:void 0!==a.maxZoom?a.maxZoom:19,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:void 0!==a.url?a.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:a.wrapX})}v(Gx,sx);var Hx=new pe({html:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});(function(){var a={},b={ma:a};(function(c){if("object"===typeof a&&"undefined"!==typeof b)b.ma=c();else{var d;"undefined"!==typeof window?d=window:"undefined"!==typeof global?d=global:"undefined"!==typeof self?d=self:d=this;d.Sp=c()}})(function(){return function d(a,b,g){function h(m,n){if(!b[m]){if(!a[m]){var q="function"==typeof require&&require;if(!n&&q)return q(m,!0);if(l)return l(m,!0);q=Error("Cannot find module '"+m+"'");throw q.code="MODULE_NOT_FOUND",q;}q=b[m]={ma:{}};a[m][0].call(q.ma,function(b){var d=
a[m][1][b];return h(d?d:b)},q,q.ma,d,a,b,g)}return b[m].ma}for(var l="function"==typeof require&&require,m=0;m<g.length;m++)h(g[m]);return h}({1:[function(a,b,f){a=a("./processor");f.ij=a},{"./processor":2}],2:[function(a,b){function f(a){var b=!0;try{new ImageData(10,10)}catch(d){b=!1}return function(d){var e=d.buffers,f=d.meta,g=d.width,h=d.height,l=e.length,m=e[0].byteLength;if(d.imageOps){m=Array(l);for(d=0;d<l;++d){var O=m,Ja=d,ca;ca=new Uint8ClampedArray(e[d]);var Ma=g,D=h;ca=b?new ImageData(ca,
Ma,D):{data:ca,width:Ma,height:D};O[Ja]=ca}g=a(m,f).data}else{g=new Uint8ClampedArray(m);h=Array(l);O=Array(l);for(d=0;d<l;++d)h[d]=new Uint8ClampedArray(e[d]),O[d]=[0,0,0,0];for(e=0;e<m;e+=4){for(d=0;d<l;++d)Ja=h[d],O[d][0]=Ja[e],O[d][1]=Ja[e+1],O[d][2]=Ja[e+2],O[d][3]=Ja[e+3];d=a(O,f);g[e]=d[0];g[e+1]=d[1];g[e+2]=d[2];g[e+3]=d[3]}}return g.buffer}}function g(a,b){var d=Object.keys(a.lib||{}).map(function(b){return"var "+b+" = "+a.lib[b].toString()+";"}).concat(["var __minion__ = ("+f.toString()+
")(",a.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),d=URL.createObjectURL(new Blob(d,{type:"text/javascript"})),d=new Worker(d);d.addEventListener("message",b);return d}function h(a,b){var d=f(a.operation);return{postMessage:function(a){setTimeout(function(){b({data:{buffer:d(a),meta:a.meta}})},0)}}}function l(a){this.Ze=!!a.nl;var b;0===a.threads?
b=0:this.Ze?b=1:b=a.threads||1;var d=[];if(b)for(var e=0;e<b;++e)d[e]=g(a,this.sg.bind(this,e));else d[0]=h(a,this.sg.bind(this,0));this.Wd=d;this.qd=[];this.wj=a.yo||Infinity;this.Ud=0;this.Sc={};this.$e=null}var m=a("./util").Hl;l.prototype.wo=function(a,b,d){this.uj({Fc:a,hh:b,Vc:d});this.pg()};l.prototype.uj=function(a){for(this.qd.push(a);this.qd.length>this.wj;)this.qd.shift().Vc(null,null)};l.prototype.pg=function(){if(0===this.Ud&&0<this.qd.length){var a=this.$e=this.qd.shift(),b=a.Fc[0].width,
d=a.Fc[0].height,e=a.Fc.map(function(a){return a.data.buffer}),f=this.Wd.length;this.Ud=f;if(1===f)this.Wd[0].postMessage({buffers:e,meta:a.hh,imageOps:this.Ze,width:b,height:d},e);else for(var g=4*Math.ceil(a.Fc[0].data.length/4/f),h=0;h<f;++h){for(var l=h*g,m=[],O=0,Ja=e.length;O<Ja;++O)m.push(e[h].slice(l,l+g));this.Wd[h].postMessage({buffers:m,meta:a.hh,imageOps:this.Ze,width:b,height:d},m)}}};l.prototype.sg=function(a,b){this.Qp||(this.Sc[a]=b.data,--this.Ud,0===this.Ud&&this.xj())};l.prototype.xj=
function(){var a=this.$e,b=this.Wd.length,d,e;if(1===b)d=new Uint8ClampedArray(this.Sc[0].buffer),e=this.Sc[0].meta;else{var f=a.Fc[0].data.length;d=new Uint8ClampedArray(f);e=Array(f);for(var f=4*Math.ceil(f/4/b),g=0;g<b;++g){var h=g*f;d.set(new Uint8ClampedArray(this.Sc[g].buffer),h);e[g]=this.Sc[g].meta}}this.$e=null;this.Sc={};a.Vc(null,m(d,a.Fc[0].width,a.Fc[0].height),e);this.pg()};b.ma=l},{"./util":3}],3:[function(a,b,f){var g=!0;try{new ImageData(10,10)}catch(l){g=!1}var h=document.createElement("canvas").getContext("2d");
f.Hl=function(a,b,d){if(g)return new ImageData(a,b,d);b=h.createImageData(b,d);b.data.set(a);return b}},{}]},{},[1])(1)});il=b.ma})();function Ix(a){this.C=null;this.xa=void 0!==a.operationType?a.operationType:Jx;this.Ja=void 0!==a.threads?a.threads:1;this.c=Kx(a.sources);for(var b=0,c=this.c.length;b<c;++b)B(this.c[b],"change",this.s,this);this.i=De();this.fa=new ig(function(){return 1},this.s.bind(this));for(var b=Lx(this.c),c={},d=0,e=b.length;d<e;++d)c[x(b[d].layer)]=b[d];this.l=this.v=null;this.Z={animate:!1,attributions:{},coordinateToPixelTransform:Ph(),extent:null,focus:null,index:0,layerStates:c,layerStatesArray:b,logos:{},
pixelRatio:1,pixelToCoordinateTransform:Ph(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.fa,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}};km.call(this,{});void 0!==a.operation&&this.u(a.operation,a.lib)}v(Ix,km);Ix.prototype.u=function(a,b){this.C=new il.ij({operation:a,nl:this.xa===Mx,yo:1,lib:b,threads:this.Ja});this.s()};function Nx(a,b,c){var d=a.v;return!d||a.g!==d.bp||c!==d.resolution||!Vb(b,d.extent)}
Ix.prototype.U=function(a,b,c,d){c=!0;for(var e,f=0,g=this.c.length;f<g;++f)if(e=this.c[f].a.la(),"ready"!==e.W()){c=!1;break}if(!c)return null;a=a.slice();if(!Nx(this,a,b))return this.l;c=this.i.canvas;e=Math.round(dc(a)/b);f=Math.round(ec(a)/b);if(e!==c.width||f!==c.height)c.width=e,c.height=f;e=ta({},this.Z);e.viewState=ta({},e.viewState);var f=gc(a),g=Math.round(dc(a)/b),h=Math.round(ec(a)/b);e.extent=a;e.focus=gc(a);e.size[0]=g;e.size[1]=h;g=e.viewState;g.center=f;g.projection=d;g.resolution=
b;this.l=d=new Xl(a,b,1,this.j,c,this.P.bind(this,e));this.v={extent:a,resolution:b,bp:this.g};return d};
Ix.prototype.P=function(a,b){for(var c=this.c.length,d=Array(c),e=0;e<c;++e){var f;f=this.c[e];var g=a,h=a.layerStatesArray[e];if(f.o(g,h)){var l=g.size[0],m=g.size[1];if(Ox){var p=Ox.canvas;p.width!==l||p.height!==m?Ox=De(l,m):Ox.clearRect(0,0,l,m)}else Ox=De(l,m);f.D(g,h,Ox);f=Ox.getImageData(0,0,l,m)}else f=null;if(f)d[e]=f;else{d=null;break}}d&&(c={},this.b(new Px(Qx,a,c)),this.C.wo(d,c,this.na.bind(this,a,b)));jg(a.tileQueue,16,16)};
Ix.prototype.na=function(a,b,c,d,e){c?b(c):d&&(this.b(new Px(Rx,a,e)),Nx(this,a.extent,a.viewState.resolution/a.pixelRatio)||this.i.putImageData(d,0,0),b(null))};var Ox=null;function Lx(a){return a.map(function(a){return wh(a.a)})}function Kx(a){for(var b=a.length,c=Array(b),d=0;d<b;++d){var e=d,f=a[d],g=null;f instanceof ix?(f=new F({source:f}),g=new ij(f)):f instanceof km&&(f=new ei({source:f}),g=new hj(f));c[e]=g}return c}
function Px(a,b,c){Ia.call(this,a);this.extent=b.extent;this.resolution=b.viewState.resolution/b.pixelRatio;this.data=c}v(Px,Ia);var Qx="beforeoperations",Rx="afteroperations",Jx="pixel",Mx="image";function Sx(a){var b=a.layer.indexOf("-"),b=Tx[-1==b?a.layer:a.layer.slice(0,b)],c=Ux[a.layer];sx.call(this,{attributions:Vx,cacheSize:a.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=a.maxZoom?a.maxZoom:b.maxZoom,minZoom:void 0!=a.minZoom?a.minZoom:b.minZoom,opaque:c.opaque,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:void 0!==a.url?a.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+a.layer+"/{z}/{x}/{y}."+c.Bb})}v(Sx,sx);
var Vx=[new pe({html:'Map tiles by <a href="http://stamen.com/">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.'}),Hx],Ux={terrain:{Bb:"jpg",opaque:!0},"terrain-background":{Bb:"jpg",opaque:!0},"terrain-labels":{Bb:"png",opaque:!1},"terrain-lines":{Bb:"png",opaque:!1},"toner-background":{Bb:"png",opaque:!0},toner:{Bb:"png",opaque:!0},"toner-hybrid":{Bb:"png",opaque:!1},"toner-labels":{Bb:"png",opaque:!1},"toner-lines":{Bb:"png",opaque:!1},"toner-lite":{Bb:"png",
opaque:!0},watercolor:{Bb:"jpg",opaque:!0}},Tx={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};function Wx(a){a=a||{};X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,url:a.url,urls:a.urls,wrapX:void 0!==a.wrapX?a.wrapX:!0});this.c=a.params||{};this.o=Hb();jx(this,Xx(this))}v(Wx,X);function Xx(a){var b=0,c=[],d;for(d in a.c)c[b++]=d+"-"+a.c[d];return c.join("/")}Wx.prototype.u=function(){return this.c};
Wx.prototype.jb=function(a){return a};
Wx.prototype.zc=function(a,b,c){var d=this.tileGrid;d||(d=this.Db(c));if(!(d.b.length<=a[0])){var e=d.Na(a,this.o),f=Zd(d.Za(a[0]),this.l);1!=b&&(f=Yd(f,b,this.l));d={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};ta(d,this.c);var g=this.urls;g?(c=c.hb.split(":").pop(),d.SIZE=f[0]+","+f[1],d.BBOX=e.join(","),d.BBOXSR=c,d.IMAGESR=c,d.DPI=Math.round(d.DPI?d.DPI*b:90*b),a=(1==g.length?g[0]:g[oa((a[1]<<a[0])+a[2],g.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),
a=yx(a,d)):a=void 0;return a}};Wx.prototype.A=function(a){ta(this.c,a);jx(this,Xx(this))};function Yx(a){ix.call(this,{opaque:!1,projection:a.projection,tileGrid:a.tileGrid,wrapX:void 0!==a.wrapX?a.wrapX:!0})}v(Yx,ix);Yx.prototype.Dc=function(a,b,c){var d=this.Lb(a,b,c);if(this.a.b.hasOwnProperty(d))return this.a.get(d);var e=Zd(this.tileGrid.Za(a));a=[a,b,c];b=(b=kx(this,a))?kx(this,b).toString():"";e=new Zx(a,e,b);this.a.set(d,e);return e};function Zx(a,b,c){ag.call(this,a,cg);this.i=b;this.f=c;this.g=null}v(Zx,ag);
Zx.prototype.ub=function(){if(this.g)return this.g;var a=this.i,b=De(a[0],a[1]);b.strokeStyle="black";b.strokeRect(.5,.5,a[0]+.5,a[1]+.5);b.fillStyle="black";b.textAlign="center";b.textBaseline="middle";b.font="24px sans-serif";b.fillText(this.f,a[0]/2,a[1]/2);return this.g=b.canvas};function $x(a){this.c=null;X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,projection:zc("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:"loading",tileLoadFunction:a.tileLoadFunction,wrapX:void 0!==a.wrapX?a.wrapX:!0});if(a.jsonp)$w(a.url,this.Gh.bind(this),this.ue.bind(this));else{var b=new XMLHttpRequest;b.addEventListener("load",this.vn.bind(this));b.addEventListener("error",this.tn.bind(this));b.open("GET",a.url);b.send()}}
v($x,X);k=$x.prototype;k.vn=function(a){a=a.target;if(!a.status||200<=a.status&&300>a.status){var b;try{b=JSON.parse(a.responseText)}catch(c){this.ue();return}this.Gh(b)}else this.ue()};k.tn=function(){this.ue()};k.Fk=function(){return this.c};
k.Gh=function(a){var b=zc("EPSG:4326"),c=this.f,d;if(void 0!==a.bounds){var e=yc(b,c);d=lc(a.bounds,e)}var f=a.minzoom||0,e=a.maxzoom||22;this.tileGrid=c=oe({extent:me(c),maxZoom:e,minZoom:f});this.tileUrlFunction=cx(a.tiles,c);if(void 0!==a.attribution&&!this.j){b=void 0!==d?d:b.G();d={};for(var g;f<=e;++f)g=f.toString(),d[g]=[fe(c,b,f)];this.ua([new pe({html:a.attribution,tileRanges:d})])}this.c=a;jm(this,"ready")};k.ue=function(){jm(this,"error")};function ay(a){ix.call(this,{projection:zc("EPSG:3857"),state:"loading"});this.v=void 0!==a.preemptive?a.preemptive:!0;this.o=ex;this.i=void 0;this.c=a.jsonp||!1;if(a.url)if(this.c)$w(a.url,this.Kf.bind(this),this.ve.bind(this));else{var b=new XMLHttpRequest;b.addEventListener("load",this.zn.bind(this));b.addEventListener("error",this.yn.bind(this));b.open("GET",a.url);b.send()}else a.tileJSON?this.Kf(a.tileJSON):ha(!1,51)}v(ay,ix);k=ay.prototype;
k.zn=function(a){a=a.target;if(!a.status||200<=a.status&&300>a.status){var b;try{b=JSON.parse(a.responseText)}catch(c){this.ve();return}this.Kf(b)}else this.ve()};k.yn=function(){this.ve()};k.Ck=function(){return this.i};k.Pj=function(a,b,c,d,e){this.tileGrid?(b=this.tileGrid.fe(a,b),by(this.Dc(b[0],b[1],b[2],1,this.f),a,c,d,e)):!0===e?setTimeout(function(){c.call(d,null)},0):c.call(d,null)};k.ve=function(){jm(this,"error")};
k.Kf=function(a){var b=zc("EPSG:4326"),c=this.f,d;if(void 0!==a.bounds){var e=yc(b,c);d=lc(a.bounds,e)}var f=a.minzoom||0,e=a.maxzoom||22;this.tileGrid=c=oe({extent:me(c),maxZoom:e,minZoom:f});this.i=a.template;var g=a.grids;if(g){this.o=cx(g,c);if(void 0!==a.attribution){b=void 0!==d?d:b.G();for(d={};f<=e;++f)g=f.toString(),d[g]=[fe(c,b,f)];this.ua([new pe({html:a.attribution,tileRanges:d})])}jm(this,"ready")}else jm(this,"error")};
k.Dc=function(a,b,c,d,e){var f=this.Lb(a,b,c);if(this.a.b.hasOwnProperty(f))return this.a.get(f);a=[a,b,c];b=kx(this,a,e);d=this.o(b,d,e);d=new cy(a,void 0!==d?0:4,void 0!==d?d:"",this.tileGrid.Na(a),this.v,this.c);this.a.set(f,d);return d};k.ig=function(a,b,c){a=this.Lb(a,b,c);this.a.b.hasOwnProperty(a)&&this.a.get(a)};function cy(a,b,c,d,e,f){ag.call(this,a,b);this.o=c;this.g=d;this.H=e;this.f=this.l=this.i=null;this.v=f}v(cy,ag);k=cy.prototype;k.ub=function(){return null};
k.getData=function(a){if(!this.i||!this.l)return null;var b=this.i[Math.floor((1-(a[1]-this.g[1])/(this.g[3]-this.g[1]))*this.i.length)];if("string"!==typeof b)return null;b=b.charCodeAt(Math.floor((a[0]-this.g[0])/(this.g[2]-this.g[0])*b.length));93<=b&&b--;35<=b&&b--;b-=32;a=null;b in this.l&&(b=this.l[b],this.f&&b in this.f?a=this.f[b]:a=b);return a};
function by(a,b,c,d,e){0==a.state&&!0===e?(Da(a,"change",function(){c.call(d,this.getData(b))},a),dy(a)):!0===e?setTimeout(function(){c.call(d,this.getData(b))}.bind(a),0):c.call(d,a.getData(b))}k.bb=function(){return this.o};k.ge=function(){this.state=3;this.s()};k.Hh=function(a){this.i=a.grid;this.l=a.keys;this.f=a.data;this.state=4;this.s()};
function dy(a){if(0==a.state)if(a.state=1,a.v)$w(a.o,a.Hh.bind(a),a.ge.bind(a));else{var b=new XMLHttpRequest;b.addEventListener("load",a.xn.bind(a));b.addEventListener("error",a.wn.bind(a));b.open("GET",a.o);b.send()}}k.xn=function(a){a=a.target;if(!a.status||200<=a.status&&300>a.status){var b;try{b=JSON.parse(a.responseText)}catch(c){this.ge();return}this.Hh(b)}else this.ge()};k.wn=function(){this.ge()};k.load=function(){this.H&&dy(this)};function ey(a){a=a||{};var b=a.params||{};X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:!("TRANSPARENT"in b?b.TRANSPARENT:1),projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,url:a.url,urls:a.urls,wrapX:void 0!==a.wrapX?a.wrapX:!0});this.u=void 0!==a.gutter?a.gutter:0;this.c=b;this.o=!0;this.A=a.serverType;this.U=void 0!==a.hidpi?a.hidpi:!0;this.P="";
fy(this);this.Z=Hb();gy(this);jx(this,hy(this))}v(ey,X);k=ey.prototype;
k.An=function(a,b,c,d){c=zc(c);var e=this.tileGrid;e||(e=this.Db(c));b=e.fe(a,b);if(!(e.b.length<=b[0])){var f=e.Ha(b[0]),g=e.Na(b,this.Z),e=Zd(e.Za(b[0]),this.l),h=this.u;0!==h&&(e=Xd(e,h,this.l),g=Jb(g,f*h,g));h={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.c.LAYERS};ta(h,this.c,d);d=Math.floor((g[3]-a[1])/f);h[this.o?"I":"X"]=Math.floor((a[0]-g[0])/f);h[this.o?"J":"Y"]=d;return iy(this,b,e,g,1,c,h)}};k.rf=function(){return this.u};
k.Lb=function(a,b,c){return this.P+X.prototype.Lb.call(this,a,b,c)};k.Bn=function(){return this.c};
function iy(a,b,c,d,e,f,g){var h=a.urls;if(h){g.WIDTH=c[0];g.HEIGHT=c[1];g[a.o?"CRS":"SRS"]=f.hb;"STYLES"in a.c||(g.STYLES="");if(1!=e)switch(a.A){case "geoserver":c=90*e+.5|0;g.FORMAT_OPTIONS="FORMAT_OPTIONS"in g?g.FORMAT_OPTIONS+(";dpi:"+c):"dpi:"+c;break;case "mapserver":g.MAP_RESOLUTION=90*e;break;case "carmentaserver":case "qgis":g.DPI=90*e;break;default:ha(!1,52)}f=f.b;a.o&&"ne"==f.substr(0,2)&&(a=d[0],d[0]=d[1],d[1]=a,a=d[2],d[2]=d[3],d[3]=a);g.BBOX=d.join(",");return yx(1==h.length?h[0]:h[oa((b[1]<<
b[0])+b[2],h.length)],g)}}k.jb=function(a){return this.U&&void 0!==this.A?a:1};function fy(a){var b=0,c=[];if(a.urls){var d,e;d=0;for(e=a.urls.length;d<e;++d)c[b++]=a.urls[d]}a.P=c.join("#")}function hy(a){var b=0,c=[],d;for(d in a.c)c[b++]=d+"-"+a.c[d];return c.join("/")}
k.zc=function(a,b,c){var d=this.tileGrid;d||(d=this.Db(c));if(!(d.b.length<=a[0])){1==b||this.U&&void 0!==this.A||(b=1);var e=d.Ha(a[0]),f=d.Na(a,this.Z),d=Zd(d.Za(a[0]),this.l),g=this.u;0!==g&&(d=Xd(d,g,this.l),f=Jb(f,e*g,f));1!=b&&(d=Yd(d,b,this.l));e={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};ta(e,this.c);return iy(this,a,d,f,b,c,e)}};k.Ya=function(a){X.prototype.Ya.call(this,a);fy(this)};k.Cn=function(a){ta(this.c,a);fy(this);gy(this);jx(this,hy(this))};
function gy(a){a.o=0<=qb(a.c.VERSION||"1.3.0")};function jy(a,b,c,d,e){ag.call(this,a,b);this.f=De();this.l=d;this.i=null;this.g={xd:!1,bg:null,li:-1,cg:-1,jd:null};this.H=e;this.o=c}v(jy,ag);k=jy.prototype;k.ub=function(){return-1==this.g.cg?null:this.f.canvas};k.Yl=function(){return this.l};k.bb=function(){return this.o};k.load=function(){0==this.state&&(this.state=1,this.s(),this.H(this,this.o),this.v(null,NaN,null))};k.ho=function(a,b){this.Ff(b);this.ri(a)};k.fo=function(){this.state=3;this.s()};k.ri=function(a){this.i=a;this.state=cg;this.s()};
k.Ff=function(a){this.j=a};k.wi=function(a){this.v=a};function ky(a,b){a.wi(ao(b,a.l,a.ho.bind(a),a.fo.bind(a)))};function ly(a){mx.call(this,{attributions:a.attributions,cacheSize:void 0!==a.cacheSize?a.cacheSize:128,extent:a.extent,logo:a.logo,opaque:!1,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:ky,tileUrlFunction:a.tileUrlFunction,tilePixelRatio:a.tilePixelRatio,url:a.url,urls:a.urls,wrapX:void 0===a.wrapX?!0:a.wrapX});this.c=a.format?a.format:null;this.i=void 0==a.overlaps?!0:a.overlaps;this.tileClass=a.tileClass?a.tileClass:jy}v(ly,mx);
ly.prototype.Dc=function(a,b,c,d,e){var f=this.Lb(a,b,c);if(this.a.b.hasOwnProperty(f))return this.a.get(f);a=[a,b,c];d=(b=kx(this,a,e))?this.tileUrlFunction(b,d,e):void 0;d=new this.tileClass(a,void 0!==d?0:4,void 0!==d?d:"",this.c,this.tileLoadFunction);B(d,"change",this.Jh,this);this.a.set(f,d);return d};ly.prototype.jb=function(a){return void 0==a?mx.prototype.jb.call(this,a):a};ly.prototype.Dd=function(a,b){var c=Zd(this.tileGrid.Za(a));return[Math.round(c[0]*b),Math.round(c[1]*b)]};function my(a){this.l=a.matrixIds;be.call(this,{extent:a.extent,origin:a.origin,origins:a.origins,resolutions:a.resolutions,tileSize:a.tileSize,tileSizes:a.tileSizes,sizes:a.sizes})}v(my,be);my.prototype.o=function(){return this.l};
function ny(a,b,c){var d=[],e=[],f=[],g=[],h=[],l=void 0!==c?c:[];c=zc(a.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var m=c.ic(),p="ne"==c.b.substr(0,2);a.TileMatrix.sort(function(a,b){return b.ScaleDenominator-a.ScaleDenominator});a.TileMatrix.forEach(function(a){var b;0<l.length?b=cb(l,function(b){return a.Identifier==b.TileMatrix}):b=!0;if(b){e.push(a.Identifier);b=2.8E-4*a.ScaleDenominator/m;var c=a.TileWidth,u=a.TileHeight;p?f.push([a.TopLeftCorner[1],a.TopLeftCorner[0]]):
f.push(a.TopLeftCorner);d.push(b);g.push(c==u?c:[c,u]);h.push([a.MatrixWidth,-a.MatrixHeight])}});return new my({extent:b,origins:f,resolutions:d,matrixIds:e,tileSizes:g,sizes:h})};function Z(a){function b(a){a=d==oy?yx(a,f):a.replace(/\{(\w+?)\}/g,function(a,b){return b.toLowerCase()in f?f[b.toLowerCase()]:a});return function(b){if(b){var c={TileMatrix:e.l[b[0]],TileCol:b[1],TileRow:-b[2]-1};ta(c,g);b=a;return b=d==oy?yx(b,c):b.replace(/\{(\w+?)\}/g,function(a,b){return c[b]})}}}this.Z=void 0!==a.version?a.version:"1.0.0";this.u=void 0!==a.format?a.format:"image/jpeg";this.c=void 0!==a.dimensions?a.dimensions:{};this.A=a.layer;this.o=a.matrixSet;this.P=a.style;var c=a.urls;
void 0===c&&void 0!==a.url&&(c=fx(a.url));var d=this.U=void 0!==a.requestEncoding?a.requestEncoding:oy,e=a.tileGrid,f={layer:this.A,style:this.P,tilematrixset:this.o};d==oy&&ta(f,{Service:"WMTS",Request:"GetTile",Version:this.Z,Format:this.u});var g=this.c,h=c&&0<c.length?dx(c.map(b)):ex;X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:a.tileClass,tileGrid:e,
tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:h,urls:c,wrapX:void 0!==a.wrapX?a.wrapX:!1});jx(this,py(this))}v(Z,X);k=Z.prototype;k.bk=function(){return this.c};k.Dn=function(){return this.u};k.En=function(){return this.A};k.pk=function(){return this.o};k.Ak=function(){return this.U};k.Fn=function(){return this.P};k.Hk=function(){return this.Z};function py(a){var b=0,c=[],d;for(d in a.c)c[b++]=d+"-"+a.c[d];return c.join("/")}
k.xp=function(a){ta(this.c,a);jx(this,py(this))};var oy="KVP";function qy(a){a=a||{};var b=a.size,c=b[0],d=b[1],e=[],f=256;switch(void 0!==a.tierSizeCalculation?a.tierSizeCalculation:ry){case ry:for(;c>f||d>f;)e.push([Math.ceil(c/f),Math.ceil(d/f)]),f+=f;break;case sy:for(;c>f||d>f;)e.push([Math.ceil(c/f),Math.ceil(d/f)]),c>>=1,d>>=1;break;default:ha(!1,53)}e.push([1,1]);e.reverse();for(var f=[1],g=[0],d=1,c=e.length;d<c;d++)f.push(1<<d),g.push(e[d-1][0]*e[d-1][1]+g[d-1]);f.reverse();var b=[0,-b[1],b[0],0],b=new be({extent:b,origin:ac(b),resolutions:f}),h=a.url;
X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:ty,tileGrid:b,tileUrlFunction:function(a){if(a){var b=a[0],c=a[1];a=-a[2]-1;return h+"TileGroup"+((c+a*e[b][0]+g[b])/256|0)+"/"+b+"-"+c+"-"+a+".jpg"}}})}v(qy,X);function ty(a,b,c,d,e){lv.call(this,a,b,c,d,e);this.f=null}v(ty,lv);
ty.prototype.ub=function(){if(this.f)return this.f;var a=lv.prototype.ub.call(this);if(this.state==cg){if(256==a.width&&256==a.height)return this.f=a;var b=De(256,256);b.drawImage(a,0,0);return this.f=b.canvas}return a};var ry="default",sy="truncated";function uy(a,b){this.b=b;this.a=[{x:0,y:0,width:a,height:a}];this.f={};this.g=De(a,a);this.c=this.g.canvas}uy.prototype.get=function(a){return this.f[a]||null};
uy.prototype.add=function(a,b,c,d,e){var f,g,h;g=0;for(h=this.a.length;g<h;++g)if(f=this.a[g],f.width>=b+this.b&&f.height>=c+this.b)return h={offsetX:f.x+this.b,offsetY:f.y+this.b,image:this.c},this.f[a]=h,d.call(e,this.g,f.x+this.b,f.y+this.b),a=g,b+=this.b,d=c+this.b,f.width-b>f.height-d?(c={x:f.x+b,y:f.y,width:f.width-b,height:f.height},b={x:f.x,y:f.y+d,width:b,height:f.height-d},vy(this,a,c,b)):(c={x:f.x+b,y:f.y,width:f.width-b,height:d},b={x:f.x,y:f.y+d,width:f.width,height:f.height-d},vy(this,
a,c,b)),h;return null};function vy(a,b,c,d){b=[b,1];0<c.width&&0<c.height&&b.push(c);0<d.width&&0<d.height&&b.push(d);a.a.splice.apply(a.a,b)};function wy(a){a=a||{};this.a=void 0!==a.initialSize?a.initialSize:256;this.g=void 0!==a.maxSize?a.maxSize:void 0!==ba?ba:2048;this.b=void 0!==a.space?a.space:1;this.c=[new uy(this.a,this.b)];this.f=this.a;this.i=[new uy(this.f,this.b)]}wy.prototype.add=function(a,b,c,d,e,f){if(b+this.b>this.g||c+this.b>this.g)return null;d=xy(this,!1,a,b,c,d,f);if(!d)return null;a=xy(this,!0,a,b,c,void 0!==e?e:ea,f);return{offsetX:d.offsetX,offsetY:d.offsetY,image:d.image,yf:a.image}};
function xy(a,b,c,d,e,f,g){var h=b?a.i:a.c,l,m,p;m=0;for(p=h.length;m<p;++m){l=h[m];if(l=l.add(c,d,e,f,g))return l;l||m!==p-1||(b?(l=Math.min(2*a.f,a.g),a.f=l):(l=Math.min(2*a.a,a.g),a.a=l),l=new uy(l,a.b),h.push(l),++p)}return null};t("ol.animation.bounce",function(a){var b=a.resolution,c=a.start?a.start:Date.now(),d=void 0!==a.duration?a.duration:1E3,e=a.easing?a.easing:Fb;return function(a,g){if(g.time<c)return g.animate=!0,g.viewHints[Kd]+=1,!0;if(g.time<c+d){var h=e((g.time-c)/d),l=b-g.viewState.resolution;g.animate=!0;g.viewState.resolution+=h*l;g.viewHints[Kd]+=1;return!0}return!1}});
t("ol.animation.pan",function(a){var b=a.source,c=a.start?a.start:Date.now(),d=b[0],e=b[1],f=void 0!==a.duration?a.duration:1E3,g=a.easing?a.easing:Db;return function(a,b){if(b.time<c)return b.animate=!0,b.viewHints[Kd]+=1,!0;if(b.time<c+f){var m=1-g((b.time-c)/f),p=d-b.viewState.center[0],n=e-b.viewState.center[1];b.animate=!0;b.viewState.center[0]+=m*p;b.viewState.center[1]+=m*n;b.viewHints[Kd]+=1;return!0}return!1}});
t("ol.animation.rotate",function(a){var b=a.rotation?a.rotation:0,c=a.start?a.start:Date.now(),d=void 0!==a.duration?a.duration:1E3,e=a.easing?a.easing:Db,f=a.anchor?a.anchor:null;return function(a,h){if(h.time<c)return h.animate=!0,h.viewHints[Kd]+=1,!0;if(h.time<c+d){var l=1-e((h.time-c)/d),l=(b-h.viewState.rotation)*l;h.animate=!0;h.viewState.rotation+=l;if(f){var m=h.viewState.center;m[0]-=f[0];m[1]-=f[1];wb(m,l);rb(m,f)}h.viewHints[Kd]+=1;return!0}return!1}});
t("ol.animation.zoom",function(a){var b=a.resolution,c=a.start?a.start:Date.now(),d=void 0!==a.duration?a.duration:1E3,e=a.easing?a.easing:Db;return function(a,g){if(g.time<c)return g.animate=!0,g.viewHints[Kd]+=1,!0;if(g.time<c+d){var h=1-e((g.time-c)/d),l=b-g.viewState.resolution;g.animate=!0;g.viewState.resolution+=h*l;g.viewHints[Kd]+=1;return!0}return!1}});ga.prototype.code=ga.prototype.code;t("ol.Attribution",pe);pe.prototype.getHTML=pe.prototype.g;t("ol.Collection",qe);qe.prototype.clear=qe.prototype.clear;
qe.prototype.extend=qe.prototype.Bf;qe.prototype.forEach=qe.prototype.forEach;qe.prototype.getArray=qe.prototype.Il;qe.prototype.item=qe.prototype.item;qe.prototype.getLength=qe.prototype.Ub;qe.prototype.insertAt=qe.prototype.ke;qe.prototype.pop=qe.prototype.pop;qe.prototype.push=qe.prototype.push;qe.prototype.remove=qe.prototype.remove;qe.prototype.removeAt=qe.prototype.Zf;qe.prototype.setAt=qe.prototype.ep;te.prototype.element=te.prototype.element;t("ol.color.asArray",ye);
t("ol.color.asString",Ae);t("ol.colorlike.asColorLike",Ce);t("ol.coordinate.add",rb);t("ol.coordinate.createStringXY",function(a){return function(b){return Ab(b,a)}});t("ol.coordinate.format",ub);t("ol.coordinate.rotate",wb);t("ol.coordinate.toStringHDMS",function(a,b){return a?tb(a[1],"NS",b)+" "+tb(a[0],"EW",b):""});t("ol.coordinate.toStringXY",Ab);t("ol.DeviceOrientation",Cn);Cn.prototype.getAlpha=Cn.prototype.Vj;Cn.prototype.getBeta=Cn.prototype.Yj;Cn.prototype.getGamma=Cn.prototype.ek;
Cn.prototype.getHeading=Cn.prototype.Jl;Cn.prototype.getTracking=Cn.prototype.kh;Cn.prototype.setTracking=Cn.prototype.Cf;t("ol.easing.easeIn",Bb);t("ol.easing.easeOut",Cb);t("ol.easing.inAndOut",Db);t("ol.easing.linear",Eb);t("ol.easing.upAndDown",Fb);t("ol.Feature",J);J.prototype.clone=J.prototype.clone;J.prototype.getGeometry=J.prototype.V;J.prototype.getId=J.prototype.Ll;J.prototype.getGeometryName=J.prototype.gk;J.prototype.getStyle=J.prototype.Ml;J.prototype.getStyleFunction=J.prototype.Gc;
J.prototype.setGeometry=J.prototype.Pa;J.prototype.setStyle=J.prototype.Df;J.prototype.setId=J.prototype.cc;J.prototype.setGeometryName=J.prototype.Nc;t("ol.featureloader.xhr",bo);t("ol.Geolocation",Ru);Ru.prototype.getAccuracy=Ru.prototype.Tj;Ru.prototype.getAccuracyGeometry=Ru.prototype.Uj;Ru.prototype.getAltitude=Ru.prototype.Wj;Ru.prototype.getAltitudeAccuracy=Ru.prototype.Xj;Ru.prototype.getHeading=Ru.prototype.Ol;Ru.prototype.getPosition=Ru.prototype.Pl;Ru.prototype.getProjection=Ru.prototype.lh;
Ru.prototype.getSpeed=Ru.prototype.Bk;Ru.prototype.getTracking=Ru.prototype.mh;Ru.prototype.getTrackingOptions=Ru.prototype.Wg;Ru.prototype.setProjection=Ru.prototype.nh;Ru.prototype.setTracking=Ru.prototype.ne;Ru.prototype.setTrackingOptions=Ru.prototype.Ci;t("ol.Graticule",gv);gv.prototype.getMap=gv.prototype.Sl;gv.prototype.getMeridians=gv.prototype.qk;gv.prototype.getParallels=gv.prototype.xk;gv.prototype.setMap=gv.prototype.setMap;t("ol.has.DEVICE_PIXEL_RATIO",mf);t("ol.has.CANVAS",of);
t("ol.has.DEVICE_ORIENTATION",pf);t("ol.has.GEOLOCATION",qf);t("ol.has.TOUCH",rf);t("ol.has.WEBGL",ff);ii.prototype.getImage=ii.prototype.a;ii.prototype.load=ii.prototype.load;lv.prototype.getImage=lv.prototype.ub;lv.prototype.load=lv.prototype.load;t("ol.inherits",v);t("ol.Kinetic",kg);t("ol.loadingstrategy.all",wv);t("ol.loadingstrategy.bbox",function(a){return[a]});
t("ol.loadingstrategy.tile",function(a){return function(b,c){var d=a.Ec(c),e=fe(a,b,d),f=[],d=[d,0,0];for(d[1]=e.ea;d[1]<=e.ca;++d[1])for(d[2]=e.ga;d[2]<=e.ja;++d[2])f.push(a.Na(d));return f}});t("ol.Map",I);I.prototype.addControl=I.prototype.Bj;I.prototype.addInteraction=I.prototype.Cj;I.prototype.addLayer=I.prototype.ug;I.prototype.addOverlay=I.prototype.vg;I.prototype.beforeRender=I.prototype.Ij;I.prototype.forEachFeatureAtPixel=I.prototype.ae;I.prototype.forEachLayerAtPixel=I.prototype.Wl;
I.prototype.hasFeatureAtPixel=I.prototype.ml;I.prototype.getEventCoordinate=I.prototype.ck;I.prototype.getEventPixel=I.prototype.ce;I.prototype.getTarget=I.prototype.vf;I.prototype.getTargetElement=I.prototype.Cc;I.prototype.getCoordinateFromPixel=I.prototype.Sa;I.prototype.getControls=I.prototype.ak;I.prototype.getOverlays=I.prototype.vk;I.prototype.getOverlayById=I.prototype.uk;I.prototype.getInteractions=I.prototype.hk;I.prototype.getLayerGroup=I.prototype.Bc;I.prototype.getLayers=I.prototype.oh;
I.prototype.getPixelFromCoordinate=I.prototype.Ga;I.prototype.getSize=I.prototype.nb;I.prototype.getView=I.prototype.aa;I.prototype.getViewport=I.prototype.Ik;I.prototype.renderSync=I.prototype.$o;I.prototype.render=I.prototype.render;I.prototype.removeControl=I.prototype.To;I.prototype.removeInteraction=I.prototype.Uo;I.prototype.removeLayer=I.prototype.Wo;I.prototype.removeOverlay=I.prototype.Xo;I.prototype.setLayerGroup=I.prototype.vi;I.prototype.setSize=I.prototype.eg;I.prototype.setTarget=I.prototype.ph;
I.prototype.setView=I.prototype.mp;I.prototype.updateSize=I.prototype.ld;$e.prototype.originalEvent=$e.prototype.originalEvent;$e.prototype.pixel=$e.prototype.pixel;$e.prototype.coordinate=$e.prototype.coordinate;$e.prototype.dragging=$e.prototype.dragging;Ge.prototype.map=Ge.prototype.map;Ge.prototype.frameState=Ge.prototype.frameState;t("ol.Object",Sa);Sa.prototype.get=Sa.prototype.get;Sa.prototype.getKeys=Sa.prototype.S;Sa.prototype.getProperties=Sa.prototype.R;Sa.prototype.set=Sa.prototype.set;
Sa.prototype.setProperties=Sa.prototype.I;Sa.prototype.unset=Sa.prototype.T;Wa.prototype.key=Wa.prototype.key;Wa.prototype.oldValue=Wa.prototype.oldValue;t("ol.Observable",Pa);t("ol.Observable.unByKey",Qa);Pa.prototype.changed=Pa.prototype.s;Pa.prototype.dispatchEvent=Pa.prototype.b;Pa.prototype.getRevision=Pa.prototype.M;Pa.prototype.on=Pa.prototype.J;Pa.prototype.once=Pa.prototype.N;Pa.prototype.un=Pa.prototype.K;Pa.prototype.unByKey=Pa.prototype.O;t("ol.Overlay",Pm);Pm.prototype.getElement=Pm.prototype.be;
Pm.prototype.getId=Pm.prototype.Xl;Pm.prototype.getMap=Pm.prototype.oe;Pm.prototype.getOffset=Pm.prototype.Tg;Pm.prototype.getPosition=Pm.prototype.qh;Pm.prototype.getPositioning=Pm.prototype.Ug;Pm.prototype.setElement=Pm.prototype.pi;Pm.prototype.setMap=Pm.prototype.setMap;Pm.prototype.setOffset=Pm.prototype.xi;Pm.prototype.setPosition=Pm.prototype.Ef;Pm.prototype.setPositioning=Pm.prototype.Ai;
t("ol.render.toContext",function(a,b){var c=a.canvas,d=b?b:{},e=d.pixelRatio||mf;if(d=d.size)c.width=d[0]*e,c.height=d[1]*e,c.style.width=d[0]+"px",c.style.height=d[1]+"px";c=[0,0,c.width,c.height];d=Wh(Ph(),e,e);return new Ji(a,e,c,d,0)});t("ol.size.toSize",Zd);ag.prototype.getTileCoord=ag.prototype.c;ag.prototype.load=ag.prototype.load;jy.prototype.getFormat=jy.prototype.Yl;jy.prototype.setFeatures=jy.prototype.ri;jy.prototype.setProjection=jy.prototype.Ff;jy.prototype.setLoader=jy.prototype.wi;
t("ol.View",Fd);Fd.prototype.animate=Fd.prototype.animate;Fd.prototype.constrainCenter=Fd.prototype.Zd;Fd.prototype.constrainResolution=Fd.prototype.constrainResolution;Fd.prototype.constrainRotation=Fd.prototype.constrainRotation;Fd.prototype.getCenter=Fd.prototype.fb;Fd.prototype.calculateExtent=Fd.prototype.Uc;Fd.prototype.getMaxResolution=Fd.prototype.Zl;Fd.prototype.getMinResolution=Fd.prototype.$l;Fd.prototype.getProjection=Fd.prototype.am;Fd.prototype.getResolution=Fd.prototype.Oa;
Fd.prototype.getResolutions=Fd.prototype.bm;Fd.prototype.getRotation=Fd.prototype.Ra;Fd.prototype.getZoom=Fd.prototype.Kk;Fd.prototype.fit=Fd.prototype.lf;Fd.prototype.centerOn=Fd.prototype.Kj;Fd.prototype.rotate=Fd.prototype.rotate;Fd.prototype.setCenter=Fd.prototype.Mb;Fd.prototype.setResolution=Fd.prototype.Oc;Fd.prototype.setRotation=Fd.prototype.pe;Fd.prototype.setZoom=Fd.prototype.pp;t("ol.xml.getAllTextContent",Ln);t("ol.xml.parse",Pn);xk.prototype.getGL=xk.prototype.bo;
xk.prototype.useProgram=xk.prototype.Lc;t("ol.tilegrid.createXYZ",oe);t("ol.tilegrid.TileGrid",be);be.prototype.forEachTileCoord=be.prototype.Hg;be.prototype.getMaxZoom=be.prototype.Rg;be.prototype.getMinZoom=be.prototype.Sg;be.prototype.getOrigin=be.prototype.Kc;be.prototype.getResolution=be.prototype.Ha;be.prototype.getResolutions=be.prototype.Wh;be.prototype.getTileCoordExtent=be.prototype.Na;be.prototype.getTileCoordForCoordAndResolution=be.prototype.fe;be.prototype.getTileCoordForCoordAndZ=be.prototype.wf;
be.prototype.getTileSize=be.prototype.Za;be.prototype.getZForResolution=be.prototype.Ec;t("ol.tilegrid.WMTS",my);my.prototype.getMatrixIds=my.prototype.o;t("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",ny);t("ol.style.AtlasManager",wy);t("ol.style.Circle",ui);ui.prototype.clone=ui.prototype.clone;ui.prototype.setRadius=ui.prototype.Qa;t("ol.style.Fill",vi);vi.prototype.clone=vi.prototype.clone;vi.prototype.getColor=vi.prototype.g;vi.prototype.setColor=vi.prototype.f;t("ol.style.Icon",xq);
xq.prototype.clone=xq.prototype.clone;xq.prototype.getAnchor=xq.prototype.Ac;xq.prototype.getColor=xq.prototype.Gn;xq.prototype.getImage=xq.prototype.Ic;xq.prototype.getOrigin=xq.prototype.Jc;xq.prototype.getSrc=xq.prototype.Hn;xq.prototype.getSize=xq.prototype.ac;xq.prototype.load=xq.prototype.load;t("ol.style.Image",ri);ri.prototype.getOpacity=ri.prototype.ye;ri.prototype.getRotateWithView=ri.prototype.ze;ri.prototype.getRotation=ri.prototype.Ae;ri.prototype.getScale=ri.prototype.Be;
ri.prototype.getSnapToPixel=ri.prototype.ee;ri.prototype.setOpacity=ri.prototype.dd;ri.prototype.setRotation=ri.prototype.Ce;ri.prototype.setScale=ri.prototype.ed;t("ol.style.RegularShape",si);si.prototype.clone=si.prototype.clone;si.prototype.getAnchor=si.prototype.Ac;si.prototype.getAngle=si.prototype.Nh;si.prototype.getFill=si.prototype.Oh;si.prototype.getImage=si.prototype.Ic;si.prototype.getOrigin=si.prototype.Jc;si.prototype.getPoints=si.prototype.Ph;si.prototype.getRadius=si.prototype.Qh;
si.prototype.getRadius2=si.prototype.Vg;si.prototype.getSize=si.prototype.ac;si.prototype.getStroke=si.prototype.Rh;t("ol.style.Stroke",wi);wi.prototype.clone=wi.prototype.clone;wi.prototype.getColor=wi.prototype.In;wi.prototype.getLineCap=wi.prototype.kk;wi.prototype.getLineDash=wi.prototype.Jn;wi.prototype.getLineJoin=wi.prototype.lk;wi.prototype.getMiterLimit=wi.prototype.rk;wi.prototype.getWidth=wi.prototype.Kn;wi.prototype.setColor=wi.prototype.Ln;wi.prototype.setLineCap=wi.prototype.ip;
wi.prototype.setLineDash=wi.prototype.setLineDash;wi.prototype.setLineJoin=wi.prototype.jp;wi.prototype.setMiterLimit=wi.prototype.kp;wi.prototype.setWidth=wi.prototype.np;t("ol.style.Style",xi);xi.prototype.clone=xi.prototype.clone;xi.prototype.getGeometry=xi.prototype.V;xi.prototype.getGeometryFunction=xi.prototype.fk;xi.prototype.getFill=xi.prototype.Mn;xi.prototype.setFill=xi.prototype.Qn;xi.prototype.getImage=xi.prototype.Nn;xi.prototype.setImage=xi.prototype.Rn;xi.prototype.getStroke=xi.prototype.On;
xi.prototype.setStroke=xi.prototype.Sn;xi.prototype.getText=xi.prototype.Ka;xi.prototype.setText=xi.prototype.Tn;xi.prototype.getZIndex=xi.prototype.Pn;xi.prototype.setGeometry=xi.prototype.Pa;xi.prototype.setZIndex=xi.prototype.Un;t("ol.style.Text",Dq);Dq.prototype.clone=Dq.prototype.clone;Dq.prototype.getFont=Dq.prototype.dk;Dq.prototype.getOffsetX=Dq.prototype.sk;Dq.prototype.getOffsetY=Dq.prototype.tk;Dq.prototype.getFill=Dq.prototype.Vn;Dq.prototype.getRotateWithView=Dq.prototype.Wn;
Dq.prototype.getRotation=Dq.prototype.Xn;Dq.prototype.getScale=Dq.prototype.Yn;Dq.prototype.getStroke=Dq.prototype.Zn;Dq.prototype.getText=Dq.prototype.Ka;Dq.prototype.getTextAlign=Dq.prototype.Dk;Dq.prototype.getTextBaseline=Dq.prototype.Ek;Dq.prototype.setFont=Dq.prototype.si;Dq.prototype.setOffsetX=Dq.prototype.yi;Dq.prototype.setOffsetY=Dq.prototype.zi;Dq.prototype.setFill=Dq.prototype.Sh;Dq.prototype.setRotation=Dq.prototype.$n;Dq.prototype.setScale=Dq.prototype.Th;Dq.prototype.setStroke=Dq.prototype.Uh;
Dq.prototype.setText=Dq.prototype.Vh;Dq.prototype.setTextAlign=Dq.prototype.Bi;Dq.prototype.setTextBaseline=Dq.prototype.lp;t("ol.Sphere",oc);oc.prototype.geodesicArea=oc.prototype.a;oc.prototype.haversineDistance=oc.prototype.b;t("ol.source.BingMaps",qx);t("ol.source.BingMaps.TOS_ATTRIBUTION",rx);qx.prototype.getApiKey=qx.prototype.U;qx.prototype.getImagerySet=qx.prototype.Z;t("ol.source.CartoDB",tx);tx.prototype.getConfig=tx.prototype.$j;tx.prototype.updateConfig=tx.prototype.wp;
tx.prototype.setConfig=tx.prototype.fp;t("ol.source.Cluster",Y);Y.prototype.getSource=Y.prototype.Ua;Y.prototype.setDistance=Y.prototype.Ob;t("ol.source.Image",km);mm.prototype.image=mm.prototype.image;t("ol.source.ImageArcGISRest",zx);zx.prototype.getParams=zx.prototype.Xm;zx.prototype.getImageLoadFunction=zx.prototype.Wm;zx.prototype.getUrl=zx.prototype.Ym;zx.prototype.setImageLoadFunction=zx.prototype.Zm;zx.prototype.setUrl=zx.prototype.$m;zx.prototype.updateParams=zx.prototype.an;
t("ol.source.ImageCanvas",rm);t("ol.source.ImageMapGuide",Ax);Ax.prototype.getParams=Ax.prototype.cn;Ax.prototype.getImageLoadFunction=Ax.prototype.bn;Ax.prototype.updateParams=Ax.prototype.en;Ax.prototype.setImageLoadFunction=Ax.prototype.dn;t("ol.source.ImageStatic",Bx);t("ol.source.ImageVector",sm);sm.prototype.getSource=sm.prototype.fn;sm.prototype.getStyle=sm.prototype.gn;sm.prototype.getStyleFunction=sm.prototype.hn;sm.prototype.setStyle=sm.prototype.Fh;t("ol.source.ImageWMS",Cx);
Cx.prototype.getGetFeatureInfoUrl=Cx.prototype.ln;Cx.prototype.getParams=Cx.prototype.nn;Cx.prototype.getImageLoadFunction=Cx.prototype.mn;Cx.prototype.getUrl=Cx.prototype.pn;Cx.prototype.setImageLoadFunction=Cx.prototype.qn;Cx.prototype.setUrl=Cx.prototype.rn;Cx.prototype.updateParams=Cx.prototype.sn;t("ol.source.OSM",Gx);t("ol.source.OSM.ATTRIBUTION",Hx);t("ol.source.Raster",Ix);Ix.prototype.setOperation=Ix.prototype.u;Px.prototype.extent=Px.prototype.extent;Px.prototype.resolution=Px.prototype.resolution;
Px.prototype.data=Px.prototype.data;t("ol.source.Source",hm);hm.prototype.getAttributions=hm.prototype.za;hm.prototype.getLogo=hm.prototype.ya;hm.prototype.getProjection=hm.prototype.Aa;hm.prototype.getState=hm.prototype.W;hm.prototype.refresh=hm.prototype.wa;hm.prototype.setAttributions=hm.prototype.ua;t("ol.source.Stamen",Sx);t("ol.source.Tile",ix);ix.prototype.getTileGrid=ix.prototype.Va;lx.prototype.tile=lx.prototype.tile;t("ol.source.TileArcGISRest",Wx);Wx.prototype.getParams=Wx.prototype.u;
Wx.prototype.updateParams=Wx.prototype.A;t("ol.source.TileDebug",Yx);t("ol.source.TileImage",X);X.prototype.setRenderReprojectionEdges=X.prototype.Hb;X.prototype.setTileGridForProjection=X.prototype.Ib;t("ol.source.TileJSON",$x);$x.prototype.getTileJSON=$x.prototype.Fk;t("ol.source.TileUTFGrid",ay);ay.prototype.getTemplate=ay.prototype.Ck;ay.prototype.forDataAtCoordinateAndResolution=ay.prototype.Pj;t("ol.source.TileWMS",ey);ey.prototype.getGetFeatureInfoUrl=ey.prototype.An;
ey.prototype.getParams=ey.prototype.Bn;ey.prototype.updateParams=ey.prototype.Cn;mx.prototype.getTileLoadFunction=mx.prototype.ib;mx.prototype.getTileUrlFunction=mx.prototype.kb;mx.prototype.getUrls=mx.prototype.lb;mx.prototype.setTileLoadFunction=mx.prototype.sb;mx.prototype.setTileUrlFunction=mx.prototype.Xa;mx.prototype.setUrl=mx.prototype.cb;mx.prototype.setUrls=mx.prototype.Ya;t("ol.source.Vector",U);U.prototype.addFeature=U.prototype.gb;U.prototype.addFeatures=U.prototype.Tc;
U.prototype.clear=U.prototype.clear;U.prototype.forEachFeature=U.prototype.Fg;U.prototype.forEachFeatureInExtent=U.prototype.Qb;U.prototype.forEachFeatureIntersectingExtent=U.prototype.Gg;U.prototype.getFeaturesCollection=U.prototype.Og;U.prototype.getFeatures=U.prototype.we;U.prototype.getFeaturesAtCoordinate=U.prototype.Ng;U.prototype.getFeaturesInExtent=U.prototype.nf;U.prototype.getClosestFeatureToCoordinate=U.prototype.Jg;U.prototype.getExtent=U.prototype.G;U.prototype.getFeatureById=U.prototype.Mg;
U.prototype.getFormat=U.prototype.Kh;U.prototype.getUrl=U.prototype.Lh;U.prototype.removeFeature=U.prototype.rb;Bv.prototype.feature=Bv.prototype.feature;t("ol.source.VectorTile",ly);t("ol.source.WMTS",Z);Z.prototype.getDimensions=Z.prototype.bk;Z.prototype.getFormat=Z.prototype.Dn;Z.prototype.getLayer=Z.prototype.En;Z.prototype.getMatrixSet=Z.prototype.pk;Z.prototype.getRequestEncoding=Z.prototype.Ak;Z.prototype.getStyle=Z.prototype.Fn;Z.prototype.getVersion=Z.prototype.Hk;
Z.prototype.updateDimensions=Z.prototype.xp;
t("ol.source.WMTS.optionsFromCapabilities",function(a,b){var c=cb(a.Contents.Layer,function(a){return a.Identifier==b.layer}),d=a.Contents.TileMatrixSet,e,f,g;e=1<c.TileMatrixSetLink.length?"projection"in b?gb(c.TileMatrixSetLink,function(a){var c=cb(d,function(b){return b.Identifier==a.TileMatrixSet}).SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"),e=zc(c),f=zc(b.projection);return e&&f?Mc(e,f):c==b.projection}):gb(c.TileMatrixSetLink,function(a){return a.TileMatrixSet==b.matrixSet}):
0;0>e&&(e=0);f=c.TileMatrixSetLink[e].TileMatrixSet;g=c.TileMatrixSetLink[e].TileMatrixSetLimits;var h=c.Format[0];"format"in b&&(h=b.format);e=gb(c.Style,function(a){return"style"in b?a.Title==b.style:a.isDefault});0>e&&(e=0);e=c.Style[e].Identifier;var l={};"Dimension"in c&&c.Dimension.forEach(function(a){var b=a.Identifier,c=a.Default;void 0===c&&(c=a.Value[0]);l[b]=c});var m=cb(a.Contents.TileMatrixSet,function(a){return a.Identifier==f}),p;p="projection"in b?zc(b.projection):zc(m.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,
"$1:$3"));var n=c.WGS84BoundingBox,q,r;void 0!==n&&(r=zc("EPSG:4326").G(),r=n[0]==r[0]&&n[2]==r[2],q=Qc(n,"EPSG:4326",p),(n=p.G())&&(Ob(n,q)||(q=void 0)));g=ny(m,q,g);var u=[],m=b.requestEncoding,m=void 0!==m?m:"";if("OperationsMetadata"in a&&"GetTile"in a.OperationsMetadata){q=a.OperationsMetadata.GetTile.DCP.HTTP.Get;for(var n=0,w=q.length;n<w;++n){var y=cb(q[n].Constraint,function(a){return"GetEncoding"==a.name}).AllowedValues.Value;""===m&&(m=y[0]);if(m===oy)Za(y,oy)&&u.push(q[n].href);else break}}0===
u.length&&(m="REST",c.ResourceURL.forEach(function(a){"tile"===a.resourceType&&(h=a.format,u.push(a.template))}));return{urls:u,layer:b.layer,matrixSet:f,format:h,projection:p,requestEncoding:m,tileGrid:g,style:e,dimensions:l,wrapX:r}});t("ol.source.XYZ",sx);t("ol.source.Zoomify",qy);Jh.prototype.vectorContext=Jh.prototype.vectorContext;Jh.prototype.frameState=Jh.prototype.frameState;Jh.prototype.context=Jh.prototype.context;Jh.prototype.glContext=Jh.prototype.glContext;Is.prototype.get=Is.prototype.get;
Is.prototype.getExtent=Is.prototype.G;Is.prototype.getGeometry=Is.prototype.V;Is.prototype.getProperties=Is.prototype.Tm;Is.prototype.getType=Is.prototype.Y;t("ol.render.VectorContext",Ii);Ol.prototype.setStyle=Ol.prototype.Gd;Ol.prototype.drawGeometry=Ol.prototype.tc;Ol.prototype.drawFeature=Ol.prototype.jf;Ji.prototype.drawCircle=Ji.prototype.hc;Ji.prototype.setStyle=Ji.prototype.Gd;Ji.prototype.drawGeometry=Ji.prototype.tc;Ji.prototype.drawFeature=Ji.prototype.jf;t("ol.proj.common.add",Ih);
t("ol.proj.METERS_PER_UNIT",qc);t("ol.proj.setProj4",function(a){rc=a});t("ol.proj.getPointResolution",xc);t("ol.proj.addEquivalentProjections",Ac);t("ol.proj.addProjection",Ic);t("ol.proj.addCoordinateTransforms",Kc);t("ol.proj.fromLonLat",function(a,b){return Pc(a,"EPSG:4326",void 0!==b?b:"EPSG:3857")});t("ol.proj.toLonLat",function(a,b){return Pc(a,void 0!==b?b:"EPSG:3857","EPSG:4326")});t("ol.proj.get",zc);t("ol.proj.equivalent",Mc);t("ol.proj.getTransform",Nc);t("ol.proj.transform",Pc);
t("ol.proj.transformExtent",Qc);t("ol.proj.Projection",sc);sc.prototype.getCode=sc.prototype.Zj;sc.prototype.getExtent=sc.prototype.G;sc.prototype.getUnits=sc.prototype.Eb;sc.prototype.getMetersPerUnit=sc.prototype.ic;sc.prototype.getWorldExtent=sc.prototype.Jk;sc.prototype.isGlobal=sc.prototype.rl;sc.prototype.setGlobal=sc.prototype.hp;sc.prototype.setExtent=sc.prototype.Sm;sc.prototype.setWorldExtent=sc.prototype.op;sc.prototype.setGetPointResolution=sc.prototype.gp;
t("ol.proj.Units.METERS_PER_UNIT",qc);t("ol.layer.Base",qh);qh.prototype.getExtent=qh.prototype.G;qh.prototype.getMaxResolution=qh.prototype.Wb;qh.prototype.getMinResolution=qh.prototype.Xb;qh.prototype.getOpacity=qh.prototype.Yb;qh.prototype.getVisible=qh.prototype.Fb;qh.prototype.getZIndex=qh.prototype.Zb;qh.prototype.setExtent=qh.prototype.kc;qh.prototype.setMaxResolution=qh.prototype.pc;qh.prototype.setMinResolution=qh.prototype.qc;qh.prototype.setOpacity=qh.prototype.lc;
qh.prototype.setVisible=qh.prototype.mc;qh.prototype.setZIndex=qh.prototype.nc;t("ol.layer.Group",yh);yh.prototype.getLayers=yh.prototype.cd;yh.prototype.setLayers=yh.prototype.yh;t("ol.layer.Heatmap",V);V.prototype.getBlur=V.prototype.Ig;V.prototype.getGradient=V.prototype.Pg;V.prototype.getRadius=V.prototype.zh;V.prototype.setBlur=V.prototype.ni;V.prototype.setGradient=V.prototype.ui;V.prototype.setRadius=V.prototype.Ah;t("ol.layer.Image",ei);ei.prototype.getSource=ei.prototype.la;
t("ol.layer.Layer",Kh);Kh.prototype.getSource=Kh.prototype.la;Kh.prototype.setMap=Kh.prototype.setMap;Kh.prototype.setSource=Kh.prototype.Pc;t("ol.layer.Tile",F);F.prototype.getPreload=F.prototype.f;F.prototype.getSource=F.prototype.la;F.prototype.setPreload=F.prototype.l;F.prototype.getUseInterimTilesOnError=F.prototype.c;F.prototype.setUseInterimTilesOnError=F.prototype.C;t("ol.layer.Vector",G);G.prototype.getSource=G.prototype.la;G.prototype.getStyle=G.prototype.D;
G.prototype.getStyleFunction=G.prototype.L;G.prototype.setStyle=G.prototype.l;t("ol.layer.VectorTile",H);H.prototype.getPreload=H.prototype.f;H.prototype.getUseInterimTilesOnError=H.prototype.c;H.prototype.setPreload=H.prototype.P;H.prototype.setUseInterimTilesOnError=H.prototype.U;t("ol.interaction.DoubleClickZoom",qg);t("ol.interaction.DoubleClickZoom.handleEvent",rg);t("ol.interaction.DragAndDrop",nv);t("ol.interaction.DragAndDrop.handleEvent",mc);qv.prototype.features=qv.prototype.features;
qv.prototype.file=qv.prototype.file;qv.prototype.projection=qv.prototype.projection;t("ol.interaction.DragBox",Pg);Pg.prototype.getGeometry=Pg.prototype.V;Ug.prototype.coordinate=Ug.prototype.coordinate;Ug.prototype.mapBrowserEvent=Ug.prototype.mapBrowserEvent;t("ol.interaction.DragPan",Eg);t("ol.interaction.DragRotate",Ig);t("ol.interaction.DragRotateAndZoom",sv);t("ol.interaction.DragZoom",Yg);t("ol.interaction.Draw",Iv);t("ol.interaction.Draw.handleEvent",Kv);Iv.prototype.removeLastPoint=Iv.prototype.Vo;
Iv.prototype.finishDrawing=Iv.prototype.zd;Iv.prototype.extend=Iv.prototype.vm;t("ol.interaction.Draw.createRegularPolygon",function(a,b){return function(c,d){var e=c[0],f=c[1],g=Math.sqrt(yb(e,f)),h=d?d:Dd(new bv(e),a);Ed(h,e,g,b?b:Math.atan((f[1]-e[1])/(f[0]-e[0])));return h}});t("ol.interaction.Draw.createBox",function(){return function(a,b){var c=Gb(a),d=b||new E(null);d.qa([[Yb(c),Zb(c),$b(c),ac(c),Yb(c)]]);return d}});Xv.prototype.feature=Xv.prototype.feature;t("ol.interaction.Extent",aw);
aw.prototype.getExtent=aw.prototype.G;aw.prototype.setExtent=aw.prototype.i;lw.prototype.extent_=lw.prototype.b;t("ol.interaction.defaults",ph);t("ol.interaction.Interaction",lg);lg.prototype.getActive=lg.prototype.f;lg.prototype.getMap=lg.prototype.c;lg.prototype.setActive=lg.prototype.Ea;t("ol.interaction.KeyboardPan",Zg);t("ol.interaction.KeyboardPan.handleEvent",$g);t("ol.interaction.KeyboardZoom",ah);t("ol.interaction.KeyboardZoom.handleEvent",bh);t("ol.interaction.Modify",nw);
t("ol.interaction.Modify.handleEvent",qw);nw.prototype.removePoint=nw.prototype.ki;vw.prototype.features=vw.prototype.features;vw.prototype.mapBrowserEvent=vw.prototype.mapBrowserEvent;t("ol.interaction.MouseWheelZoom",ch);t("ol.interaction.MouseWheelZoom.handleEvent",dh);ch.prototype.setMouseAnchor=ch.prototype.P;t("ol.interaction.PinchRotate",gh);t("ol.interaction.PinchZoom",kh);t("ol.interaction.Pointer",Bg);t("ol.interaction.Pointer.handleEvent",Cg);t("ol.interaction.Select",Dw);
Dw.prototype.getFeatures=Dw.prototype.Fm;Dw.prototype.getHitTolerance=Dw.prototype.Gm;Dw.prototype.getLayer=Dw.prototype.Hm;t("ol.interaction.Select.handleEvent",Ew);Dw.prototype.setHitTolerance=Dw.prototype.Jm;Dw.prototype.setMap=Dw.prototype.setMap;Gw.prototype.selected=Gw.prototype.selected;Gw.prototype.deselected=Gw.prototype.deselected;Gw.prototype.mapBrowserEvent=Gw.prototype.mapBrowserEvent;t("ol.interaction.Snap",Iw);Iw.prototype.addFeature=Iw.prototype.gb;Iw.prototype.removeFeature=Iw.prototype.rb;
t("ol.interaction.Translate",Mw);Mw.prototype.getHitTolerance=Mw.prototype.D;Mw.prototype.setHitTolerance=Mw.prototype.L;Sw.prototype.features=Sw.prototype.features;Sw.prototype.coordinate=Sw.prototype.coordinate;t("ol.geom.Circle",bv);bv.prototype.clone=bv.prototype.clone;bv.prototype.getCenter=bv.prototype.Fd;bv.prototype.getRadius=bv.prototype.qe;bv.prototype.getType=bv.prototype.Y;bv.prototype.intersectsExtent=bv.prototype.Ta;bv.prototype.setCenter=bv.prototype.nm;
bv.prototype.setCenterAndRadius=bv.prototype.dg;bv.prototype.setRadius=bv.prototype.om;bv.prototype.transform=bv.prototype.ob;t("ol.geom.Geometry",Rc);Rc.prototype.getClosestPoint=Rc.prototype.Cb;Rc.prototype.intersectsCoordinate=Rc.prototype.mb;Rc.prototype.getExtent=Rc.prototype.G;Rc.prototype.rotate=Rc.prototype.rotate;Rc.prototype.scale=Rc.prototype.scale;Rc.prototype.simplify=Rc.prototype.Jb;Rc.prototype.transform=Rc.prototype.ob;t("ol.geom.GeometryCollection",Vo);Vo.prototype.clone=Vo.prototype.clone;
Vo.prototype.getGeometries=Vo.prototype.pf;Vo.prototype.getType=Vo.prototype.Y;Vo.prototype.intersectsExtent=Vo.prototype.Ta;Vo.prototype.setGeometries=Vo.prototype.ti;Vo.prototype.applyTransform=Vo.prototype.sc;Vo.prototype.translate=Vo.prototype.translate;t("ol.geom.LinearRing",md);md.prototype.clone=md.prototype.clone;md.prototype.getArea=md.prototype.rm;md.prototype.getCoordinates=md.prototype.$;md.prototype.getType=md.prototype.Y;md.prototype.setCoordinates=md.prototype.qa;
t("ol.geom.LineString",P);P.prototype.appendCoordinate=P.prototype.Dj;P.prototype.clone=P.prototype.clone;P.prototype.forEachSegment=P.prototype.Sj;P.prototype.getCoordinateAtM=P.prototype.pm;P.prototype.getCoordinates=P.prototype.$;P.prototype.getCoordinateAt=P.prototype.Kg;P.prototype.getLength=P.prototype.qm;P.prototype.getType=P.prototype.Y;P.prototype.intersectsExtent=P.prototype.Ta;P.prototype.setCoordinates=P.prototype.qa;t("ol.geom.MultiLineString",Q);Q.prototype.appendLineString=Q.prototype.Ej;
Q.prototype.clone=Q.prototype.clone;Q.prototype.getCoordinateAtM=Q.prototype.sm;Q.prototype.getCoordinates=Q.prototype.$;Q.prototype.getLineString=Q.prototype.mk;Q.prototype.getLineStrings=Q.prototype.Yc;Q.prototype.getType=Q.prototype.Y;Q.prototype.intersectsExtent=Q.prototype.Ta;Q.prototype.setCoordinates=Q.prototype.qa;t("ol.geom.MultiPoint",R);R.prototype.appendPoint=R.prototype.Gj;R.prototype.clone=R.prototype.clone;R.prototype.getCoordinates=R.prototype.$;R.prototype.getPoint=R.prototype.yk;
R.prototype.getPoints=R.prototype.re;R.prototype.getType=R.prototype.Y;R.prototype.intersectsExtent=R.prototype.Ta;R.prototype.setCoordinates=R.prototype.qa;t("ol.geom.MultiPolygon",S);S.prototype.appendPolygon=S.prototype.Hj;S.prototype.clone=S.prototype.clone;S.prototype.getArea=S.prototype.tm;S.prototype.getCoordinates=S.prototype.$;S.prototype.getInteriorPoints=S.prototype.jk;S.prototype.getPolygon=S.prototype.zk;S.prototype.getPolygons=S.prototype.Ad;S.prototype.getType=S.prototype.Y;
S.prototype.intersectsExtent=S.prototype.Ta;S.prototype.setCoordinates=S.prototype.qa;t("ol.geom.Point",C);C.prototype.clone=C.prototype.clone;C.prototype.getCoordinates=C.prototype.$;C.prototype.getType=C.prototype.Y;C.prototype.intersectsExtent=C.prototype.Ta;C.prototype.setCoordinates=C.prototype.qa;t("ol.geom.Polygon",E);E.prototype.appendLinearRing=E.prototype.Fj;E.prototype.clone=E.prototype.clone;E.prototype.getArea=E.prototype.um;E.prototype.getCoordinates=E.prototype.$;
E.prototype.getInteriorPoint=E.prototype.ik;E.prototype.getLinearRingCount=E.prototype.nk;E.prototype.getLinearRing=E.prototype.Qg;E.prototype.getLinearRings=E.prototype.Zc;E.prototype.getType=E.prototype.Y;E.prototype.intersectsExtent=E.prototype.Ta;E.prototype.setCoordinates=E.prototype.qa;t("ol.geom.Polygon.circular",Bd);t("ol.geom.Polygon.fromExtent",Cd);t("ol.geom.Polygon.fromCircle",Dd);t("ol.geom.SimpleGeometry",Uc);Uc.prototype.getFirstCoordinate=Uc.prototype.Rb;
Uc.prototype.getLastCoordinate=Uc.prototype.Sb;Uc.prototype.getLayout=Uc.prototype.Tb;Uc.prototype.applyTransform=Uc.prototype.sc;Uc.prototype.translate=Uc.prototype.translate;t("ol.format.EsriJSON",po);po.prototype.readFeature=po.prototype.bc;po.prototype.readFeatures=po.prototype.La;po.prototype.readGeometry=po.prototype.hd;po.prototype.readProjection=po.prototype.Wa;po.prototype.writeGeometry=po.prototype.od;po.prototype.writeGeometryObject=po.prototype.Te;po.prototype.writeFeature=po.prototype.Od;
po.prototype.writeFeatureObject=po.prototype.md;po.prototype.writeFeatures=po.prototype.ec;po.prototype.writeFeaturesObject=po.prototype.Se;t("ol.format.Feature",co);t("ol.format.GeoJSON",Zo);Zo.prototype.readFeature=Zo.prototype.bc;Zo.prototype.readFeatures=Zo.prototype.La;Zo.prototype.readGeometry=Zo.prototype.hd;Zo.prototype.readProjection=Zo.prototype.Wa;Zo.prototype.writeFeature=Zo.prototype.Od;Zo.prototype.writeFeatureObject=Zo.prototype.md;Zo.prototype.writeFeatures=Zo.prototype.ec;
Zo.prototype.writeFeaturesObject=Zo.prototype.Se;Zo.prototype.writeGeometry=Zo.prototype.od;Zo.prototype.writeGeometryObject=Zo.prototype.Te;t("ol.format.GML",tp);tp.prototype.writeFeatures=tp.prototype.ec;tp.prototype.writeFeaturesNode=tp.prototype.a;t("ol.format.GML2",Cp);t("ol.format.GML3",tp);tp.prototype.writeGeometryNode=tp.prototype.H;tp.prototype.writeFeatures=tp.prototype.ec;tp.prototype.writeFeaturesNode=tp.prototype.a;gp.prototype.readFeatures=gp.prototype.La;t("ol.format.GPX",Dp);
Dp.prototype.readFeature=Dp.prototype.bc;Dp.prototype.readFeatures=Dp.prototype.La;Dp.prototype.readProjection=Dp.prototype.Wa;Dp.prototype.writeFeatures=Dp.prototype.ec;Dp.prototype.writeFeaturesNode=Dp.prototype.a;t("ol.format.IGC",nq);nq.prototype.readFeature=nq.prototype.bc;nq.prototype.readFeatures=nq.prototype.La;nq.prototype.readProjection=nq.prototype.Wa;t("ol.format.KML",Eq);Eq.prototype.readFeature=Eq.prototype.bc;Eq.prototype.readFeatures=Eq.prototype.La;Eq.prototype.readName=Eq.prototype.Jo;
Eq.prototype.readNetworkLinks=Eq.prototype.Ko;Eq.prototype.readRegion=Eq.prototype.No;Eq.prototype.readRegionFromNode=Eq.prototype.Ie;Eq.prototype.readProjection=Eq.prototype.Wa;Eq.prototype.writeFeatures=Eq.prototype.ec;Eq.prototype.writeFeaturesNode=Eq.prototype.a;t("ol.format.MVT",Js);Js.prototype.readFeatures=Js.prototype.La;Js.prototype.readProjection=Js.prototype.Wa;Js.prototype.setLayers=Js.prototype.c;t("ol.format.OSMXML",Ls);Ls.prototype.readFeatures=Ls.prototype.La;
Ls.prototype.readProjection=Ls.prototype.Wa;t("ol.format.Polyline",jt);t("ol.format.Polyline.encodeDeltas",kt);t("ol.format.Polyline.decodeDeltas",mt);t("ol.format.Polyline.encodeFloats",lt);t("ol.format.Polyline.decodeFloats",nt);jt.prototype.readFeature=jt.prototype.bc;jt.prototype.readFeatures=jt.prototype.La;jt.prototype.readGeometry=jt.prototype.hd;jt.prototype.readProjection=jt.prototype.Wa;jt.prototype.writeGeometry=jt.prototype.od;t("ol.format.TopoJSON",ot);ot.prototype.readFeatures=ot.prototype.La;
ot.prototype.readProjection=ot.prototype.Wa;t("ol.format.WFS",ut);ut.prototype.readFeatures=ut.prototype.La;ut.prototype.readTransactionResponse=ut.prototype.o;ut.prototype.readFeatureCollectionMetadata=ut.prototype.l;ut.prototype.writeGetFeature=ut.prototype.v;ut.prototype.writeTransaction=ut.prototype.A;ut.prototype.readProjection=ut.prototype.Wa;t("ol.format.WKT",Mt);Mt.prototype.readFeature=Mt.prototype.bc;Mt.prototype.readFeatures=Mt.prototype.La;Mt.prototype.readGeometry=Mt.prototype.hd;
Mt.prototype.writeFeature=Mt.prototype.Od;Mt.prototype.writeFeatures=Mt.prototype.ec;Mt.prototype.writeGeometry=Mt.prototype.od;t("ol.format.WMSCapabilities",eu);eu.prototype.read=eu.prototype.read;t("ol.format.WMSGetFeatureInfo",Bu);Bu.prototype.readFeatures=Bu.prototype.La;t("ol.format.WMTSCapabilities",Cu);Cu.prototype.read=Cu.prototype.read;t("ol.format.filter.And",Bo);t("ol.format.filter.Bbox",Co);t("ol.format.filter.Comparison",Do);t("ol.format.filter.ComparisonBinary",Eo);
t("ol.format.filter.EqualTo",Fo);t("ol.format.filter.Filter",wo);t("ol.format.filter.GreaterThan",Go);t("ol.format.filter.GreaterThanOrEqualTo",Ho);t("ol.format.filter.and",To);t("ol.format.filter.or",function(a,b){return new Ro(a,b)});t("ol.format.filter.not",function(a){return new Po(a)});t("ol.format.filter.bbox",Uo);t("ol.format.filter.intersects",function(a,b,c){return new Jo(a,b,c)});t("ol.format.filter.within",function(a,b,c){return new So(a,b,c)});
t("ol.format.filter.equalTo",function(a,b,c){return new Fo(a,b,c)});t("ol.format.filter.notEqualTo",function(a,b,c){return new Qo(a,b,c)});t("ol.format.filter.lessThan",function(a,b){return new No(a,b)});t("ol.format.filter.lessThanOrEqualTo",function(a,b){return new Oo(a,b)});t("ol.format.filter.greaterThan",function(a,b){return new Go(a,b)});t("ol.format.filter.greaterThanOrEqualTo",function(a,b){return new Ho(a,b)});t("ol.format.filter.isNull",function(a){return new Mo(a)});
t("ol.format.filter.between",function(a,b,c){return new Ko(a,b,c)});t("ol.format.filter.like",function(a,b,c,d,e,f){return new Lo(a,b,c,d,e,f)});t("ol.format.filter.Intersects",Jo);t("ol.format.filter.IsBetween",Ko);t("ol.format.filter.IsLike",Lo);t("ol.format.filter.IsNull",Mo);t("ol.format.filter.LessThan",No);t("ol.format.filter.LessThanOrEqualTo",Oo);t("ol.format.filter.Not",Po);t("ol.format.filter.NotEqualTo",Qo);t("ol.format.filter.Or",Ro);t("ol.format.filter.Spatial",Io);
t("ol.format.filter.Within",So);t("ol.extent.boundingExtent",Gb);t("ol.extent.buffer",Jb);t("ol.extent.containsCoordinate",Mb);t("ol.extent.containsExtent",Ob);t("ol.extent.containsXY",Nb);t("ol.extent.createEmpty",Hb);t("ol.extent.equals",Vb);t("ol.extent.extend",Wb);t("ol.extent.getBottomLeft",Yb);t("ol.extent.getBottomRight",Zb);t("ol.extent.getCenter",gc);t("ol.extent.getHeight",ec);t("ol.extent.getIntersection",ic);t("ol.extent.getSize",function(a){return[a[2]-a[0],a[3]-a[1]]});
t("ol.extent.getTopLeft",ac);t("ol.extent.getTopRight",$b);t("ol.extent.getWidth",dc);t("ol.extent.intersects",jc);t("ol.extent.isEmpty",cc);t("ol.extent.applyTransform",lc);t("ol.events.condition.altKeyOnly",function(a){a=a.originalEvent;return a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey});t("ol.events.condition.altShiftKeysOnly",sg);t("ol.events.condition.always",mc);t("ol.events.condition.click",function(a){return"click"==a.type});t("ol.events.condition.never",nc);
t("ol.events.condition.pointerMove",ug);t("ol.events.condition.singleClick",vg);t("ol.events.condition.doubleClick",function(a){return"dblclick"==a.type});t("ol.events.condition.noModifierKeys",wg);t("ol.events.condition.platformModifierKeyOnly",function(a){a=a.originalEvent;return!a.altKey&&(lf?a.metaKey:a.ctrlKey)&&!a.shiftKey});t("ol.events.condition.shiftKeyOnly",xg);t("ol.events.condition.targetNotEditable",yg);t("ol.events.condition.mouseOnly",zg);t("ol.events.condition.primaryAction",Ag);
Ia.prototype.type=Ia.prototype.type;Ia.prototype.target=Ia.prototype.target;Ia.prototype.preventDefault=Ia.prototype.preventDefault;Ia.prototype.stopPropagation=Ia.prototype.stopPropagation;t("ol.control.Attribution",Je);t("ol.control.Attribution.render",Ke);Je.prototype.getCollapsible=Je.prototype.dm;Je.prototype.setCollapsible=Je.prototype.gm;Je.prototype.setCollapsed=Je.prototype.fm;Je.prototype.getCollapsed=Je.prototype.cm;t("ol.control.Control",Ie);Ie.prototype.getMap=Ie.prototype.i;
Ie.prototype.setMap=Ie.prototype.setMap;Ie.prototype.setTarget=Ie.prototype.c;t("ol.control.FullScreen",Me);t("ol.control.defaults",Ue);t("ol.control.MousePosition",Ve);t("ol.control.MousePosition.render",We);Ve.prototype.getCoordinateFormat=Ve.prototype.Lg;Ve.prototype.getProjection=Ve.prototype.rh;Ve.prototype.setCoordinateFormat=Ve.prototype.oi;Ve.prototype.setProjection=Ve.prototype.sh;t("ol.control.OverviewMap",gn);t("ol.control.OverviewMap.render",hn);gn.prototype.getCollapsible=gn.prototype.jm;
gn.prototype.setCollapsible=gn.prototype.mm;gn.prototype.setCollapsed=gn.prototype.lm;gn.prototype.getCollapsed=gn.prototype.im;gn.prototype.getOverviewMap=gn.prototype.wk;t("ol.control.Rotate",Re);t("ol.control.Rotate.render",Se);t("ol.control.ScaleLine",mn);mn.prototype.getUnits=mn.prototype.Eb;t("ol.control.ScaleLine.render",nn);mn.prototype.setUnits=mn.prototype.D;t("ol.control.Zoom",Te);t("ol.control.ZoomSlider",wn);t("ol.control.ZoomSlider.render",yn);t("ol.control.ZoomToExtent",Bn);
Sa.prototype.changed=Sa.prototype.s;Sa.prototype.dispatchEvent=Sa.prototype.b;Sa.prototype.getRevision=Sa.prototype.M;Sa.prototype.on=Sa.prototype.J;Sa.prototype.once=Sa.prototype.N;Sa.prototype.un=Sa.prototype.K;Sa.prototype.unByKey=Sa.prototype.O;qe.prototype.get=qe.prototype.get;qe.prototype.getKeys=qe.prototype.S;qe.prototype.getProperties=qe.prototype.R;qe.prototype.set=qe.prototype.set;qe.prototype.setProperties=qe.prototype.I;qe.prototype.unset=qe.prototype.T;qe.prototype.changed=qe.prototype.s;
qe.prototype.dispatchEvent=qe.prototype.b;qe.prototype.getRevision=qe.prototype.M;qe.prototype.on=qe.prototype.J;qe.prototype.once=qe.prototype.N;qe.prototype.un=qe.prototype.K;qe.prototype.unByKey=qe.prototype.O;te.prototype.type=te.prototype.type;te.prototype.target=te.prototype.target;te.prototype.preventDefault=te.prototype.preventDefault;te.prototype.stopPropagation=te.prototype.stopPropagation;Cn.prototype.get=Cn.prototype.get;Cn.prototype.getKeys=Cn.prototype.S;Cn.prototype.getProperties=Cn.prototype.R;
Cn.prototype.set=Cn.prototype.set;Cn.prototype.setProperties=Cn.prototype.I;Cn.prototype.unset=Cn.prototype.T;Cn.prototype.changed=Cn.prototype.s;Cn.prototype.dispatchEvent=Cn.prototype.b;Cn.prototype.getRevision=Cn.prototype.M;Cn.prototype.on=Cn.prototype.J;Cn.prototype.once=Cn.prototype.N;Cn.prototype.un=Cn.prototype.K;Cn.prototype.unByKey=Cn.prototype.O;J.prototype.get=J.prototype.get;J.prototype.getKeys=J.prototype.S;J.prototype.getProperties=J.prototype.R;J.prototype.set=J.prototype.set;
J.prototype.setProperties=J.prototype.I;J.prototype.unset=J.prototype.T;J.prototype.changed=J.prototype.s;J.prototype.dispatchEvent=J.prototype.b;J.prototype.getRevision=J.prototype.M;J.prototype.on=J.prototype.J;J.prototype.once=J.prototype.N;J.prototype.un=J.prototype.K;J.prototype.unByKey=J.prototype.O;Ru.prototype.get=Ru.prototype.get;Ru.prototype.getKeys=Ru.prototype.S;Ru.prototype.getProperties=Ru.prototype.R;Ru.prototype.set=Ru.prototype.set;Ru.prototype.setProperties=Ru.prototype.I;
Ru.prototype.unset=Ru.prototype.T;Ru.prototype.changed=Ru.prototype.s;Ru.prototype.dispatchEvent=Ru.prototype.b;Ru.prototype.getRevision=Ru.prototype.M;Ru.prototype.on=Ru.prototype.J;Ru.prototype.once=Ru.prototype.N;Ru.prototype.un=Ru.prototype.K;Ru.prototype.unByKey=Ru.prototype.O;lv.prototype.getTileCoord=lv.prototype.c;I.prototype.get=I.prototype.get;I.prototype.getKeys=I.prototype.S;I.prototype.getProperties=I.prototype.R;I.prototype.set=I.prototype.set;I.prototype.setProperties=I.prototype.I;
I.prototype.unset=I.prototype.T;I.prototype.changed=I.prototype.s;I.prototype.dispatchEvent=I.prototype.b;I.prototype.getRevision=I.prototype.M;I.prototype.on=I.prototype.J;I.prototype.once=I.prototype.N;I.prototype.un=I.prototype.K;I.prototype.unByKey=I.prototype.O;Ge.prototype.type=Ge.prototype.type;Ge.prototype.target=Ge.prototype.target;Ge.prototype.preventDefault=Ge.prototype.preventDefault;Ge.prototype.stopPropagation=Ge.prototype.stopPropagation;$e.prototype.map=$e.prototype.map;
$e.prototype.frameState=$e.prototype.frameState;$e.prototype.type=$e.prototype.type;$e.prototype.target=$e.prototype.target;$e.prototype.preventDefault=$e.prototype.preventDefault;$e.prototype.stopPropagation=$e.prototype.stopPropagation;cf.prototype.originalEvent=cf.prototype.originalEvent;cf.prototype.pixel=cf.prototype.pixel;cf.prototype.coordinate=cf.prototype.coordinate;cf.prototype.dragging=cf.prototype.dragging;cf.prototype.preventDefault=cf.prototype.preventDefault;
cf.prototype.stopPropagation=cf.prototype.stopPropagation;cf.prototype.map=cf.prototype.map;cf.prototype.frameState=cf.prototype.frameState;cf.prototype.type=cf.prototype.type;cf.prototype.target=cf.prototype.target;Wa.prototype.type=Wa.prototype.type;Wa.prototype.target=Wa.prototype.target;Wa.prototype.preventDefault=Wa.prototype.preventDefault;Wa.prototype.stopPropagation=Wa.prototype.stopPropagation;Pm.prototype.get=Pm.prototype.get;Pm.prototype.getKeys=Pm.prototype.S;
Pm.prototype.getProperties=Pm.prototype.R;Pm.prototype.set=Pm.prototype.set;Pm.prototype.setProperties=Pm.prototype.I;Pm.prototype.unset=Pm.prototype.T;Pm.prototype.changed=Pm.prototype.s;Pm.prototype.dispatchEvent=Pm.prototype.b;Pm.prototype.getRevision=Pm.prototype.M;Pm.prototype.on=Pm.prototype.J;Pm.prototype.once=Pm.prototype.N;Pm.prototype.un=Pm.prototype.K;Pm.prototype.unByKey=Pm.prototype.O;jy.prototype.getTileCoord=jy.prototype.c;Fd.prototype.get=Fd.prototype.get;Fd.prototype.getKeys=Fd.prototype.S;
Fd.prototype.getProperties=Fd.prototype.R;Fd.prototype.set=Fd.prototype.set;Fd.prototype.setProperties=Fd.prototype.I;Fd.prototype.unset=Fd.prototype.T;Fd.prototype.changed=Fd.prototype.s;Fd.prototype.dispatchEvent=Fd.prototype.b;Fd.prototype.getRevision=Fd.prototype.M;Fd.prototype.on=Fd.prototype.J;Fd.prototype.once=Fd.prototype.N;Fd.prototype.un=Fd.prototype.K;Fd.prototype.unByKey=Fd.prototype.O;my.prototype.forEachTileCoord=my.prototype.Hg;my.prototype.getMaxZoom=my.prototype.Rg;
my.prototype.getMinZoom=my.prototype.Sg;my.prototype.getOrigin=my.prototype.Kc;my.prototype.getResolution=my.prototype.Ha;my.prototype.getResolutions=my.prototype.Wh;my.prototype.getTileCoordExtent=my.prototype.Na;my.prototype.getTileCoordForCoordAndResolution=my.prototype.fe;my.prototype.getTileCoordForCoordAndZ=my.prototype.wf;my.prototype.getTileSize=my.prototype.Za;my.prototype.getZForResolution=my.prototype.Ec;si.prototype.getOpacity=si.prototype.ye;si.prototype.getRotateWithView=si.prototype.ze;
si.prototype.getRotation=si.prototype.Ae;si.prototype.getScale=si.prototype.Be;si.prototype.getSnapToPixel=si.prototype.ee;si.prototype.setOpacity=si.prototype.dd;si.prototype.setRotation=si.prototype.Ce;si.prototype.setScale=si.prototype.ed;ui.prototype.getAngle=ui.prototype.Nh;ui.prototype.getFill=ui.prototype.Oh;ui.prototype.getPoints=ui.prototype.Ph;ui.prototype.getRadius=ui.prototype.Qh;ui.prototype.getRadius2=ui.prototype.Vg;ui.prototype.getStroke=ui.prototype.Rh;ui.prototype.getOpacity=ui.prototype.ye;
ui.prototype.getRotateWithView=ui.prototype.ze;ui.prototype.getRotation=ui.prototype.Ae;ui.prototype.getScale=ui.prototype.Be;ui.prototype.getSnapToPixel=ui.prototype.ee;ui.prototype.setOpacity=ui.prototype.dd;ui.prototype.setRotation=ui.prototype.Ce;ui.prototype.setScale=ui.prototype.ed;xq.prototype.getOpacity=xq.prototype.ye;xq.prototype.getRotateWithView=xq.prototype.ze;xq.prototype.getRotation=xq.prototype.Ae;xq.prototype.getScale=xq.prototype.Be;xq.prototype.getSnapToPixel=xq.prototype.ee;
xq.prototype.setOpacity=xq.prototype.dd;xq.prototype.setRotation=xq.prototype.Ce;xq.prototype.setScale=xq.prototype.ed;hm.prototype.get=hm.prototype.get;hm.prototype.getKeys=hm.prototype.S;hm.prototype.getProperties=hm.prototype.R;hm.prototype.set=hm.prototype.set;hm.prototype.setProperties=hm.prototype.I;hm.prototype.unset=hm.prototype.T;hm.prototype.changed=hm.prototype.s;hm.prototype.dispatchEvent=hm.prototype.b;hm.prototype.getRevision=hm.prototype.M;hm.prototype.on=hm.prototype.J;
hm.prototype.once=hm.prototype.N;hm.prototype.un=hm.prototype.K;hm.prototype.unByKey=hm.prototype.O;ix.prototype.getAttributions=ix.prototype.za;ix.prototype.getLogo=ix.prototype.ya;ix.prototype.getProjection=ix.prototype.Aa;ix.prototype.getState=ix.prototype.W;ix.prototype.refresh=ix.prototype.wa;ix.prototype.setAttributions=ix.prototype.ua;ix.prototype.get=ix.prototype.get;ix.prototype.getKeys=ix.prototype.S;ix.prototype.getProperties=ix.prototype.R;ix.prototype.set=ix.prototype.set;
ix.prototype.setProperties=ix.prototype.I;ix.prototype.unset=ix.prototype.T;ix.prototype.changed=ix.prototype.s;ix.prototype.dispatchEvent=ix.prototype.b;ix.prototype.getRevision=ix.prototype.M;ix.prototype.on=ix.prototype.J;ix.prototype.once=ix.prototype.N;ix.prototype.un=ix.prototype.K;ix.prototype.unByKey=ix.prototype.O;mx.prototype.getTileGrid=mx.prototype.Va;mx.prototype.refresh=mx.prototype.wa;mx.prototype.getAttributions=mx.prototype.za;mx.prototype.getLogo=mx.prototype.ya;
mx.prototype.getProjection=mx.prototype.Aa;mx.prototype.getState=mx.prototype.W;mx.prototype.setAttributions=mx.prototype.ua;mx.prototype.get=mx.prototype.get;mx.prototype.getKeys=mx.prototype.S;mx.prototype.getProperties=mx.prototype.R;mx.prototype.set=mx.prototype.set;mx.prototype.setProperties=mx.prototype.I;mx.prototype.unset=mx.prototype.T;mx.prototype.changed=mx.prototype.s;mx.prototype.dispatchEvent=mx.prototype.b;mx.prototype.getRevision=mx.prototype.M;mx.prototype.on=mx.prototype.J;
mx.prototype.once=mx.prototype.N;mx.prototype.un=mx.prototype.K;mx.prototype.unByKey=mx.prototype.O;X.prototype.getTileLoadFunction=X.prototype.ib;X.prototype.getTileUrlFunction=X.prototype.kb;X.prototype.getUrls=X.prototype.lb;X.prototype.setTileLoadFunction=X.prototype.sb;X.prototype.setTileUrlFunction=X.prototype.Xa;X.prototype.setUrl=X.prototype.cb;X.prototype.setUrls=X.prototype.Ya;X.prototype.getTileGrid=X.prototype.Va;X.prototype.refresh=X.prototype.wa;X.prototype.getAttributions=X.prototype.za;
X.prototype.getLogo=X.prototype.ya;X.prototype.getProjection=X.prototype.Aa;X.prototype.getState=X.prototype.W;X.prototype.setAttributions=X.prototype.ua;X.prototype.get=X.prototype.get;X.prototype.getKeys=X.prototype.S;X.prototype.getProperties=X.prototype.R;X.prototype.set=X.prototype.set;X.prototype.setProperties=X.prototype.I;X.prototype.unset=X.prototype.T;X.prototype.changed=X.prototype.s;X.prototype.dispatchEvent=X.prototype.b;X.prototype.getRevision=X.prototype.M;X.prototype.on=X.prototype.J;
X.prototype.once=X.prototype.N;X.prototype.un=X.prototype.K;X.prototype.unByKey=X.prototype.O;qx.prototype.setRenderReprojectionEdges=qx.prototype.Hb;qx.prototype.setTileGridForProjection=qx.prototype.Ib;qx.prototype.getTileLoadFunction=qx.prototype.ib;qx.prototype.getTileUrlFunction=qx.prototype.kb;qx.prototype.getUrls=qx.prototype.lb;qx.prototype.setTileLoadFunction=qx.prototype.sb;qx.prototype.setTileUrlFunction=qx.prototype.Xa;qx.prototype.setUrl=qx.prototype.cb;qx.prototype.setUrls=qx.prototype.Ya;
qx.prototype.getTileGrid=qx.prototype.Va;qx.prototype.refresh=qx.prototype.wa;qx.prototype.getAttributions=qx.prototype.za;qx.prototype.getLogo=qx.prototype.ya;qx.prototype.getProjection=qx.prototype.Aa;qx.prototype.getState=qx.prototype.W;qx.prototype.setAttributions=qx.prototype.ua;qx.prototype.get=qx.prototype.get;qx.prototype.getKeys=qx.prototype.S;qx.prototype.getProperties=qx.prototype.R;qx.prototype.set=qx.prototype.set;qx.prototype.setProperties=qx.prototype.I;qx.prototype.unset=qx.prototype.T;
qx.prototype.changed=qx.prototype.s;qx.prototype.dispatchEvent=qx.prototype.b;qx.prototype.getRevision=qx.prototype.M;qx.prototype.on=qx.prototype.J;qx.prototype.once=qx.prototype.N;qx.prototype.un=qx.prototype.K;qx.prototype.unByKey=qx.prototype.O;sx.prototype.setRenderReprojectionEdges=sx.prototype.Hb;sx.prototype.setTileGridForProjection=sx.prototype.Ib;sx.prototype.getTileLoadFunction=sx.prototype.ib;sx.prototype.getTileUrlFunction=sx.prototype.kb;sx.prototype.getUrls=sx.prototype.lb;
sx.prototype.setTileLoadFunction=sx.prototype.sb;sx.prototype.setTileUrlFunction=sx.prototype.Xa;sx.prototype.setUrl=sx.prototype.cb;sx.prototype.setUrls=sx.prototype.Ya;sx.prototype.getTileGrid=sx.prototype.Va;sx.prototype.refresh=sx.prototype.wa;sx.prototype.getAttributions=sx.prototype.za;sx.prototype.getLogo=sx.prototype.ya;sx.prototype.getProjection=sx.prototype.Aa;sx.prototype.getState=sx.prototype.W;sx.prototype.setAttributions=sx.prototype.ua;sx.prototype.get=sx.prototype.get;
sx.prototype.getKeys=sx.prototype.S;sx.prototype.getProperties=sx.prototype.R;sx.prototype.set=sx.prototype.set;sx.prototype.setProperties=sx.prototype.I;sx.prototype.unset=sx.prototype.T;sx.prototype.changed=sx.prototype.s;sx.prototype.dispatchEvent=sx.prototype.b;sx.prototype.getRevision=sx.prototype.M;sx.prototype.on=sx.prototype.J;sx.prototype.once=sx.prototype.N;sx.prototype.un=sx.prototype.K;sx.prototype.unByKey=sx.prototype.O;tx.prototype.setRenderReprojectionEdges=tx.prototype.Hb;
tx.prototype.setTileGridForProjection=tx.prototype.Ib;tx.prototype.getTileLoadFunction=tx.prototype.ib;tx.prototype.getTileUrlFunction=tx.prototype.kb;tx.prototype.getUrls=tx.prototype.lb;tx.prototype.setTileLoadFunction=tx.prototype.sb;tx.prototype.setTileUrlFunction=tx.prototype.Xa;tx.prototype.setUrl=tx.prototype.cb;tx.prototype.setUrls=tx.prototype.Ya;tx.prototype.getTileGrid=tx.prototype.Va;tx.prototype.refresh=tx.prototype.wa;tx.prototype.getAttributions=tx.prototype.za;
tx.prototype.getLogo=tx.prototype.ya;tx.prototype.getProjection=tx.prototype.Aa;tx.prototype.getState=tx.prototype.W;tx.prototype.setAttributions=tx.prototype.ua;tx.prototype.get=tx.prototype.get;tx.prototype.getKeys=tx.prototype.S;tx.prototype.getProperties=tx.prototype.R;tx.prototype.set=tx.prototype.set;tx.prototype.setProperties=tx.prototype.I;tx.prototype.unset=tx.prototype.T;tx.prototype.changed=tx.prototype.s;tx.prototype.dispatchEvent=tx.prototype.b;tx.prototype.getRevision=tx.prototype.M;
tx.prototype.on=tx.prototype.J;tx.prototype.once=tx.prototype.N;tx.prototype.un=tx.prototype.K;tx.prototype.unByKey=tx.prototype.O;U.prototype.getAttributions=U.prototype.za;U.prototype.getLogo=U.prototype.ya;U.prototype.getProjection=U.prototype.Aa;U.prototype.getState=U.prototype.W;U.prototype.refresh=U.prototype.wa;U.prototype.setAttributions=U.prototype.ua;U.prototype.get=U.prototype.get;U.prototype.getKeys=U.prototype.S;U.prototype.getProperties=U.prototype.R;U.prototype.set=U.prototype.set;
U.prototype.setProperties=U.prototype.I;U.prototype.unset=U.prototype.T;U.prototype.changed=U.prototype.s;U.prototype.dispatchEvent=U.prototype.b;U.prototype.getRevision=U.prototype.M;U.prototype.on=U.prototype.J;U.prototype.once=U.prototype.N;U.prototype.un=U.prototype.K;U.prototype.unByKey=U.prototype.O;Y.prototype.addFeature=Y.prototype.gb;Y.prototype.addFeatures=Y.prototype.Tc;Y.prototype.clear=Y.prototype.clear;Y.prototype.forEachFeature=Y.prototype.Fg;Y.prototype.forEachFeatureInExtent=Y.prototype.Qb;
Y.prototype.forEachFeatureIntersectingExtent=Y.prototype.Gg;Y.prototype.getFeaturesCollection=Y.prototype.Og;Y.prototype.getFeatures=Y.prototype.we;Y.prototype.getFeaturesAtCoordinate=Y.prototype.Ng;Y.prototype.getFeaturesInExtent=Y.prototype.nf;Y.prototype.getClosestFeatureToCoordinate=Y.prototype.Jg;Y.prototype.getExtent=Y.prototype.G;Y.prototype.getFeatureById=Y.prototype.Mg;Y.prototype.getFormat=Y.prototype.Kh;Y.prototype.getUrl=Y.prototype.Lh;Y.prototype.removeFeature=Y.prototype.rb;
Y.prototype.getAttributions=Y.prototype.za;Y.prototype.getLogo=Y.prototype.ya;Y.prototype.getProjection=Y.prototype.Aa;Y.prototype.getState=Y.prototype.W;Y.prototype.refresh=Y.prototype.wa;Y.prototype.setAttributions=Y.prototype.ua;Y.prototype.get=Y.prototype.get;Y.prototype.getKeys=Y.prototype.S;Y.prototype.getProperties=Y.prototype.R;Y.prototype.set=Y.prototype.set;Y.prototype.setProperties=Y.prototype.I;Y.prototype.unset=Y.prototype.T;Y.prototype.changed=Y.prototype.s;
Y.prototype.dispatchEvent=Y.prototype.b;Y.prototype.getRevision=Y.prototype.M;Y.prototype.on=Y.prototype.J;Y.prototype.once=Y.prototype.N;Y.prototype.un=Y.prototype.K;Y.prototype.unByKey=Y.prototype.O;km.prototype.getAttributions=km.prototype.za;km.prototype.getLogo=km.prototype.ya;km.prototype.getProjection=km.prototype.Aa;km.prototype.getState=km.prototype.W;km.prototype.refresh=km.prototype.wa;km.prototype.setAttributions=km.prototype.ua;km.prototype.get=km.prototype.get;km.prototype.getKeys=km.prototype.S;
km.prototype.getProperties=km.prototype.R;km.prototype.set=km.prototype.set;km.prototype.setProperties=km.prototype.I;km.prototype.unset=km.prototype.T;km.prototype.changed=km.prototype.s;km.prototype.dispatchEvent=km.prototype.b;km.prototype.getRevision=km.prototype.M;km.prototype.on=km.prototype.J;km.prototype.once=km.prototype.N;km.prototype.un=km.prototype.K;km.prototype.unByKey=km.prototype.O;mm.prototype.type=mm.prototype.type;mm.prototype.target=mm.prototype.target;
mm.prototype.preventDefault=mm.prototype.preventDefault;mm.prototype.stopPropagation=mm.prototype.stopPropagation;zx.prototype.getAttributions=zx.prototype.za;zx.prototype.getLogo=zx.prototype.ya;zx.prototype.getProjection=zx.prototype.Aa;zx.prototype.getState=zx.prototype.W;zx.prototype.refresh=zx.prototype.wa;zx.prototype.setAttributions=zx.prototype.ua;zx.prototype.get=zx.prototype.get;zx.prototype.getKeys=zx.prototype.S;zx.prototype.getProperties=zx.prototype.R;zx.prototype.set=zx.prototype.set;
zx.prototype.setProperties=zx.prototype.I;zx.prototype.unset=zx.prototype.T;zx.prototype.changed=zx.prototype.s;zx.prototype.dispatchEvent=zx.prototype.b;zx.prototype.getRevision=zx.prototype.M;zx.prototype.on=zx.prototype.J;zx.prototype.once=zx.prototype.N;zx.prototype.un=zx.prototype.K;zx.prototype.unByKey=zx.prototype.O;rm.prototype.getAttributions=rm.prototype.za;rm.prototype.getLogo=rm.prototype.ya;rm.prototype.getProjection=rm.prototype.Aa;rm.prototype.getState=rm.prototype.W;
rm.prototype.refresh=rm.prototype.wa;rm.prototype.setAttributions=rm.prototype.ua;rm.prototype.get=rm.prototype.get;rm.prototype.getKeys=rm.prototype.S;rm.prototype.getProperties=rm.prototype.R;rm.prototype.set=rm.prototype.set;rm.prototype.setProperties=rm.prototype.I;rm.prototype.unset=rm.prototype.T;rm.prototype.changed=rm.prototype.s;rm.prototype.dispatchEvent=rm.prototype.b;rm.prototype.getRevision=rm.prototype.M;rm.prototype.on=rm.prototype.J;rm.prototype.once=rm.prototype.N;
rm.prototype.un=rm.prototype.K;rm.prototype.unByKey=rm.prototype.O;Ax.prototype.getAttributions=Ax.prototype.za;Ax.prototype.getLogo=Ax.prototype.ya;Ax.prototype.getProjection=Ax.prototype.Aa;Ax.prototype.getState=Ax.prototype.W;Ax.prototype.refresh=Ax.prototype.wa;Ax.prototype.setAttributions=Ax.prototype.ua;Ax.prototype.get=Ax.prototype.get;Ax.prototype.getKeys=Ax.prototype.S;Ax.prototype.getProperties=Ax.prototype.R;Ax.prototype.set=Ax.prototype.set;Ax.prototype.setProperties=Ax.prototype.I;
Ax.prototype.unset=Ax.prototype.T;Ax.prototype.changed=Ax.prototype.s;Ax.prototype.dispatchEvent=Ax.prototype.b;Ax.prototype.getRevision=Ax.prototype.M;Ax.prototype.on=Ax.prototype.J;Ax.prototype.once=Ax.prototype.N;Ax.prototype.un=Ax.prototype.K;Ax.prototype.unByKey=Ax.prototype.O;Bx.prototype.getAttributions=Bx.prototype.za;Bx.prototype.getLogo=Bx.prototype.ya;Bx.prototype.getProjection=Bx.prototype.Aa;Bx.prototype.getState=Bx.prototype.W;Bx.prototype.refresh=Bx.prototype.wa;
Bx.prototype.setAttributions=Bx.prototype.ua;Bx.prototype.get=Bx.prototype.get;Bx.prototype.getKeys=Bx.prototype.S;Bx.prototype.getProperties=Bx.prototype.R;Bx.prototype.set=Bx.prototype.set;Bx.prototype.setProperties=Bx.prototype.I;Bx.prototype.unset=Bx.prototype.T;Bx.prototype.changed=Bx.prototype.s;Bx.prototype.dispatchEvent=Bx.prototype.b;Bx.prototype.getRevision=Bx.prototype.M;Bx.prototype.on=Bx.prototype.J;Bx.prototype.once=Bx.prototype.N;Bx.prototype.un=Bx.prototype.K;
Bx.prototype.unByKey=Bx.prototype.O;sm.prototype.getAttributions=sm.prototype.za;sm.prototype.getLogo=sm.prototype.ya;sm.prototype.getProjection=sm.prototype.Aa;sm.prototype.getState=sm.prototype.W;sm.prototype.refresh=sm.prototype.wa;sm.prototype.setAttributions=sm.prototype.ua;sm.prototype.get=sm.prototype.get;sm.prototype.getKeys=sm.prototype.S;sm.prototype.getProperties=sm.prototype.R;sm.prototype.set=sm.prototype.set;sm.prototype.setProperties=sm.prototype.I;sm.prototype.unset=sm.prototype.T;
sm.prototype.changed=sm.prototype.s;sm.prototype.dispatchEvent=sm.prototype.b;sm.prototype.getRevision=sm.prototype.M;sm.prototype.on=sm.prototype.J;sm.prototype.once=sm.prototype.N;sm.prototype.un=sm.prototype.K;sm.prototype.unByKey=sm.prototype.O;Cx.prototype.getAttributions=Cx.prototype.za;Cx.prototype.getLogo=Cx.prototype.ya;Cx.prototype.getProjection=Cx.prototype.Aa;Cx.prototype.getState=Cx.prototype.W;Cx.prototype.refresh=Cx.prototype.wa;Cx.prototype.setAttributions=Cx.prototype.ua;
Cx.prototype.get=Cx.prototype.get;Cx.prototype.getKeys=Cx.prototype.S;Cx.prototype.getProperties=Cx.prototype.R;Cx.prototype.set=Cx.prototype.set;Cx.prototype.setProperties=Cx.prototype.I;Cx.prototype.unset=Cx.prototype.T;Cx.prototype.changed=Cx.prototype.s;Cx.prototype.dispatchEvent=Cx.prototype.b;Cx.prototype.getRevision=Cx.prototype.M;Cx.prototype.on=Cx.prototype.J;Cx.prototype.once=Cx.prototype.N;Cx.prototype.un=Cx.prototype.K;Cx.prototype.unByKey=Cx.prototype.O;
Gx.prototype.setRenderReprojectionEdges=Gx.prototype.Hb;Gx.prototype.setTileGridForProjection=Gx.prototype.Ib;Gx.prototype.getTileLoadFunction=Gx.prototype.ib;Gx.prototype.getTileUrlFunction=Gx.prototype.kb;Gx.prototype.getUrls=Gx.prototype.lb;Gx.prototype.setTileLoadFunction=Gx.prototype.sb;Gx.prototype.setTileUrlFunction=Gx.prototype.Xa;Gx.prototype.setUrl=Gx.prototype.cb;Gx.prototype.setUrls=Gx.prototype.Ya;Gx.prototype.getTileGrid=Gx.prototype.Va;Gx.prototype.refresh=Gx.prototype.wa;
Gx.prototype.getAttributions=Gx.prototype.za;Gx.prototype.getLogo=Gx.prototype.ya;Gx.prototype.getProjection=Gx.prototype.Aa;Gx.prototype.getState=Gx.prototype.W;Gx.prototype.setAttributions=Gx.prototype.ua;Gx.prototype.get=Gx.prototype.get;Gx.prototype.getKeys=Gx.prototype.S;Gx.prototype.getProperties=Gx.prototype.R;Gx.prototype.set=Gx.prototype.set;Gx.prototype.setProperties=Gx.prototype.I;Gx.prototype.unset=Gx.prototype.T;Gx.prototype.changed=Gx.prototype.s;Gx.prototype.dispatchEvent=Gx.prototype.b;
Gx.prototype.getRevision=Gx.prototype.M;Gx.prototype.on=Gx.prototype.J;Gx.prototype.once=Gx.prototype.N;Gx.prototype.un=Gx.prototype.K;Gx.prototype.unByKey=Gx.prototype.O;Ix.prototype.getAttributions=Ix.prototype.za;Ix.prototype.getLogo=Ix.prototype.ya;Ix.prototype.getProjection=Ix.prototype.Aa;Ix.prototype.getState=Ix.prototype.W;Ix.prototype.refresh=Ix.prototype.wa;Ix.prototype.setAttributions=Ix.prototype.ua;Ix.prototype.get=Ix.prototype.get;Ix.prototype.getKeys=Ix.prototype.S;
Ix.prototype.getProperties=Ix.prototype.R;Ix.prototype.set=Ix.prototype.set;Ix.prototype.setProperties=Ix.prototype.I;Ix.prototype.unset=Ix.prototype.T;Ix.prototype.changed=Ix.prototype.s;Ix.prototype.dispatchEvent=Ix.prototype.b;Ix.prototype.getRevision=Ix.prototype.M;Ix.prototype.on=Ix.prototype.J;Ix.prototype.once=Ix.prototype.N;Ix.prototype.un=Ix.prototype.K;Ix.prototype.unByKey=Ix.prototype.O;Px.prototype.type=Px.prototype.type;Px.prototype.target=Px.prototype.target;
Px.prototype.preventDefault=Px.prototype.preventDefault;Px.prototype.stopPropagation=Px.prototype.stopPropagation;Sx.prototype.setRenderReprojectionEdges=Sx.prototype.Hb;Sx.prototype.setTileGridForProjection=Sx.prototype.Ib;Sx.prototype.getTileLoadFunction=Sx.prototype.ib;Sx.prototype.getTileUrlFunction=Sx.prototype.kb;Sx.prototype.getUrls=Sx.prototype.lb;Sx.prototype.setTileLoadFunction=Sx.prototype.sb;Sx.prototype.setTileUrlFunction=Sx.prototype.Xa;Sx.prototype.setUrl=Sx.prototype.cb;
Sx.prototype.setUrls=Sx.prototype.Ya;Sx.prototype.getTileGrid=Sx.prototype.Va;Sx.prototype.refresh=Sx.prototype.wa;Sx.prototype.getAttributions=Sx.prototype.za;Sx.prototype.getLogo=Sx.prototype.ya;Sx.prototype.getProjection=Sx.prototype.Aa;Sx.prototype.getState=Sx.prototype.W;Sx.prototype.setAttributions=Sx.prototype.ua;Sx.prototype.get=Sx.prototype.get;Sx.prototype.getKeys=Sx.prototype.S;Sx.prototype.getProperties=Sx.prototype.R;Sx.prototype.set=Sx.prototype.set;Sx.prototype.setProperties=Sx.prototype.I;
Sx.prototype.unset=Sx.prototype.T;Sx.prototype.changed=Sx.prototype.s;Sx.prototype.dispatchEvent=Sx.prototype.b;Sx.prototype.getRevision=Sx.prototype.M;Sx.prototype.on=Sx.prototype.J;Sx.prototype.once=Sx.prototype.N;Sx.prototype.un=Sx.prototype.K;Sx.prototype.unByKey=Sx.prototype.O;lx.prototype.type=lx.prototype.type;lx.prototype.target=lx.prototype.target;lx.prototype.preventDefault=lx.prototype.preventDefault;lx.prototype.stopPropagation=lx.prototype.stopPropagation;
Wx.prototype.setRenderReprojectionEdges=Wx.prototype.Hb;Wx.prototype.setTileGridForProjection=Wx.prototype.Ib;Wx.prototype.getTileLoadFunction=Wx.prototype.ib;Wx.prototype.getTileUrlFunction=Wx.prototype.kb;Wx.prototype.getUrls=Wx.prototype.lb;Wx.prototype.setTileLoadFunction=Wx.prototype.sb;Wx.prototype.setTileUrlFunction=Wx.prototype.Xa;Wx.prototype.setUrl=Wx.prototype.cb;Wx.prototype.setUrls=Wx.prototype.Ya;Wx.prototype.getTileGrid=Wx.prototype.Va;Wx.prototype.refresh=Wx.prototype.wa;
Wx.prototype.getAttributions=Wx.prototype.za;Wx.prototype.getLogo=Wx.prototype.ya;Wx.prototype.getProjection=Wx.prototype.Aa;Wx.prototype.getState=Wx.prototype.W;Wx.prototype.setAttributions=Wx.prototype.ua;Wx.prototype.get=Wx.prototype.get;Wx.prototype.getKeys=Wx.prototype.S;Wx.prototype.getProperties=Wx.prototype.R;Wx.prototype.set=Wx.prototype.set;Wx.prototype.setProperties=Wx.prototype.I;Wx.prototype.unset=Wx.prototype.T;Wx.prototype.changed=Wx.prototype.s;Wx.prototype.dispatchEvent=Wx.prototype.b;
Wx.prototype.getRevision=Wx.prototype.M;Wx.prototype.on=Wx.prototype.J;Wx.prototype.once=Wx.prototype.N;Wx.prototype.un=Wx.prototype.K;Wx.prototype.unByKey=Wx.prototype.O;Yx.prototype.getTileGrid=Yx.prototype.Va;Yx.prototype.refresh=Yx.prototype.wa;Yx.prototype.getAttributions=Yx.prototype.za;Yx.prototype.getLogo=Yx.prototype.ya;Yx.prototype.getProjection=Yx.prototype.Aa;Yx.prototype.getState=Yx.prototype.W;Yx.prototype.setAttributions=Yx.prototype.ua;Yx.prototype.get=Yx.prototype.get;
Yx.prototype.getKeys=Yx.prototype.S;Yx.prototype.getProperties=Yx.prototype.R;Yx.prototype.set=Yx.prototype.set;Yx.prototype.setProperties=Yx.prototype.I;Yx.prototype.unset=Yx.prototype.T;Yx.prototype.changed=Yx.prototype.s;Yx.prototype.dispatchEvent=Yx.prototype.b;Yx.prototype.getRevision=Yx.prototype.M;Yx.prototype.on=Yx.prototype.J;Yx.prototype.once=Yx.prototype.N;Yx.prototype.un=Yx.prototype.K;Yx.prototype.unByKey=Yx.prototype.O;$x.prototype.setRenderReprojectionEdges=$x.prototype.Hb;
$x.prototype.setTileGridForProjection=$x.prototype.Ib;$x.prototype.getTileLoadFunction=$x.prototype.ib;$x.prototype.getTileUrlFunction=$x.prototype.kb;$x.prototype.getUrls=$x.prototype.lb;$x.prototype.setTileLoadFunction=$x.prototype.sb;$x.prototype.setTileUrlFunction=$x.prototype.Xa;$x.prototype.setUrl=$x.prototype.cb;$x.prototype.setUrls=$x.prototype.Ya;$x.prototype.getTileGrid=$x.prototype.Va;$x.prototype.refresh=$x.prototype.wa;$x.prototype.getAttributions=$x.prototype.za;
$x.prototype.getLogo=$x.prototype.ya;$x.prototype.getProjection=$x.prototype.Aa;$x.prototype.getState=$x.prototype.W;$x.prototype.setAttributions=$x.prototype.ua;$x.prototype.get=$x.prototype.get;$x.prototype.getKeys=$x.prototype.S;$x.prototype.getProperties=$x.prototype.R;$x.prototype.set=$x.prototype.set;$x.prototype.setProperties=$x.prototype.I;$x.prototype.unset=$x.prototype.T;$x.prototype.changed=$x.prototype.s;$x.prototype.dispatchEvent=$x.prototype.b;$x.prototype.getRevision=$x.prototype.M;
$x.prototype.on=$x.prototype.J;$x.prototype.once=$x.prototype.N;$x.prototype.un=$x.prototype.K;$x.prototype.unByKey=$x.prototype.O;ay.prototype.getTileGrid=ay.prototype.Va;ay.prototype.refresh=ay.prototype.wa;ay.prototype.getAttributions=ay.prototype.za;ay.prototype.getLogo=ay.prototype.ya;ay.prototype.getProjection=ay.prototype.Aa;ay.prototype.getState=ay.prototype.W;ay.prototype.setAttributions=ay.prototype.ua;ay.prototype.get=ay.prototype.get;ay.prototype.getKeys=ay.prototype.S;
ay.prototype.getProperties=ay.prototype.R;ay.prototype.set=ay.prototype.set;ay.prototype.setProperties=ay.prototype.I;ay.prototype.unset=ay.prototype.T;ay.prototype.changed=ay.prototype.s;ay.prototype.dispatchEvent=ay.prototype.b;ay.prototype.getRevision=ay.prototype.M;ay.prototype.on=ay.prototype.J;ay.prototype.once=ay.prototype.N;ay.prototype.un=ay.prototype.K;ay.prototype.unByKey=ay.prototype.O;ey.prototype.setRenderReprojectionEdges=ey.prototype.Hb;ey.prototype.setTileGridForProjection=ey.prototype.Ib;
ey.prototype.getTileLoadFunction=ey.prototype.ib;ey.prototype.getTileUrlFunction=ey.prototype.kb;ey.prototype.getUrls=ey.prototype.lb;ey.prototype.setTileLoadFunction=ey.prototype.sb;ey.prototype.setTileUrlFunction=ey.prototype.Xa;ey.prototype.setUrl=ey.prototype.cb;ey.prototype.setUrls=ey.prototype.Ya;ey.prototype.getTileGrid=ey.prototype.Va;ey.prototype.refresh=ey.prototype.wa;ey.prototype.getAttributions=ey.prototype.za;ey.prototype.getLogo=ey.prototype.ya;ey.prototype.getProjection=ey.prototype.Aa;
ey.prototype.getState=ey.prototype.W;ey.prototype.setAttributions=ey.prototype.ua;ey.prototype.get=ey.prototype.get;ey.prototype.getKeys=ey.prototype.S;ey.prototype.getProperties=ey.prototype.R;ey.prototype.set=ey.prototype.set;ey.prototype.setProperties=ey.prototype.I;ey.prototype.unset=ey.prototype.T;ey.prototype.changed=ey.prototype.s;ey.prototype.dispatchEvent=ey.prototype.b;ey.prototype.getRevision=ey.prototype.M;ey.prototype.on=ey.prototype.J;ey.prototype.once=ey.prototype.N;
ey.prototype.un=ey.prototype.K;ey.prototype.unByKey=ey.prototype.O;Bv.prototype.type=Bv.prototype.type;Bv.prototype.target=Bv.prototype.target;Bv.prototype.preventDefault=Bv.prototype.preventDefault;Bv.prototype.stopPropagation=Bv.prototype.stopPropagation;ly.prototype.getTileLoadFunction=ly.prototype.ib;ly.prototype.getTileUrlFunction=ly.prototype.kb;ly.prototype.getUrls=ly.prototype.lb;ly.prototype.setTileLoadFunction=ly.prototype.sb;ly.prototype.setTileUrlFunction=ly.prototype.Xa;
ly.prototype.setUrl=ly.prototype.cb;ly.prototype.setUrls=ly.prototype.Ya;ly.prototype.getTileGrid=ly.prototype.Va;ly.prototype.refresh=ly.prototype.wa;ly.prototype.getAttributions=ly.prototype.za;ly.prototype.getLogo=ly.prototype.ya;ly.prototype.getProjection=ly.prototype.Aa;ly.prototype.getState=ly.prototype.W;ly.prototype.setAttributions=ly.prototype.ua;ly.prototype.get=ly.prototype.get;ly.prototype.getKeys=ly.prototype.S;ly.prototype.getProperties=ly.prototype.R;ly.prototype.set=ly.prototype.set;
ly.prototype.setProperties=ly.prototype.I;ly.prototype.unset=ly.prototype.T;ly.prototype.changed=ly.prototype.s;ly.prototype.dispatchEvent=ly.prototype.b;ly.prototype.getRevision=ly.prototype.M;ly.prototype.on=ly.prototype.J;ly.prototype.once=ly.prototype.N;ly.prototype.un=ly.prototype.K;ly.prototype.unByKey=ly.prototype.O;Z.prototype.setRenderReprojectionEdges=Z.prototype.Hb;Z.prototype.setTileGridForProjection=Z.prototype.Ib;Z.prototype.getTileLoadFunction=Z.prototype.ib;
Z.prototype.getTileUrlFunction=Z.prototype.kb;Z.prototype.getUrls=Z.prototype.lb;Z.prototype.setTileLoadFunction=Z.prototype.sb;Z.prototype.setTileUrlFunction=Z.prototype.Xa;Z.prototype.setUrl=Z.prototype.cb;Z.prototype.setUrls=Z.prototype.Ya;Z.prototype.getTileGrid=Z.prototype.Va;Z.prototype.refresh=Z.prototype.wa;Z.prototype.getAttributions=Z.prototype.za;Z.prototype.getLogo=Z.prototype.ya;Z.prototype.getProjection=Z.prototype.Aa;Z.prototype.getState=Z.prototype.W;Z.prototype.setAttributions=Z.prototype.ua;
Z.prototype.get=Z.prototype.get;Z.prototype.getKeys=Z.prototype.S;Z.prototype.getProperties=Z.prototype.R;Z.prototype.set=Z.prototype.set;Z.prototype.setProperties=Z.prototype.I;Z.prototype.unset=Z.prototype.T;Z.prototype.changed=Z.prototype.s;Z.prototype.dispatchEvent=Z.prototype.b;Z.prototype.getRevision=Z.prototype.M;Z.prototype.on=Z.prototype.J;Z.prototype.once=Z.prototype.N;Z.prototype.un=Z.prototype.K;Z.prototype.unByKey=Z.prototype.O;qy.prototype.setRenderReprojectionEdges=qy.prototype.Hb;
qy.prototype.setTileGridForProjection=qy.prototype.Ib;qy.prototype.getTileLoadFunction=qy.prototype.ib;qy.prototype.getTileUrlFunction=qy.prototype.kb;qy.prototype.getUrls=qy.prototype.lb;qy.prototype.setTileLoadFunction=qy.prototype.sb;qy.prototype.setTileUrlFunction=qy.prototype.Xa;qy.prototype.setUrl=qy.prototype.cb;qy.prototype.setUrls=qy.prototype.Ya;qy.prototype.getTileGrid=qy.prototype.Va;qy.prototype.refresh=qy.prototype.wa;qy.prototype.getAttributions=qy.prototype.za;
qy.prototype.getLogo=qy.prototype.ya;qy.prototype.getProjection=qy.prototype.Aa;qy.prototype.getState=qy.prototype.W;qy.prototype.setAttributions=qy.prototype.ua;qy.prototype.get=qy.prototype.get;qy.prototype.getKeys=qy.prototype.S;qy.prototype.getProperties=qy.prototype.R;qy.prototype.set=qy.prototype.set;qy.prototype.setProperties=qy.prototype.I;qy.prototype.unset=qy.prototype.T;qy.prototype.changed=qy.prototype.s;qy.prototype.dispatchEvent=qy.prototype.b;qy.prototype.getRevision=qy.prototype.M;
qy.prototype.on=qy.prototype.J;qy.prototype.once=qy.prototype.N;qy.prototype.un=qy.prototype.K;qy.prototype.unByKey=qy.prototype.O;ax.prototype.getTileCoord=ax.prototype.c;ax.prototype.load=ax.prototype.load;Ui.prototype.changed=Ui.prototype.s;Ui.prototype.dispatchEvent=Ui.prototype.b;Ui.prototype.getRevision=Ui.prototype.M;Ui.prototype.on=Ui.prototype.J;Ui.prototype.once=Ui.prototype.N;Ui.prototype.un=Ui.prototype.K;Ui.prototype.unByKey=Ui.prototype.O;Ul.prototype.changed=Ul.prototype.s;
Ul.prototype.dispatchEvent=Ul.prototype.b;Ul.prototype.getRevision=Ul.prototype.M;Ul.prototype.on=Ul.prototype.J;Ul.prototype.once=Ul.prototype.N;Ul.prototype.un=Ul.prototype.K;Ul.prototype.unByKey=Ul.prototype.O;um.prototype.changed=um.prototype.s;um.prototype.dispatchEvent=um.prototype.b;um.prototype.getRevision=um.prototype.M;um.prototype.on=um.prototype.J;um.prototype.once=um.prototype.N;um.prototype.un=um.prototype.K;um.prototype.unByKey=um.prototype.O;Cm.prototype.changed=Cm.prototype.s;
Cm.prototype.dispatchEvent=Cm.prototype.b;Cm.prototype.getRevision=Cm.prototype.M;Cm.prototype.on=Cm.prototype.J;Cm.prototype.once=Cm.prototype.N;Cm.prototype.un=Cm.prototype.K;Cm.prototype.unByKey=Cm.prototype.O;Em.prototype.changed=Em.prototype.s;Em.prototype.dispatchEvent=Em.prototype.b;Em.prototype.getRevision=Em.prototype.M;Em.prototype.on=Em.prototype.J;Em.prototype.once=Em.prototype.N;Em.prototype.un=Em.prototype.K;Em.prototype.unByKey=Em.prototype.O;cj.prototype.changed=cj.prototype.s;
cj.prototype.dispatchEvent=cj.prototype.b;cj.prototype.getRevision=cj.prototype.M;cj.prototype.on=cj.prototype.J;cj.prototype.once=cj.prototype.N;cj.prototype.un=cj.prototype.K;cj.prototype.unByKey=cj.prototype.O;gj.prototype.changed=gj.prototype.s;gj.prototype.dispatchEvent=gj.prototype.b;gj.prototype.getRevision=gj.prototype.M;gj.prototype.on=gj.prototype.J;gj.prototype.once=gj.prototype.N;gj.prototype.un=gj.prototype.K;gj.prototype.unByKey=gj.prototype.O;hj.prototype.changed=hj.prototype.s;
hj.prototype.dispatchEvent=hj.prototype.b;hj.prototype.getRevision=hj.prototype.M;hj.prototype.on=hj.prototype.J;hj.prototype.once=hj.prototype.N;hj.prototype.un=hj.prototype.K;hj.prototype.unByKey=hj.prototype.O;ij.prototype.changed=ij.prototype.s;ij.prototype.dispatchEvent=ij.prototype.b;ij.prototype.getRevision=ij.prototype.M;ij.prototype.on=ij.prototype.J;ij.prototype.once=ij.prototype.N;ij.prototype.un=ij.prototype.K;ij.prototype.unByKey=ij.prototype.O;Nj.prototype.changed=Nj.prototype.s;
Nj.prototype.dispatchEvent=Nj.prototype.b;Nj.prototype.getRevision=Nj.prototype.M;Nj.prototype.on=Nj.prototype.J;Nj.prototype.once=Nj.prototype.N;Nj.prototype.un=Nj.prototype.K;Nj.prototype.unByKey=Nj.prototype.O;Oj.prototype.changed=Oj.prototype.s;Oj.prototype.dispatchEvent=Oj.prototype.b;Oj.prototype.getRevision=Oj.prototype.M;Oj.prototype.on=Oj.prototype.J;Oj.prototype.once=Oj.prototype.N;Oj.prototype.un=Oj.prototype.K;Oj.prototype.unByKey=Oj.prototype.O;Jh.prototype.type=Jh.prototype.type;
Jh.prototype.target=Jh.prototype.target;Jh.prototype.preventDefault=Jh.prototype.preventDefault;Jh.prototype.stopPropagation=Jh.prototype.stopPropagation;If.prototype.type=If.prototype.type;If.prototype.target=If.prototype.target;If.prototype.preventDefault=If.prototype.preventDefault;If.prototype.stopPropagation=If.prototype.stopPropagation;qh.prototype.get=qh.prototype.get;qh.prototype.getKeys=qh.prototype.S;qh.prototype.getProperties=qh.prototype.R;qh.prototype.set=qh.prototype.set;
qh.prototype.setProperties=qh.prototype.I;qh.prototype.unset=qh.prototype.T;qh.prototype.changed=qh.prototype.s;qh.prototype.dispatchEvent=qh.prototype.b;qh.prototype.getRevision=qh.prototype.M;qh.prototype.on=qh.prototype.J;qh.prototype.once=qh.prototype.N;qh.prototype.un=qh.prototype.K;qh.prototype.unByKey=qh.prototype.O;yh.prototype.getExtent=yh.prototype.G;yh.prototype.getMaxResolution=yh.prototype.Wb;yh.prototype.getMinResolution=yh.prototype.Xb;yh.prototype.getOpacity=yh.prototype.Yb;
yh.prototype.getVisible=yh.prototype.Fb;yh.prototype.getZIndex=yh.prototype.Zb;yh.prototype.setExtent=yh.prototype.kc;yh.prototype.setMaxResolution=yh.prototype.pc;yh.prototype.setMinResolution=yh.prototype.qc;yh.prototype.setOpacity=yh.prototype.lc;yh.prototype.setVisible=yh.prototype.mc;yh.prototype.setZIndex=yh.prototype.nc;yh.prototype.get=yh.prototype.get;yh.prototype.getKeys=yh.prototype.S;yh.prototype.getProperties=yh.prototype.R;yh.prototype.set=yh.prototype.set;
yh.prototype.setProperties=yh.prototype.I;yh.prototype.unset=yh.prototype.T;yh.prototype.changed=yh.prototype.s;yh.prototype.dispatchEvent=yh.prototype.b;yh.prototype.getRevision=yh.prototype.M;yh.prototype.on=yh.prototype.J;yh.prototype.once=yh.prototype.N;yh.prototype.un=yh.prototype.K;yh.prototype.unByKey=yh.prototype.O;Kh.prototype.getExtent=Kh.prototype.G;Kh.prototype.getMaxResolution=Kh.prototype.Wb;Kh.prototype.getMinResolution=Kh.prototype.Xb;Kh.prototype.getOpacity=Kh.prototype.Yb;
Kh.prototype.getVisible=Kh.prototype.Fb;Kh.prototype.getZIndex=Kh.prototype.Zb;Kh.prototype.setExtent=Kh.prototype.kc;Kh.prototype.setMaxResolution=Kh.prototype.pc;Kh.prototype.setMinResolution=Kh.prototype.qc;Kh.prototype.setOpacity=Kh.prototype.lc;Kh.prototype.setVisible=Kh.prototype.mc;Kh.prototype.setZIndex=Kh.prototype.nc;Kh.prototype.get=Kh.prototype.get;Kh.prototype.getKeys=Kh.prototype.S;Kh.prototype.getProperties=Kh.prototype.R;Kh.prototype.set=Kh.prototype.set;
Kh.prototype.setProperties=Kh.prototype.I;Kh.prototype.unset=Kh.prototype.T;Kh.prototype.changed=Kh.prototype.s;Kh.prototype.dispatchEvent=Kh.prototype.b;Kh.prototype.getRevision=Kh.prototype.M;Kh.prototype.on=Kh.prototype.J;Kh.prototype.once=Kh.prototype.N;Kh.prototype.un=Kh.prototype.K;Kh.prototype.unByKey=Kh.prototype.O;G.prototype.setMap=G.prototype.setMap;G.prototype.setSource=G.prototype.Pc;G.prototype.getExtent=G.prototype.G;G.prototype.getMaxResolution=G.prototype.Wb;
G.prototype.getMinResolution=G.prototype.Xb;G.prototype.getOpacity=G.prototype.Yb;G.prototype.getVisible=G.prototype.Fb;G.prototype.getZIndex=G.prototype.Zb;G.prototype.setExtent=G.prototype.kc;G.prototype.setMaxResolution=G.prototype.pc;G.prototype.setMinResolution=G.prototype.qc;G.prototype.setOpacity=G.prototype.lc;G.prototype.setVisible=G.prototype.mc;G.prototype.setZIndex=G.prototype.nc;G.prototype.get=G.prototype.get;G.prototype.getKeys=G.prototype.S;G.prototype.getProperties=G.prototype.R;
G.prototype.set=G.prototype.set;G.prototype.setProperties=G.prototype.I;G.prototype.unset=G.prototype.T;G.prototype.changed=G.prototype.s;G.prototype.dispatchEvent=G.prototype.b;G.prototype.getRevision=G.prototype.M;G.prototype.on=G.prototype.J;G.prototype.once=G.prototype.N;G.prototype.un=G.prototype.K;G.prototype.unByKey=G.prototype.O;V.prototype.getSource=V.prototype.la;V.prototype.getStyle=V.prototype.D;V.prototype.getStyleFunction=V.prototype.L;V.prototype.setStyle=V.prototype.l;
V.prototype.setMap=V.prototype.setMap;V.prototype.setSource=V.prototype.Pc;V.prototype.getExtent=V.prototype.G;V.prototype.getMaxResolution=V.prototype.Wb;V.prototype.getMinResolution=V.prototype.Xb;V.prototype.getOpacity=V.prototype.Yb;V.prototype.getVisible=V.prototype.Fb;V.prototype.getZIndex=V.prototype.Zb;V.prototype.setExtent=V.prototype.kc;V.prototype.setMaxResolution=V.prototype.pc;V.prototype.setMinResolution=V.prototype.qc;V.prototype.setOpacity=V.prototype.lc;V.prototype.setVisible=V.prototype.mc;
V.prototype.setZIndex=V.prototype.nc;V.prototype.get=V.prototype.get;V.prototype.getKeys=V.prototype.S;V.prototype.getProperties=V.prototype.R;V.prototype.set=V.prototype.set;V.prototype.setProperties=V.prototype.I;V.prototype.unset=V.prototype.T;V.prototype.changed=V.prototype.s;V.prototype.dispatchEvent=V.prototype.b;V.prototype.getRevision=V.prototype.M;V.prototype.on=V.prototype.J;V.prototype.once=V.prototype.N;V.prototype.un=V.prototype.K;V.prototype.unByKey=V.prototype.O;
ei.prototype.setMap=ei.prototype.setMap;ei.prototype.setSource=ei.prototype.Pc;ei.prototype.getExtent=ei.prototype.G;ei.prototype.getMaxResolution=ei.prototype.Wb;ei.prototype.getMinResolution=ei.prototype.Xb;ei.prototype.getOpacity=ei.prototype.Yb;ei.prototype.getVisible=ei.prototype.Fb;ei.prototype.getZIndex=ei.prototype.Zb;ei.prototype.setExtent=ei.prototype.kc;ei.prototype.setMaxResolution=ei.prototype.pc;ei.prototype.setMinResolution=ei.prototype.qc;ei.prototype.setOpacity=ei.prototype.lc;
ei.prototype.setVisible=ei.prototype.mc;ei.prototype.setZIndex=ei.prototype.nc;ei.prototype.get=ei.prototype.get;ei.prototype.getKeys=ei.prototype.S;ei.prototype.getProperties=ei.prototype.R;ei.prototype.set=ei.prototype.set;ei.prototype.setProperties=ei.prototype.I;ei.prototype.unset=ei.prototype.T;ei.prototype.changed=ei.prototype.s;ei.prototype.dispatchEvent=ei.prototype.b;ei.prototype.getRevision=ei.prototype.M;ei.prototype.on=ei.prototype.J;ei.prototype.once=ei.prototype.N;ei.prototype.un=ei.prototype.K;
ei.prototype.unByKey=ei.prototype.O;F.prototype.setMap=F.prototype.setMap;F.prototype.setSource=F.prototype.Pc;F.prototype.getExtent=F.prototype.G;F.prototype.getMaxResolution=F.prototype.Wb;F.prototype.getMinResolution=F.prototype.Xb;F.prototype.getOpacity=F.prototype.Yb;F.prototype.getVisible=F.prototype.Fb;F.prototype.getZIndex=F.prototype.Zb;F.prototype.setExtent=F.prototype.kc;F.prototype.setMaxResolution=F.prototype.pc;F.prototype.setMinResolution=F.prototype.qc;F.prototype.setOpacity=F.prototype.lc;
F.prototype.setVisible=F.prototype.mc;F.prototype.setZIndex=F.prototype.nc;F.prototype.get=F.prototype.get;F.prototype.getKeys=F.prototype.S;F.prototype.getProperties=F.prototype.R;F.prototype.set=F.prototype.set;F.prototype.setProperties=F.prototype.I;F.prototype.unset=F.prototype.T;F.prototype.changed=F.prototype.s;F.prototype.dispatchEvent=F.prototype.b;F.prototype.getRevision=F.prototype.M;F.prototype.on=F.prototype.J;F.prototype.once=F.prototype.N;F.prototype.un=F.prototype.K;
F.prototype.unByKey=F.prototype.O;H.prototype.getSource=H.prototype.la;H.prototype.getStyle=H.prototype.D;H.prototype.getStyleFunction=H.prototype.L;H.prototype.setStyle=H.prototype.l;H.prototype.setMap=H.prototype.setMap;H.prototype.setSource=H.prototype.Pc;H.prototype.getExtent=H.prototype.G;H.prototype.getMaxResolution=H.prototype.Wb;H.prototype.getMinResolution=H.prototype.Xb;H.prototype.getOpacity=H.prototype.Yb;H.prototype.getVisible=H.prototype.Fb;H.prototype.getZIndex=H.prototype.Zb;
H.prototype.setExtent=H.prototype.kc;H.prototype.setMaxResolution=H.prototype.pc;H.prototype.setMinResolution=H.prototype.qc;H.prototype.setOpacity=H.prototype.lc;H.prototype.setVisible=H.prototype.mc;H.prototype.setZIndex=H.prototype.nc;H.prototype.get=H.prototype.get;H.prototype.getKeys=H.prototype.S;H.prototype.getProperties=H.prototype.R;H.prototype.set=H.prototype.set;H.prototype.setProperties=H.prototype.I;H.prototype.unset=H.prototype.T;H.prototype.changed=H.prototype.s;
H.prototype.dispatchEvent=H.prototype.b;H.prototype.getRevision=H.prototype.M;H.prototype.on=H.prototype.J;H.prototype.once=H.prototype.N;H.prototype.un=H.prototype.K;H.prototype.unByKey=H.prototype.O;lg.prototype.get=lg.prototype.get;lg.prototype.getKeys=lg.prototype.S;lg.prototype.getProperties=lg.prototype.R;lg.prototype.set=lg.prototype.set;lg.prototype.setProperties=lg.prototype.I;lg.prototype.unset=lg.prototype.T;lg.prototype.changed=lg.prototype.s;lg.prototype.dispatchEvent=lg.prototype.b;
lg.prototype.getRevision=lg.prototype.M;lg.prototype.on=lg.prototype.J;lg.prototype.once=lg.prototype.N;lg.prototype.un=lg.prototype.K;lg.prototype.unByKey=lg.prototype.O;qg.prototype.getActive=qg.prototype.f;qg.prototype.getMap=qg.prototype.c;qg.prototype.setActive=qg.prototype.Ea;qg.prototype.get=qg.prototype.get;qg.prototype.getKeys=qg.prototype.S;qg.prototype.getProperties=qg.prototype.R;qg.prototype.set=qg.prototype.set;qg.prototype.setProperties=qg.prototype.I;qg.prototype.unset=qg.prototype.T;
qg.prototype.changed=qg.prototype.s;qg.prototype.dispatchEvent=qg.prototype.b;qg.prototype.getRevision=qg.prototype.M;qg.prototype.on=qg.prototype.J;qg.prototype.once=qg.prototype.N;qg.prototype.un=qg.prototype.K;qg.prototype.unByKey=qg.prototype.O;nv.prototype.getActive=nv.prototype.f;nv.prototype.getMap=nv.prototype.c;nv.prototype.setActive=nv.prototype.Ea;nv.prototype.get=nv.prototype.get;nv.prototype.getKeys=nv.prototype.S;nv.prototype.getProperties=nv.prototype.R;nv.prototype.set=nv.prototype.set;
nv.prototype.setProperties=nv.prototype.I;nv.prototype.unset=nv.prototype.T;nv.prototype.changed=nv.prototype.s;nv.prototype.dispatchEvent=nv.prototype.b;nv.prototype.getRevision=nv.prototype.M;nv.prototype.on=nv.prototype.J;nv.prototype.once=nv.prototype.N;nv.prototype.un=nv.prototype.K;nv.prototype.unByKey=nv.prototype.O;qv.prototype.type=qv.prototype.type;qv.prototype.target=qv.prototype.target;qv.prototype.preventDefault=qv.prototype.preventDefault;qv.prototype.stopPropagation=qv.prototype.stopPropagation;
Bg.prototype.getActive=Bg.prototype.f;Bg.prototype.getMap=Bg.prototype.c;Bg.prototype.setActive=Bg.prototype.Ea;Bg.prototype.get=Bg.prototype.get;Bg.prototype.getKeys=Bg.prototype.S;Bg.prototype.getProperties=Bg.prototype.R;Bg.prototype.set=Bg.prototype.set;Bg.prototype.setProperties=Bg.prototype.I;Bg.prototype.unset=Bg.prototype.T;Bg.prototype.changed=Bg.prototype.s;Bg.prototype.dispatchEvent=Bg.prototype.b;Bg.prototype.getRevision=Bg.prototype.M;Bg.prototype.on=Bg.prototype.J;
Bg.prototype.once=Bg.prototype.N;Bg.prototype.un=Bg.prototype.K;Bg.prototype.unByKey=Bg.prototype.O;Pg.prototype.getActive=Pg.prototype.f;Pg.prototype.getMap=Pg.prototype.c;Pg.prototype.setActive=Pg.prototype.Ea;Pg.prototype.get=Pg.prototype.get;Pg.prototype.getKeys=Pg.prototype.S;Pg.prototype.getProperties=Pg.prototype.R;Pg.prototype.set=Pg.prototype.set;Pg.prototype.setProperties=Pg.prototype.I;Pg.prototype.unset=Pg.prototype.T;Pg.prototype.changed=Pg.prototype.s;Pg.prototype.dispatchEvent=Pg.prototype.b;
Pg.prototype.getRevision=Pg.prototype.M;Pg.prototype.on=Pg.prototype.J;Pg.prototype.once=Pg.prototype.N;Pg.prototype.un=Pg.prototype.K;Pg.prototype.unByKey=Pg.prototype.O;Ug.prototype.type=Ug.prototype.type;Ug.prototype.target=Ug.prototype.target;Ug.prototype.preventDefault=Ug.prototype.preventDefault;Ug.prototype.stopPropagation=Ug.prototype.stopPropagation;Eg.prototype.getActive=Eg.prototype.f;Eg.prototype.getMap=Eg.prototype.c;Eg.prototype.setActive=Eg.prototype.Ea;Eg.prototype.get=Eg.prototype.get;
Eg.prototype.getKeys=Eg.prototype.S;Eg.prototype.getProperties=Eg.prototype.R;Eg.prototype.set=Eg.prototype.set;Eg.prototype.setProperties=Eg.prototype.I;Eg.prototype.unset=Eg.prototype.T;Eg.prototype.changed=Eg.prototype.s;Eg.prototype.dispatchEvent=Eg.prototype.b;Eg.prototype.getRevision=Eg.prototype.M;Eg.prototype.on=Eg.prototype.J;Eg.prototype.once=Eg.prototype.N;Eg.prototype.un=Eg.prototype.K;Eg.prototype.unByKey=Eg.prototype.O;Ig.prototype.getActive=Ig.prototype.f;Ig.prototype.getMap=Ig.prototype.c;
Ig.prototype.setActive=Ig.prototype.Ea;Ig.prototype.get=Ig.prototype.get;Ig.prototype.getKeys=Ig.prototype.S;Ig.prototype.getProperties=Ig.prototype.R;Ig.prototype.set=Ig.prototype.set;Ig.prototype.setProperties=Ig.prototype.I;Ig.prototype.unset=Ig.prototype.T;Ig.prototype.changed=Ig.prototype.s;Ig.prototype.dispatchEvent=Ig.prototype.b;Ig.prototype.getRevision=Ig.prototype.M;Ig.prototype.on=Ig.prototype.J;Ig.prototype.once=Ig.prototype.N;Ig.prototype.un=Ig.prototype.K;Ig.prototype.unByKey=Ig.prototype.O;
sv.prototype.getActive=sv.prototype.f;sv.prototype.getMap=sv.prototype.c;sv.prototype.setActive=sv.prototype.Ea;sv.prototype.get=sv.prototype.get;sv.prototype.getKeys=sv.prototype.S;sv.prototype.getProperties=sv.prototype.R;sv.prototype.set=sv.prototype.set;sv.prototype.setProperties=sv.prototype.I;sv.prototype.unset=sv.prototype.T;sv.prototype.changed=sv.prototype.s;sv.prototype.dispatchEvent=sv.prototype.b;sv.prototype.getRevision=sv.prototype.M;sv.prototype.on=sv.prototype.J;
sv.prototype.once=sv.prototype.N;sv.prototype.un=sv.prototype.K;sv.prototype.unByKey=sv.prototype.O;Yg.prototype.getGeometry=Yg.prototype.V;Yg.prototype.getActive=Yg.prototype.f;Yg.prototype.getMap=Yg.prototype.c;Yg.prototype.setActive=Yg.prototype.Ea;Yg.prototype.get=Yg.prototype.get;Yg.prototype.getKeys=Yg.prototype.S;Yg.prototype.getProperties=Yg.prototype.R;Yg.prototype.set=Yg.prototype.set;Yg.prototype.setProperties=Yg.prototype.I;Yg.prototype.unset=Yg.prototype.T;Yg.prototype.changed=Yg.prototype.s;
Yg.prototype.dispatchEvent=Yg.prototype.b;Yg.prototype.getRevision=Yg.prototype.M;Yg.prototype.on=Yg.prototype.J;Yg.prototype.once=Yg.prototype.N;Yg.prototype.un=Yg.prototype.K;Yg.prototype.unByKey=Yg.prototype.O;Iv.prototype.getActive=Iv.prototype.f;Iv.prototype.getMap=Iv.prototype.c;Iv.prototype.setActive=Iv.prototype.Ea;Iv.prototype.get=Iv.prototype.get;Iv.prototype.getKeys=Iv.prototype.S;Iv.prototype.getProperties=Iv.prototype.R;Iv.prototype.set=Iv.prototype.set;Iv.prototype.setProperties=Iv.prototype.I;
Iv.prototype.unset=Iv.prototype.T;Iv.prototype.changed=Iv.prototype.s;Iv.prototype.dispatchEvent=Iv.prototype.b;Iv.prototype.getRevision=Iv.prototype.M;Iv.prototype.on=Iv.prototype.J;Iv.prototype.once=Iv.prototype.N;Iv.prototype.un=Iv.prototype.K;Iv.prototype.unByKey=Iv.prototype.O;Xv.prototype.type=Xv.prototype.type;Xv.prototype.target=Xv.prototype.target;Xv.prototype.preventDefault=Xv.prototype.preventDefault;Xv.prototype.stopPropagation=Xv.prototype.stopPropagation;aw.prototype.getActive=aw.prototype.f;
aw.prototype.getMap=aw.prototype.c;aw.prototype.setActive=aw.prototype.Ea;aw.prototype.get=aw.prototype.get;aw.prototype.getKeys=aw.prototype.S;aw.prototype.getProperties=aw.prototype.R;aw.prototype.set=aw.prototype.set;aw.prototype.setProperties=aw.prototype.I;aw.prototype.unset=aw.prototype.T;aw.prototype.changed=aw.prototype.s;aw.prototype.dispatchEvent=aw.prototype.b;aw.prototype.getRevision=aw.prototype.M;aw.prototype.on=aw.prototype.J;aw.prototype.once=aw.prototype.N;aw.prototype.un=aw.prototype.K;
aw.prototype.unByKey=aw.prototype.O;lw.prototype.type=lw.prototype.type;lw.prototype.target=lw.prototype.target;lw.prototype.preventDefault=lw.prototype.preventDefault;lw.prototype.stopPropagation=lw.prototype.stopPropagation;Zg.prototype.getActive=Zg.prototype.f;Zg.prototype.getMap=Zg.prototype.c;Zg.prototype.setActive=Zg.prototype.Ea;Zg.prototype.get=Zg.prototype.get;Zg.prototype.getKeys=Zg.prototype.S;Zg.prototype.getProperties=Zg.prototype.R;Zg.prototype.set=Zg.prototype.set;
Zg.prototype.setProperties=Zg.prototype.I;Zg.prototype.unset=Zg.prototype.T;Zg.prototype.changed=Zg.prototype.s;Zg.prototype.dispatchEvent=Zg.prototype.b;Zg.prototype.getRevision=Zg.prototype.M;Zg.prototype.on=Zg.prototype.J;Zg.prototype.once=Zg.prototype.N;Zg.prototype.un=Zg.prototype.K;Zg.prototype.unByKey=Zg.prototype.O;ah.prototype.getActive=ah.prototype.f;ah.prototype.getMap=ah.prototype.c;ah.prototype.setActive=ah.prototype.Ea;ah.prototype.get=ah.prototype.get;ah.prototype.getKeys=ah.prototype.S;
ah.prototype.getProperties=ah.prototype.R;ah.prototype.set=ah.prototype.set;ah.prototype.setProperties=ah.prototype.I;ah.prototype.unset=ah.prototype.T;ah.prototype.changed=ah.prototype.s;ah.prototype.dispatchEvent=ah.prototype.b;ah.prototype.getRevision=ah.prototype.M;ah.prototype.on=ah.prototype.J;ah.prototype.once=ah.prototype.N;ah.prototype.un=ah.prototype.K;ah.prototype.unByKey=ah.prototype.O;nw.prototype.getActive=nw.prototype.f;nw.prototype.getMap=nw.prototype.c;nw.prototype.setActive=nw.prototype.Ea;
nw.prototype.get=nw.prototype.get;nw.prototype.getKeys=nw.prototype.S;nw.prototype.getProperties=nw.prototype.R;nw.prototype.set=nw.prototype.set;nw.prototype.setProperties=nw.prototype.I;nw.prototype.unset=nw.prototype.T;nw.prototype.changed=nw.prototype.s;nw.prototype.dispatchEvent=nw.prototype.b;nw.prototype.getRevision=nw.prototype.M;nw.prototype.on=nw.prototype.J;nw.prototype.once=nw.prototype.N;nw.prototype.un=nw.prototype.K;nw.prototype.unByKey=nw.prototype.O;vw.prototype.type=vw.prototype.type;
vw.prototype.target=vw.prototype.target;vw.prototype.preventDefault=vw.prototype.preventDefault;vw.prototype.stopPropagation=vw.prototype.stopPropagation;ch.prototype.getActive=ch.prototype.f;ch.prototype.getMap=ch.prototype.c;ch.prototype.setActive=ch.prototype.Ea;ch.prototype.get=ch.prototype.get;ch.prototype.getKeys=ch.prototype.S;ch.prototype.getProperties=ch.prototype.R;ch.prototype.set=ch.prototype.set;ch.prototype.setProperties=ch.prototype.I;ch.prototype.unset=ch.prototype.T;
ch.prototype.changed=ch.prototype.s;ch.prototype.dispatchEvent=ch.prototype.b;ch.prototype.getRevision=ch.prototype.M;ch.prototype.on=ch.prototype.J;ch.prototype.once=ch.prototype.N;ch.prototype.un=ch.prototype.K;ch.prototype.unByKey=ch.prototype.O;gh.prototype.getActive=gh.prototype.f;gh.prototype.getMap=gh.prototype.c;gh.prototype.setActive=gh.prototype.Ea;gh.prototype.get=gh.prototype.get;gh.prototype.getKeys=gh.prototype.S;gh.prototype.getProperties=gh.prototype.R;gh.prototype.set=gh.prototype.set;
gh.prototype.setProperties=gh.prototype.I;gh.prototype.unset=gh.prototype.T;gh.prototype.changed=gh.prototype.s;gh.prototype.dispatchEvent=gh.prototype.b;gh.prototype.getRevision=gh.prototype.M;gh.prototype.on=gh.prototype.J;gh.prototype.once=gh.prototype.N;gh.prototype.un=gh.prototype.K;gh.prototype.unByKey=gh.prototype.O;kh.prototype.getActive=kh.prototype.f;kh.prototype.getMap=kh.prototype.c;kh.prototype.setActive=kh.prototype.Ea;kh.prototype.get=kh.prototype.get;kh.prototype.getKeys=kh.prototype.S;
kh.prototype.getProperties=kh.prototype.R;kh.prototype.set=kh.prototype.set;kh.prototype.setProperties=kh.prototype.I;kh.prototype.unset=kh.prototype.T;kh.prototype.changed=kh.prototype.s;kh.prototype.dispatchEvent=kh.prototype.b;kh.prototype.getRevision=kh.prototype.M;kh.prototype.on=kh.prototype.J;kh.prototype.once=kh.prototype.N;kh.prototype.un=kh.prototype.K;kh.prototype.unByKey=kh.prototype.O;Dw.prototype.getActive=Dw.prototype.f;Dw.prototype.getMap=Dw.prototype.c;Dw.prototype.setActive=Dw.prototype.Ea;
Dw.prototype.get=Dw.prototype.get;Dw.prototype.getKeys=Dw.prototype.S;Dw.prototype.getProperties=Dw.prototype.R;Dw.prototype.set=Dw.prototype.set;Dw.prototype.setProperties=Dw.prototype.I;Dw.prototype.unset=Dw.prototype.T;Dw.prototype.changed=Dw.prototype.s;Dw.prototype.dispatchEvent=Dw.prototype.b;Dw.prototype.getRevision=Dw.prototype.M;Dw.prototype.on=Dw.prototype.J;Dw.prototype.once=Dw.prototype.N;Dw.prototype.un=Dw.prototype.K;Dw.prototype.unByKey=Dw.prototype.O;Gw.prototype.type=Gw.prototype.type;
Gw.prototype.target=Gw.prototype.target;Gw.prototype.preventDefault=Gw.prototype.preventDefault;Gw.prototype.stopPropagation=Gw.prototype.stopPropagation;Iw.prototype.getActive=Iw.prototype.f;Iw.prototype.getMap=Iw.prototype.c;Iw.prototype.setActive=Iw.prototype.Ea;Iw.prototype.get=Iw.prototype.get;Iw.prototype.getKeys=Iw.prototype.S;Iw.prototype.getProperties=Iw.prototype.R;Iw.prototype.set=Iw.prototype.set;Iw.prototype.setProperties=Iw.prototype.I;Iw.prototype.unset=Iw.prototype.T;
Iw.prototype.changed=Iw.prototype.s;Iw.prototype.dispatchEvent=Iw.prototype.b;Iw.prototype.getRevision=Iw.prototype.M;Iw.prototype.on=Iw.prototype.J;Iw.prototype.once=Iw.prototype.N;Iw.prototype.un=Iw.prototype.K;Iw.prototype.unByKey=Iw.prototype.O;Mw.prototype.getActive=Mw.prototype.f;Mw.prototype.getMap=Mw.prototype.c;Mw.prototype.setActive=Mw.prototype.Ea;Mw.prototype.get=Mw.prototype.get;Mw.prototype.getKeys=Mw.prototype.S;Mw.prototype.getProperties=Mw.prototype.R;Mw.prototype.set=Mw.prototype.set;
Mw.prototype.setProperties=Mw.prototype.I;Mw.prototype.unset=Mw.prototype.T;Mw.prototype.changed=Mw.prototype.s;Mw.prototype.dispatchEvent=Mw.prototype.b;Mw.prototype.getRevision=Mw.prototype.M;Mw.prototype.on=Mw.prototype.J;Mw.prototype.once=Mw.prototype.N;Mw.prototype.un=Mw.prototype.K;Mw.prototype.unByKey=Mw.prototype.O;Sw.prototype.type=Sw.prototype.type;Sw.prototype.target=Sw.prototype.target;Sw.prototype.preventDefault=Sw.prototype.preventDefault;Sw.prototype.stopPropagation=Sw.prototype.stopPropagation;
Rc.prototype.get=Rc.prototype.get;Rc.prototype.getKeys=Rc.prototype.S;Rc.prototype.getProperties=Rc.prototype.R;Rc.prototype.set=Rc.prototype.set;Rc.prototype.setProperties=Rc.prototype.I;Rc.prototype.unset=Rc.prototype.T;Rc.prototype.changed=Rc.prototype.s;Rc.prototype.dispatchEvent=Rc.prototype.b;Rc.prototype.getRevision=Rc.prototype.M;Rc.prototype.on=Rc.prototype.J;Rc.prototype.once=Rc.prototype.N;Rc.prototype.un=Rc.prototype.K;Rc.prototype.unByKey=Rc.prototype.O;Uc.prototype.getClosestPoint=Uc.prototype.Cb;
Uc.prototype.intersectsCoordinate=Uc.prototype.mb;Uc.prototype.getExtent=Uc.prototype.G;Uc.prototype.rotate=Uc.prototype.rotate;Uc.prototype.scale=Uc.prototype.scale;Uc.prototype.simplify=Uc.prototype.Jb;Uc.prototype.transform=Uc.prototype.ob;Uc.prototype.get=Uc.prototype.get;Uc.prototype.getKeys=Uc.prototype.S;Uc.prototype.getProperties=Uc.prototype.R;Uc.prototype.set=Uc.prototype.set;Uc.prototype.setProperties=Uc.prototype.I;Uc.prototype.unset=Uc.prototype.T;Uc.prototype.changed=Uc.prototype.s;
Uc.prototype.dispatchEvent=Uc.prototype.b;Uc.prototype.getRevision=Uc.prototype.M;Uc.prototype.on=Uc.prototype.J;Uc.prototype.once=Uc.prototype.N;Uc.prototype.un=Uc.prototype.K;Uc.prototype.unByKey=Uc.prototype.O;bv.prototype.getFirstCoordinate=bv.prototype.Rb;bv.prototype.getLastCoordinate=bv.prototype.Sb;bv.prototype.getLayout=bv.prototype.Tb;bv.prototype.rotate=bv.prototype.rotate;bv.prototype.scale=bv.prototype.scale;bv.prototype.getClosestPoint=bv.prototype.Cb;
bv.prototype.intersectsCoordinate=bv.prototype.mb;bv.prototype.getExtent=bv.prototype.G;bv.prototype.simplify=bv.prototype.Jb;bv.prototype.get=bv.prototype.get;bv.prototype.getKeys=bv.prototype.S;bv.prototype.getProperties=bv.prototype.R;bv.prototype.set=bv.prototype.set;bv.prototype.setProperties=bv.prototype.I;bv.prototype.unset=bv.prototype.T;bv.prototype.changed=bv.prototype.s;bv.prototype.dispatchEvent=bv.prototype.b;bv.prototype.getRevision=bv.prototype.M;bv.prototype.on=bv.prototype.J;
bv.prototype.once=bv.prototype.N;bv.prototype.un=bv.prototype.K;bv.prototype.unByKey=bv.prototype.O;Vo.prototype.getClosestPoint=Vo.prototype.Cb;Vo.prototype.intersectsCoordinate=Vo.prototype.mb;Vo.prototype.getExtent=Vo.prototype.G;Vo.prototype.rotate=Vo.prototype.rotate;Vo.prototype.scale=Vo.prototype.scale;Vo.prototype.simplify=Vo.prototype.Jb;Vo.prototype.transform=Vo.prototype.ob;Vo.prototype.get=Vo.prototype.get;Vo.prototype.getKeys=Vo.prototype.S;Vo.prototype.getProperties=Vo.prototype.R;
Vo.prototype.set=Vo.prototype.set;Vo.prototype.setProperties=Vo.prototype.I;Vo.prototype.unset=Vo.prototype.T;Vo.prototype.changed=Vo.prototype.s;Vo.prototype.dispatchEvent=Vo.prototype.b;Vo.prototype.getRevision=Vo.prototype.M;Vo.prototype.on=Vo.prototype.J;Vo.prototype.once=Vo.prototype.N;Vo.prototype.un=Vo.prototype.K;Vo.prototype.unByKey=Vo.prototype.O;md.prototype.getFirstCoordinate=md.prototype.Rb;md.prototype.getLastCoordinate=md.prototype.Sb;md.prototype.getLayout=md.prototype.Tb;
md.prototype.rotate=md.prototype.rotate;md.prototype.scale=md.prototype.scale;md.prototype.getClosestPoint=md.prototype.Cb;md.prototype.intersectsCoordinate=md.prototype.mb;md.prototype.getExtent=md.prototype.G;md.prototype.simplify=md.prototype.Jb;md.prototype.transform=md.prototype.ob;md.prototype.get=md.prototype.get;md.prototype.getKeys=md.prototype.S;md.prototype.getProperties=md.prototype.R;md.prototype.set=md.prototype.set;md.prototype.setProperties=md.prototype.I;md.prototype.unset=md.prototype.T;
md.prototype.changed=md.prototype.s;md.prototype.dispatchEvent=md.prototype.b;md.prototype.getRevision=md.prototype.M;md.prototype.on=md.prototype.J;md.prototype.once=md.prototype.N;md.prototype.un=md.prototype.K;md.prototype.unByKey=md.prototype.O;P.prototype.getFirstCoordinate=P.prototype.Rb;P.prototype.getLastCoordinate=P.prototype.Sb;P.prototype.getLayout=P.prototype.Tb;P.prototype.rotate=P.prototype.rotate;P.prototype.scale=P.prototype.scale;P.prototype.getClosestPoint=P.prototype.Cb;
P.prototype.intersectsCoordinate=P.prototype.mb;P.prototype.getExtent=P.prototype.G;P.prototype.simplify=P.prototype.Jb;P.prototype.transform=P.prototype.ob;P.prototype.get=P.prototype.get;P.prototype.getKeys=P.prototype.S;P.prototype.getProperties=P.prototype.R;P.prototype.set=P.prototype.set;P.prototype.setProperties=P.prototype.I;P.prototype.unset=P.prototype.T;P.prototype.changed=P.prototype.s;P.prototype.dispatchEvent=P.prototype.b;P.prototype.getRevision=P.prototype.M;P.prototype.on=P.prototype.J;
P.prototype.once=P.prototype.N;P.prototype.un=P.prototype.K;P.prototype.unByKey=P.prototype.O;Q.prototype.getFirstCoordinate=Q.prototype.Rb;Q.prototype.getLastCoordinate=Q.prototype.Sb;Q.prototype.getLayout=Q.prototype.Tb;Q.prototype.rotate=Q.prototype.rotate;Q.prototype.scale=Q.prototype.scale;Q.prototype.getClosestPoint=Q.prototype.Cb;Q.prototype.intersectsCoordinate=Q.prototype.mb;Q.prototype.getExtent=Q.prototype.G;Q.prototype.simplify=Q.prototype.Jb;Q.prototype.transform=Q.prototype.ob;
Q.prototype.get=Q.prototype.get;Q.prototype.getKeys=Q.prototype.S;Q.prototype.getProperties=Q.prototype.R;Q.prototype.set=Q.prototype.set;Q.prototype.setProperties=Q.prototype.I;Q.prototype.unset=Q.prototype.T;Q.prototype.changed=Q.prototype.s;Q.prototype.dispatchEvent=Q.prototype.b;Q.prototype.getRevision=Q.prototype.M;Q.prototype.on=Q.prototype.J;Q.prototype.once=Q.prototype.N;Q.prototype.un=Q.prototype.K;Q.prototype.unByKey=Q.prototype.O;R.prototype.getFirstCoordinate=R.prototype.Rb;
R.prototype.getLastCoordinate=R.prototype.Sb;R.prototype.getLayout=R.prototype.Tb;R.prototype.rotate=R.prototype.rotate;R.prototype.scale=R.prototype.scale;R.prototype.getClosestPoint=R.prototype.Cb;R.prototype.intersectsCoordinate=R.prototype.mb;R.prototype.getExtent=R.prototype.G;R.prototype.simplify=R.prototype.Jb;R.prototype.transform=R.prototype.ob;R.prototype.get=R.prototype.get;R.prototype.getKeys=R.prototype.S;R.prototype.getProperties=R.prototype.R;R.prototype.set=R.prototype.set;
R.prototype.setProperties=R.prototype.I;R.prototype.unset=R.prototype.T;R.prototype.changed=R.prototype.s;R.prototype.dispatchEvent=R.prototype.b;R.prototype.getRevision=R.prototype.M;R.prototype.on=R.prototype.J;R.prototype.once=R.prototype.N;R.prototype.un=R.prototype.K;R.prototype.unByKey=R.prototype.O;S.prototype.getFirstCoordinate=S.prototype.Rb;S.prototype.getLastCoordinate=S.prototype.Sb;S.prototype.getLayout=S.prototype.Tb;S.prototype.rotate=S.prototype.rotate;S.prototype.scale=S.prototype.scale;
S.prototype.getClosestPoint=S.prototype.Cb;S.prototype.intersectsCoordinate=S.prototype.mb;S.prototype.getExtent=S.prototype.G;S.prototype.simplify=S.prototype.Jb;S.prototype.transform=S.prototype.ob;S.prototype.get=S.prototype.get;S.prototype.getKeys=S.prototype.S;S.prototype.getProperties=S.prototype.R;S.prototype.set=S.prototype.set;S.prototype.setProperties=S.prototype.I;S.prototype.unset=S.prototype.T;S.prototype.changed=S.prototype.s;S.prototype.dispatchEvent=S.prototype.b;
S.prototype.getRevision=S.prototype.M;S.prototype.on=S.prototype.J;S.prototype.once=S.prototype.N;S.prototype.un=S.prototype.K;S.prototype.unByKey=S.prototype.O;C.prototype.getFirstCoordinate=C.prototype.Rb;C.prototype.getLastCoordinate=C.prototype.Sb;C.prototype.getLayout=C.prototype.Tb;C.prototype.rotate=C.prototype.rotate;C.prototype.scale=C.prototype.scale;C.prototype.getClosestPoint=C.prototype.Cb;C.prototype.intersectsCoordinate=C.prototype.mb;C.prototype.getExtent=C.prototype.G;
C.prototype.simplify=C.prototype.Jb;C.prototype.transform=C.prototype.ob;C.prototype.get=C.prototype.get;C.prototype.getKeys=C.prototype.S;C.prototype.getProperties=C.prototype.R;C.prototype.set=C.prototype.set;C.prototype.setProperties=C.prototype.I;C.prototype.unset=C.prototype.T;C.prototype.changed=C.prototype.s;C.prototype.dispatchEvent=C.prototype.b;C.prototype.getRevision=C.prototype.M;C.prototype.on=C.prototype.J;C.prototype.once=C.prototype.N;C.prototype.un=C.prototype.K;
C.prototype.unByKey=C.prototype.O;E.prototype.getFirstCoordinate=E.prototype.Rb;E.prototype.getLastCoordinate=E.prototype.Sb;E.prototype.getLayout=E.prototype.Tb;E.prototype.rotate=E.prototype.rotate;E.prototype.scale=E.prototype.scale;E.prototype.getClosestPoint=E.prototype.Cb;E.prototype.intersectsCoordinate=E.prototype.mb;E.prototype.getExtent=E.prototype.G;E.prototype.simplify=E.prototype.Jb;E.prototype.transform=E.prototype.ob;E.prototype.get=E.prototype.get;E.prototype.getKeys=E.prototype.S;
E.prototype.getProperties=E.prototype.R;E.prototype.set=E.prototype.set;E.prototype.setProperties=E.prototype.I;E.prototype.unset=E.prototype.T;E.prototype.changed=E.prototype.s;E.prototype.dispatchEvent=E.prototype.b;E.prototype.getRevision=E.prototype.M;E.prototype.on=E.prototype.J;E.prototype.once=E.prototype.N;E.prototype.un=E.prototype.K;E.prototype.unByKey=E.prototype.O;tp.prototype.readFeatures=tp.prototype.La;Cp.prototype.readFeatures=Cp.prototype.La;tp.prototype.readFeatures=tp.prototype.La;
Ie.prototype.get=Ie.prototype.get;Ie.prototype.getKeys=Ie.prototype.S;Ie.prototype.getProperties=Ie.prototype.R;Ie.prototype.set=Ie.prototype.set;Ie.prototype.setProperties=Ie.prototype.I;Ie.prototype.unset=Ie.prototype.T;Ie.prototype.changed=Ie.prototype.s;Ie.prototype.dispatchEvent=Ie.prototype.b;Ie.prototype.getRevision=Ie.prototype.M;Ie.prototype.on=Ie.prototype.J;Ie.prototype.once=Ie.prototype.N;Ie.prototype.un=Ie.prototype.K;Ie.prototype.unByKey=Ie.prototype.O;Je.prototype.getMap=Je.prototype.i;
Je.prototype.setMap=Je.prototype.setMap;Je.prototype.setTarget=Je.prototype.c;Je.prototype.get=Je.prototype.get;Je.prototype.getKeys=Je.prototype.S;Je.prototype.getProperties=Je.prototype.R;Je.prototype.set=Je.prototype.set;Je.prototype.setProperties=Je.prototype.I;Je.prototype.unset=Je.prototype.T;Je.prototype.changed=Je.prototype.s;Je.prototype.dispatchEvent=Je.prototype.b;Je.prototype.getRevision=Je.prototype.M;Je.prototype.on=Je.prototype.J;Je.prototype.once=Je.prototype.N;Je.prototype.un=Je.prototype.K;
Je.prototype.unByKey=Je.prototype.O;Me.prototype.getMap=Me.prototype.i;Me.prototype.setMap=Me.prototype.setMap;Me.prototype.setTarget=Me.prototype.c;Me.prototype.get=Me.prototype.get;Me.prototype.getKeys=Me.prototype.S;Me.prototype.getProperties=Me.prototype.R;Me.prototype.set=Me.prototype.set;Me.prototype.setProperties=Me.prototype.I;Me.prototype.unset=Me.prototype.T;Me.prototype.changed=Me.prototype.s;Me.prototype.dispatchEvent=Me.prototype.b;Me.prototype.getRevision=Me.prototype.M;
Me.prototype.on=Me.prototype.J;Me.prototype.once=Me.prototype.N;Me.prototype.un=Me.prototype.K;Me.prototype.unByKey=Me.prototype.O;Ve.prototype.getMap=Ve.prototype.i;Ve.prototype.setMap=Ve.prototype.setMap;Ve.prototype.setTarget=Ve.prototype.c;Ve.prototype.get=Ve.prototype.get;Ve.prototype.getKeys=Ve.prototype.S;Ve.prototype.getProperties=Ve.prototype.R;Ve.prototype.set=Ve.prototype.set;Ve.prototype.setProperties=Ve.prototype.I;Ve.prototype.unset=Ve.prototype.T;Ve.prototype.changed=Ve.prototype.s;
Ve.prototype.dispatchEvent=Ve.prototype.b;Ve.prototype.getRevision=Ve.prototype.M;Ve.prototype.on=Ve.prototype.J;Ve.prototype.once=Ve.prototype.N;Ve.prototype.un=Ve.prototype.K;Ve.prototype.unByKey=Ve.prototype.O;gn.prototype.getMap=gn.prototype.i;gn.prototype.setMap=gn.prototype.setMap;gn.prototype.setTarget=gn.prototype.c;gn.prototype.get=gn.prototype.get;gn.prototype.getKeys=gn.prototype.S;gn.prototype.getProperties=gn.prototype.R;gn.prototype.set=gn.prototype.set;gn.prototype.setProperties=gn.prototype.I;
gn.prototype.unset=gn.prototype.T;gn.prototype.changed=gn.prototype.s;gn.prototype.dispatchEvent=gn.prototype.b;gn.prototype.getRevision=gn.prototype.M;gn.prototype.on=gn.prototype.J;gn.prototype.once=gn.prototype.N;gn.prototype.un=gn.prototype.K;gn.prototype.unByKey=gn.prototype.O;Re.prototype.getMap=Re.prototype.i;Re.prototype.setMap=Re.prototype.setMap;Re.prototype.setTarget=Re.prototype.c;Re.prototype.get=Re.prototype.get;Re.prototype.getKeys=Re.prototype.S;Re.prototype.getProperties=Re.prototype.R;
Re.prototype.set=Re.prototype.set;Re.prototype.setProperties=Re.prototype.I;Re.prototype.unset=Re.prototype.T;Re.prototype.changed=Re.prototype.s;Re.prototype.dispatchEvent=Re.prototype.b;Re.prototype.getRevision=Re.prototype.M;Re.prototype.on=Re.prototype.J;Re.prototype.once=Re.prototype.N;Re.prototype.un=Re.prototype.K;Re.prototype.unByKey=Re.prototype.O;mn.prototype.getMap=mn.prototype.i;mn.prototype.setMap=mn.prototype.setMap;mn.prototype.setTarget=mn.prototype.c;mn.prototype.get=mn.prototype.get;
mn.prototype.getKeys=mn.prototype.S;mn.prototype.getProperties=mn.prototype.R;mn.prototype.set=mn.prototype.set;mn.prototype.setProperties=mn.prototype.I;mn.prototype.unset=mn.prototype.T;mn.prototype.changed=mn.prototype.s;mn.prototype.dispatchEvent=mn.prototype.b;mn.prototype.getRevision=mn.prototype.M;mn.prototype.on=mn.prototype.J;mn.prototype.once=mn.prototype.N;mn.prototype.un=mn.prototype.K;mn.prototype.unByKey=mn.prototype.O;Te.prototype.getMap=Te.prototype.i;Te.prototype.setMap=Te.prototype.setMap;
Te.prototype.setTarget=Te.prototype.c;Te.prototype.get=Te.prototype.get;Te.prototype.getKeys=Te.prototype.S;Te.prototype.getProperties=Te.prototype.R;Te.prototype.set=Te.prototype.set;Te.prototype.setProperties=Te.prototype.I;Te.prototype.unset=Te.prototype.T;Te.prototype.changed=Te.prototype.s;Te.prototype.dispatchEvent=Te.prototype.b;Te.prototype.getRevision=Te.prototype.M;Te.prototype.on=Te.prototype.J;Te.prototype.once=Te.prototype.N;Te.prototype.un=Te.prototype.K;Te.prototype.unByKey=Te.prototype.O;
wn.prototype.getMap=wn.prototype.i;wn.prototype.setMap=wn.prototype.setMap;wn.prototype.setTarget=wn.prototype.c;wn.prototype.get=wn.prototype.get;wn.prototype.getKeys=wn.prototype.S;wn.prototype.getProperties=wn.prototype.R;wn.prototype.set=wn.prototype.set;wn.prototype.setProperties=wn.prototype.I;wn.prototype.unset=wn.prototype.T;wn.prototype.changed=wn.prototype.s;wn.prototype.dispatchEvent=wn.prototype.b;wn.prototype.getRevision=wn.prototype.M;wn.prototype.on=wn.prototype.J;
wn.prototype.once=wn.prototype.N;wn.prototype.un=wn.prototype.K;wn.prototype.unByKey=wn.prototype.O;Bn.prototype.getMap=Bn.prototype.i;Bn.prototype.setMap=Bn.prototype.setMap;Bn.prototype.setTarget=Bn.prototype.c;Bn.prototype.get=Bn.prototype.get;Bn.prototype.getKeys=Bn.prototype.S;Bn.prototype.getProperties=Bn.prototype.R;Bn.prototype.set=Bn.prototype.set;Bn.prototype.setProperties=Bn.prototype.I;Bn.prototype.unset=Bn.prototype.T;Bn.prototype.changed=Bn.prototype.s;Bn.prototype.dispatchEvent=Bn.prototype.b;
Bn.prototype.getRevision=Bn.prototype.M;Bn.prototype.on=Bn.prototype.J;Bn.prototype.once=Bn.prototype.N;Bn.prototype.un=Bn.prototype.K;Bn.prototype.unByKey=Bn.prototype.O;
  return OPENLAYERS.ol;
}));


/*! showdown 19-10-2015 */

(function(){function a(a){"use strict";var b={omitExtraWLInCodeBlocks:{"default":!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{"default":!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{"default":!1,describe:"Specify a prefix to generated header ids",type:"string"},headerLevelStart:{"default":!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{"default":!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{"default":!1,describe:"Turn on/off GFM autolink style",type:"boolean"},literalMidWordUnderscores:{"default":!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},strikethrough:{"default":!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{"default":!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{"default":!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{"default":!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{"default":!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{"default":!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"}};if(a===!1)return JSON.parse(JSON.stringify(b));var c={};for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d]["default"]);return c}function b(a,b){"use strict";var c=b?"Error in "+b+" extension->":"Error in unnamed extension",e={valid:!0,error:""};d.helper.isArray(a)||(a=[a]);for(var f=0;f<a.length;++f){var g=c+" sub-extension "+f+": ",h=a[f];if("object"!=typeof h)return e.valid=!1,e.error=g+"must be an object, but "+typeof h+" given",e;if(!d.helper.isString(h.type))return e.valid=!1,e.error=g+'property "type" must be a string, but '+typeof h.type+" given",e;var i=h.type=h.type.toLowerCase();if("language"===i&&(i=h.type="lang"),"html"===i&&(i=h.type="output"),"lang"!==i&&"output"!==i&&"listener"!==i)return e.valid=!1,e.error=g+"type "+i+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',e;if("listener"===i){if(d.helper.isUndefined(h.listeners))return e.valid=!1,e.error=g+'. Extensions of type "listener" must have a property called "listeners"',e}else if(d.helper.isUndefined(h.filter)&&d.helper.isUndefined(h.regex))return e.valid=!1,e.error=g+i+' extensions must define either a "regex" property or a "filter" method',e;if(h.listeners){if("object"!=typeof h.listeners)return e.valid=!1,e.error=g+'"listeners" property must be an object but '+typeof h.listeners+" given",e;for(var j in h.listeners)if(h.listeners.hasOwnProperty(j)&&"function"!=typeof h.listeners[j])return e.valid=!1,e.error=g+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+j+" must be a function but "+typeof h.listeners[j]+" given",e}if(h.filter){if("function"!=typeof h.filter)return e.valid=!1,e.error=g+'"filter" must be a function, but '+typeof h.filter+" given",e}else if(h.regex){if(d.helper.isString(h.regex)&&(h.regex=new RegExp(h.regex,"g")),!h.regex instanceof RegExp)return e.valid=!1,e.error=g+'"regex" property must either be a string or a RegExp object, but '+typeof h.regex+" given",e;if(d.helper.isUndefined(h.replace))return e.valid=!1,e.error=g+'"regex" extensions must implement a replace string or function',e}}return e}function c(a,b){"use strict";var c=b.charCodeAt(0);return"~E"+c+"E"}var d={},e={},f={},g=a(!0),h={github:{omitExtraWLInCodeBlocks:!0,prefixHeaderId:"user-content-",simplifiedAutoLink:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0},vanilla:a(!0)};d.helper={},d.extensions={},d.setOption=function(a,b){"use strict";return g[a]=b,this},d.getOption=function(a){"use strict";return g[a]},d.getOptions=function(){"use strict";return g},d.resetOptions=function(){"use strict";g=a(!0)},d.setFlavor=function(a){"use strict";if(h.hasOwnProperty(a)){var b=h[a];for(var c in b)b.hasOwnProperty(c)&&(g[c]=b[c])}},d.getDefaultOptions=function(b){"use strict";return a(b)},d.subParser=function(a,b){"use strict";if(d.helper.isString(a)){if("undefined"==typeof b){if(e.hasOwnProperty(a))return e[a];throw Error("SubParser named "+a+" not registered!")}e[a]=b}},d.extension=function(a,c){"use strict";if(!d.helper.isString(a))throw Error("Extension 'name' must be a string");if(a=d.helper.stdExtName(a),d.helper.isUndefined(c)){if(!f.hasOwnProperty(a))throw Error("Extension named "+a+" is not registered!");return f[a]}"function"==typeof c&&(c=c()),d.helper.isArray(c)||(c=[c]);var e=b(c,a);if(!e.valid)throw Error(e.error);f[a]=c},d.getAllExtensions=function(){"use strict";return f},d.removeExtension=function(a){"use strict";delete f[a]},d.resetExtensions=function(){"use strict";f={}},d.validateExtension=function(a){"use strict";var c=b(a,null);return c.valid?!0:(console.warn(c.error),!1)},d.hasOwnProperty("helper")||(d.helper={}),d.helper.isString=function(a){"use strict";return"string"==typeof a||a instanceof String},d.helper.forEach=function(a,b){"use strict";if("function"==typeof a.forEach)a.forEach(b);else for(var c=0;c<a.length;c++)b(a[c],c,a)},d.helper.isArray=function(a){"use strict";return a.constructor===Array},d.helper.isUndefined=function(a){"use strict";return"undefined"==typeof a},d.helper.stdExtName=function(a){"use strict";return a.replace(/[_-]||\s/g,"").toLowerCase()},d.helper.escapeCharactersCallback=c,d.helper.escapeCharacters=function(a,b,d){"use strict";var e="(["+b.replace(/([\[\]\\])/g,"\\$1")+"])";d&&(e="\\\\"+e);var f=new RegExp(e,"g");return a=a.replace(f,c)},d.helper.matchRecursiveRegExp=function(a,b,c,d){"use strict";var e,f,g,h,i,j=d||"",k=j.indexOf("g")>-1,l=new RegExp(b+"|"+c,j),m=new RegExp(b,j.replace(/g/g,"")),n=[];do for(e=0;g=l.exec(a);)if(m.test(g[0]))e++||(h=g[0],f=l.lastIndex);else if(e&&!--e){i=g[0];var o=a.slice(f,g.index);if(n.push([h+o+i,o]),!k)return n}while(e&&(l.lastIndex=f));return n},d.helper.isUndefined(console)&&(console={warn:function(a){"use strict";alert(a)},log:function(a){"use strict";alert(a)},error:function(a){"use strict";throw a}}),d.Converter=function(a){"use strict";function c(){a=a||{};for(var b in g)g.hasOwnProperty(b)&&(k[b]=g[b]);if("object"!=typeof a)throw Error("Converter expects the passed parameter to be an object, but "+typeof a+" was passed instead.");for(var c in a)a.hasOwnProperty(c)&&(k[c]=a[c]);k.extensions&&d.helper.forEach(k.extensions,e)}function e(a,c){if(c=c||null,d.helper.isString(a)){if(a=d.helper.stdExtName(a),c=a,d.extensions[a])return console.warn("DEPRECATION WARNING: "+a+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void i(d.extensions[a],a);if(d.helper.isUndefined(f[a]))throw Error('Extension "'+a+'" could not be loaded. It was either not found or is not a valid extension.');a=f[a]}"function"==typeof a&&(a=a()),d.helper.isArray(a)||(a=[a]);var e=b(a,c);if(!e.valid)throw Error(e.error);for(var g=0;g<a.length;++g){switch(a[g].type){case"lang":l.push(a[g]);break;case"output":m.push(a[g])}if(a[g].hasOwnProperty(n))for(var h in a[g].listeners)a[g].listeners.hasOwnProperty(h)&&j(h,a[g].listeners[h])}}function i(a,c){"function"==typeof a&&(a=a(new d.Converter)),d.helper.isArray(a)||(a=[a]);var e=b(a,c);if(!e.valid)throw Error(e.error);for(var f=0;f<a.length;++f)switch(a[f].type){case"lang":l.push(a[f]);break;case"output":m.push(a[f]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function j(a,b){if(!d.helper.isString(a))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof a+" given");if("function"!=typeof b)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof b+" given");n.hasOwnProperty(a)||(n[a]=[]),n[a].push(b)}var k={},l=[],m=[],n={};c(),this._dispatch=function(a,b,c){if(n.hasOwnProperty(a))for(var d=0;d<n[a].length;++d){var e=n[a][d](a,b,this,c);e&&"undefined"!=typeof e&&(b=e)}return b},this.listen=function(a,b){return j(a,b),this},this.makeHtml=function(a){if(!a)return a;var b={gHtmlBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:l,outputModifiers:m,converter:this};return a=a.replace(/~/g,"~T"),a=a.replace(/\$/g,"~D"),a=a.replace(/\r\n/g,"\n"),a=a.replace(/\r/g,"\n"),a="\n\n"+a+"\n\n",a=d.subParser("detab")(a,k,b),a=d.subParser("stripBlankLines")(a,k,b),d.helper.forEach(l,function(c){a=d.subParser("runExtension")(c,a,k,b)}),a=d.subParser("githubCodeBlocks")(a,k,b),a=d.subParser("hashHTMLBlocks")(a,k,b),a=d.subParser("hashHTMLSpans")(a,k,b),a=d.subParser("stripLinkDefinitions")(a,k,b),a=d.subParser("blockGamut")(a,k,b),a=d.subParser("unhashHTMLSpans")(a,k,b),a=d.subParser("unescapeSpecialChars")(a,k,b),a=a.replace(/~D/g,"$$"),a=a.replace(/~T/g,"~"),d.helper.forEach(m,function(c){a=d.subParser("runExtension")(c,a,k,b)}),a},this.setOption=function(a,b){k[a]=b},this.getOption=function(a){return k[a]},this.getOptions=function(){return k},this.addExtension=function(a,b){b=b||null,e(a,b)},this.useExtension=function(a){e(a)},this.setFlavor=function(a){if(h.hasOwnProperty(a)){var b=h[a];for(var c in b)b.hasOwnProperty(c)&&(k[c]=b[c])}},this.removeExtension=function(a){d.helper.isArray(a)||(a=[a]);for(var b=0;b<a.length;++b){for(var c=a[b],e=0;e<l.length;++e)l[e]===c&&l[e].splice(e,1);for(var f=0;f<m.length;++e)m[f]===c&&m[f].splice(e,1)}},this.getAllExtensions=function(){return{language:l,output:m}}},d.subParser("anchors",function(a,b,c){"use strict";a=c.converter._dispatch("anchors.before",a,b);var e=function(a,b,e,f,g,h,i,j){d.helper.isUndefined(j)&&(j=""),a=b;var k=e,l=f.toLowerCase(),m=g,n=j;if(!m)if(l||(l=k.toLowerCase().replace(/ ?\n/g," ")),m="#"+l,d.helper.isUndefined(c.gUrls[l])){if(!(a.search(/\(\s*\)$/m)>-1))return a;m=""}else m=c.gUrls[l],d.helper.isUndefined(c.gTitles[l])||(n=c.gTitles[l]);m=d.helper.escapeCharacters(m,"*_",!1);var o='<a href="'+m+'"';return""!==n&&null!==n&&(n=n.replace(/"/g,"&quot;"),n=d.helper.escapeCharacters(n,"*_",!1),o+=' title="'+n+'"'),o+=">"+k+"</a>"};return a=a.replace(/(\[((?:\[[^\]]*]|[^\[\]])*)][ ]?(?:\n[ ]*)?\[(.*?)])()()()()/g,e),a=a.replace(/(\[((?:\[[^\]]*]|[^\[\]])*)]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,e),a=a.replace(/(\[([^\[\]]+)])()()()()()/g,e),a=c.converter._dispatch("anchors.after",a,b)}),d.subParser("autoLinks",function(a,b,c){"use strict";function e(a,b){var c=d.subParser("unescapeSpecialChars")(b);return d.subParser("encodeEmailAddress")(c)}a=c.converter._dispatch("autoLinks.before",a,b);var f=/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+)(?=\s|$)(?!["<>])/gi,g=/<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)>/gi,h=/(?:^|[ \n\t])([A-Za-z0-9!#$%&'*+-/=?^_`\{|}~\.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?:$|[ \n\t])/gi,i=/<(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi;return a=a.replace(g,'<a href="$1">$1</a>'),a=a.replace(i,e),b.simplifiedAutoLink&&(a=a.replace(f,'<a href="$1">$1</a>'),a=a.replace(h,e)),a=c.converter._dispatch("autoLinks.after",a,b)}),d.subParser("blockGamut",function(a,b,c){"use strict";a=c.converter._dispatch("blockGamut.before",a,b),a=d.subParser("blockQuotes")(a,b,c),a=d.subParser("headers")(a,b,c);var e=d.subParser("hashBlock")("<hr />",b,c);return a=a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,e),a=a.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,e),a=a.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,e),a=d.subParser("lists")(a,b,c),a=d.subParser("codeBlocks")(a,b,c),a=d.subParser("tables")(a,b,c),a=d.subParser("hashHTMLBlocks")(a,b,c),a=d.subParser("paragraphs")(a,b,c),a=c.converter._dispatch("blockGamut.after",a,b)}),d.subParser("blockQuotes",function(a,b,c){"use strict";return a=c.converter._dispatch("blockQuotes.before",a,b),a=a.replace(/((^[ \t]{0,3}>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,e){var f=e;return f=f.replace(/^[ \t]*>[ \t]?/gm,"~0"),f=f.replace(/~0/g,""),f=f.replace(/^[ \t]+$/gm,""),f=d.subParser("githubCodeBlocks")(f,b,c),f=d.subParser("blockGamut")(f,b,c),f=f.replace(/(^|\n)/g,"$1  "),f=f.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var c=b;return c=c.replace(/^  /gm,"~0"),c=c.replace(/~0/g,"")}),d.subParser("hashBlock")("<blockquote>\n"+f+"\n</blockquote>",b,c)}),a=c.converter._dispatch("blockQuotes.after",a,b)}),d.subParser("codeBlocks",function(a,b,c){"use strict";a=c.converter._dispatch("codeBlocks.before",a,b),a+="~0";var e=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g;return a=a.replace(e,function(a,e,f){var g=e,h=f,i="\n";return g=d.subParser("outdent")(g),g=d.subParser("encodeCode")(g),g=d.subParser("detab")(g),g=g.replace(/^\n+/g,""),g=g.replace(/\n+$/g,""),b.omitExtraWLInCodeBlocks&&(i=""),g="<pre><code>"+g+i+"</code></pre>",d.subParser("hashBlock")(g,b,c)+h}),a=a.replace(/~0/,""),a=c.converter._dispatch("codeBlocks.after",a,b)}),d.subParser("codeSpans",function(a,b,c){"use strict";return a=c.converter._dispatch("codeSpans.before",a,b),a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(a,b,c,e){var f=e;return f=f.replace(/^([ \t]*)/g,""),f=f.replace(/[ \t]*$/g,""),f=d.subParser("encodeCode")(f),b+"<code>"+f+"</code>"}),a=c.converter._dispatch("codeSpans.after",a,b)}),d.subParser("detab",function(a){"use strict";return a=a.replace(/\t(?=\t)/g,"    "),a=a.replace(/\t/g,"~A~B"),a=a.replace(/~B(.+?)~A/g,function(a,b){for(var c=b,d=4-c.length%4,e=0;d>e;e++)c+=" ";return c}),a=a.replace(/~A/g,"    "),a=a.replace(/~B/g,"")}),d.subParser("encodeAmpsAndAngles",function(a){"use strict";return a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a=a.replace(/<(?![a-z\/?\$!])/gi,"&lt;")}),d.subParser("encodeBackslashEscapes",function(a){"use strict";return a=a.replace(/\\(\\)/g,d.helper.escapeCharactersCallback),a=a.replace(/\\([`*_{}\[\]()>#+-.!])/g,d.helper.escapeCharactersCallback)}),d.subParser("encodeCode",function(a){"use strict";return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=d.helper.escapeCharacters(a,"*_{}[]\\",!1)}),d.subParser("encodeEmailAddress",function(a){"use strict";var b=[function(a){return"&#"+a.charCodeAt(0)+";"},function(a){return"&#x"+a.charCodeAt(0).toString(16)+";"},function(a){return a}];return a="mailto:"+a,a=a.replace(/./g,function(a){if("@"===a)a=b[Math.floor(2*Math.random())](a);else if(":"!==a){var c=Math.random();a=c>.9?b[2](a):c>.45?b[1](a):b[0](a)}return a}),a='<a href="'+a+'">'+a+"</a>",a=a.replace(/">.+:/g,'">')}),d.subParser("escapeSpecialCharsWithinTagAttributes",function(a){"use strict";var b=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return a=a.replace(b,function(a){var b=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return b=d.helper.escapeCharacters(b,"\\`*_",!1)})}),d.subParser("githubCodeBlocks",function(a,b,c){"use strict";return b.ghCodeBlocks?(a=c.converter._dispatch("githubCodeBlocks.before",a,b),a+="~0",a=a.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(a,e,f){var g=b.omitExtraWLInCodeBlocks?"":"\n";return f=d.subParser("encodeCode")(f),f=d.subParser("detab")(f),f=f.replace(/^\n+/g,""),f=f.replace(/\n+$/g,""),f="<pre><code"+(e?' class="'+e+" language-"+e+'"':"")+">"+f+g+"</code></pre>",d.subParser("hashBlock")(f,b,c)}),a=a.replace(/~0/,""),a=c.converter._dispatch("githubCodeBlocks.after",a,b)):a}),d.subParser("hashBlock",function(a,b,c){"use strict";return a=a.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(c.gHtmlBlocks.push(a)-1)+"K\n\n"}),d.subParser("hashElement",function(a,b,c){"use strict";return function(a,b){var d=b;return d=d.replace(/\n\n/g,"\n"),d=d.replace(/^\n/,""),d=d.replace(/\n+$/g,""),d="\n\n~K"+(c.gHtmlBlocks.push(d)-1)+"K\n\n"}}),d.subParser("hashHTMLBlocks",function(a,b,c){"use strict";return a=a.replace(/\n/g,"\n\n"),a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,d.subParser("hashElement")(a,b,c)),a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside|address|audio|canvas|figure|hgroup|output|video)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,d.subParser("hashElement")(a,b,c)),a=a.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,d.subParser("hashElement")(a,b,c)),a=a.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,d.subParser("hashElement")(a,b,c)),a=a.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,d.subParser("hashElement")(a,b,c)),a=a.replace(/\n\n/g,"\n")}),d.subParser("hashHTMLSpans",function(a,b,c){"use strict";for(var e=d.helper.matchRecursiveRegExp(a,"<code\\b[^>]*>","</code>","gi"),f=0;f<e.length;++f)a=a.replace(e[f][0],"~L"+(c.gHtmlSpans.push(e[f][0])-1)+"L");return a}),d.subParser("unhashHTMLSpans",function(a,b,c){"use strict";for(var d=0;d<c.gHtmlSpans.length;++d)a=a.replace("~L"+d+"L",c.gHtmlSpans[d]);return a}),d.subParser("headers",function(a,b,c){"use strict";function e(a){var b,e=a.replace(/[^\w]/g,"").toLowerCase();return c.hashLinkCounts[e]?b=e+"-"+c.hashLinkCounts[e]++:(b=e,c.hashLinkCounts[e]=1),f===!0&&(f="section"),d.helper.isString(f)?f+b:b}a=c.converter._dispatch("headers.before",a,b);var f=b.prefixHeaderId,g=isNaN(parseInt(b.headerLevelStart))?1:parseInt(b.headerLevelStart),h=b.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,i=b.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;return a=a.replace(h,function(a,f){var h=d.subParser("spanGamut")(f,b,c),i=b.noHeaderId?"":' id="'+e(f)+'"',j=g,k="<h"+j+i+">"+h+"</h"+j+">";return d.subParser("hashBlock")(k,b,c)}),a=a.replace(i,function(a,f){var h=d.subParser("spanGamut")(f,b,c),i=b.noHeaderId?"":' id="'+e(f)+'"',j=g+1,k="<h"+j+i+">"+h+"</h"+j+">";return d.subParser("hashBlock")(k,b,c)}),a=a.replace(/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,function(a,f,h){var i=d.subParser("spanGamut")(h,b,c),j=b.noHeaderId?"":' id="'+e(h)+'"',k=g-1+f.length,l="<h"+k+j+">"+i+"</h"+k+">";return d.subParser("hashBlock")(l,b,c)}),a=c.converter._dispatch("headers.after",a,b)}),d.subParser("images",function(a,b,c){"use strict";function e(a,b,e,f,g,h,i,j){var k=c.gUrls,l=c.gTitles,m=c.gDimensions;if(e=e.toLowerCase(),j||(j=""),""===f||null===f){if((""===e||null===e)&&(e=b.toLowerCase().replace(/ ?\n/g," ")),f="#"+e,d.helper.isUndefined(k[e]))return a;f=k[e],d.helper.isUndefined(l[e])||(j=l[e]),d.helper.isUndefined(m[e])||(g=m[e].width,h=m[e].height)}b=b.replace(/"/g,"&quot;"),b=d.helper.escapeCharacters(b,"*_",!1),f=d.helper.escapeCharacters(f,"*_",!1);var n='<img src="'+f+'" alt="'+b+'"';return j&&(j=j.replace(/"/g,"&quot;"),j=d.helper.escapeCharacters(j,"*_",!1),n+=' title="'+j+'"'),g&&h&&(g="*"===g?"auto":g,h="*"===h?"auto":h,n+=' width="'+g+'"',n+=' height="'+h+'"'),n+=" />"}a=c.converter._dispatch("images.before",a,b);var f=/!\[(.*?)]\s?\([ \t]*()<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(['"])(.*?)\6[ \t]*)?\)/g,g=/!\[(.*?)][ ]?(?:\n[ ]*)?\[(.*?)]()()()()()/g;return a=a.replace(g,e),a=a.replace(f,e),a=c.converter._dispatch("images.after",a,b)}),d.subParser("italicsAndBold",function(a,b,c){"use strict";return a=c.converter._dispatch("italicsAndBold.before",a,b),b.literalMidWordUnderscores?(a=a.replace(/(^|\s|>|\b)__(?=\S)([^]+?)__(?=\b|<|\s|$)/gm,"$1<strong>$2</strong>"),a=a.replace(/(^|\s|>|\b)_(?=\S)([^]+?)_(?=\b|<|\s|$)/gm,"$1<em>$2</em>"),a=a.replace(/(\*\*)(?=\S)([^\r]*?\S[*]*)\1/g,"<strong>$2</strong>"),a=a.replace(/(\*)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")):(a=a.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),a=a.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")),a=c.converter._dispatch("italicsAndBold.after",a,b)}),d.subParser("lists",function(a,b,c){"use strict";function e(a,e){c.gListLevel++,a=a.replace(/\n{2,}$/,"\n"),a+="~0";var f=/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+((\[(x| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,g=/\n[ \t]*\n(?!~0)/.test(a);return a=a.replace(f,function(a,e,f,h,i,j,k){k=k&&""!==k.trim();var l=d.subParser("outdent")(i,b,c),m="";return j&&b.tasklists&&(m=' class="task-list-item" style="list-style-type: none;"',l=l.replace(/^[ \t]*\[(x| )?]/m,function(){var a='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return k&&(a+=" checked"),a+=">"})),e||l.search(/\n{2,}/)>-1?(l=d.subParser("githubCodeBlocks")(l,b,c),l=d.subParser("blockGamut")(l,b,c)):(l=d.subParser("lists")(l,b,c),l=l.replace(/\n$/,""),l=g?d.subParser("paragraphs")(l,b,c):d.subParser("spanGamut")(l,b,c)),l="\n<li"+m+">"+l+"</li>\n"}),a=a.replace(/~0/g,""),c.gListLevel--,e&&(a=a.replace(/\s+$/,"")),a}function f(a,b,c){var d="ul"===b?/^ {0,2}\d+\.[ \t]/gm:/^ {0,2}[*+-][ \t]/gm,f=[],g="";if(-1!==a.search(d)){!function i(a){var f=a.search(d);-1!==f?(g+="\n\n<"+b+">"+e(a.slice(0,f),!!c)+"</"+b+">\n\n",b="ul"===b?"ol":"ul",d="ul"===b?/^ {0,2}\d+\.[ \t]/gm:/^ {0,2}[*+-][ \t]/gm,i(a.slice(f))):g+="\n\n<"+b+">"+e(a,!!c)+"</"+b+">\n\n"}(a);for(var h=0;h<f.length;++h);}else g="\n\n<"+b+">"+e(a,!!c)+"</"+b+">\n\n";return g}a=c.converter._dispatch("lists.before",a,b),a+="~0";var g=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return c.gListLevel?a=a.replace(g,function(a,b,c){var d=c.search(/[*+-]/g)>-1?"ul":"ol";return f(b,d,!0)}):(g=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,a=a.replace(g,function(a,b,c,d){var e=d.search(/[*+-]/g)>-1?"ul":"ol";return f(c,e)})),a=a.replace(/~0/,""),a=c.converter._dispatch("lists.after",a,b)}),d.subParser("outdent",function(a){"use strict";return a=a.replace(/^(\t|[ ]{1,4})/gm,"~0"),a=a.replace(/~0/g,"")}),d.subParser("paragraphs",function(a,b,c){"use strict";a=c.converter._dispatch("paragraphs.before",a,b),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,"");for(var e=a.split(/\n{2,}/g),f=[],g=e.length,h=0;g>h;h++){var i=e[h];i.search(/~K(\d+)K/g)>=0?f.push(i):i.search(/\S/)>=0&&(i=d.subParser("spanGamut")(i,b,c),i=i.replace(/^([ \t]*)/g,"<p>"),i+="</p>",f.push(i))}for(g=f.length,h=0;g>h;h++)for(;f[h].search(/~K(\d+)K/)>=0;){var j=c.gHtmlBlocks[RegExp.$1];j=j.replace(/\$/g,"$$$$"),f[h]=f[h].replace(/~K\d+K/,j)}return a=c.converter._dispatch("paragraphs.after",a,b),f.join("\n\n")}),d.subParser("runExtension",function(a,b,c,d){"use strict";if(a.filter)b=a.filter(b,d.converter,c);else if(a.regex){var e=a.regex;!e instanceof RegExp&&(e=new RegExp(e,"g")),b=b.replace(e,a.replace)}return b}),d.subParser("spanGamut",function(a,b,c){"use strict";return a=c.converter._dispatch("spanGamut.before",a,b),a=d.subParser("codeSpans")(a,b,c),a=d.subParser("escapeSpecialCharsWithinTagAttributes")(a,b,c),a=d.subParser("encodeBackslashEscapes")(a,b,c),a=d.subParser("images")(a,b,c),a=d.subParser("anchors")(a,b,c),a=d.subParser("autoLinks")(a,b,c),a=d.subParser("encodeAmpsAndAngles")(a,b,c),a=d.subParser("italicsAndBold")(a,b,c),a=d.subParser("strikethrough")(a,b,c),a=a.replace(/  +\n/g," <br />\n"),a=c.converter._dispatch("spanGamut.after",a,b)}),d.subParser("strikethrough",function(a,b,c){"use strict";return b.strikethrough&&(a=c.converter._dispatch("strikethrough.before",a,b),a=a.replace(/(?:~T){2}([^~]+)(?:~T){2}/g,"<del>$1</del>"),a=c.converter._dispatch("strikethrough.after",a,b)),a}),d.subParser("stripBlankLines",function(a){"use strict";return a.replace(/^[ \t]+$/gm,"")}),d.subParser("stripLinkDefinitions",function(a,b,c){"use strict";var e=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=~0))/gm;return a+="~0",a=a.replace(e,function(a,e,f,g,h,i,j){return e=e.toLowerCase(),c.gUrls[e]=d.subParser("encodeAmpsAndAngles")(f),i?i+j:(j&&(c.gTitles[e]=j.replace(/"|'/g,"&quot;")),b.parseImgDimensions&&g&&h&&(c.gDimensions[e]={width:g,height:h}),"")}),a=a.replace(/~0/,"")}),d.subParser("tables",function(a,b,c){"use strict";var e=function(){var a,e={};return e.th=function(a,e){var f="";return a=a.trim(),""===a?"":(b.tableHeaderId&&(f=' id="'+a.replace(/ /g,"_").toLowerCase()+'"'),a=d.subParser("spanGamut")(a,b,c),e=e&&""!==e.trim()?' style="'+e+'"':"","<th"+f+e+">"+a+"</th>")},e.td=function(a,e){var f=d.subParser("spanGamut")(a.trim(),b,c);return e=e&&""!==e.trim()?' style="'+e+'"':"","<td"+e+">"+f+"</td>"},e.ths=function(){var a="",b=0,c=[].slice.apply(arguments[0]),d=[].slice.apply(arguments[1]);for(b;b<c.length;b+=1)a+=e.th(c[b],d[b])+"\n";return a},e.tds=function(){var a="",b=0,c=[].slice.apply(arguments[0]),d=[].slice.apply(arguments[1]);for(b;b<c.length;b+=1)a+=e.td(c[b],d[b])+"\n";return a},e.thead=function(){var a,b=[].slice.apply(arguments[0]),c=[].slice.apply(arguments[1]);return a="<thead>\n",a+="<tr>\n",a+=e.ths.apply(this,[b,c]),a+="</tr>\n",a+="</thead>\n"},e.tr=function(){var a,b=[].slice.apply(arguments[0]),c=[].slice.apply(arguments[1]);return a="<tr>\n",a+=e.tds.apply(this,[b,c]),a+="</tr>\n"},a=function(a){var b,c,d=0,f=a.split("\n"),g=[];for(d;d<f.length;d+=1){if(b=f[d],b.trim().match(/^[|].*[|]$/)){b=b.trim();var h=[],i=f[d+1].trim(),j=[],k=0;if(i.match(/^[|][-=|: ]+[|]$/))for(j=i.substring(1,i.length-1).split("|"),k=0;k<j.length;++k)j[k]=j[k].trim(),j[k].match(/^[:][-=| ]+[:]$/)?j[k]="text-align:center;":j[k].match(/^[-=| ]+[:]$/)?j[k]="text-align:right;":j[k].match(/^[:][-=| ]+$/)?j[k]="text-align:left;":j[k]="";if(h.push("<table>"),c=b.substring(1,b.length-1).split("|"),0===j.length)for(k=0;k<c.length;++k)j.push("text-align:left");if(h.push(e.thead.apply(this,[c,j])),b=f[++d],b.trim().match(/^[|][-=|: ]+[|]$/)){for(b=f[++d],h.push("<tbody>");b.trim().match(/^[|].*[|]$/);)b=b.trim(),h.push(e.tr.apply(this,[b.substring(1,b.length-1).split("|"),j])),b=f[++d];h.push("</tbody>"),h.push("</table>"),g.push(h.join("\n"));continue}b=f[--d]}g.push(b)}return g.join("\n")},{parse:a}};if(b.tables){a=c.converter._dispatch("tables.before",a,b);var f=e();a=f.parse(a),a=c.converter._dispatch("tables.after",a,b)}return a}),d.subParser("unescapeSpecialChars",function(a){"use strict";return a=a.replace(/~E(\d+)E/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)})});var i=this;"undefined"!=typeof module&&module.exports?module.exports=d:"function"==typeof define&&define.amd?define("showdown",function(){"use strict";return d}):i.showdown=d}).call(this);
//# sourceMappingURL=showdown.min.js.map

(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var extract=require("geodash-extract");module.exports=function(paths,a,b){var diff=[];if(a!==undefined&&b!==undefined){for(var i=0;i<paths.length;i++){var path=paths[i];var text_a=JSON.stringify(extract(path,a,""));var text_b=JSON.stringify(extract(path,b,""));if(text_a!=text_b){diff.push(path)}}}else if(a!==undefined&&b===undefined){diff=paths}else if(a===undefined&&b!==undefined){diff=paths}else{diff=[]}return diff}},{"geodash-extract":3}],2:[function(require,module,exports){var expand=function(keyChain){var newArray=[];if(Array.isArray(keyChain)){for(var i=0;i<keyChain.length;i++){var value=keyChain[i];if(angular.isString(value)){if(value.indexOf(".")!=-1){newArray=newArray.concat(value.split("."))}else{newArray.push(value)}}else{newArray.push(value)}}}else if(angular.isString(keyChain)){newArray=keyChain.split(".")}return newArray};module.exports=expand},{}],3:[function(require,module,exports){var extract=function(keyChain,node,fallback){if(typeof keyChain=="string"){keyChain=keyChain.split(".")}var obj=undefined;if(node!=undefined&&node!=null){if(keyChain.length==0){obj=node}else{var newKeyChain=keyChain.slice(1);if(newKeyChain.length==0){if(typeof keyChain[0]=="string"&&keyChain[0].toLowerCase()=="length"){if(Array.isArray(node)){obj=node.length}else if(node!=undefined){obj=node["length"]}else{obj=0}}}if(obj==undefined&&node!=undefined){if(Array.isArray(node)){var index=typeof keyChain[0]=="string"?parseInt(keyChain[0],10):keyChain[0];obj=extract(newKeyChain,node[index],fallback)}else{obj=extract(newKeyChain,node[""+keyChain[0]],fallback)}}}}else{obj=fallback}return obj};module.exports=extract},{}],4:[function(require,module,exports){var flatten=function(obj,prefix){var newObject={};$.each(obj,function(key,value){var newKey=prefix!==undefined?prefix+"__"+key:key;if(value===undefined||value===null||typeof value=="string"||typeof value=="number"||typeof value=="boolean"){newObject[newKey]=value}else if(Array.isArray(value)){$.each(flatten(value,newKey),function(key2,value2){newObject[""+key2]=value2})}else{$.each(flatten(value,newKey),function(key2,value2){newObject[key2]=value2})}});return newObject};module.exports=flatten},{}],5:[function(require,module,exports){module.exports=function(options){var duration=extract("duration",options,2e3);var start=extract("start",options,+new Date);var view=extract("view",options);return ol.animation.bounce({duration:duration,start:start,resolution:4*view.getResolution()})}},{}],6:[function(require,module,exports){module.exports=function($scope){return function(success){if(!success){var m=geodash.var.map;var v=m.getView();var h=extract(["var","history","extent"],geodash);h.list=h.list.slice(0,h.cursor);var delta={extent:v.calculateExtent(m.getSize()),location:{lat:c[1],lon:c[0]},z:v.getZoom()};geodash.api.intend("viewChanged",delta,$scope)}}}},{}],7:[function(require,module,exports){module.exports=function(m,v,options){var chain=[];var extent=extract("extent",options);var lat=extract("lat",options);var lon=extract("lon",options);var zoom=extract("zoom",options);var current_res=v.getResolution();var target_center=undefined;var target_res=undefined;if(geodash.util.isDefined(extent)){target_center=ol.extent.getCenter(extent);target_res=v.constrainResolution(v.getResolutionForExtent(extent,m.getSize()))}else{if(geodash.util.isDefined(lon)&&geodash.util.isDefined(lat)){target_center=ol.proj.transform([geodash.normalize.float(lon),geodash.normalize.float(lat)],"EPSG:4326",v.getProjection())}if(geodash.util.isDefined(zoom)){target_res=v.getMaxResolution()/Math.pow(2,geodash.normalize.integer(zoom))}}if(target_center!=undefined){if(target_res!=undefined){if(current_res==target_res){if(!ol.array.equals(v.getCenter(),target_center)){chain=[{center:target_center}]}}else if(current_res<target_res){if(ol.array.equals(v.getCenter(),target_center)){chain=[{resolution:target_res}]}else{chain=[{resolution:target_res,center:target_center}]}}else if(current_res>target_res){if(ol.array.equals(v.getCenter(),target_center)){chain=[{resolution:target_res}]}else{chain=[{center:target_center,resolution:target_res}]}}}else{if(!ol.array.equals(v.getCenter(),target_center)){chain=[{center:target_center}]}}}else if(target_res!=undefined){chain=[{resolution:target_res}]}return chain}},{}],8:[function(require,module,exports){module.exports={bounce:require("./bounce"),callback:require("./callback"),chain:require("./chain"),pan:require("./pan")}},{"./bounce":5,"./callback":6,"./chain":7,"./pan":9}],9:[function(require,module,exports){module.exports=function(options){var duration=extract("duration",options,2e3);var start=extract("start",options,+new Date);var view=extract("view",options);return ol.animation.pan({duration:duration,start:start,source:view.getCenter()})}},{}],10:[function(require,module,exports){module.exports=function(id,layer){geodash.var.baselayers[id]=layer}},{}],11:[function(require,module,exports){module.exports=function(id,layer){geodash.var.featurelayers[id]=layer}},{}],12:[function(require,module,exports){module.exports=function(event,args){var mainScope=geodash.util.getScope("geodash-main");var id=args["id_target"]||args["id_show"]||args["id"];var sourceScope=event.targetScope;var scope_new={state:mainScope.state,meta:geodash.meta};if(geodash.util.isDefined(args)){if("static"in args){scope_new=$.extend(scope_new,args["static"])}if("dynamic"in args){$.each(args["dynamic"],function(key,value){if(angular.isString(value)){if(value=="dashboard"){scope_new[key]=mainScope.dashboard}else if(value=="state"){scope_new[key]=mainScope.state}}else if(angular.isArray(value)){var value_0_lc=value[0].toLowerCase();if(value_0_lc=="source"){scope_new[key]=extract(expand(value.slice(1)),event.targetScope)}else if(value_0_lc=="baselayer"||value_0_lc=="bl"){scope_new[key]=geodash.api.getBaseLayer(value[1])||undefined}else if(value_0_lc=="featurelayer"||value_0_lc=="fl"){scope_new[key]=geodash.api.getFeatureLayer(value[1])||undefined}else{if(value_0_lc=="dashboard"){scope_new[key]=extract(expand(value.slice(1)),mainScope.dashboard)}else if(value_0_lc=="state"){scope_new[key]=extract(expand(value.slice(1)),mainScope.state)}}}else{scope_new[key]=value}})}}return $.extend(true,{},scope_new)}},{}],13:[function(require,module,exports){module.exports=function(id,options){var config=geodash.api.getDashboardConfig(options);return geodash.util.getByID(id,config.assets)}},{}],14:[function(require,module,exports){module.exports=function(id,options){var config=geodash.api.getDashboardConfig(options);return geodash.util.getByID(id,config.baselayers)}},{}],15:[function(require,module,exports){module.exports=function(options){var scope=extract("$scope",options)||extract("scope",options)||geodash.util.getScope("geodash-main");return scope.dashboard}},{}],16:[function(require,module,exports){module.exports=function(id){return extract(["endpoints",id],geodash.var)}},{}],17:[function(require,module,exports){module.exports=function(id,options){var config=geodash.api.getDashboardConfig(options);return geodash.util.getByID(id,config.featurelayers)}},{}],18:[function(require,module,exports){module.exports=function(id){return extract(["pages",id],geodash.var)}},{}],19:[function(require,module,exports){module.exports=function(options){var dashboard=extract("dashboard",options)||geodash.api.getDashboardConfig();var layerID=extract("fl.id",options)||extract("layerID",options)||extract("id",options);var reverse=extract("reverse",options,false);if(reverse){return dashboard.renderlayers.length-$.inArray(layerID,dashboard.renderlayers)}else{return $.inArray(layerID,dashboard.renderlayers)}}},{}],20:[function(require,module,exports){module.exports=function(id,options){var config=geodash.api.getDashboardConfig(options);return geodash.api.hasLayer(id,config.baselayers)}},{}],21:[function(require,module,exports){module.exports=function(id,options){var config=geodash.api.getDashboardConfig(options);return geodash.api.hasLayer(id,config.featurelayers)}},{}],22:[function(require,module,exports){module.exports=function(id,layers){var layer=undefined;var matches=$.grep(layers,function(x,i){return x.id==id});return matches.length==1}},{}],23:[function(require,module,exports){"use strict";module.exports={addBaseLayer:require("./addBaseLayer"),addFeatureLayer:require("./addFeatureLayer"),buildScope:require("./buildScope"),getAsset:require("./getAsset"),getBaseLayer:require("./getBaseLayer"),getDashboardConfig:require("./getDashboardConfig"),getEndpoint:require("./getEndpoint"),getFeatureLayer:require("./getFeatureLayer"),getPage:require("./getPage"),getRenderOrder:require("./getRenderOrder"),hasBaseLayer:require("./hasBaseLayer"),hasFeatureLayer:require("./hasFeatureLayer"),hasLayer:require("./hasLayer"),intend:require("./intend"),isVisible:require("./isVisible"),listBaseLayers:require("./listBaseLayers"),listFeatureLayers:require("./listFeatureLayers"),listImages:require("./listImages"),listServers:require("./listServers"),listTegolaServers:require("./listTegolaServers"),listWMSServers:require("./listWMSServers"),opt_b:require("./opt_b"),opt_i:require("./opt_i"),opt_j:require("./opt_j"),opt_s:require("./opt_s"),opt:require("./opt"),welcome:require("./welcome")}},{"./addBaseLayer":10,"./addFeatureLayer":11,"./buildScope":12,"./getAsset":13,"./getBaseLayer":14,"./getDashboardConfig":15,"./getEndpoint":16,"./getFeatureLayer":17,"./getPage":18,"./getRenderOrder":19,"./hasBaseLayer":20,"./hasFeatureLayer":21,"./hasLayer":22,"./intend":24,"./isVisible":25,"./listBaseLayers":26,"./listFeatureLayers":27,"./listImages":28,"./listServers":29,"./listTegolaServers":30,"./listWMSServers":31,"./opt":32,"./opt_b":33,"./opt_i":34,"./opt_j":35,"./opt_s":36,"./welcome":37}],24:[function(require,module,exports){module.exports=function(name,data,scope){scope.$emit(name,data)}},{}],25:[function(require,module,exports){module.exports=function(options){var visible=false;var visibleFeatureLayers=extract("state.view.featurelayers",options);var fl=extract("fl",options);var layerID=extract("id",options)||extract("layerID",options);if(geodash.util.isDefined(fl)){if($.inArray(layerID,visibleFeatureLayers)!=-1){visible=true}}return visible}},{}],26:[function(require,module,exports){module.exports=function(options){var config=geodash.api.getDashboardConfig(options);return extract("baselayers",config,[])}},{}],27:[function(require,module,exports){module.exports=function(options){var config=geodash.api.getDashboardConfig(options);return extract("featurelayers",config,[])}},{}],28:[function(require,module,exports){module.exports=function(options){var config=geodash.api.getDashboardConfig(options);var assets=extract("assets",config,[]);return $.grep(assets,function(x,i){return extract("type",x,undefined)=="image"})}},{}],29:[function(require,module,exports){module.exports=function(options){var config=geodash.api.getDashboardConfig(options);return extract("servers",config,[])}},{}],30:[function(require,module,exports){module.exports=function(options){var config=geodash.api.getDashboardConfig(options);var servers=extract("servers",config,[]);return $.grep(servers,function(x,i){return extract("type",x,undefined)=="tegola"})}},{}],31:[function(require,module,exports){module.exports=function(options){var config=geodash.api.getDashboardConfig(options);var servers=extract("servers",config,[]);return $.grep(servers,function(x,i){return extract("type",x,undefined)=="wms"})}},{}],32:[function(require,module,exports){module.exports=function(options,names,fallback,fallback2){if(options!=undefined){if($.isArray(names)){var value=undefined;for(var i=0;i<names.length;i++){value=options[names[i]];if(value!=undefined)break}return value||fallback||fallback2}else return options[names]||fallback||fallback2}else return fallback||fallback2}},{}],33:[function(require,module,exports){module.exports=function(options,names,fallback){return geodash.api.opt(options,names,fallback,false)}},{}],34:[function(require,module,exports){module.exports=function(options,names,fallback){return geodash.api.opt(options,names,fallback,0)}},{}],35:[function(require,module,exports){module.exports=function(options,names,fallback){return geodash.api.opt(options,names,fallback,{})}},{}],36:[function(require,module,exports){module.exports=function(options,names,fallback){return geodash.api.opt(options,names,fallback,"")}},{}],37:[function(require,module,exports){module.exports=function(options){options=options||{};var scope=options["$scope"]||options["scope"]||angular.element("#geodash-main").scope();var intentData={id:"geodash-modal-welcome",dynamic:{},static:{welcome:scope.dashboard["welcome"]}};geodash.api.intend("toggleModal",intentData,scope)}},{}],38:[function(require,module,exports){module.exports=function(x,length,fallback){if(x===undefined||x===""){return fallback}else if(angular.isString(x)){x=x.split(",");if(x.length==length){return x}else{return fallback}}else if(angular.isArray(x)){if(x.length==length){return x}else{return fallback}}}},{}],39:[function(require,module,exports){"use strict";module.exports={array_length:require("./array_length")}},{"./array_length":38}],40:[function(require,module,exports){module.exports=function(response,url){var encoded=[];var dashboards=response.dashboards;for(var i=0;i<dashboards.length;i++){var dashboard=dashboards[i];var id=dashboard.id;var slug=dashboard.slug;var title=dashboard.title;var x={id:id,slug:slug,text:title};encoded.push(x)}return encoded}},{}],41:[function(require,module,exports){module.exports=function(response,url){var layers=[];var tegolaMaps=response.maps;for(var i=0;i<tegolaMaps.length;i++){var tegolaMap=tegolaMaps[i];var name=tegolaMap.name;var newLayer={id:name,text:name,obj:{id:name,title:name,description:name,type:"wms",tegola:{map:name,url:extract("tegola.base",geodash.codec.parseURL(url,"tegola"),""),debug:false}}};layers.push(newLayer)}return layers}},{}],42:[function(require,module,exports){module.exports=function(response,url){var layers=[];$(response).find("Capability").children("Layer").children("Layer").each(function(){var name=$(this).children("Name").text();var bbox=[$(this).children("EX_GeographicBoundingBox").children("westBoundLongitude").text(),$(this).children("EX_GeographicBoundingBox").children("southBoundLongitude").text(),$(this).children("EX_GeographicBoundingBox").children("eastBoundLongitude").text(),$(this).children("EX_GeographicBoundingBox").children("northBoundLongitude").text()].join(",");var thumbnail=extract("wms.base",geodash.codec.parseURL(url,"wms"),"")+"/reflect?"+["format=image/png","width=40","height=40","TIME=-99999999999-01-01T00:00:00.0Z/99999999999-01-01T00:00:00.0Z","layers="+name].join("&");var title=$(this).children("Title").text();var newLayer={id:name,text:title,obj:{id:name,title:title,description:$(this).children("Abstract").text(),type:"wms",wms:{layers:name,url:extract("wms.base",geodash.codec.parseURL(url,"wms"),"")},wfs:{layers:name,url:extract("wfs.base",geodash.codec.parseURL(url,"wms"),"")}},extra:{bbox:bbox,thumbnail:thumbnail}};layers.push(newLayer)});return layers}},{}],43:[function(require,module,exports){"use strict";module.exports={GeoDashCapabilities:require("./GeoDashCapabilities"),TegolaCapabilities:require("./TegolaCapabilities"),WMSCapabilities:require("./WMSCapabilities")}},{"./GeoDashCapabilities":40,"./TegolaCapabilities":41,"./WMSCapabilities":42}],44:[function(require,module,exports){module.exports=function(d){return Bloodhound.tokenizers.whitespace(d.text)}},{}],45:[function(require,module,exports){module.exports=function(options){var engine=new Bloodhound({identify:geodash.bloodhound.identify,datumTokenizer:geodash.bloodhound.datumTokenizer,queryTokenizer:Bloodhound.tokenizers.whitespace,local:extract("local",options),prefetch:extract("prefetch",options),remote:extract("remote",options)});return engine}},{}],46:[function(require,module,exports){module.exports=function(obj){return obj["text"]}},{}],47:[function(require,module,exports){"use strict";module.exports={codec:require("./codec"),datumTokenizer:require("./datumTokenizer"),local:require("./local"),engine:require("./engine"),identify:require("./identify"),initLocal:require("./initLocal"),prefetch:require("./prefetch"),remote:require("./remote")}},{"./codec":43,"./datumTokenizer":44,"./engine":45,"./identify":46,"./initLocal":48,"./local":53,"./prefetch":58,"./remote":59}],48:[function(require,module,exports){module.exports=function(localData,featurelayers,baselayers,servers){var bloodhoundData=undefined;if(angular.isString(localData)){var localFn=extract(localData,geodash.bloodhound.local);if(angular.isFunction(localFn)){bloodhoundData=localFn({featurelayers:featurelayers,baselayers:baselayers,servers:servers})}else if(localData.length>0){bloodhoundData=[].concat(geodash.initial_data["data"][localData]);for(var i=0;i<bloodhoundData.length;i++){if(angular.isString(bloodhoundData[i])){bloodhoundData[i]={id:bloodhoundData[i],text:bloodhoundData[i]}}}}else{bloodhoundData=undefined}}else if(Array.isArray(localData)){bloodhoundData=[].concat(localData);for(var i=0;i<bloodhoundData.length;i++){if(angular.isString(bloodhoundData[i])){bloodhoundData[i]={id:bloodhoundData[i],text:bloodhoundData[i]}}}}else{var localDataFnName=extract("name",localData);if(geodash.util.isDefined(localDataFnName)){var localFn=extract(localDataFnName,geodash.bloodhound.local);if(angular.isFunction(localFn)){var localFnOptions={featurelayers:featurelayers,baselayers:baselayers,servers:servers};angular.extend(localFnOptions,extract("args",localData,{}));bloodhoundData=localFn(localFnOptions)}}}if(geodash.util.isDefined(bloodhoundData)){bloodhoundData.sort(function(a,b){var textA=a.text.toLowerCase();var textB=b.text.toLowerCase();if(textA<textB){return-1}else if(textA>textB){return 1}else{return 0}})}return bloodhoundData}},{}],49:[function(require,module,exports){module.exports=function(options){var bloodhoundData=[];var baselayers=options.baselayers||geodash.api.listBaseLayers();if(geodash.util.isDefined(baselayers)){bloodhoundData=bloodhoundData.concat($.map(baselayers,function(x,i){return{id:x.id,text:x.title||x.id,obj:x}}))}return bloodhoundData}},{}],50:[function(require,module,exports){module.exports=function(options){var bloodhoundData=[];var featurelayers=options.featurelayers||geodash.api.listFeatureLayers();if(geodash.util.isDefined(featurelayers)){bloodhoundData=bloodhoundData.concat($.map(featurelayers,function(x,i){return{id:x.id,text:x.title||x.id,obj:x}}))}return bloodhoundData}},{}],51:[function(require,module,exports){module.exports=function(options){var bloodhoundData=[];var featurelayers=options.featurelayers||geodash.api.listFeatureLayers();if(geodash.util.isDefined(featurelayers)){featurelayers=$.grep(featurelayers,function(x,i){var filters=extract("filters",x);return Array.isArray(filters)&&filters.length>0});bloodhoundData=bloodhoundData.concat($.map(featurelayers,function(x,i){return{id:x.id,text:x.title||x.id,obj:x}}))}return bloodhoundData}},{}],52:[function(require,module,exports){module.exports=function(options){var bloodhoundData=[];var images=options.images||geodash.api.listImages();if(Array.isArray(images)){bloodhoundData=bloodhoundData.concat($.map(images,function(x,i){return{id:x.id||x.name,text:x.title||x.name||x.id,obj:x}}))}return bloodhoundData}},{}],53:[function(require,module,exports){"use strict";module.exports={baselayers:require("./baselayers"),layers:require("./layers"),featurelayers:require("./featurelayers"),featurelayerswithfilters:require("./featurelayerswithfilters"),images:require("./images"),reflect:require("./reflect"),wfs:require("./wfs"),wms:require("./wms")}},{"./baselayers":49,"./featurelayers":50,"./featurelayerswithfilters":51,"./images":52,"./layers":54,"./reflect":55,"./wfs":56,"./wms":57}],54:[function(require,module,exports){module.exports=function(options){var bloodhoundData=[];var featurelayers=options.featurelayers||geodash.api.listFeatureLayers();if(geodash.util.isDefined(featurelayers)){bloodhoundData=bloodhoundData.concat($.map(featurelayers,function(x,i){return{id:x.id,text:x.title,obj:x}}))}var baselayers=options.baselayers||geodash.api.listBaseLayers();if(geodash.util.isDefined(baselayers)){bloodhoundData=bloodhoundData.concat($.map(baselayers,function(x,i){return{id:x.id,text:x.title,obj:x}}))}return bloodhoundData}},{}],55:[function(require,module,exports){module.exports=function(options){var bloodhoundData=[];var locations=options.locations;if(angular.isArray(locations)){for(var i=0;i<locations.length;i++){var target=extract(locations[i],geodash);if(angular.isArray(target)){bloodhoundData=bloodhoundData.concat($.map(target,function(x,i){if(angular.isString(x)){return{id:x,text:x}}else{return{id:x.id||x.name,text:x.title||x.name||x.id,obj:x}}}))}else{bloodhoundData=bloodhoundData.concat($.map(Object.keys(target),function(x,i){return{id:x,text:x}}))}}}return bloodhoundData}},{}],56:[function(require,module,exports){module.exports=function(options){var bloodhoundData=[];var servers=options.servers||geodash.api.listServers();if(geodash.util.isDefined(servers)){servers=$.grep(servers,function(x,i){return extract("type",x,undefined)=="wms"&&extract("wfs.url",x,"").length>0});bloodhoundData=bloodhoundData.concat($.map(servers,function(x,i){var url=extract("wfs.url",x,"");return{id:url,text:url}}))}return bloodhoundData}},{}],57:[function(require,module,exports){module.exports=function(options){var bloodhoundData=[];var servers=options.servers||geodash.api.listServers();if(geodash.util.isDefined(servers)){servers=$.grep(servers,function(x,i){return extract("type",x,undefined)=="wms"});bloodhoundData=bloodhoundData.concat($.map(servers,function(x,i){var url=extract("wms.url",x,"");return{id:url,text:url}}))}return bloodhoundData}},{}],58:[function(require,module,exports){module.exports=function(options){if(geodash.util.isDefined(options)){if(angular.isString(options)){return undefined}else if(angular.isArray(options)){return undefined}else if(angular.isString(options.url)){var url=options.url;var codecs=options.codecs||[geodash.bloodhound.codec];var codec=undefined;for(var i=0;i<codecs.length;i++){codec=extract(options.codec,codecs[i],undefined);if(geodash.util.isDefined(codec)){break}}var data={url:url,dataType:extract("dataType",options,"json"),transform:codec,wildcard:extract("wildcard",options,"%QUERY"),cache:extract("cache",options,false)};return data}else{return undefined}}else{return undefined}}},{}],59:[function(require,module,exports){module.exports=function(options){if(geodash.util.isDefined(options)){if(angular.isString(options)){return undefined}else if(angular.isArray(options)){return undefined}else if(angular.isString(options.url)){var url=options.url;var codecs=options.codecs||[geodash.bloodhound.codec];var codec=undefined;for(var i=0;i<codecs.length;i++){codec=extract(options.codec,codecs[i],undefined);if(geodash.util.isDefined(codec)){break}}var data={url:url,dataType:extract("dataType",options,"json"),transform:codec,wildcard:extract("wildcard",options,"%QUERY"),rateLimitWait:extract("rate",options,1e3)};return data}else{return undefined}}else{return undefined}}},{}],60:[function(require,module,exports){module.exports=function(options){var appName=extract("appName",options);var element=extract("element",options,document);angular.bootstrap(element,[appName])}},{}],61:[function(require,module,exports){module.exports=function(options){var request=extract("request",options);var response=extract("response",options);var app=extract("app",options);var loaders=extract("loaders",options)||extract("config.bootloader.loaders",geodash);if(response.status==200){if(angular.isString(request.loader)){var success=false;for(var i=0;i<loaders.length;i++){var loaderCollection=loaders[i];if(geodash.util.isDefined(loaderCollection)){var loaderFn=extract(request.loader,loaderCollection);if(geodash.util.isDefined(loaderFn)){loaderFn(response);success=true}}}if(success){return{success:true}}else{var message='Could not find loader with name "'+request.loader+'" for "'+response.config.url+'".';return{success:false,message:message}}}else{var value=undefined;var contentType=response.headers("content-type");if(contentType=="application/json"){value=response.data}else{try{value=YAML.parse(response.data)}catch(err){value=undefined}}app.value(request.name,value);return{success:true}}}else if(response.status==500){var message='Could not load resource at "'+response.config.url+'" due to HTTP 500 Error (Internal Server Error).';return{success:false,message:message}}}},{}],62:[function(require,module,exports){"use strict";module.exports={loaders:require("./loaders"),ui:require("./ui"),step:require("./step"),bootstrap:require("./bootstrap"),handle:require("./handle"),internals:require("./internals"),process:require("./process"),resources:require("./resources")}},{"./bootstrap":60,"./handle":61,"./internals":63,"./loaders":65,"./process":67,"./resources":68,"./step":70,"./ui":73}],63:[function(require,module,exports){module.exports=function(options){var app=extract("app",options);var element=extract("element",options);var initFn=["templates","filters","directives","factory","controllers"];for(var i=0;i<initFn.length;i++){geodash.init[initFn[i]]({app:app,mainElement:element})}}},{}],64:[function(require,module,exports){module.exports=function(response){var contentType=response.headers("Content-Type");if(contentType=="application/json"){var endpoints=response.data;if(geodash.util.isDefined(endpoints)){angular.extend(geodash.var.endpoints,endpoints)}}}},{}],65:[function(require,module,exports){"use strict";module.exports={endpoints:require("./endpoints"),pages:require("./pages")}},{"./endpoints":64,"./pages":66}],66:[function(require,module,exports){module.exports=function(response){var contentType=response.headers("Content-Type");if(contentType=="application/json"){var pages=response.data;if(geodash.util.isDefined(pages)){angular.extend(geodash.var.pages,pages)}}}},{}],67:[function(require,module,exports){module.exports=function(options){var resource=extract("resource",options);var element=extract("element",options);var app=extract("app",options);var appName=extract("appName",options);if(geodash.util.isDefined(resource)){var request=undefined;if(angular.isString(element.attr(resource.local))){app.value(resource.name,extract(element.attr(resource.local),geodash));return{success:true}}else if(angular.isString(element.attr(resource.remote))){return{success:true,request:{name:resource.name,url:element.attr(resource.remote)}}}else if(geodash.util.hasHashValue(appName+":"+resource.hash)){return{success:true,request:{name:resource.name,url:geodash.util.getHashValue(appName+":"+resource.hash)}}}else if(geodash.util.getParameterByName(appName+":"+resource.hash)!=null){return{success:true,request:{name:resource.name,url:geodash.util.getParameterByName(appName+":"+resource.hash)}}}else{app.value(resource.name,extract(resource.fallback,geodash));return{success:true}}}else{return{success:false,message:"Could not process resource, because it is undefined."}}}},{}],68:[function(require,module,exports){module.exports=function(options){var app=extract("app",options);var appName=extract("appName",options);var loaders=extract("loaders",options);var element=extract("element",options);var system_resources=extract("system_resources",options);var $q=extract("$q",options);var $http=extract("$http",options);var steps=extract("steps",options);var requests=[];for(var i=0;i<system_resources.length;i++){var resource=system_resources[i];var result=geodash.bootloader.process({app:app,appName:appName,element:element,resource:resource});if(result.success==true){if(geodash.util.isDefined(extract("request",result))){requests.push(result.request);steps=geodash.bootloader.step.status({element:element,steps:steps,id:"resource-"+resource.name,status:"pending",message:"Loading from "+result.request.url,link:result.request.url})}else{steps=geodash.bootloader.step.status({element:element,steps:steps,id:"resource-"+resource.name,status:"complete"})}}else{geodash.log.error("bootloader",[result.message]);steps=geodash.bootloader.step.status({element:element,steps:steps,id:"resource-"+resource.name,status:"error",messsage:result.message});break}}if(geodash.util.isDefined(element.attr("data-geodash-dashboard-resources"))){var dashboard_resources=undefined;try{dashboard_resources=JSON.parse(element.attr("data-geodash-dashboard-resources"))}catch(err){dashboard_resources=undefined}for(var i=0;i<dashboard_resources.length;i++){var resource=dashboard_resources[i];steps.push({id:"resource-"+(resource.id||resource.name||resource.loader),label:resource.title||resource.name||resource.id||resource.loader,status:"pending",link:resource.url});requests.push(resource)}}if(requests.length>0){var urls=$.map(requests,function(x){return x["url"]});var promises=geodash.http.build_promises($http,urls);var responseFn=function(request){return function(response){var result=geodash.bootloader.handle({request:request,response:response,app:app,loaders:loaders});if(result.success){steps=geodash.bootloader.step.status({element:element,steps:steps,id:"resource-"+(request.id||request.name||request.loader),status:"complete",link:request.url})}else{steps=geodash.bootloader.step.status({element:element,steps:steps,id:"resource-"+(request.id||request.name||request.loader),status:"error",message:result.message,link:request.url})}}};for(var i=0;i<requests.length;i++){promises[i].then(responseFn(requests[i])).catch(responseFn(requests[i]))}$q.all(promises).finally(function(responses){geodash.bootloader.bootstrap({appName:appName})})}else{steps=geodash.bootloader.step.status({element:element,steps:steps,id:"resources",status:"complete"});geodash.bootloader.bootstrap({appName:appName})}}},{}],69:[function(require,module,exports){module.exports=function(options){var element=extract("element",options);var steps=extract("steps",options);var newStep=extract("newStep",options);steps.push(newStep);geodash.bootloader.ui.update({element:element,steps:steps});return steps}},{}],70:[function(require,module,exports){"use strict";module.exports={add:require("./add"),status:require("./status")}},{"./add":69,"./status":71}],71:[function(require,module,exports){module.exports=function(options){var element=extract("element",options);var steps=extract("steps",options);var id=extract("id",options);var status=extract("status",options);var message=extract("message",options);var link=extract("link",options);steps=$.map(steps,function(x){if(x.id==id){x.status=status;x.message=message||"";x.link=link||""}return x});geodash.bootloader.ui.update({element:element,steps:steps});return steps}},{}],72:[function(require,module,exports){module.exports=function(options){var element=extract("element",options);var step=extract("step",options);var heading=extract("config.bootloader.ui.heading",geodash,"h5");var fontSize=extract("config.bootloader.ui.fontSize",geodash,"2rem");var padding=extract("config.bootloader.ui.padding",geodash,"8px");var html_margin='<div class="col-md-2"></div>';var html_label='<div class="col-md-4"><'+heading+">"+step.label+"</"+heading+"></div>";var html_status="";if(step.status=="complete"){html_status='<div class="col-md-4 geodash-bootloader-status"><a><i class="fa fa-check" style="font-size: '+fontSize+';"></i></a></div>'}else if(step.status=="pending"){html_status='<div class="col-md-4 geodash-bootloader-status"><a><i class="fa fa-refresh fa-spin" style="font-size: '+fontSize+';"></i></a></div>'}else if(step.status=="waiting"){
html_status='<div class="col-md-4 geodash-bootloader-status"><a><i class="fa fa-minus" style="font-size: '+fontSize+';"></i></a></div>'}var html='<div class="row geodash-bootloader-step geodash-bootloader-step-'+step.id+'" style="padding:'+padding+';">'+html_margin+html_label+html_status+html_margin+"</div>";element.append(html)}},{}],73:[function(require,module,exports){"use strict";module.exports={addRow:require("./addRow"),update:require("./update"),updateRow:require("./updateRow")}},{"./addRow":72,"./update":74,"./updateRow":75}],74:[function(require,module,exports){module.exports=function(options){var element=extract("element",options);var steps=extract("steps",options);for(var i=0;i<steps.length;i++){var step=steps[i];if(geodash.util.isDefined(step.status)){var row=$(".geodash-bootloader-step-"+step.id,element);if(row.length>0){geodash.bootloader.ui.updateRow({element:element,step:step,row:row})}else{geodash.bootloader.ui.addRow({element:element,step:step})}}}}},{}],75:[function(require,module,exports){module.exports=function(options){var row=extract("row",options);var step=extract("step",options);if(step.status=="complete"){var i=$(".geodash-bootloader-status i",row).addClass("fa fa-check").removeClass("fa-refresh fa-spin")}else if(step.status=="pending"){$(".geodash-bootloader-status i",row).addClass("fa fa-refresh fa-spin").removeClass("fa-minus")}else if(step.status=="waiting"){$(".geodash-bootloader-status i",row).addClass("fa fa-minus").removeClass("fa-refresh fa-spin")}else if(step.status=="error"){$(".geodash-bootloader-status i",row).css({color:"red"}).addClass("fa fa-exclamation-triangle").removeClass("fa-minus fa-refresh fa-spin")}if(angular.isString(step.message)&&step.message.length>0){$(".geodash-bootloader-status i",row).attr({"data-toggle":"tooltip","data-placement":"bottom",title:step.message}).tooltip()}else{$(".geodash-bootloader-status i",row).removeAttr("data-toggle").removeAttr("data-placement").removeAttr("title")}if(angular.isString(step.link)&&step.link.length>0){$(".geodash-bootloader-status a",row).attr({href:step.link,target:"_blank"})}else{$(".geodash-bootloader-status a",row).removeAttr("href").removeAttr("target")}}},{}],76:[function(require,module,exports){module.exports=function(path,obj,fallback){var result=fallback||"";var x=geodash.util.isDefined(obj)?extract(path,obj):path;if(Array.isArray(x)){result=x.join(",")}else if(angular.isString(x)){result=x}return result}},{}],77:[function(require,module,exports){module.exports=function(x){if(geodash.util.isDefined(x)){if(Array.isArray(x)){x=geodash.util.arrayToObject(x)}if(Object.keys(x).length>0){return $.map(x,function(value,style){return style+": "+value}).join("; ")+";"}else{return""}}else{return""}}},{}],78:[function(require,module,exports){module.exports=function(value,type,delimiter){if(value!=undefined&&value!==""){if(type=="delimited"){delimiter=delimiter||",";var str=Math.round(value).toString();var pattern=new RegExp("(\\d+)(\\d{3})","gi");while(pattern.test(str)){str=str.replace(pattern,"$1"+delimiter+"$2")}return str}else{return Math.round(value).toString()}}else{return""}}},{}],79:[function(require,module,exports){"use strict";module.exports={formatArray:require("./formatArray"),formatCSS:require("./formatCSS"),formatInteger:require("./formatInteger"),md2html:require("./md2html"),parseAttributes:require("./parseAttributes"),parseFeatures:require("./parseFeatures"),parseGeometry:require("./parseGeometry"),parseURL:require("./parseURL")}},{"./formatArray":76,"./formatCSS":77,"./formatInteger":78,"./md2html":80,"./parseAttributes":81,"./parseFeatures":82,"./parseGeometry":83,"./parseURL":84}],80:[function(require,module,exports){module.exports=function(text){if(text!=undefined){var converter=new showdown.Converter;html=converter.makeHtml(text);html=html.replace(new RegExp("(<a .*?)>(.*?)</a>","gi"),'$1 target="_blank">$2</a>');html=html.replace(new RegExp("\n","gi"),"<br>");html=html.replace(new RegExp("<br><br><(h\\d.*?)>","gi"),"<br><$1>");html=html.replace(new RegExp("<br><br><p>","gi"),"<p>");html=html.replace(new RegExp("<br><br><ul>","gi"),"<ul>");html=html.replace(new RegExp("<br><br><li>","gi"),"<li>");var matches=html.match(new RegExp("^<p(.*?)>(.*?)</p>","gi"));if(Array.isArray(matches)&&matches.length==1){if(matches[0]==html){html=html.substring("<p>".length,html.length-"</p>".length)}}return html}else{return""}}},{}],81:[function(require,module,exports){module.exports=function(element,fields){var attributes={};if(fields!=undefined){for(var k=0;k<fields.length;k++){var field=fields[k];var attributeName=field["output"]||field["attribute"];attributes[attributeName]=undefined;var inputName=field["attribute"]||field["input"];var inputNames=inputName!=undefined?[inputName]:field["inputs"];if(inputNames!=undefined){for(var l=0;l<inputNames.length;l++){var inputName=inputNames[l];if(element.find("geonode\\:"+inputName).length>0){attributes[attributeName]=element.find("geonode\\:"+inputName).text();break}}}}}return attributes}},{}],82:[function(require,module,exports){module.exports=function(response,fields_by_featuretype){var features=[];$(response).find("gml\\:featuremember").each(function(){var f=$(this).children();var typeName=f.prop("tagName").toLowerCase();var attributes=geodash.codec.parseAttributes(f,fields_by_featuretype[typeName]);var geom=geodash.codec.parseGeometry(f);var newFeature={featuretype:typeName,attributes:attributes,geometry:geom};features.push(newFeature)});return features}},{}],83:[function(require,module,exports){module.exports=function(element){var geom=undefined;var attribute=element.find("geonode\\:shape");if(attribute.length==0){attribute=element.find("geonode\\:the_geom")}if(attribute.find("gml\\:point").length>0){var coords=attribute.find("gml\\:point").find("gml\\:coordinates").text().split(",");if(typeof ol!="undefined"){geom=new ol.geom.Point([parseFloat(coords[0]),parseFloat(coords[1])])}else{geom=new L.LatLng(parseFloat(coords[1]),parseFloat(coords[0]))}}else if(attribute.find("gml\\:multilinestring").length>0){var coords=attribute.find("gml\\:multilinestring").find("gml\\:linestringmember").find("gml\\:linestring").find("gml\\:coordinates").text().split(" ");coords=$.map(coords,function(x,i){var a=x.split(",");return[[parseFloat(a[0]),parseFloat(a[1])]]});var geojson=[{type:"LineString",coordinates:coords}];geom=new L.GeoJSON(geojson,{})}else if(attribute.find("gml\\:multipolygon").length>0){var coords=attribute.find("gml\\:multipolygon").find("gml\\:polygonmember").find("gml\\:polygon").find("gml\\:outerboundaryis").find("gml\\:linearring").find("gml\\:coordinates").text().split(" ");coords=$.map(coords,function(x,i){var a=x.split(",");return[[parseFloat(a[0]),parseFloat(a[1])]]});var ring=[coords];var multipolygon=[ring];var geojson=[{type:"MultiPolygon",coordinates:multipolygon}];geom=new L.GeoJSON(geojson,{})}return geom}},{}],84:[function(require,module,exports){module.exports=function(url,serverType){if(angular.isString(url)){var data=undefined;if(serverType=="wms"){data={domain:url.replace("http://","").replace("https://","").split(/[\/?#]/)[0],wms:{base:url.substring(0,url.indexOf("?"))},wfs:{base:url.substring(0,url.indexOf("?")).replace("/wms","/wfs")}}}else if(serverType=="tegola"){data={domain:url.replace("http://","").replace("https://","").split(/[\/?#]/)[0],tegola:{base:url.substring(0,url.indexOf("/capabilities"))}}}else if(serverType=="geojson"){data={domain:url.replace("http://","").replace("https://","").split(/[\/?#]/)[0]}}else if(serverType=="tiles"){data={domain:url.replace("http://","").replace("https://","").split(/[\/?#]/)[0]}}return data}else{return undefined}}},{}],85:[function(require,module,exports){"use strict";module.exports={test:require("./test")}},{"./test":86}],86:[function(require,module,exports){module.exports=function(f,state,dashboard,options){var idx=parseInt(f.id_.split(".")[1],10);var colors=["#ADD8E6","#FF7F50","#FF8C00","#FF1493","#008000","#4B0082"];var delta={fillColor:colors[idx%colors.length],fillOpacity:(6+idx%5)*.1};return delta}},{}],87:[function(require,module,exports){module.exports=function(name){var h=extract(["var","history",name],geodash);if(h.list.length==0){return undefined}else{if(h.cursor>0){h.cursor=h.cursor-1;return geodash.util.deepCopy(h.list[h.cursor])}else{return undefined}}}},{}],88:[function(require,module,exports){module.exports=function(h,cursor,x){var dirty=false;if(Array.isArray(h)){if(h.length==0){dirty=true}else{if(JSON.stringify(x)!=JSON.stringify(h[cursor])){dirty=true}}}else{dirty=true}return dirty}},{}],89:[function(require,module,exports){module.exports=function(name){var h=extract(["var","history",name],geodash);if(h.list.length==0){return undefined}else{if(h.cursor<h.list.length-1){h.cursor=h.cursor+1;return geodash.util.deepCopy(h.list[h.cursor])}else{return undefined}}}},{}],90:[function(require,module,exports){"use strict";module.exports={back:require("./back"),dirty:require("./dirty"),forward:require("./forward"),pushState:require("./pushState")}},{"./back":87,"./dirty":88,"./forward":89,"./pushState":91}],91:[function(require,module,exports){module.exports=function($interpolate,$scope){geodash.var.history=geodash.var.history||{};var h=geodash.var.history;h.state=h.state||{list:[],cursor:0};h.extent=h.extent||{list:[],cursor:0};if(geodash.history.dirty(h.state.list,h.state.cursor,$scope.state)){h.state.list.push(geodash.util.deepCopy($scope.state));h.state.cursor=h.state.list.length-1;var newExtent=geodash.util.deepCopy(extract("state.view.extent",$scope));if(newExtent!=undefined){if(geodash.history.dirty(h.extent.list,h.extent.cursor,newExtent)){if(h.extent.cursor!=h.extent.list.length-1){h.extent.list=h.extent.list.slice(0,h.extent.cursor)}h.extent.list.push(newExtent);h.extent.cursor=h.extent.list.length-1}}var url=buildPageURL($interpolate,$scope.dashboard,$scope.state);if(url!=undefined){history.replaceState($scope.state,"",url)}}}},{}],92:[function(require,module,exports){module.exports=function(responses,fields_by_featuretype){var features=[];for(var i=0;i<responses.length;i++){var response=responses[i];if(response.status==200){var data=response.data;features=features.concat(geodash.codec.parseFeatures(data,fields_by_featuretype))}}return features}},{}],93:[function(require,module,exports){module.exports=function($http,urls){var promises=[];for(var i=0;i<urls.length;i++){var url=urls[i];var config={};var promise=$http.get(url,config);promises.push(promise)}return promises}},{}],94:[function(require,module,exports){"use strict";module.exports={build_promises:require("./build_promises"),build_features:require("./build_features")}},{"./build_features":92,"./build_promises":93}],95:[function(require,module,exports){"use strict";module.exports={animations:require("./animations"),api:require("./api"),assert:require("./assert"),bloodhound:require("./bloodhound"),bootloader:require("./bootloader"),codec:require("./codec"),dynamicStyleFn:require("./dynamicStyleFn"),http:require("./http"),controllers:{},directives:{},filters:{},handlers:{},history:require("./history"),init:require("./init"),layers:require("./layers"),listeners:require("./listeners"),log:require("./log"),normalize:require("./normalize"),navigate:require("./navigate"),popup:require("./popup"),style:require("./style"),tilemath:require("./tilemath"),typeahead:require("./typeahead"),ui:require("./ui"),util:require("./util"),vecmath:require("./vecmath"),var:{apps:{},baselayers:{},cache:{styles:{}},endpoints:{},logs:{},featurelayers:{},pages:{}}}},{"./animations":8,"./api":23,"./assert":39,"./bloodhound":47,"./bootloader":62,"./codec":79,"./dynamicStyleFn":85,"./history":90,"./http":94,"./init":102,"./layers":117,"./listeners":132,"./log":138,"./navigate":143,"./normalize":152,"./popup":160,"./style":162,"./tilemath":172,"./typeahead":189,"./ui":207,"./util":225,"./vecmath":236}],96:[function(require,module,exports){module.exports=function(){$("[data-geodash-dashboard-name]").each(function(){var that=$(this);var name=that.attr("data-geodash-dashboard-name");geodash.init.dashboard(name,that)})}},{}],97:[function(require,module,exports){module.exports=function(options){var app=extract("app",options);var mainElement=extract("mainElement",options);app.controller("GeoDashControllerBase",geodash.controllers.GeoDashControllerBase);app.controller("GeoDashControllerModal",geodash.controllers.GeoDashControllerModal);$("[data-geodash-controller], [data-geodash-controllers]",mainElement).each(function(){var controllerName=$(this).attr("data-geodash-controller")||$(this).attr("data-geodash-controllers");if(angular.isString(controllerName)&&controllerName.length>0){var controller=extract(controllerName,geodash.controllers);if(geodash.util.isDefined(controller)){app.controller(controllerName,controller)}}})}},{}],98:[function(require,module,exports){module.exports=function(appName,mainElement,loaders){var app=angular.module(appName,["ngRoute","ngSanitize","ngCookies"]);geodash.var.apps[appName]=app;var steps=[{id:"internals",label:"Internals",status:"pending"},{id:"dashboard",label:"Dashboard",status:"waiting"}];geodash.bootloader.ui.update({element:mainElement,steps:steps});geodash.bootloader.internals({app:app,element:mainElement});steps=geodash.bootloader.step.status({element:mainElement,steps:steps,id:"internals",status:"complete"});steps=geodash.bootloader.step.status({element:mainElement,steps:steps,id:"dashboard",status:"pending"});geodash.init.listeners();var system_resources=[{name:"state",title:"State",local:"data-geodash-dashboard-initial-state-path",remote:"data-geodash-dashboard-initial-state-url",hash:"state",querystring:"state",fallback:"initial_state"},{name:"stateschema",title:"State Schema",local:"data-geodash-dashboard-state-schema-path",remote:"data-geodash-dashboard-state-schema-url",hash:"stateschema",querystring:"stateschema",fallback:"state_schema"}];for(var i=0;i<system_resources.length;i++){var resource=system_resources[i];steps.push({id:"resource-"+resource.name,label:resource.title,status:"waiting"})}var result_dashboard=geodash.bootloader.process({app:app,appName:appName,element:mainElement,resource:{name:"dashboard",local:"data-geodash-dashboard-config-path",remote:"data-geodash-dashboard-config-url",hash:"config",querystring:"config",fallback:"dashboard"}});var initInjector=angular.injector(["ng"]);var $q=initInjector.get("$q");var $http=initInjector.get("$http");if(geodash.util.isDefined(extract("request",result_dashboard))){$http.get(result_dashboard.request.url,{}).then(function(response){var result=geodash.bootloader.handle({request:result_dashboard.request,response:response,app:app,loaders:loaders});if(result.success){steps=geodash.bootloader.step.status({element:mainElement,steps:steps,id:"dashboard",status:"complete"});geodash.bootloader.resources({app:app,appName:appName,loaders:loaders,element:mainElement,system_resources:system_resources,$q:$q,$http:$http,steps:steps})}else{geodash.log.error("bootloader",[result.message]);steps=geodash.bootloader.step.status({element:mainElement,steps:steps,id:"dashboard",status:"error",message:message})}},function(response){var message="";if(response.status==500){message='Could not load resource at "'+response.config.url+'" due to HTTP 500 Error (Internal Server Error).'}else{message='Could not load resource at "'+response.config.url+'" due to unknown HTTP Error.'}geodash.log.error("bootloader",[message]);steps=geodash.bootloader.step.status({element:mainElement,steps:steps,id:"dashboard",status:"error",message:message})})}else{steps=geodash.bootloader.step.status({element:mainElement,steps:steps,id:"dashboard",status:"complete"});geodash.bootloader.resources({app:app,appName:appName,loaders:loaders,element:mainElement,system_resources:system_resources,$q:$q,$http:$http,steps:steps})}}},{}],99:[function(require,module,exports){module.exports=function(options){var app=extract("app",options);if(geodash.directives!=undefined){geodash.meta.directives=[];$.each(geodash.directives,function(name,dir){geodash.meta.directives.push(name);app.directive(name,dir)})}}},{}],100:[function(require,module,exports){module.exports=function(options){var app=extract("app",options);app.factory("stateschema",function(){return angular.extend({},geodash.state_schema)});app.factory("live",function(){return{map:undefined,baselayers:{},featurelayers:{}}})}},{}],101:[function(require,module,exports){module.exports=function(options){var app=extract("app",options);if(geodash.filters!=undefined){geodash.meta.filters=[];$.each(geodash.filters,function(name,func){geodash.meta.filters.push(name);app.filter(name,func)})}}},{}],102:[function(require,module,exports){"use strict";module.exports={all:require("./all"),controllers:require("./controllers"),dashboard:require("./dashboard"),directives:require("./directives"),factory:require("./factory"),filters:require("./filters"),listeners:require("./listeners"),map_leaflet:require("./map_leaflet"),map_ol3:require("./map_ol3"),state:require("./state"),templates:require("./templates"),typeahead:require("./typeahead")}},{"./all":96,"./controllers":97,"./dashboard":98,"./directives":99,"./factory":100,"./filters":101,"./listeners":103,"./map_leaflet":104,"./map_ol3":105,"./state":106,"./templates":107,"./typeahead":108}],103:[function(require,module,exports){module.exports=function(){$("body").on("click",".btn-clear, .geodash-clear",function(event){var input_id=$(event.currentTarget).attr("data-target-input-id");if(angular.isString(input_id)){try{$("#"+input_id).typeahead("close")}catch(err){}geodash.ui.saveToInput(event.currentTarget,null)}geodash.ui.clearFromScope(event.currentTarget);geodash.ui.changeTab(event.currentTarget,null)});$("body").on("click",".btn-off",function(event){var input_id=$(event.currentTarget).attr("data-target-input-id");var input=$("#"+input_id);input.val("false");input.trigger("input");input.change()});$("body").on("click",".btn-on",function(event){var input_id=$(event.currentTarget).attr("data-target-input-id");var input=$("#"+input_id);input.val("true");input.trigger("input");input.change()});$("body").on("click",".geodash-intent",function(event){event.preventDefault();var that=$(this);var scope=geodash.util.getScope(that.attr("data-intent-ctrl"));var intents=[];if(that.hasClass("geodash-toggle")){var intentData=JSON.parse(that.attr("data-intent-data"));if(that.hasClass("geodash-off")){that.removeClass("geodash-off");geodash.api.intend(that.attr("data-intent-names")[0],intentData,scope)}else{that.addClass("geodash-off");geodash.api.intend(that.attr("data-intent-names")[1],intentData,scope)}}else if(that.hasClass("geodash-radio")){var siblings=that.parents(".geodash-radio-group:first").find(".geodash-radio").not(that);if(!that.hasClass("geodash-on")){that.addClass("geodash-on");if(that.data("intent-class-on")){that.addClass(that.data("intent-class-on"));siblings.removeClass(that.data("intent-class-on"))}siblings.removeClass("geodash-on");if(that.data("intent-class-off")){that.removeClass(that.data("intent-class-off"));siblings.addClass(that.data("intent-class-off"))}if(geodash.util.isDefined(that.attr("data-intents"))&&Array.isArray(JSON.parse(that.attr("data-intents")))){intents=intents.concat(JSON.parse(that.attr("data-intents")))}else{var intentName=that.attr("data-intent-name");if(geodash.util.isDefined(intentName)){var intentData=that.attr("data-intent-data");if(geodash.util.isDefined(intentData)){intentData=JSON.parse(intentData);angular.extend(intentData,{element:this});intents.push({name:intentName,data:intentData})}}}}}else{if(geodash.util.isDefined(that.attr("data-intents"))&&Array.isArray(JSON.parse(that.attr("data-intents")))){intents=intents.concat(JSON.parse(that.attr("data-intents")))}else{var intentName=that.attr("data-intent-name");if(geodash.util.isDefined(intentName)){var intentData=that.attr("data-intent-data");if(geodash.util.isDefined(intentData)){intentData=JSON.parse(intentData);angular.extend(intentData,{element:this});intents.push({name:intentName,data:intentData})}}}}for(var i=0;i<intents.length;i++){geodash.api.intend(intents[i].name,intents[i].data,scope)}})}},{}],104:[function(require,module,exports){module.exports=function(opts){var map=L.map("map",{attributionControl:geodash.api.opt_b(opts,"attributionControl",false),zoomControl:geodash.api.opt_b(opts,"zoomControl",false),minZoom:geodash.api.opt_i(opts,"minZoom",3),maxZoom:geodash.api.opt_i(opts,"maxZoom",18)});map.setView([geodash.api.opt_i(opts,["latitude","lat"],0),geodash.api.opt_i(opts,["longitude","lon","lng","long"],0)],geodash.api.opt_i(opts,["zoom","z"],0));$.each(geodash.api.opt_j(opts,"listeners"),function(e,f){map.on(e,f)});return map}},{}],105:[function(require,module,exports){module.exports=function(options){var id=extract("id",options,"map");var lonlat=[extract("dashboard.view.lon",options)||extract("dashboard.view.longitude",options,0),extract("dashboard.view.lat",options)||extract("dashboard.view.latitude",options,0)];var zoom=extract("dashboard.view.zoom",options)||extract("dashboard.view.z",options,0);var controls=[];if(extract("dashboard.controls.zoom",options,true)){controls.push(new ol.control.Zoom)}controls.push(new ol.control.Rotate);if(extract("dashboard.controls.attribution",options,true)){controls.push(new ol.control.Attribution)}var map=new ol.Map({target:id,layers:[],controls:controls,overlays:[new ol.Overlay({element:document.getElementById("popup")})],view:new ol.View({center:ol.proj.fromLonLat(lonlat),zoom:zoom,minZoom:extract("dashboard.view.minZoom",options,3),maxZoom:extract("dashboard.view.maxZoom",options,18)})});if(geodash.util.isDefined(extract("listeners.map",options))){$.each(extract("listeners.map",options),function(e,f){map.on(e,f)})}if(geodash.util.isDefined(extract("listeners.view",options))){var v=map.getView();$.each(extract("listeners.view",options),function(e,f){v.on(e,f)})}return map}},{}],106:[function(require,module,exports){module.exports=function(options){var newState={};if(geodash.util.isDefined(extract("state",options))){angular.extend(newState,extract("state",options))}var newView={baselayer:extract("view.baselayer",newState)||extract(["dashboard","baselayers",0,"id"],options),featurelayers:extract("view.featurelayers",newState)||$.map(extract(["dashboard","featurelayers"],options,[]),function(fl){return fl.id}),controls:extract("view.controls",newState)||extract("dashboard.view.controls",options)||[]};if(Array.isArray(extract("view.extent",newState))){newView["extent"]=extract("view.extent",newState)}else{var lat=getHashValueAsFloat(["latitude","lat","y"])||extract("state.lat",options,0);var lon=getHashValueAsFloat(["longitude","lon","long","lng","x"])||extract("state.lon",options,0);var z=getHashValueAsInteger(["zoom","z"])||extract("state.z",options,3);var delta={lat:lat,lon:lon,z:z};angular.extend(newView,delta)}newState["view"]=newView;if(geodash.util.isDefined(extract("filters",newState))&&geodash.util.isDefined(extract("stateschema",options))){var stateschema=extract("stateschema",options);$.each(newState["filters"],function(layer_id,layer_filters){$.each(layer_filters,function(filter_id,filer_value){var type=stateschema["filters"][layer_id][filter_id].toLowerCase();var value=geodash.util.getHashValue(layer_id+":"+filter_id,type);if(value!=undefined&&value!=""){newState["filters"][layer_id][filter_id]=value}})})}if(newState["styles"]!=undefined){}return newState}},{}],107:[function(require,module,exports){module.exports=function(options){var app=extract("app",options);geodash.meta.templates=[];geodash.templates.merged={};if(geodash.util.isDefined(extract("templates.static",geodash))){$.each(geodash.templates.static,function(name,template){geodash.templates.merged[name]=template})}if(geodash.util.isDefined(extract("templates.server",geodash))){$.each(geodash.templates.server,function(name,template){geodash.templates.merged[name]=template})}$.each(geodash.templates.merged,function(name,template){geodash.meta.templates.push(name);app.run(function($templateCache){$templateCache.put(name,template)})})}},{}],108:[function(require,module,exports){module.exports=function($element,featurelayers,baselayers,servers,datasetOptions,codecOptions){datasetOptions=datasetOptions||extract("config.search.datasets",geodash)||[geodash.typeahead.datasets];codecOptions=codecOptions||extract("config.search.codecs",geodash)||[geodash.bloodhound.codec];$(".typeahead",$element).each(function(){var datasets=[];var engine=undefined;var that=$(this);var placeholder=that.data("placeholder");var w=that.data("width");var h=that.data("height");var css="geodashserver-welcome-select-dropdown";var template_empty=that.data("template-empty");var initialValue=that.data("initial-value");if(angular.isString(that.attr("data-typeahead-datasets"))&&that.attr("data-typeahead-datasets").length>0){var datasetsName=that.attr("data-typeahead-datasets");var datasetsFn=undefined;for(var i=0;i<datasetOptions.length;i++){datasetsFn=extract(datasetsName,datasetOptions[i]);if(geodash.util.isDefined(datasetsFn)){break}}datasets=datasetsFn(that,featurelayers,baselayers,servers,codecOptions)}else{var datasetsFn=extract("default",geodash.typeahead.datasets);datasets=datasetsFn(that,featurelayers,baselayers,servers,codecOptions)}if(datasets.length>0){that.typeahead("destroy","NoCached");var typeahead=that.typeahead(null,datasets);that.data("datasets",datasets);if(angular.isString(initialValue)){var matches=undefined;for(var i=0;i<datasets.length;i++){matches=datasets[i].engine.getByPropertyName("id",initialValue);if(Array.isArray(matches)&&matches.length>0){break}}initialValue=matches[0]}if(geodash.util.isDefined(initialValue)){that.typeahead("val",geodash.typeahead.displayFn(initialValue));var newValue=extract(that.attr("data-search-output")||"id",initialValue);geodash.ui.saveToInput(this,newValue);geodash.ui.saveToScope(this,newValue);geodash.ui.changeTab(this,newValue)}that.on("keydown",geodash.typeahead.listeners.keydown);that.on("keyup",geodash.typeahead.listeners.keyup);typeahead.on("blur",geodash.typeahead.listeners.blur);typeahead.on("typeahead:change",geodash.typeahead.listeners.change);typeahead.on("typeahead:select typeahead:autocomplete typeahead:cursorchange",geodash.typeahead.listeners.select)}})}},{}],109:[function(require,module,exports){module.exports=function(featureLayer){var fields=[];var panes=extract("popup.panes",featureLayer,undefined);if(panes!=undefined){for(var i=0;i<panes.length;i++){fields=fields.concat(panes[i].fields)}}return fields}},{}],110:[function(require,module,exports){module.exports=function(options){var dashboard=extract("dashboard",options)||geodash.api.getDashboardConfig();var layerConfig=extract("layerConfig",options);var layerID=extract("id",layerConfig)||extract("layerID",layerConfig)||extract("id",options)||extract("layerID",options);var local=extract("geojson.local",layerConfig);var url=extract("geojson.url",layerConfig);var source=undefined;if(geodash.util.isDefined(local)){var localData=extract(local,geodash.initial_data);if(geodash.util.isDefined(localData)){source=geodash.layers.source.geojson({local:localData})}else{geodash.log.error("layers",["Could not initialize GeoJSON layer "+id+" because local data at "+local+" was not found."])}}else if(geodash.util.isDefined(url)){source=geodash.layers.source.geojson({url:url})}else{if(geodash.util.isDefined(extract("wfs.url",layerConfig))){url=geodash.layers.translate.wfs_to_geojson({fl:layerConfig})}if(geodash.util.isDefined(url)){source=geodash.layers.source.geojson({url:url})}}if(geodash.util.isDefined(source)){var ws=extract("config.dynamicStyleFunctionWorkspaces",geodash)||[geodash.dynamicStyleFn];var styleFn=function(_layerID,styleFnWorkspaces){return function(feature,resolution){return geodash.style.ol3({feature:feature,resolution:resolution,layerID:_layerID,styleFnWorkspaces:styleFnWorkspaces})||[]}}(layerID,extract("dynamicStyleFunctionWorkspaces",geodash.config,ws));var fl=new ol.layer.Vector({id:layerID,source:source,zIndex:geodash.api.getRenderOrder({dashboard:dashboard,id:layerID,reverse:true})});fl.setStyle(styleFn);geodash.api.addFeatureLayer(layerID,fl);var cb=extract("cb.success",options);if(geodash.util.isDefined(cb)){cb({$scope:extract("$scope",options)||extract("scope",options),id:layerID,fl:fl,state:options.state})}}}},{}],111:[function(require,module,exports){module.exports=function(options){var dashboard=extract("dashboard",options)||geodash.api.getDashboardConfig();var layerConfig=extract("layerConfig",options);var layerID=extract("id",layerConfig)||extract("layerID",layerConfig)||extract("id",options)||extract("layerID",options);var local=extract("geojson.local",layerConfig);var url=extract("geojson.url",layerConfig);var source=undefined;if(geodash.util.isDefined(local)){var localData=extract(local,geodash.initial_data);if(geodash.util.isDefined(localData)){source=geodash.layers.source.geojson({local:localData})}else{geodash.log.error("layers",["Could not initialize GeoJSON layer "+id+" because local data at "+local+" was not found."])}}else if(geodash.util.isDefined(url)){source=geodash.layers.source.geojson({url:url})}else{if(geodash.util.isDefined(extract("wfs.url",layerConfig))){url=geodash.layers.translate.wfs_to_geojson({fl:layerConfig})}if(geodash.util.isDefined(url)){source=geodash.layers.source.geojson({url:url})}}if(geodash.util.isDefined(source)){var fl=new ol.layer.Heatmap({source:source,blur:extract("heatmap.blur",layerConfig,15),radius:extract("heatmap.radius",layerConfig,5),weight:extract("heatmap.weight",layerConfig,undefined),zIndex:geodash.api.getRenderOrder({dashboard:dashboard,id:layerID,reverse:true})});geodash.api.addFeatureLayer(layerID,fl);var cb=extract("cb.success",options);if(geodash.util.isDefined(cb)){cb({$scope:extract("$scope",options)||extract("scope",options),id:layerID,fl:fl,state:options.state})}}}},{}],112:[function(require,module,exports){"use strict";module.exports={geojson:require("./geojson"),heatmap:require("./heatmap"),mapzen:require("./mapzen"),tegola:require("./tegola"),wms:require("./wms"),wmts:require("./wmts")}},{"./geojson":110,"./heatmap":111,"./mapzen":113,"./tegola":114,"./wms":115,"./wmts":116}],113:[function(require,module,exports){module.exports=function(options){var dashboard=extract("dashboard",options)||geodash.api.getDashboardConfig();var layerConfig=extract("layerConfig",options);var layerID=extract("id",layerConfig)||extract("layerID",layerConfig)||extract("id",options)||extract("layerID",options);var source=geodash.layers.source.vectortile({fl:layerConfig});if(geodash.util.isDefined(source)){var ws=extract("config.dynamicStyleFunctionWorkspaces",geodash)||[geodash.dynamicStyleFn];var styleFn=function(_layerID,styleFnWorkspaces){return function(feature,resolution){return geodash.style.ol3({feature:feature,resolution:resolution,layerID:_layerID,styleFnWorkspaces:styleFnWorkspaces})||[]}}(layerID,extract("dynamicStyleFunctionWorkspaces",geodash.config,ws));var fl=new ol.layer.VectorTile({source:source,zIndex:geodash.api.getRenderOrder({dashboard:dashboard,id:layerID,reverse:true})});if(geodash.util.isDefined(styleFn)){fl.setStyle(styleFn)}geodash.api.addFeatureLayer(layerID,fl);var cb=extract("cb.success",options);if(geodash.util.isDefined(cb)){cb({$scope:extract("$scope",options)||extract("scope",options),id:layerID,fl:fl,state:options.state})}}}},{}],114:[function(require,module,exports){arguments[4][113][0].apply(exports,arguments)},{dup:113}],115:[function(require,module,exports){module.exports=function(options){var dashboard=extract("dashboard",options)||geodash.api.getDashboardConfig();var layerConfig=extract("layerConfig",options);var layerID=extract("id",layerConfig)||extract("layerID",layerConfig)||extract("id",options)||extract("layerID",options);var w=layerConfig.wms;if(extract("auth",layerConfig,"")=="basic"){var auth_url=w.url+(w.url.indexOf("?")!=-1?"&":"?")+"SERVICE=WMS&REQUEST=GetCapabilities";$.ajax({url:auth_url,type:"GET",dataType:"jsonp",
jsonp:"callback",beforeSend:function(xhr){xhr.setRequestHeader("Authorization","Basic "+btoa("null:null"));console.log(xhr)},error:function(){},success:function(){},complete:function(response){var source=geodash.layers.source.wms({wms:w});if(geodash.util.isDefined(source)){var fl=new ol.layer.Image({source:source,zIndex:geodash.api.getRenderOrder({dashboard:dashboard,id:layerID,reverse:true})});geodash.api.addFeatureLayer(layerID,fl);var cb=extract("cb.success",options);if(geodash.util.isDefined(cb)){cb({$scope:extract("$scope",options)||extract("scope",options),id:layerID,fl:fl,state:options.state})}}}})}else{var source=geodash.layers.source.wms({wms:w});if(geodash.util.isDefined(source)){var fl=new ol.layer.Image({source:source,zIndex:geodash.api.getRenderOrder({dashboard:dashboard,id:layerID,reverse:true})});geodash.api.addFeatureLayer(layerID,fl);var cb=extract("cb.success",options);if(geodash.util.isDefined(cb)){cb({$scope:extract("$scope",options)||extract("scope",options),id:layerID,fl:fl,state:options.state})}}}}},{}],116:[function(require,module,exports){module.exports=function($scope,live,dashboard,id,layerConfig){var w=layerConfig.wmts;if(extract("auth",layerConfig,"")=="basic"){var auth_url=w.url+(w.url.indexOf("?")!=-1?"&":"?")+"SERVICE=WMS&REQUEST=GetCapabilities";$.ajax({url:auth_url,type:"GET",dataType:"jsonp",jsonp:"callback",beforeSend:function(xhr){xhr.setRequestHeader("Authorization","Basic "+btoa("null:null"))},error:function(){},success:function(){},complete:function(response){var fl=L.tileLayer.wmts(w.url,{renderOrder:$.inArray(id,dashboard.renderlayers),version:w.version||"1.0.0",layers:geodash.codec.formatArray("layers",w,""),styles:geodash.codec.formatArray("styles",w,""),format:w.format||"image/png",transparent:geodash.util.isDefined(w.transparent)?w.transparent:true,attribution:extract("source.attribution",layerConfig,undefined),tilematrixSet:"EPSG:3857",minZoom:extract("view.minZoom",layerConfig,0),maxZoom:extract("view.maxZoom",layerConfig,18),maxNativeZoom:extract("source.maxZoom",layerConfig,null)});live["featurelayers"][id]=fl;geodash.layers.init_featurelayer_post($scope,live,id,fl,layerConfig.visible)}})}else{var fl=L.tileLayer.wmts(w.url,{renderOrder:$.inArray(id,dashboard.renderlayers),version:w.version||"1.0.0",layers:geodash.codec.formatArray("layers",w,""),styles:geodash.codec.formatArray("styles",w,""),format:w.format||"image/png",transparent:geodash.util.isDefined(w.transparent)?w.transparent:true,attribution:extract("source.attribution",layerConfig,undefined),tilematrixSet:"EPSG:3857",minZoom:extract("view.minZoom",layerConfig,0),maxZoom:extract("view.maxZoom",layerConfig,18),maxNativeZoom:extract("source.maxZoom",layerConfig,null)});live["featurelayers"][id]=fl;geodash.layers.init_featurelayer_post($scope,live,id,fl,layerConfig.visible)}}},{}],117:[function(require,module,exports){"use strict";module.exports={aggregate_fields:require("./aggregate_fields"),init_baselayers_leaflet:require("./init_baselayers_leaflet"),init_baselayers_ol3:require("./init_baselayers_ol3"),init_featurelayer_post:require("./init_featurelayer_post"),init_featurelayer_post_ol3:require("./init_featurelayer_post_ol3"),init_featurelayer:require("./init_featurelayer"),init_featurelayers:require("./init_featurelayers"),featurelayer:require("./featurelayer"),source:require("./source"),translate:require("./translate")}},{"./aggregate_fields":109,"./featurelayer":112,"./init_baselayers_leaflet":118,"./init_baselayers_ol3":119,"./init_featurelayer":120,"./init_featurelayer_post":121,"./init_featurelayer_post_ol3":122,"./init_featurelayers":123,"./source":125,"./translate":129}],118:[function(require,module,exports){module.exports=function(map,baselayers){var layers={};for(var i=0;i<baselayers.length;i++){var bl=baselayers[i];var type=extract("source.type",bl,"tile");var attribution=extract("source.attribution",bl,undefined);var url=undefined;if(type.toLowerCase()=="mapbox"){var mb_layers=extract("source.mapbox.layers",bl,undefined);var mb_access_token=extract("source.mapbox.access_token",bl,undefined);if(mb_layers==undefined||mb_access_token==undefined){console.log("MapBox Layers missing config.",bl)}else{url="http://{s}.tiles.mapbox.com/v4/"+mb_layers+"/{z}/{x}/{y}.png?access_token="+mb_access_token}}else if(type.toLowerCase()=="gwc"){var gwc_url=extract("source.gwc.url",bl,undefined);var gwc_layers=extract("source.gwc.layers",bl,undefined);if(gwc_url==undefined||gwc_layers==undefined){console.log("GWC Layers missing config.",bl)}else{url=gwc_url+(gwc_url.endsWith("/")?"":"/")+"service/tms/1.0.0/"+gwc_layers+"@EPSG:900913@png/{z}/{x}/{y}.png"}}else if(type.toLowerCase()in["tile","tiles"]){url=extract("source.tile.url",bl,undefined)}url=url||extract("source.url",bl,undefined);try{layers[bl.id]=L.tileLayer(url,{id:bl.id,attribution:attribution})}catch(err){console.log("Could not add baselayer "+i)}}return layers}},{}],119:[function(require,module,exports){module.exports=function(map,baselayers){var layers={};for(var i=0;i<baselayers.length;i++){var bl=baselayers[i];var attribution=extract("source.attribution",bl,undefined);var source=geodash.layers.source.xyz({bl:bl});if(geodash.util.isDefined(source)){try{layers[bl.id]=new ol.layer.Tile({source:source})}catch(err){geodah.error.log("layers","Could not add baselayer "+i)}}}return layers}},{}],120:[function(require,module,exports){module.exports=function(options){if(extract("fl.enabled",options,true)){var t=extract("fl.type",options,"").toLowerCase();var initFn=undefined;if((t=="geojson"||t=="wms")&&geodash.util.isDefined(extract("fl.heatmap",options,undefined))){initFn=extract("heatmap",geodash.layers.featurelayer)}else{initFn=extract(t,geodash.layers.featurelayer)}initFn({$scope:extract("$scope",options),dashboard:extract("dashboard",options),id:extract("id",options),layerConfig:extract("fl",options),state:extract("state",options),cb:{success:geodash.layers.init_featurelayer_post_ol3,failed:function(x){geodash.log.error("layers",["Could not initialize feature layer"+extract("id",x)+".",extract("fl",x)])}}})}}},{}],121:[function(require,module,exports){module.exports=function($scope,live,id,fl,visible){if(fl!=undefined){if(visible!=undefined?visible:true){fl.addTo(live["map"])}geodash.api.intend("layerLoaded",{type:"featurelayer",layer:id,visible:visible},$scope)}else{console.log("Could not add featurelayer "+id+" because it is undefined.")}}},{}],122:[function(require,module,exports){module.exports=function(options){if(geodash.api.isVisible(options)){var fl=extract("fl",options);var layerID=extract("id",options)||extract("layerID",options);var $scope=extract("$scope",options)||extract("scope",options);geodash.var.map.addLayer(fl);geodash.api.intend("layerLoaded",{type:"featurelayer",layer:layerID,visible:true},$scope)}}},{}],123:[function(require,module,exports){module.exports=function(featureLayers,$scope,live,dashboard,state){$.each(featureLayers,function(i,layerConfig){geodash.layers.init_featurelayer(layerConfig.id,layerConfig,$scope,live,dashboard,state)})}},{}],124:[function(require,module,exports){module.exports=function(options){var source=undefined;var local=extract("local",options);var url=extract("url",options);var projection=extract("projection",options,"EPSG:4326");if(geodash.util.isDefined(local)){source=new ol.source.Vector({features:(new ol.format.GeoJSON).readFeatures(local,{dataProjection:projection,featureProjection:"EPSG:3857"})})}else if(geodash.util.isDefined(url)){source=new ol.source.Vector({url:url,projection:projection,format:new ol.format.GeoJSON})}return source}},{}],125:[function(require,module,exports){"use strict";module.exports={geojson:require("./geojson"),vectortile:require("./vectortile"),wms:require("./wms"),xyz:require("./xyz")}},{"./geojson":124,"./vectortile":126,"./wms":127,"./xyz":128}],126:[function(require,module,exports){module.exports=function(options){var source=undefined;var maxZoom=18;var tilePixelRatio=16;var tegola=extract("fl.tegola",options);var mapzen=extract("fl.mapzen",options);var url=undefined;if(geodash.util.isDefined(tegola)){url=tegola.url+"/maps/"+tegola.map+"/{z}/{x}/{y}.vector.pbf";if(extract("debug",tegola,false)){url+="?debug=true"}}if(geodash.util.isDefined(mapzen)){url="http://tile.mapzen.com/mapzen/vector/"+extract("version",mapzen,"v1")+"/"+extract("layers",mapzen,[]).join(",")+"/{z}/{x}/{y}."+extract("format",mapzen,"mvt");url+="?api_key="+extract("api_key",mapzen,"")}if(geodash.util.isDefined(url)){source=new ol.source.VectorTile({attributions:"",format:new ol.format.MVT,tileGrid:ol.tilegrid.createXYZ({maxZoom:maxZoom}),tilePixelRatio:tilePixelRatio,url:url})}return source}},{}],127:[function(require,module,exports){module.exports=function(options){var source=undefined;var w=extract("wms",options);if(geodash.util.isDefined(w)){var params={LAYERS:geodash.codec.formatArray("layers",w,""),STYLES:geodash.codec.formatArray("styles",w,""),buffer:w.buffer||0,version:w.version||"1.1.1",format:w.format||"image/png",transparent:extract("transparent",w,true)};var cql_filter=extract("cql_filter",w,undefined);if(geodash.util.isDefined(cql_filter)){params["CQL_FILTER"]=cql_filter}source=new ol.source.ImageWMS({url:w.url,params:params,serverType:"geoserver",crossOrigin:"anonymous"})}else{geodash.log.error("source",["Could not initialize wms source since fl.wms is undefined."])}return source}},{}],128:[function(require,module,exports){module.exports=function(options){var source=undefined;var mapbox=extract("bl.mapbox",options);var gwc=extract("bl.gwc",options);var tile=extract("bl.tile",options)||extract("bl.tiles",options)||extract("bl.source.tile",options);var url=undefined;if(geodash.util.isDefined(mapbox)){var layers=extract("layers",mapbox)||extract("layer",mapbox);var styles=extract("styles",mapbox)||extract("style",mapbox);var account=extract("account",mapbox)||extract("username",mapbox);var access_token=extract("access_token",mapbox,undefined);if(angular.isString(layers)){layers=layers.split(",")}if(angular.isString(styles)){styles=styles.split(",")}if(angular.isString(access_token)&&access_token.length>0){if(Array.isArray(layers)&&layers.length>0){url="http://{a-c}.tiles.mapbox.com/v4/"+layers.join(",")+"/{z}/{x}/{y}.png?access_token="+access_token}else if(angular.isArray(styles)&&styles.length>0){url="https://api.mapbox.com/styles/v1/"+account+"/"+styles[0]+"/tiles/256/{z}/{x}/{y}?access_token="+access_token}}}else if(geodash.util.isDefined(gwc)){var baseurl=extract("url",gwc,undefined);var layers=extract("layers",gwc,undefined);var projection=extract("projection",gwc,"EPSG:900913");var format=extract("format",gwc,"png");if(angular.isString(layers)){layers=layers.split(",")}if(Array.isArray(layers)&&layers.length>0&&geodash.util.isDefined(access_token)){url=baseurl+(baseurl.endsWith("/")?"":"/")+"service/tms/1.0.0/"+layers.join(",")+"@"+projection+"@"+format+"/{z}/{x}/{y}."+format}}else if(geodash.util.isDefined(tile)){url=extract("url",tile,undefined)}if(geodash.util.isDefined(url)){source=new ol.source.XYZ({url:url,maxZoom:extract("bl.maxZoom",options,18)})}else{geodash.log.error("source",["Could not initialize xyz source",JSON.stringify(options)])}return source}},{}],129:[function(require,module,exports){"use strict";module.exports={wfs_to_geojson:require("./wfs_to_geojson")}},{"./wfs_to_geojson":130}],130:[function(require,module,exports){module.exports=function(options){var fl=extract("fl",options);var url=undefined;var srs="EPSG%3A4326";var layers=extract("wfs.layers",fl)||extract("wms.layers",fl);var params=["srsName="+srs,"typename="+geodash.codec.formatArray(layers),"outputFormat=json","version=1.0.0","service=WFS","request=GetFeature"];url=extract("wfs.url",fl)+"?"+params.join("&");return url}},{}],131:[function(require,module,exports){module.exports=function(event,args){var id=args["id_hide"]||args["id"];try{$("#"+id).modal("hide");var modal_scope=geodash.util.getScope(id);var aClear=args["clear"];if("clear"in args&&args["clear"]!=undefined){modal_scope.$apply(function(){$.each(aClear,function(i,x){modal_scope[x]=undefined})})}}catch(err){}}},{}],132:[function(require,module,exports){"use strict";module.exports={hideModal:require("./hideModal"),saveAndHide:require("./saveAndHide"),showModal:require("./showModal"),switchModal:require("./switchModal"),toggleModal:require("./toggleModal")}},{"./hideModal":131,"./saveAndHide":133,"./showModal":134,"./switchModal":135,"./toggleModal":136}],133:[function(require,module,exports){module.exports=function(event,args){geodash.listeners.hideModal(event,args);var target=args["id_target"]||args["id"];var modal_scope_target=geodash.util.getScope(target);var modal_scope_new=geodash.api.buildScope(event,args);modal_scope_target.$apply(function(){$.each(modal_scope_new,function(key,value){modal_scope_target[key]=value})})}},{}],134:[function(require,module,exports){module.exports=function(event,args){console.log("event",event);console.log("args",args);var id=args["id_show"]||args["id"];var modal_scope=geodash.util.getScope(id);var modal_scope_new=geodash.api.buildScope(event,args);var modalOptions=args["modal"]||{};modalOptions["show"]=false;modal_scope.$apply(function(){modal_scope.push(modal_scope_new);setTimeout(function(){var modalElement=$("#"+id);var targetTab=modal_scope.tab;if(targetTab!=undefined){modalElement.find(".nav-tabs li").each(function(){var that=$(this);var thisTab=that.find("a").attr("href").substring(1);if(targetTab==thisTab){that.addClass("active")}else{that.removeClass("active")}});modalElement.find(".tab-pane").each(function(){var that=$(this);if(targetTab==that.attr("id")){that.addClass("in active")}else{that.removeClass("in active")}})}else{modalElement.find(".nav-tabs li").slice(0,1).addClass("active");modalElement.find(".nav-tabs li").slice(1).removeClass("active");modalElement.find(".tab-pane").slice(0,1).addClass("in active");modalElement.find(".tab-pane").slice(1).removeClass("in active")}geodash.ui.update(id);$("#"+id).modal(modalOptions);$("#"+id).modal("toggle")},0)})}},{}],135:[function(require,module,exports){module.exports=function(event,args){geodash.listeners.hideModal(event,args);geodash.listeners.showModal(event,args)}},{}],136:[function(require,module,exports){module.exports=function(event,args){geodash.listeners.showModal(event,args)}},{}],137:[function(require,module,exports){module.exports=function(name,messages){if(!Array.isArray(geodash.var.logs[name])){geodash.var.logs[name]=[]}if(Array.isArray(messages)){for(var i=0;i<messages.length;i++){geodash.var.logs[name].push({level:"error",message:messages[i]})}}else if(angular.isString(messages)){geodash.var.logs[name].push({level:"error",message:messages})}}},{}],138:[function(require,module,exports){"use strict";module.exports={error:require("./error"),info:require("./info"),print:require("./print")}},{"./error":137,"./info":139,"./print":140}],139:[function(require,module,exports){module.exports=function(name,messages){if(!Array.isArray(geodash.var.logs[name])){geodash.var.logs[name]=[]}if(Array.isArray(messages)){for(var i=0;i<messages.length;i++){geodash.var.logs[name].push({level:"info",message:messages[i]})}}else if(angular.isString(messages)){geodash.var.logs[name].push({level:"info",message:messages})}}},{}],140:[function(require,module,exports){module.exports=function(name){if(geodash.util.isDefined(name)){var log=extract("var.logs."+name,geodash);if(Array.isArray(log)){console.group("GeoDash Log: "+name);for(var i=0;i<log.length;i++){var message=log[i];if(message.level=="error"){console.warn(message.message)}else{console.log(message.message)}}console.groupEnd()}}else{$.each(geodash.var.logs,function(name,log){console.group("Printing log "+name+"...");for(var i=0;i<log.length;i++){var message=log[i];if(message.level=="error"){console.warn(message.message)}else{console.log(message.message)}}console.groupEnd()})}}},{}],141:[function(require,module,exports){module.exports=function($scope){var targetExtent=geodash.history.back("extent");if(geodash.util.isDefined(targetExtent)){setTimeout(function(){var m=geodash.var.map;var v=m.getView();var args=geodash.animations.chain(m,v,{extent:targetExtent});if(args.length>0){args.push(geodash.animations.callback($scope));v.animate.apply(v,args)}},0)}}},{}],142:[function(require,module,exports){module.exports=function($scope){var targetExtent=geodash.history.forward("extent");if(geodash.util.isDefined(targetExtent)){setTimeout(function(){var m=geodash.var.map;var v=m.getView();var args=geodash.animations.chain(m,v,{extent:targetExtent});if(args.length>0){args.push(geodash.animations.callback($scope));v.animate.apply(v,args)}},0)}else{geodash.log.info("general",["Could not find requested extent."])}}},{}],143:[function(require,module,exports){module.exports={back:require("./back"),forward:require("./forward"),layer:require("./layer"),location:require("./location"),start:require("./start")}},{"./back":141,"./forward":142,"./layer":144,"./location":145,"./start":146}],144:[function(require,module,exports){module.exports=function(args){if(geodash.mapping_library=="ol3"){var layer=geodash.var.featurelayers[args["layer"]];var v=geodash.var.map.getView();geodash.var.map.beforeRender(ol.animation.pan({duration:1e3,source:v.getCenter()}));v.fit(layer.getSource().getExtent(),geodash.var.map.getSize())}else if(geodash.mapping_library=="leaflet"){geodash.var.map.fitBounds(geodash.var.featurelayers[args["layer"]].getBounds())}}},{}],145:[function(require,module,exports){module.exports=function(options){if(extract("animate",options,true)==false){var m=geodash.var.map;var v=m.getView();var zoom=extract("zoom",options);if(geodash.util.isDefined(zoom)){v.setZoom(geodash.normalize.integer(zoom))}var lat=extract("lon",options);var lon=extract("lat",options);if(geodash.util.isDefined(lon)&&geodash.util.isDefined(lat)){v.setCenter(ol.proj.transform([geodash.normalize.float(lon),geodash.normalize.float(lat)],"EPSG:4326",v.getProjection()))}}else{setTimeout(function(){var m=geodash.var.map;var v=m.getView();var args=geodash.animations.chain(m,v,options);if(args.length>0){v.animate.apply(v,args)}},0)}}},{}],146:[function(require,module,exports){module.exports=function($scope){setTimeout(function(){var m=geodash.var.map;var v=m.getView();var args=geodash.animations.chain(m,v,{extent:geodash.var.history.extent.list[0]});if(args.length>0){args.push(geodash.animations.callback($scope));v.animate.apply(v,args)}},0)}},{}],147:[function(require,module,exports){module.exports=function(color){if(Array.isArray(color)){if(color.length==3){color=[].concat(color,[1])}if(angular.isString(color[0])){color[0]=parseInt(color[0],10)}if(angular.isString(color[1])){color[1]=parseInt(color[1],10)}if(angular.isString(color[2])){color[2]=parseInt(color[2],10)}if(angular.isString(color[3])){color[3]=parseFloat(color[3])}}else if(angular.isString(color)){if(color.startsWith("#")||color.startsWith("rgb")){try{color=ol.color.fromString(color)}catch(err){color=undefined}}else{color=[0,0,0,0]}}return color}},{}],148:[function(require,module,exports){module.exports=function(extent,options){var newExtent=undefined;if(geodash.util.isDefined(extent)){if(angular.isString(extent)){if(extent.length>0){newExtent=extent.split(",").map(parseFloat)}else{return undefined}}else if(Array.isArray(extent)){newExtent=geodash.util.deepCopy(extent)}else{return undefined}}else{newExtent=geodash.util.deepCopy(extent)}var sourceProjection=extract("sourceProjection",options);var targetProjection=extract("targetProjection",options);if(geodash.util.isDefined(sourceProjection)&&geodash.util.isDefined(targetProjection)){if(sourceProjection!=targetProjection){newExtent=ol.proj.transformExtent(newExtent,sourceProjection,targetProjection)}}else{return newExtent}}},{}],149:[function(require,module,exports){module.exports=function(feature,options){return{attributes:feature.attributes||feature.properties||feature.values_,geometry:geodash.normalize.geometry(feature.geometry||feature.getGeometry(),options),projection:extract("projection.target",options)}}},{}],150:[function(require,module,exports){module.exports=function(x,fallback){if(angular.isNumber(x)){return x}else if(angular.isString(x)){if(x.length>0){return parseFloat(x)}else{return fallback}}else{return fallback}}},{}],151:[function(require,module,exports){module.exports=function(geometry,options){var geometryType=undefined;try{geometryType=geometry.getType()}catch(err){}if(geometryType=="Polygon"){return geodash.normalize.polygon(geometry)}else if(geometryType=="Point"){return geodash.normalize.point(geometry,options)}else{return undefined}}},{}],152:[function(require,module,exports){"use strict";module.exports={color:require("./color"),extent:require("./extent"),feature:require("./feature"),float:require("./float"),integer:require("./integer"),geometry:require("./geometry"),point:require("./point"),polygon:require("./polygon")}},{"./color":147,"./extent":148,"./feature":149,"./float":150,"./geometry":151,"./integer":153,"./point":154,"./polygon":155}],153:[function(require,module,exports){module.exports=function(x,fallback){if(angular.isNumber(x)){return x}else if(angular.isString(x)){if(x.length>0){return parseInt(x,10)}else{return fallback}}else{return fallback}}},{}],154:[function(require,module,exports){module.exports=function(point,options){if("flatCoordinates"in point){var coords=point.flatCoordinates;if(extract("projection.target",options)){coords=ol.proj.transform(coords,options.projection.source||"EPSG:3857",options.projection.target);return{lat:coords[1],lon:coords[0]}}else{return{lat:coords[1],lon:coords[0]}}}else if(Array.isArray(point)){return{lat:point[1],lon:point[0]}}else{return{lat:point.lat,lon:point.lon||point.lng||point.long||0}}}},{}],155:[function(require,module,exports){module.exports=function(geometry){return{ring:geometry.flatCoordinates}}},{}],156:[function(require,module,exports){module.exports=function(chart,layer,feature,state){var title=geodash.codec.md2html(chart.title)||chart.id;var html="";html+='<div style="text-align:center;">'+title+"</div><br>";html+='<div id="'+chart.id+'" class="geodash-popup-chart"></div>';return html}},{}],157:[function(require,module,exports){module.exports=function(field,layer,feature,state){var output=field["output"]||field["attribute"];var html=undefined;var bInclude=false;if(field.when!=undefined){if(field.when.toLowerCase()=="defined"){if(feature.attributes[output]!=undefined){bInclude=true}}else{bInclude=true}}else{bInclude=true}if(bInclude){if(field.type=="link"){var value=field.value!=undefined?field.value:"{{ feature.attributes."+output+" }}";html="<span>";if(angular.isString(field.label)&&field.label.length>0){html+="<b>"+field.label+":</b> "}html='<a target="_blank" href="'+field.url+'">';html+=value;html+="</a></span>"}else{var value=undefined;if(field.value!=undefined){value=field.value}else{if(field.type=="date"){var format=field.format||"medium";value="feature.attributes."+output+" | date:'"+format+"'"}else{value="feature.attributes."+output}if(field.fallback){value="("+value+") || '"+field.fallback+"'"}value="{{ "+value+" }}"}if(angular.isString(field.label)&&field.label.length>0){html="<span><b>"+field.label+":</b> "+value+"</span>"}else{html="<span>"+value+"</span>"}}}return html}},{}],158:[function(require,module,exports){module.exports=function($interpolate,featureLayer,feature,state){var popupTemplate=geodash.popup.buildPopupTemplate(featureLayer.popup,featureLayer,feature,state);var ctx={layer:featureLayer,feature:feature,state:state};if(geodash.util.isDefined(extract("config.popup.context",geodash))){angular.extend(ctx,extract("config.popup.context",geodash))}var content=$interpolate(popupTemplate)(ctx);var title=angular.isString(featureLayer.popup.title)?$interpolate(featureLayer.popup.title)(ctx):"";return{content:content,title:title}}},{}],159:[function(require,module,exports){module.exports=function(popup,layer,feature,state){var panes=popup.panes;var popupTemplate="";if(geodash.mapping_library=="leaflet"&&angular.isString(popup.title)){popupTemplate+='<h5 style="word-wrap:break-word;text-align:center;">'+popup.title+"</h5>"}var paneContents=[];if(Array.isArray(panes)){for(var i=0;i<panes.length;i++){var pane=panes[i];var popupFields=[];var popupCharts=[];if("fields"in pane){for(var j=0;j<pane.fields.length;j++){var popupField=geodash.popup.buildField(pane.fields[j],layer,feature,state);if(popupField!=undefined){popupFields.push(popupField)}}}if("charts"in pane){for(var j=0;j<pane.charts.length;j++){var popupChart=geodash.popup.buildChart(pane.charts[j],layer,feature,state);if(popupChart!=undefined){popupCharts.push(popupChart)}}}var paneContent=popupFields.join("<br>");if(popupCharts.length>0){paneContent+="<hr>"+popupCharts.join("<br>")}paneContents.push(paneContent)}if(panes.length>1){var tabs=[];var pane=panes[0];var html_tab='<li class="active"><a role="tab" data-toggle="tab" href="#'+pane.id+'">'+pane.tab.label+"</a></li>";tabs.push(html_tab);for(var i=1;i<panes.length;i++){pane=panes[i];html_tab='<li><a role="tab" data-toggle="tab" href="#'+pane.id+'">'+pane.tab.label+"</a></li>";tabs.push(html_tab)}var html_tabs='<ul class="nav nav-tabs nav-justified">'+tabs.join("")+"</ul>";var paneContentsWithWrapper=[];var html_pane='<div id="'+panes[0].id+'" class="tab-pane fade in active" style="padding: 4px;height:'+geodash.config.popup.height+';">'+paneContents[0]+"</div>";paneContentsWithWrapper.push(html_pane);for(var i=1;i<panes.length;i++){html_pane='<div id="'+panes[i].id+'" class="tab-pane fade" style="padding: 4px;height:'+geodash.config.popup.height+';">'+paneContents[i]+"</div>";paneContentsWithWrapper.push(html_pane)}popupTemplate+=html_tabs+'<div class="tab-content">'+paneContentsWithWrapper.join("")+"</div>"}else{popupTemplate+=paneContents[0]}}return popupTemplate}},{}],160:[function(require,module,exports){"use strict";module.exports={buildChart:require("./buildChart"),buildField:require("./buildField"),buildPopupTemplate:require("./buildPopupTemplate"),buildPopupContentAndTitle:require("./buildPopupContentAndTitle"),openPopup:require("./openPopup")}},{"./buildChart":156,"./buildField":157,"./buildPopupContentAndTitle":158,"./buildPopupTemplate":159,"./openPopup":161}],161:[function(require,module,exports){module.exports=function($interpolate,featureLayer,feature,location,map,state){var popupContentAndTitle=geodash.popup.buildPopupContentAndTitle($interpolate,featureLayer,feature,state);if(geodash.mapping_library="ol3"){var popup=map.getOverlays().item(0);var view=map.getView();var newCenter=ol.proj.fromLonLat([location.lon,location.lat],view.getProjection());popup.setPosition(newCenter);var element=$("#popup");element.popover("destroy");element.popover({placement:"top",animation:false,html:true,content:popupContentAndTitle.content,title:popupContentAndTitle.title});setTimeout(function(){element.popover("show");if(geodash.util.isDefined(extract("popup.css.properties",featureLayer))){var tip=element.data("bs.popover").$tip;var styleMap=geodash.util.arrayToObject(extract("popup.css.properties",featureLayer));tip.css(styleMap)}$(".popover").each(function(){var popoverElement=$(this);$(".nav-tabs",popoverElement).each(function(){var tabs=$(this);tabs.on("click",'[data-toggle="tab"]',function(e){e.preventDefault();var target=$(this).attr("href");$("li",tabs).removeClass("active");$(this).parents("li:first").addClass("active");$(".tab-pane",popoverElement).removeClass("in active");$(target).addClass("in active");return false})})});var listeners=extract("popup.listeners.show",geodash.config);if(Array.isArray(listeners)){for(var i=0;i<listeners.length;i++){listeners[i](featureLayer,feature,location,map,state)}}var pixel=map.getPixelFromCoordinate(newCenter);var offset=Math.floor($(".popover").height()/2);pixel[1]=pixel[1]-offset;var pan=ol.animation.pan({duration:500,source:view.getCenter()});map.beforeRender(pan);view.setCenter(map.getCoordinateFromPixel(pixel))},0)}else{var popup=new L.Popup({maxWidth:featureLayer.popup.maxWidth||400},undefined);popup.setLatLng(new L.LatLng(location.lat,location.lon));popup.setContent(popupContentAndTitle.content);map.openPopup(popup)}}},{}],162:[function(require,module,exports){"use strict";module.exports={ol3:require("./ol3"),leaflet:require("./leaflet"),symbolizer:require("./symbolizer"),translate:require("./translate")}},{"./leaflet":163,"./ol3":164,"./symbolizer":166,"./translate":170}],163:[function(require,module,exports){module.exports=function(f,layer){var $scope=angular.element("#geodash-main").scope();var state=$scope.state;var dashboard=angular.element(document.body).injector().get("dashboard");var style={};var popatrisk=geodash.api.getFeatureLayer("popatrisk",{$scope:$scope});if(geodash.util.isDefined(popatrisk)){var style_static=extract(["cartography",0,"styles","default","static"],popatrisk);$.extend(style,style_static);var style_dynamic=extract(["cartography",0,"styles","default","dynamic","func"],popatrisk);var options=extract(["cartography",0,"styles","default","dynamic","options"],popatrisk);var delta=angular.isFunction(geodash[style_dynamic])?geodash[style_dynamic](f,state,dashboard,options):undefined;if(delta!=undefined){$.extend(style,delta)}}return style}},{}],164:[function(require,module,exports){module.exports=function(options){var feature=extract("feature",options);var resolution=extract("resolution",options);var layerID=extract("layerID",options);var styleFnWorkspaces=extract("styleFnWorkspaces",options);var styles=undefined;var mainScope=geodash.util.getScope("geodash-main");var fl=geodash.api.getFeatureLayer(layerID);if(geodash.util.isDefined(fl)){var currentStyle=0;var cacheStyles=extract(["carto","styles",currentStyle,"cache"],fl,false);var styles_cached=undefined;if(cacheStyles){styles_cached=extract(["var","cache","styles",layerID],geodash)}if(geodash.util.isDefined(styles_cached)){styles=styles_cached}else{var geometryType=feature.getGeometry().getType();var symbolizers=extract(["carto","styles",currentStyle,"symbolizers"],fl,[]);if(symbolizers.length>0){styles=[]}for(var i=0;i<symbolizers.length;i++){var symbolizer=symbolizers[i];var symbolizerType=extract("type",symbolizer);var symbolizerFn=extract(symbolizerType||"default",geodash.style.symbolizer);var style=symbolizerFn({feature:feature,symbolizer:symbolizer,styleFnWorkspaces:styleFnWorkspaces,state:extract("state",mainScope),dashboard:extract("dashboard",mainScope)});if(geodash.util.isDefined(style)){styles.push(new ol.style.Style(style))}}if(cacheStyles){geodash.var.cache.styles[layerID]=styles}}}return styles}},{}],165:[function(require,module,exports){module.exports=function(options){var symbolizer=options.symbolizer;var styleFnWorkspaces=options.styleFnWorkspaces||extract("dynamicStyleFunctionWorkspaces",geodash.config,[geodash.dynamicStyleFn]);var style_static=extract(["static","properties"],symbolizer);var style_dynamic_fn_name=extract(["dynamic","func"],symbolizer);var style_dynamic_fn=undefined;if(geodash.util.isDefined(style_dynamic_fn_name)){for(var j=0;j<styleFnWorkspaces.length;j++){style_dynamic_fn=extract(style_dynamic_fn_name,styleFnWorkspaces[j]);if(angular.isFunction(style_dynamic_fn)){break}}}var style=geodash.style.translate.ol3({feature:options.feature,state:options.state,dashboard:options.dashboard,style_static:style_static,style_dynamic_fn:style_dynamic_fn,style_dynamic_options:extract(["dynamic","options"],symbolizer)});return style}},{}],166:[function(require,module,exports){"use strict";module.exports={default:require("./default"),line:require("./line"),point:require("./point"),polygon:require("./polygon")}},{"./default":165,"./line":167,"./point":168,"./polygon":169}],167:[function(require,module,exports){module.exports=function(options){return geodash.style.symbolizer.default(options)}},{}],168:[function(require,module,exports){arguments[4][167][0].apply(exports,arguments)},{dup:167}],169:[function(require,module,exports){arguments[4][167][0].apply(exports,arguments);
},{dup:167}],170:[function(require,module,exports){"use strict";module.exports={ol3:require("./ol3")}},{"./ol3":171}],171:[function(require,module,exports){module.exports=function(options){var style={};var f=extract("feature",options)||extract("f",options);var state=extract("state",options);var config=extract("dashboard",options)||extract("config",options);var style_static=angular.isArray(extract("style_static",options))?geodash.util.arrayToObject(extract("style_static",options)):extract("style_static",options);var style_dynamic_fn=extract("style_dynamic_fn",options);var style_dynamic_options=extract("style_dynamic_options",options);var styleStaticAndDynamic={};angular.extend(styleStaticAndDynamic,style_static);if(angular.isFunction(style_dynamic_fn)){var delta=style_dynamic_fn(f,state,config,style_dynamic_options);if(geodash.util.isDefined(delta)){angular.extend(styleStaticAndDynamic,delta)}}var geometryType=f.getGeometry().getType();var textContent=extract("textContent",styleStaticAndDynamic);var textCode=extract("textCode",styleStaticAndDynamic);if(geodash.util.isDefined(textContent)||geodash.util.isDefined(textCode)){if(!geodash.util.isDefined(textContent)){textContent=String.fromCharCode(parseInt(textCode,16))}var textOptions={textAlign:extract("textAlign",styleStaticAndDynamic,"center"),textBaseline:extract("textBaseline",styleStaticAndDynamic,"middle"),font:extract("textFont",styleStaticAndDynamic,"normal 10px Verdana"),text:textContent,fill:new ol.style.Fill({color:extract("textColor",styleStaticAndDynamic,"#000000")}),offsetX:0,offsetY:0,rotation:0};style["text"]=new ol.style.Text(textOptions)}if(geometryType=="Point"){var circleOptions={radius:extractFloat("radius",styleStaticAndDynamic,5)};if(geodash.util.isDefined(extract("strokeColor",styleStaticAndDynamic))){var strokeWidth=extractFloat("strokeWidth",styleStaticAndDynamic,1);if(strokeWidth>0){circleOptions["stroke"]=new ol.style.Stroke({color:geodash.normalize.color(extract("strokeColor",styleStaticAndDynamic)),width:strokeWidth})}}if(geodash.util.isDefined(extract("fillColor",styleStaticAndDynamic))){var fillColor=geodash.normalize.color(extract("fillColor",styleStaticAndDynamic));var fillOpacity=extractFloat("fillOpacity",styleStaticAndDynamic);if(geodash.util.isDefined(fillOpacity)){try{var fillColorAsArray=ol.color.asArray(fillColor).slice();fillColorAsArray[3]=fillOpacity;fillColor=fillColorAsArray}catch(err){}}circleOptions["fill"]=new ol.style.Fill({color:fillColor})}style["image"]=new ol.style.Circle(circleOptions)}if(geometryType=="Polygon"||geometryType=="MultiLineString"||geometryType=="MultiPolygon"){if(geodash.util.isDefined(extract("strokeColor",styleStaticAndDynamic))){var strokeWidth=extractFloat("strokeWidth",styleStaticAndDynamic,1);if(strokeWidth>0){style["stroke"]=new ol.style.Stroke({color:geodash.normalize.color(extract("strokeColor",styleStaticAndDynamic)),width:strokeWidth})}}}if(geometryType=="Polygon"||geometryType=="MultiPolygon"){if(geodash.util.isDefined(extract("fillColor",styleStaticAndDynamic))){var fillColor=geodash.normalize.color(extract("fillColor",styleStaticAndDynamic));var fillOpacity=extractFloat("fillOpacity",styleStaticAndDynamic);if(geodash.util.isDefined(fillOpacity)){try{var fillColorAsArray=ol.color.asArray(fillColor).slice();fillColorAsArray[3]=fillOpacity;fillColor=fillColorAsArray}catch(err){}}style["fill"]=new ol.style.Fill({color:fillColor})}}return style}},{}],172:[function(require,module,exports){"use strict";module.exports={D2R:Math.PI/180,R2D:180/Math.PI,point_to_bbox:require("./point_to_bbox"),point_to_radius:require("./point_to_radius"),tile_to_lat:require("./tile_to_lat"),tile_to_lon:require("./tile_to_lon"),tms_to_bbox:require("./tms_to_bbox")}},{"./point_to_bbox":173,"./point_to_radius":174,"./tile_to_lat":175,"./tile_to_lon":176,"./tms_to_bbox":177}],173:[function(require,module,exports){module.exports=function(x,y,z,digits){var radius=geodash.tilemath.point_to_radius(z);var e=x+radius;if(digits!=undefined&&digits>=0){e=e.toFixed(digits)}var w=x-radius;if(digits!=undefined&&digits>=0){w=w.toFixed(digits)}var s=y-radius;if(digits!=undefined&&digits>=0){s=s.toFixed(digits)}var n=y+radius;if(digits!=undefined&&digits>=0){n=n.toFixed(digits)}return[w,s,e,n]}},{}],174:[function(require,module,exports){module.exports=function(z){return(geodash.config.click_radius||4)/z}},{}],175:[function(require,module,exports){module.exports=function(y,z){n=Math.pi-2*Math.PI*y/Math.pow(2,z);return R2D*Math.atan(.5*(Math.exp(n)-Math.exp(-n)))}},{}],176:[function(require,module,exports){module.exports=function(x,z){return x/Math.pow(2,z)*360-180}},{}],177:[function(require,module,exports){module.exports=function(x,y,z){var e=geodash.tilemath.tile_to_lon(x+1,z);var w=geodash.tilemath.tile_to_lon(x,z);var s=geodash.tilemath.tile_to_lat(y+1,z);var n=geodash.tilemath.tile_to_lat(y,z);return[w,s,e,n]}},{}],178:[function(require,module,exports){module.exports=function(element,featurelayers,baselayers,servers,codecs){var datasets=[];var template_suggestion=extract(element.data("template-suggestion")||"GeoDashLayer",geodash.typeahead.templates.suggestion);var local=geodash.bloodhound.initLocal("featurelayers",featurelayers,baselayers,servers);var engine=geodash.bloodhound.engine({local:local});var templates={suggestion:template_suggestion};var dataset={name:"geodash",engine:engine,minLength:0,limit:10,hint:false,highlight:true,display:geodash.typeahead.displayFn,source:function(query,syncResults,asyncResults){this.engine.ttAdapter()(query,syncResults,asyncResults)},templates:templates};datasets.push(dataset);return datasets}},{}],179:[function(require,module,exports){module.exports=function(element,featurelayers,baselayers,servers,codecs){var datasets=[];var template_suggestion=extract(element.data("template-suggestion")||"GeoDashLayer",geodash.typeahead.templates.suggestion);var local=geodash.bloodhound.initLocal("featurelayerswithfilters",featurelayers,baselayers,servers);var engine=geodash.bloodhound.engine({local:local});var templates={suggestion:template_suggestion};var dataset={name:"geodash",engine:engine,minLength:0,limit:10,hint:false,highlight:true,display:geodash.typeahead.displayFn,source:function(query,syncResults,asyncResults){this.engine.ttAdapter()(query,syncResults,asyncResults)},templates:templates};datasets.push(dataset);return datasets}},{}],180:[function(require,module,exports){module.exports=function(element,featurelayers,baselayers,servers,codecs){var datasets=[];var template_suggestion=extract(element.data("template-suggestion")||"default",geodash.typeahead.templates.suggestion);var url=geodash.api.getEndpoint("geodash_capabilities_json");var local=undefined;var prefetchOptions={url:url,dataType:"json",codec:"GeoDashCapabilities",cache:false,codecs:codecs};var prefetch=geodash.bloodhound.prefetch(prefetchOptions);var remoteOptions={url:url,dataType:"json",codec:"GeoDashCapabilities",rate:1e3,codecs:codecs};var remote=geodash.bloodhound.remote(remoteOptions);var engine=geodash.bloodhound.engine({local:local,prefetch:prefetch,remote:remote});var templates={suggestion:template_suggestion};var dataset={name:"dashboards",engine:engine,minLength:0,limit:10,hint:false,highlight:true,display:geodash.typeahead.displayFn,source:function(query,syncResults,asyncResults){this.engine.ttAdapter()(query,syncResults,asyncResults)},templates:templates};datasets.push(dataset);return datasets}},{}],181:[function(require,module,exports){module.exports=function(element,featurelayers,baselayers,servers,codecs){var datasets=[];var template_suggestion=extract(element.data("template-suggestion")||"Image",geodash.typeahead.templates.suggestion);var local=geodash.bloodhound.initLocal("images",featurelayers,baselayers,servers);var engine=geodash.bloodhound.engine({local:local});var templates={suggestion:template_suggestion};var dataset={name:"images",engine:engine,minLength:0,limit:10,hint:false,highlight:true,display:geodash.typeahead.displayFn,source:function(query,syncResults,asyncResults){this.engine.ttAdapter()(query,syncResults,asyncResults)},templates:templates};datasets.push(dataset);return datasets}},{}],182:[function(require,module,exports){module.exports=function(element,featurelayers,baselayers,servers,codecs){var datasets=[];var template_suggestion=extract(element.data("template-suggestion")||"default",geodash.typeahead.templates.suggestion);var tegolaservers=geodash.api.listTegolaServers();for(var i=0;i<tegolaservers.length;i++){var server=wmsservers[i];var url=extract("wms.url",server)+"/capabilities";var local=undefined;var prefetchOptions={url:url,dataType:"json",codec:"TegolaCapabilities",cache:false,codecs:codecs};var prefetch=geodash.bloodhound.prefetch(prefetchOptions);var remoteOptions={url:url,dataType:"json",codec:"TegolaCapabilities",rate:1e3,codecs:codecs};var remote=geodash.bloodhound.remote(remoteOptions);var engine=geodash.bloodhound.engine({local:local,prefetch:prefetch,remote:remote});var templates={header:'<h3 style="margin: 0 20px 5px 20px; padding: 3px 0; border-bottom: 1px solid #ccc;">'+extract("title"||"id",server,"")+"</h3>",suggestion:template_suggestion};var dataset={name:extract("id",server,"server_"+i),engine:engine,minLength:0,limit:10,hint:false,highlight:true,display:geodash.typeahead.displayFn,source:function(query,syncResults,asyncResults){this.engine.ttAdapter()(query,syncResults,asyncResults)},templates:templates};datasets.push(dataset)}return datasets}},{}],183:[function(require,module,exports){module.exports=function(element,featurelayers,baselayers,servers,codecs){var datasets=[];var template_suggestion=extract(element.data("template-suggestion")||"default",geodash.typeahead.templates.suggestion);var wmsservers=geodash.api.listWMSServers();for(var i=0;i<wmsservers.length;i++){var server=wmsservers[i];var url=extract("wms.url",server)+"?service=wms&request=GetCapabilities";var local=undefined;var prefetchOptions={url:url,dataType:"xml",codec:"WMSCapabilities",cache:false,codecs:codecs};var prefetch=geodash.bloodhound.prefetch(prefetchOptions);var remoteOptions={url:url,dataType:"xml",codec:"WMSCapabilities",rate:1e3,codecs:codecs};var remote=geodash.bloodhound.remote(remoteOptions);var engine=geodash.bloodhound.engine({local:local,prefetch:prefetch,remote:remote});var templates={header:'<h3 style="margin: 0 20px 5px 20px; padding: 3px 0; border-bottom: 1px solid #ccc;">'+extract("title"||"id",server,"")+"</h3>",suggestion:template_suggestion};var dataset={name:extract("id",server,"server_"+i),engine:engine,minLength:0,limit:10,hint:false,highlight:true,display:geodash.typeahead.displayFn,source:function(query,syncResults,asyncResults){this.engine.ttAdapter()(query,syncResults,asyncResults)},templates:templates};datasets.push(dataset)}return datasets}},{}],184:[function(require,module,exports){module.exports=function(element,featurelayers,baselayers,servers,codecOptions){var datasets=[];var local=geodash.bloodhound.initLocal(element.data("localData"),featurelayers,baselayers,servers);var prefetchOptions=element.data("prefetchData");var prefetch=geodash.bloodhound.prefetch(prefetchOptions,featurelayers,baselayers,servers,codecOptions);var remoteOptions=element.data("remoteData");var remote=geodash.bloodhound.remote(remoteOptions,featurelayers,baselayers,servers,codecOptions);if(geodash.util.isDefined(local)&&local.length>0||geodash.util.isDefined(prefetch)||geodash.util.isDefined(remote)){var engine=geodash.bloodhound.engine({local:local,prefetch:prefetch,remote:remote});var templates={empty:element.attr("data-template-empty"),suggestion:extract(element.data("template-suggestion")||"default",geodash.typeahead.templates.suggestion),footer:geodash.typeahead.footer};var dataset={name:element.attr("name"),engine:engine,minLength:0,limit:10,hint:false,highlight:true,display:geodash.typeahead.displayFn,source:function(query,syncResults,asyncResults){this.engine.ttAdapter()(query,syncResults,asyncResults)},templates:templates};datasets.push(dataset)}return datasets}},{}],185:[function(require,module,exports){"use strict";module.exports={default:require("./default"),FeatureLayers:require("./FeatureLayers"),FeatureLayersWithFilters:require("./FeatureLayersWithFilters"),GeoDashDashboards:require("./GeoDashDashboards"),Images:require("./Images"),TegolaServers:require("./TegolaServers"),WMSServers:require("./WMSServers")}},{"./FeatureLayers":178,"./FeatureLayersWithFilters":179,"./GeoDashDashboards":180,"./Images":181,"./TegolaServers":182,"./WMSServers":183,"./default":184}],186:[function(require,module,exports){module.exports=function(data){return angular.isString(data)?data:data.text||data.id}},{}],187:[function(require,module,exports){module.exports=function(data){if(!geodash.util.isDefined(data.query)){return""}else if(data.query.length==0){return""}else{return"<div>Searched for <strong>"+data.query+"</strong></div>"}}},{}],188:[function(require,module,exports){module.exports=function(datasets,value){var results=[];for(var i=0;i<datasets.length;i++){var x=datasets[i].engine.get(value);if(Array.isArray(x)){results=results.concat(x)}}return results}},{}],189:[function(require,module,exports){"use strict";module.exports={datasets:require("./datasets"),displayFn:require("./displayFn"),footer:require("./footer"),templates:require("./templates"),listeners:require("./listeners"),getResultsFromDatasets:require("./getResultsFromDatasets")}},{"./datasets":185,"./displayFn":186,"./footer":187,"./getResultsFromDatasets":188,"./listeners":192,"./templates":196}],190:[function(require,module,exports){module.exports=function(event){console.log("Blur Event: ",event);if(geodash.util.isDefined($(this).data("datasets"))){var valueFromInput=$(this).val();var datasets=$(this).data("datasets");var results=geodash.typeahead.getResultsFromDatasets(datasets,valueFromInput);var resultIndex=$(this).attr("data-search-output")||"id";var newValue=results.length==1?extract(resultIndex,results[0]):null;geodash.ui.saveToInput(this,newValue);geodash.ui.saveToScope(this,newValue);geodash.ui.changeTab(this,newValue)}}},{}],191:[function(require,module,exports){module.exports=function(event,value){console.log("Change Event: ",event,value);if(geodash.util.isDefined($(this).data("datasets"))){var datasets=$(this).data("datasets");var results=geodash.typeahead.getResultsFromDatasets(datasets,value);var resultIndex=$(this).attr("data-search-output")||"id";var newValue=results.length==1?extract(resultIndex,results[0]):null;geodash.ui.saveToInput(this,newValue);geodash.ui.saveToScope(this,newValue);geodash.ui.changeTab(this,newValue)}}},{}],192:[function(require,module,exports){"use strict";module.exports={blur:require("./blur"),change:require("./change"),keydown:require("./keydown"),keyup:require("./keyup"),select:require("./select")}},{"./blur":190,"./change":191,"./keydown":193,"./keyup":194,"./select":195}],193:[function(require,module,exports){module.exports=function(event,value){console.log("Keydown Event: ",event,value);if(event.which==27){if($(this).hasClass("typeahead")){event.preventDefault();$(this).typeahead("close");return false}}}},{}],194:[function(require,module,exports){module.exports=function(event,value){console.log("Keyup Event: ",event,value);if(event.which==40){geodash.ui.showOptions(this)}return true}},{}],195:[function(require,module,exports){module.exports=function(event,obj){console.log("Select Event: ",event,obj);var resultIndex=$(this).attr("data-search-output")||"id";var newValue=extract(resultIndex,obj,null);geodash.ui.saveToInput(this,newValue);geodash.ui.saveToScope(this,newValue);geodash.ui.changeTab(this,newValue)}},{}],196:[function(require,module,exports){"use strict";module.exports={suggestion:require("./suggestion")}},{"./suggestion":201}],197:[function(require,module,exports){module.exports=function(data){if(extract("obj.type",data)=="geojson"){return"<p><strong>"+(extract("obj.title",data)||extract("obj.id",data))+"</strong> ("+extract("obj.id",data)+')<br><span style="color:#00C;">'+(extract("obj.type",data)||extract("obj.source.type",data))+'</span> | <span style="color:#00C;">'+geodash.codec.parseURL(extract("obj.geojson.url",data),"geojson").domain+"</p>"}else if(extract("obj.type",data)=="wms"){return"<p><strong>"+(extract("obj.title",data)||extract("obj.id",data))+"</strong> ("+extract("obj.id",data)+')<br><span style="color:#00C;"> wms </span> | <span style="color:#00C;">'+geodash.codec.parseURL(extract("obj.wms.url",data),"wms").domain+"</p>"}else if(extract("obj.source.type",data)=="tiles"){return"<p><strong>"+(extract("obj.title",data)||extract("obj.id",data))+"</strong> ("+extract("obj.id",data)+')<br><span style="color:#00C;"> tiles </span> | <span style="color:#00C;">'+geodash.codec.parseURL(extract("obj.source.tile.url",data),"tiles").domain+"</p>"}else{return"<p><strong>"+(extract("obj.title",data)||extract("obj.id",data))+"</strong> ("+extract("obj.id",data)+')<br><span style="color:#00C;">'+(extract("obj.type",data)||extract("obj.source.type",data))+"</span></p>"}}},{}],198:[function(require,module,exports){module.exports=function(data){var color=["#000","transparent"];var opacity=[".25",".75"];var tileSize=10;var backgroundImage=["-webkit-gradient(linear, 0 100%, 100% 0, color-stop("+opacity[0]+", "+color[0]+"), color-stop("+opacity[0]+", "+color[1]+"))","-webkit-gradient(linear, 0 0, 100% 100%, color-stop("+opacity[0]+", "+color[0]+"), color-stop("+opacity[0]+", "+color[1]+"))","-webkit-gradient(linear, 0 100%, 100% 0, color-stop("+opacity[1]+", "+color[1]+"), color-stop("+opacity[1]+","+color[0]+"))","-webkit-gradient(linear, 0 0, 100% 100%, color-stop("+opacity[1]+", "+color[1]+"), color-stop("+opacity[1]+", "+color[0]+"))"].join(", ")+";";var styleMap={"margin-right":"4px",width:"60px","max-height":"60px",border:"2px solid #AAA","box-sizing":"border-box","background-size":tileSize+"px "+tileSize+"px","-webkit-background-size":tileSize+"px "+(tileSize+1)+"px","background-position":"0 0, "+tileSize/2+"px 0, "+tileSize/2+"px -"+tileSize/2+"px, 0px "+tileSize/2+"px","background-image":backgroundImage,"background-color":"#555",padding:"4px"};if(data.obj.title==data.obj.id){return'<div><img src="'+data.obj.url+'" style="'+geodash.codec.formatCSS(styleMap)+'"><div style="display:inline-block;">'+data.obj.title+"</div></div>"}else{return'<div><img src="'+data.obj.url+'" style="'+geodash.codec.formatCSS(styleMap)+'"><div style="display:inline-block;"><b>'+data.obj.title+"</b><br>("+data.obj.id+")</div></div>"}}},{}],199:[function(require,module,exports){module.exports=function(data){return'<p><img src="'+data.extra.thumbnail+'" width="40" height="40" style="margin-right: 4px;"><strong>'+data.text+"</strong></p>"}},{}],200:[function(require,module,exports){module.exports=function(data){if(data.text==data.id){if(data.text!=undefined){return"<p><strong>"+data.text+"</strong></p>"}else{return""}}else{return"<p><strong>"+data.text+"</strong> ("+data.id+")</p>"}}},{}],201:[function(require,module,exports){"use strict";module.exports={default:require("./default"),GeoDashLayer:require("./GeoDashLayer"),Image:require("./Image"),WMSLayer:require("./WMSLayer")}},{"./GeoDashLayer":197,"./Image":198,"./WMSLayer":199,"./default":200}],202:[function(require,module,exports){module.exports=function(element,newValue){if(geodash.util.isDefined(element)){var tab_id_template=$(element).attr("data-target-tab-id");if(angular.isString(tab_id_template)){var tab_id=tab_id_template.replace("###value###",newValue);if(angular.isString(tab_id)){var tab_element=$("#"+tab_id);var tab_content=tab_element.parents(".tab-content:first");$(".tab-pane",tab_content).removeClass("in active");tab_element.addClass("in active")}}}}},{}],203:[function(require,module,exports){module.exports=function(element){if(geodash.util.isDefined(element)){var scope_id=$(element).attr("data-target-scope-id");if(angular.isString(scope_id)){var $scope=geodash.util.getScope(scope_id);if(geodash.util.isDefined($scope)){if(angular.isString($(element).attr("data-target-scope-path"))){var targetScopePath=$(element).attr("data-target-scope-path");try{targetScopePath=JSON.parse(targetScopePath)}catch(err){}var targetScopeChange=$(element).attr("data-target-scope-change");try{targetScopeChange=JSON.parse(targetScopePath)}catch(err){}var path=undefined;var path_array=undefined;var path_flat=undefined;if(Array.isArray(targetScopePath)){path_array=targetScopePath;path=path_array.join(".");path_flat=path_array.join("__")}else{path=targetScopePath;path_array=path.split(".");path_flat=path_array.join("__")}$scope.$apply(function(){$scope.clearValue(path_array,$scope);$.each($scope,function(key,value){if(key.startsWith(path_flat+"__")){delete $scope[key]}})});if(Array.isArray(targetScopeChange)){var changeFn=extract(targetScopeChange[0],$scope);if(angular.isFunction(changeFn)){changeFn.apply(this,targetScopeChange.slice(1))}}}else{$scope.$apply(function(){$scope.clearValue($scope.path_array,$scope.workspace);$.each($scope.workspace_flat,function(key,value){if(key.startsWith($scope.path_flat+"__")){delete $scope.workspace_flat[key];delete $scope.stack.head.workspace_flat[key]}})});if(Array.isArray(targetScopeChange)){var changeFn=extract(targetScopeChange[0],$scope);if(angular.isFunction(changeFn)){changeFn.apply(this,targetScopeChange.slice(1))}}}}}}}},{}],204:[function(require,module,exports){module.exports=function(){var styleMap={display:"inline-block",width:"100%",overflow:"hidden","text-overflow":"ellipsis"};return styleMap}},{}],205:[function(require,module,exports){"use strict";module.exports={ellipsis:require("./ellipsis"),tiledBackground:require("./tiledBackground")}},{"./ellipsis":204,"./tiledBackground":206}],206:[function(require,module,exports){module.exports=function(tileSize,backgroundColor){tileSize=tileSize||10;backgroundColor=backgroundColor||"#555";var color=["#222","transparent"];var opacity=[".25",".75"];var backgroundImage=["-webkit-gradient(linear, 0 100%, 100% 0, color-stop("+opacity[0]+", "+color[0]+"), color-stop("+opacity[0]+", "+color[1]+"))","-webkit-gradient(linear, 0 0, 100% 100%, color-stop("+opacity[0]+", "+color[0]+"), color-stop("+opacity[0]+", "+color[1]+"))","-webkit-gradient(linear, 0 100%, 100% 0, color-stop("+opacity[1]+", "+color[1]+"), color-stop("+opacity[1]+","+color[0]+"))","-webkit-gradient(linear, 0 0, 100% 100%, color-stop("+opacity[1]+", "+color[1]+"), color-stop("+opacity[1]+", "+color[0]+"))"].join(", ")+";";var styleMap={"background-size":tileSize+"px "+tileSize+"px","-webkit-background-size":tileSize+"px "+(tileSize+1)+"px","background-position":"0 0, "+tileSize/2+"px 0, "+tileSize/2+"px -"+tileSize/2+"px, 0px "+tileSize/2+"px","background-image":backgroundImage,"background-color":backgroundColor};return styleMap}},{}],207:[function(require,module,exports){"use strict";module.exports={css:require("./css"),changeTab:require("./changeTab"),clearFromScope:require("./clearFromScope"),toggleOptions:require("./toggleOptions"),showOptions:require("./showOptions"),init_slider_label:require("./init_slider_label"),init_slider_slider:require("./init_slider_slider"),update_slider_label:require("./update_slider_label"),update_tab:require("./update_tab"),update:require("./update"),saveToInput:require("./saveToInput"),saveToScope:require("./saveToScope")}},{"./changeTab":202,"./clearFromScope":203,"./css":205,"./init_slider_label":208,"./init_slider_slider":209,"./saveToInput":210,"./saveToScope":211,"./showOptions":212,"./toggleOptions":213,"./update":214,"./update_slider_label":215,"./update_tab":216}],208:[function(require,module,exports){module.exports=function($interpolate,that,type,range,value){if(type=="ordinal"){var ctx={value:value};that.data("label").html($interpolate(that.data("label-template"))(ctx))}else if(type=="continuous"){if($.type(range)=="boolean"&&range||range.toLowerCase()=="true"){var ctx={values:[value[0],value[1]]};that.data("label").html($interpolate(that.data("label-template"))(ctx))}else if(range=="min"||range=="max"){var ctx={value:value};that.data("label").html($interpolate(that.data("label-template"))(ctx))}}}},{}],209:[function(require,module,exports){module.exports=function($interpolate,$scope,that,type,range,value,minValue,maxValue,step){if(type=="ordinal"){that.slider({range:$.type(range)=="boolean"&&range||range.toLowerCase()=="true"?true:range,value:value,min:0,max:maxValue,step:1,slide:function(event,ui){geodash.ui.update_slider_label.apply(this,[$interpolate,event,ui]);var layer=that.data("layer");var output=that.data("output");var newValue=that.data("options")[ui.value];var filter={};filter[output]=newValue;geodash.api.intend("filterChanged",{layer:layer,filter:filter},$scope)}})}else if(type=="continuous"){if($.type(range)=="boolean"&&range||range.toLowerCase()=="true"){that.slider({range:true,values:value,min:minValue,max:maxValue,step:step,slide:function(event,ui){geodash.ui.update_slider_label.apply(this,[$interpolate,event,ui]);var layer=that.data("layer");var output=that.data("output");var newValue=ui.values;var filter={};filter[output]=newValue;geodash.api.intend("filterChanged",{layer:layer,filter:filter},$scope)}})}else if(range=="min"||range=="max"){that.slider({range:range,value:value,min:minValue,max:maxValue,step:step,slide:function(event,ui){geodash.ui.update_slider_label.apply(this,[$interpolate,event,ui]);var layer=that.data("layer");var output=that.data("output");var newValue=ui.value/100;var filter={};filter[output]=newValue;geodash.api.intend("filterChanged",{layer:layer,filter:filter},$scope)}})}}}},{}],210:[function(require,module,exports){module.exports=function(element,newValue){if(geodash.util.isDefined(element)){var input_id=$(element).attr("data-target-input-id");if(angular.isString(input_id)){var input_element=$("#"+input_id);if(input_element.length>0){if(geodash.util.isDefined(newValue)&&newValue!=null){if(angular.isString(newValue)){input_element.val(newValue).trigger("input").change();if(input_element.hasClass("typeahead")){input_element.trigger("typeahead:change")}}else{input_element.val(JSON.stringify(newValue)).trigger("input").change();if(input_element.hasClass("typeahead")){input_element.trigger("typeahead:change")}}}else{input_element.val(null).trigger("input").change();if(input_element.hasClass("typeahead")){input_element.trigger("typeahead:change")}}}}}}},{}],211:[function(require,module,exports){module.exports=function(element,newValue){if(geodash.util.isDefined(element)){var scope_id=$(element).attr("data-target-scope-id");if(angular.isString(scope_id)){var $scope=geodash.util.getScope(scope_id);if(geodash.util.isDefined($scope)){if(angular.isString($(element).attr("data-target-scope-path"))){var targetScopePath=$(element).attr("data-target-scope-path");try{targetScopePath=JSON.parse(targetScopePath)}catch(err){}var targetScopeChange=$(element).attr("data-target-scope-change");try{targetScopeChange=JSON.parse(targetScopePath)}catch(err){}var path=undefined;var path_array=undefined;var path_flat=undefined;if(Array.isArray(targetScopePath)){path_array=targetScopePath;path=path_array.join(".");path_flat=path_array.join("__")}else{path=targetScopePath;path_array=path.split(".");path_flat=path_array.join("__")}$scope.$apply(function(){$scope.setValue(path_array,newValue,$scope);$.each($scope,function(key,value){if(key.startsWith(path_flat+"__")){$scope[key]=undefined}});if(geodash.util.isDefined(newValue)&&newValue!=null){if(!angular.isString(newValue)){$.each(geodash.util.flatten(newValue),function(i,x){$scope[path_flat+"__"+i]=x})}}});if(Array.isArray(targetScopeChange)){var changeFn=extract(targetScopeChange[0],$scope);if(angular.isFunction(changeFn)){changeFn.apply(this,targetScopeChange.slice(1))}}}else{$scope.$apply(function(){$scope.setValue($scope.path_array,newValue,$scope.workspace);$.each($scope.workspace_flat,function(key,value){if(key.startsWith($scope.path_flat+"__")){$scope.workspace_flat[key]=$scope.stack.head.workspace_flat[key]=undefined}});if(geodash.util.isDefined(newValue)&&newValue!=null){$.each(geodash.util.flatten(newValue),function(i,x){$scope.workspace_flat[$scope.path_flat+"__"+i]=$scope.stack.head.workspace_flat[$scope.path_flat+"__"+i]=x})}});if(Array.isArray(targetScopeChange)){var changeFn=extract(targetScopeChange[0],$scope);if(angular.isFunction(changeFn)){changeFn.apply(this,targetScopeChange.slice(1))}}}}}}}},{}],212:[function(require,module,exports){module.exports=function(selector){try{var input=$(selector);if(geodash.util.isDefined(extract("ttTypeahead",input.data()))){if(!input.data("ttTypeahead").isOpen()){input.typeahead("open")}var query=input.val();var menu=input.data("ttTypeahead").menu;if(menu.getActiveSelectable()==null||menu.getActiveSelectable().length==0){menu.update.apply(menu,[query])}}}catch(err){}}},{}],213:[function(require,module,exports){module.exports=function($event,selector){return geodash.ui.showOptions($event,selector)}},{}],214:[function(require,module,exports){module.exports=function(element,tab){var id=angular.isString(element)?element:$(element).attr("id");element=angular.isString(element)?$("#"+id):element;var $scope=geodash.util.getScope(id);$('[data-toggle="tooltip"]',element).tooltip();geodash.init.typeahead(element,extract("workspace.config.featurelayers",$scope),extract("workspace.config.baselayers",$scope),extract("workspace.config.servers",$scope));var tab_element=$('a[href="#'+tab+'"]');tab_element.parents("nav-tabs:first").find("li").removeClass("active");tab_element.parents("li:first").addClass("active");var pane_element=$("#"+tab);var tab_content=pane_element.parents(".tab-content:first");$(".tab-pane",tab_content).removeClass("in active");pane_element.addClass("in active")}},{}],215:[function(require,module,exports){module.exports=function($interpolate,event,ui){var that=$(this);var type=that.data("type");var range=that.data("range");if(type=="ordinal"){var ctx={value:that.data("options")[ui.value]};that.data("label").html($interpolate(that.data("label-template"))(ctx))}else if(type=="continuous"){if($.type(range)=="boolean"&&range||range.toLowerCase()=="true"){var ctx={values:[ui.values[0],ui.values[1]]};that.data("label").html($interpolate(that.data("label-template"))(ctx))}else if(range=="min"||range=="max"){var ctx={value:ui.value/100};that.data("label").html($interpolate(that.data("label-template"))(ctx))}}}},{}],216:[function(require,module,exports){module.exports=function(e){var targetSelector=$(this).attr("href");if(geodash.util.isDefined(targetSelector)){var targetElement=$(targetSelector);if(targetElement.length>0){$('[data-toggle="tooltip"]',targetElement).tooltip();$(".c3",targetElement).each(function(){$(this).data("chart").resize()})}}}},{}],217:[function(require,module,exports){module.exports=function(x,options){var y={};if(angular.isArray(x)){var $interpolate=extract("$interpolate",options)||extract("interpolate",options);var ctx=extract("context",options)||extract("ctx",options)||{};if(geodash.util.isDefined($interpolate)){for(var i=0;i<x.length;i++){if("value"in x[i]){var v=x[i].value;if(angular.isString(v)){y[x[i].id||x[i].name]=$interpolate(v)(ctx)}else{y[x[i].id||x[i].name]=v}}else{var v=x[i];y[x[i].id||x[i].name]=v}}}else{for(var i=0;i<x.length;i++){if("value"in x[i]){y[x[i].id||x[i].name]=x[i].value}else{y[x[i].id||x[i].name]=x[i]}}}}return y}},{}],218:[function(require,module,exports){module.exports=function(keyChain,target){if(angular.isString(keyChain)){keyChain=keyChain.split("__")}if(keyChain.length==1){delete target[keyChain[0]]}else{for(var j=0;j<keyChain.length-1;j++){var newKey=keyChain[j];if(!(newKey in target)){var iTest=-1;try{iTest=parseInt(keyChain[j+1],10)}catch(err){iTest=-1}target[newKey]=iTest>=0?[]:{}}target=target[newKey]}var finalKey=keyChain[keyChain.length-1];delete target[finalKey]}}},{}],219:[function(require,module,exports){module.exports=function(x){if(Array.isArray(x)){return $.extend(true,[],x)}else if(angular.isString(x)||angular.isNumber(x)){return x}else if(geodash.util.isDefined(x)){
return $.extend(true,{},x)}}},{}],220:[function(require,module,exports){module.exports=function(id,arr){var result=undefined;var matches=$.grep(arr,function(x,i){return x.id==id});if(matches.length==1){result=matches[0]}return result}},{}],221:[function(require,module,exports){module.exports=function(keys,type){var value=undefined;if(typeof keys==="string"){keys=[keys.toLowerCase()]}else{keys=$.map(keys,function(value,i){return value.toLowerCase()})}var hash_lc=location.hash.toLowerCase();for(var i=0;i<keys.length;i++){var key=keys[i];var keyAndHash=hash_lc.match(new RegExp(key+"=([^&]*)"));if(keyAndHash){value=keyAndHash[1];if(value!=undefined&&value!=null&&value!=""){break}}}if(type!=undefined){if(type=="integer"){value=value!=undefined&&value!=null&&value!=""?parseInt(value,10):undefined}else if(type=="stringarray"){if(value!=undefined){var newValue=value.split(",");value=newValue}}else if(type=="integerarray"){if(value!=undefined){var sValue=value.split(",");var newValue=[];for(var i=0;i<sValue.length;i++){var v=sValue[i];newValue.push(v!=undefined&&v!=null&&v!=""?parseInt(v,10):undefined)}value=newValue}}else if(type=="float"){value=value!=undefined&&value!=null&&value!=""?parseFloat(value):undefined}else if(type=="floatarray"){if(value!=undefined){var sValue=value.split(",");var newValue=[];for(var i=0;i<sValue.length;i++){var v=sValue[i];newValue.push(v!=undefined&&v!=null&&v!=""?parseFloat(v):undefined)}value=newValue}}}return value}},{}],222:[function(require,module,exports){module.exports=function(name,url){if(!url)url=window.location.href;name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);if(!results)return null;if(!results[2])return"";return decodeURIComponent(results[2].replace(/\+/g," "))}},{}],223:[function(require,module,exports){module.exports=function(id){return angular.element("#"+id).isolateScope()||angular.element("#"+id).scope()}},{}],224:[function(require,module,exports){module.exports=function(keys){var value=geodash.util.getHashValue(keys);return value!=undefined&&value!=null&&value!=""}},{}],225:[function(require,module,exports){"use strict";module.exports={arrayToObject:require("./arrayToObject"),clearValue:require("./clearValue"),deepCopy:require("./deepCopy"),diff:require("geodash-diff"),flatten:require("geodash-flatten"),getByID:require("./getByID"),getHashValue:require("./getHashValue"),getParameterByName:require("./getParameterByName"),getScope:require("./getScope"),hasHashValue:require("./hasHashValue"),isDefined:require("./isDefined"),objectToArray:require("./objectToArray"),parseTrue:require("./parseTrue"),repeat:require("./repeat"),setValue:require("./setValue"),unpack:require("./unpack"),updateValue:require("./updateValue")}},{"./arrayToObject":217,"./clearValue":218,"./deepCopy":219,"./getByID":220,"./getHashValue":221,"./getParameterByName":222,"./getScope":223,"./hasHashValue":224,"./isDefined":226,"./objectToArray":227,"./parseTrue":228,"./repeat":229,"./setValue":230,"./unpack":231,"./updateValue":232,"geodash-diff":1,"geodash-flatten":4}],226:[function(require,module,exports){module.exports=function(value){return typeof value!=="undefined"}},{}],227:[function(require,module,exports){module.exports=function(x){var y=[];if(geodash.util.isDefined(x)){var keys=Object.keys(x);for(var i=0;i<keys.length;i++){y.push({name:keys[i],value:x[keys[i]]})}}return y}},{}],228:[function(require,module,exports){module.exports=function(value){return["on","true","t","1",1,true].indexOf(value)!=-1}},{}],229:[function(require,module,exports){module.exports=function(input,count){var output="";for(var i=0;i<count;i++){output+=input}return output}},{}],230:[function(require,module,exports){module.exports=function(keyChain,value,target){if(angular.isString(keyChain)){keyChain=keyChain.split("__")}if(keyChain.length==1){target[keyChain[0]]=value}else{for(var j=0;j<keyChain.length-1;j++){var newKey=keyChain[j];if(!(newKey in target)){var iTest=-1;try{iTest=parseInt(keyChain[j+1],10)}catch(err){iTest=-1}target[newKey]=iTest>=0?[]:{}}target=target[newKey]}var finalKey=keyChain[keyChain.length-1];if(angular.isArray(target)){if(finalKey>=target.length){var zeros=finalKey-target.length;for(var k=0;k<zeros;k++){target.push({})}target.push(value)}else{target[finalKey]=value}}else{target[finalKey]=value}}}},{}],231:[function(require,module,exports){module.exports=function(obj){var newObject={};$.each(obj,function(key,value){if(key.indexOf("__")==-1){newObject[key]=value}else{var keyChain=key.split("__");var target=obj;for(var j=0;j<keyChain.length;j++){var newKey=keyChain[j];if(!(newKey in target)){target[newKey]={}}target=target[newKey]}target[keyChain[keyChain.length-1]]=value}});return newObject}},{}],232:[function(require,module,exports){module.exports=function(field_flat,source,target){if(field_flat.indexOf("__")==-1){target[field_flat]=source[field_flat]}else{var keyChain=field_flat.split("__");for(var j=0;j<keyChain.length-1;j++){var newKey=keyChain[j];if(!(newKey in target)){var iTest=-1;try{iTest=parseInt(keyChain[j+1],10)}catch(err){iTest=-1}target[newKey]=iTest>=0?[]:{}}target=target[newKey]}var finalKey=keyChain[keyChain.length-1];if(angular.isArray(target)){if(finalKey>=target.length){var zeros=finalKey-target.length;for(var k=0;k<zeros;k++){target.push({})}target.push(source[field_flat])}else{target[finalKey]=source[field_flat]}}else{target[finalKey]=source[field_flat]}}}},{}],233:[function(require,module,exports){module.exports=function(a,b){if(b.toString!=undefined&&b.toString().startsWith("LatLng")){return b}else if(b.getType!=undefined&&b.getType()=="Point"){return b}else{if(typeof L!="undefined"){var p=L.Projection.SphericalMercator;var minDistance=undefined;var closestPoint=undefined;$.each(b._layers,function(id,layer){var rings=[];if(layer.feature.geometry.type=="MultiPolygon"){for(var i=0;i<layer._latlngs.length;i++){for(var j=0;j<layer._latlngs[i].length;j++){rings.push(layer._latlngs[i][j])}}}else{rings.push(layer._latlngs)}for(var r=0;r<rings.length;r++){var verticies=rings[r];var i=0;if(minDistance==undefined){minDistance=L.LineUtil.pointToSegmentDistance(p.project(a),p.project(verticies[i]),p.project(verticies[i+1]));closestPoint=L.LineUtil.closestPointOnSegment(p.project(a),p.project(verticies[i]),p.project(verticies[i+1]));i++}for(;i<verticies.length-1;i++){var d=L.LineUtil.pointToSegmentDistance(p.project(a),p.project(verticies[i]),p.project(verticies[i+1]));if(d<minDistance){minDistance=d;closestPoint=L.LineUtil.closestPointOnSegment(p.project(a),p.project(verticies[i]),p.project(verticies[i+1]))}}}});return p.unproject(closestPoint)}else{return undefined}}}},{}],234:[function(require,module,exports){module.exports=function(a,b){var minDistance=undefined;if(b.toString!=undefined&&b.toString().startsWith("LatLng")){var p=L.Projection.SphericalMercator;minDistance=p.project(a).distanceTo(p.project(b))}else if(b.getType!=undefined&&b.getType()=="Point"){minDistance=ol.sphere.WGS84.haversineDistance([a.lon,a.lat],b.flatCoordinates)}else{if(typeof L!="undefined"){$.each(b._layers,function(id,layer){var rings=[];if(layer.feature.geometry.type=="MultiPolygon"){for(var i=0;i<layer._latlngs.length;i++){for(var j=0;j<layer._latlngs[i].length;j++){rings.push(layer._latlngs[i][j])}}}else{rings.push(layer._latlngs)}for(var r=0;r<rings.length;r++){var verticies=rings[r];var i=0;if(minDistance==undefined){minDistance=L.LineUtil.pointToSegmentDistance(p.project(a),p.project(verticies[i]),p.project(verticies[i+1]));i++}for(;i<verticies.length-1;i++){var d=L.LineUtil.pointToSegmentDistance(p.project(a),p.project(verticies[i]),p.project(verticies[i+1]));if(d<minDistance){minDistance=d}}}})}else if(typeof ol!="undefined"){minDistance=undefined}}return minDistance}},{}],235:[function(require,module,exports){module.exports=function(nearbyFeatures,target){var closestFeature=undefined;var closestDistance=0;var closestLocation=undefined;if(nearbyFeatures!=undefined){if(nearbyFeatures.length>0){closestFeature=nearbyFeatures[0];closestDistance=geodash.vecmath.distance(target,nearbyFeatures[0].geometry);closestLocation=geodash.vecmath.closestLocation(target,nearbyFeatures[0].geometry);for(var i=1;i<nearbyFeatures.length;i++){var f=nearbyFeatures[i];if(geodash.vecmath.distance(target,f.geometry)<closestDistance){closestFeature=f;closestDistance=geodash.vecmath.distance(target,f.geometry);closestLocation=geodash.vecmath.closestLocation(target,f.geometry)}}}}return{feature:closestFeature,location:closestLocation}}},{}],236:[function(require,module,exports){"use strict";module.exports={closestLocation:require("./closestLocation"),distance:require("./distance"),getClosestFeatureAndLocation:require("./getClosestFeatureAndLocation")}},{"./closestLocation":233,"./distance":234,"./getClosestFeatureAndLocation":235}],237:[function(require,module,exports){"use strict";var buildPageURL=function($interpolate,dashboard,state){var template=geodash.api.getPage(extract("page",state));if(angular.isDefined(template)){var url=$interpolate(template)(state);var hash_args=[];var view=state["view"];if(view!=undefined&&view["z"]!=undefined&&view["lat"]!=undefined&&view["lon"]!=undefined){hash_args.push("z="+view["z"]);hash_args.push("lat="+view["lat"].toFixed(4));hash_args.push("lon="+view["lon"].toFixed(4))}var filters=state["filters"];if(filters){$.each(state["filters"],function(layer_id,layer_filters){$.each(layer_filters,function(filter_id,filter_value){hash_args.push(layer_id+":"+filter_id+"="+filter_value)})})}if(hash_args.length>0){url+="#"+hash_args.join("&")}return url}else{return undefined}};var expand=require("geodash-expand");var extract=require("geodash-extract");var extractFloat=function(keyChain,node,fallback){return geodash.normalize.float(extract(keyChain,node,fallback))};var extractArrayLength=function(keyChain,node,fallback){var value=extract(keyChain,node,undefined);return Array.isArray(value)?value.length:fallback};var getHashValueAsStringArray=function(keys){return geodash.util.getHashValue(keys,"stringarray")};var getHashValueAsInteger=function(keys){return geodash.util.getHashValue(keys,"integer")};var getHashValueAsIntegerArray=function(keys){return geodash.util.getHashValue(keys,"integerarray")};var getHashValueAsFloat=function(keys){return geodash.util.getHashValue(keys,"float")};var sortLayers=function(layers,reverse){var renderLayers=$.isArray(layers)?layers:$.map(layers,function(layer){return layer});renderLayers=renderLayers.sort(function(a,b){return a.get("zIndex")-b.get("zIndex")});if(reverse===true)renderLayers.reverse();return renderLayers};var updateRenderOrder=function(layers){if(geodash.mapping_library=="ol3"){}else if(geodash.mapping_library=="leaflet"){for(var i=0;i<layers.length;i++){layers[i].bringToFront()}}};var layersAsArray=function(layers){return $.map(layers,function(layer,id){return{id:id,layer:layer}})};window.buildPageURL=buildPageURL;window.expand=expand;window.extract=extract;window.extractFloat=extractFloat;window.extractArrayLength=extractArrayLength;window.getHashValueAsStringArray=getHashValueAsStringArray;window.getHashValueAsInteger=getHashValueAsInteger;window.getHashValueAsIntegerArray=getHashValueAsIntegerArray;window.getHashValueAsFloat=getHashValueAsFloat;window.sortLayers=sortLayers;window.updateRenderOrder=updateRenderOrder;window.layersAsArray=layersAsArray;window.geodash=require("./geodash")},{"./geodash":95,"geodash-expand":2,"geodash-extract":3}]},{},[237]);

geodash.config={click_radius:2,search:{datasets:[geodash.typeahead.datasets],codecs:[geodash.bloodhound.codec]},dynamicStyleFunctionWorkspaces:[geodash.dynamicStyleFn],transport:{littleEndian:!1},popup:{height:"309px",context:{e:extract,extract:extract,extractFloat:extractFloat},listeners:{show:[]}},whitelist:{config:["gist.githubusercontent.com"]}},geodash.meta={},geodash.meta.projects=[{name:"geodash",version:"0.0.1",description:"geodash 0.0.1"},{name:"geodashviewer",version:"0.0.1",description:"GeoDash Viewer 1.x"}],geodash.meta.plugins=[{controllers:["GeoDashControllerBase.js","GeoDashControllerModal.js"],directives:["svg/ngSvgText.js","svg/svg.js","geodashBase.js","onLinkDone.js","onRepeatDone.js","geodashBtnClose.js","geodashBtnInfo.js","geodashBtn.js","geodashLabel.js","geodashTab.js","geodashTabs.js"],enumerations:["dates.js"],templates:["geodash_tab.tpl.html","geodash_tabs.tpl.html","geodash_btn_close.tpl.html","geodash_btn_info.tpl.html","geodash_btn.tpl.html","geodash_label.tpl.html"],filters:[],handlers:[],schemas:["base.yml","baselayers.yml","assets.yml","featurelayers.yml","controls.yml","view.yml","servers.yml","pages.yml",{id:"css",path:"/home/vagrant/geodash-base.git/.cache/plugins/geodash-plugin-base.git/schemas/lib/css.yml"},{id:"link",path:"/home/vagrant/geodash-base.git/.cache/plugins/geodash-plugin-base.git/schemas/lib/link.yml"},{id:"intent",path:"/home/vagrant/geodash-base.git/.cache/plugins/geodash-plugin-base.git/schemas/lib/intent.yml"},{id:"intents",path:"/home/vagrant/geodash-base.git/.cache/plugins/geodash-plugin-base.git/schemas/lib/intents.yml"},{id:"placement",path:"/home/vagrant/geodash-base.git/.cache/plugins/geodash-plugin-base.git/schemas/lib/placement.yml"},{id:"position",path:"/home/vagrant/geodash-base.git/.cache/plugins/geodash-plugin-base.git/schemas/lib/position.yml"},{id:"tooltip",path:"/home/vagrant/geodash-base.git/.cache/plugins/geodash-plugin-base.git/schemas/lib/tooltip.yml"}],modals:[],less:["base.less"],project:"geodash",id:{version:"master",url:"https://github.com/geodashio/geodash-plugin-base.git"}},{name:"geodash-plugin-handlers",controllers:[],directives:[],enumerations:[],templates:[],filters:[],handlers:["clickedOnMap.js","filterChanged.js","hideLayer.js","hideLayers.js","layerLoaded.js","requestToggleComponent.js","selectStyle.js","showLayer.js","showLayers.js","stateChanged.js","switchBaseLayer.js","ol3/toggleComponent.js","toggleFeatureLayer.js","toggleControl.js","viewChanged.js","zoomIn.js","zoomOut.js","zoomToLayer.js","zoomToLocation.js","flyToExtent.js","flyToLocation.js","flyToCurrentLocation.js","ol3/printMap.js","ol3/toggleFullScreen.js"],schemas:[],modals:[],less:[],project:"geodash",id:"geodash-plugin-handlers"},{name:"geodash-plugin-filters",filters:["default.js","percent.js","tabLabel.js","as_float.js","add.js","title.js","as_array.js","sortItemsByArray.js","breakpoint.js","breakpoints.js","position_x.js","width_x.js","length.js","layer_is_visible.js","common/append.js","common/default_if_undefined.js","common/default_if_undefined_or_blank.js","common/extract.js","common/extractTest.js","common/inArray.js","common/not.js","common/prepend.js","common/parseTrue.js","common/ternary.js","common/ternary_defined.js","common/yaml.js","array/arrayToObject.js","array/join.js","array/first.js","array/last.js","array/choose.js","css/css.js","css/ellipsis.js","format/formatBreakPoint.js","format/formatFloat.js","format/formatInteger.js","format/formatArray.js","format/formatMonth.js","math/eq.js","math/lte.js","math/gte.js","math/gt.js","string/replace.js","string/split.js","string/stringToObject.js","string/md2html.js","url/url_shapefile.js","url/url_geojson.js","url/url_kml.js","url/url_describefeaturetype.js"],project:"geodash",id:"geodash-plugin-filters"},{name:"geodash-plugin-legend",controllers:["GeoDashControllerLegend.js"],directives:["geodashMapLegend.js"],templates:["map_legend.tpl.html"],less:["legend.less"],schemas:["legend.yml"],project:"geodash",id:"geodash-plugin-legend"},{controllers:[],directives:["geodashModalWelcome.js"],templates:["modal/geodash_modal_welcome.tpl.html"],project:"geodash",id:"welcome"},{controllers:[],directives:["geodashModalAbout.js"],templates:["geodash_modal_about.tpl.html"],project:"geodash",id:"about"},{controllers:[],directives:["geodashModalDownload.js"],templates:["geodash_modal_download.tpl.html"],project:"geodash",id:"download"},{name:"geodash-plugin-overlays",controllers:["GeoDashControllerOverlays.js"],directives:["geodashMapOverlays.js"],templates:["map_overlays.tpl.html"],less:["map_overlays.less"],schemas:["map_overlays_schema.yml"],project:"geodash",id:"geodash-plugin-overlays"},{name:"geodash-plugin-navbars",controllers:["GeoDashControllerMapNavbars.js"],directives:["geodashMapNavbars.js"],templates:["map_navbars.tpl.html"],less:["map_navbars.less"],schemas:["map_navbars.yml"],project:"geodash",id:"geodash-plugin-navbars"},{controllers:[],directives:["geodashSidebarToggleLeft.js"],templates:["geodash_sidebar_toggle_left.tpl.html"],project:"geodash",id:"sidebar_toggle_left"},{controllers:[],directives:["geodashSidebarToggleRight.js"],templates:["geodash_sidebar_toggle_right.tpl.html"],project:"geodash",id:"sidebar_toggle_right"},{name:"geodash-plugin-map-map",controllers:[{name:"GeoDashControllerMapMap",path:"GeoDashControllerMapMap.js",handlers:[{event:"toggleComponent",handler:"toggleComponent"}]}],directives:["geodashMapMap.js"],templates:["map_map.tpl.html"],less:["map_map.less"],project:"geodashviewer",id:"geodash-plugin-map-map"},{name:"geodash-plugin-main",controllers:[{name:"GeoDashControllerMain",path:"GeoDashControllerMain.js",handlers:[{event:"clickedOnMap",handler:"clickedOnMap"},{event:"filterChanged",handler:"filterChanged"},{event:"hideLayer",handler:"hideLayer"},{event:"hideLayers",handler:"hideLayers"},{event:"layerLoaded",handler:"layerLoaded"},{event:"requestToggleComponent",handler:"requestToggleComponent"},{event:"selectStyle",handler:"selectStyle"},{event:"showLayer",handler:"showLayer"},{event:"showLayers",handler:"showLayers"},{event:"stateChanged",handler:"stateChanged"},{event:"switchBaseLayer",handler:"switchBaseLayer"},{event:"viewChanged",handler:"viewChanged"},{event:"zoomIn",handler:"zoomIn"},{event:"zoomOut",handler:"zoomOut"},{event:"zoomToLayer",handler:"zoomToLayer"},{event:"zoomToLocation",handler:"zoomToLocation"},{event:"flyToLocation",handler:"flyToLocation"},{event:"flyToCurrentLocation",handler:"flyToCurrentLocation"},{event:"flyToExtent",handler:"flyToExtent"},{event:"printMap",handler:"printMap"},{event:"toggleFullScreen",handler:"toggleFullScreen"},{event:"toggleFeatureLayer",handler:"toggleFeatureLayer"},{event:"toggleControl",handler:"toggleControl"}]}],directives:["geodashMain.js"],templates:["main.tpl.html"],handlers:[],project:"geodashviewer",id:"geodash-plugin-main"}],geodash.meta.controllers=[{name:"GeoDashControllerMapMap",handlers:[{event:"toggleComponent",handler:"toggleComponent"}]},{name:"GeoDashControllerMain",handlers:[{event:"clickedOnMap",handler:"clickedOnMap"},{event:"filterChanged",handler:"filterChanged"},{event:"hideLayer",handler:"hideLayer"},{event:"hideLayers",handler:"hideLayers"},{event:"layerLoaded",handler:"layerLoaded"},{event:"requestToggleComponent",handler:"requestToggleComponent"},{event:"selectStyle",handler:"selectStyle"},{event:"showLayer",handler:"showLayer"},{event:"showLayers",handler:"showLayers"},{event:"stateChanged",handler:"stateChanged"},{event:"switchBaseLayer",handler:"switchBaseLayer"},{event:"viewChanged",handler:"viewChanged"},{event:"zoomIn",handler:"zoomIn"},{event:"zoomOut",handler:"zoomOut"},{event:"zoomToLayer",handler:"zoomToLayer"},{event:"zoomToLocation",handler:"zoomToLocation"},{event:"flyToLocation",handler:"flyToLocation"},{event:"flyToCurrentLocation",handler:"flyToCurrentLocation"},{event:"flyToExtent",handler:"flyToExtent"},{event:"printMap",handler:"printMap"},{event:"toggleFullScreen",handler:"toggleFullScreen"},{event:"toggleFeatureLayer",handler:"toggleFeatureLayer"},{event:"toggleControl",handler:"toggleControl"}]}],geodash.meta.modals=[],geodash.templates={static:{}},geodash.templates.static["geodash_tab.tpl.html"]='<li\n  role="presentation"\n  ng-class="(active && active != \'false\') ? \'active\' : \'\'">\n  <a\n    href="#{{ target }}"\n    aria-controls="{{ target }}"\n    role="tab"\n    data-toggle="tab"\n    style="padding-left:8px; padding-right: 8px; height: {{ height | default_if_undefined : \'auto\'}}">{{ label }}</a>\n</li>\n',geodash.templates.static["geodash_tabs.tpl.html"]='<ul class="nav nav-tabs nav-justified" role="tablist">\n  <li\n    ng-repeat="x in ui.tabs track by $index"\n    role="presentation"\n    ng-class="$first ? \'active\' : \'\'">\n    <a\n      href="#{{ x.target }}"\n      aria-controls="{{ x.target }}"\n      role="tab"\n      data-toggle="tab"\n      style="padding-left:8px; padding-right: 8px; height: {{ height | default_if_undefined : \'auto\'}}">{{ x.label }}</a>\n  </li>\n</ul>\n',geodash.templates.static["geodash_btn_close.tpl.html"]='<button\n  type="button"\n  class="close"\n  data-dismiss="{{ dismiss | default_if_undefined: \'modal\' }}"\n  aria-hidden="true"><i class="fa fa-times"></i></button>\n',geodash.templates.static["geodash_btn_info.tpl.html"]='<div\n  class="input-group-addon btn btn-primary"\n  data-toggle="tooltip"\n  data-placement="{{ placement | default_if_undefined : \'left\' }}"\n  ng-attr-title="{{ info }}">\n  <i class="fa fa-info-circle"></i>\n</div>\n',geodash.templates.static["geodash_btn.tpl.html"]="<div\n  ng-class=\"['input-group-addon','btn',('btn-'|add: mode),((mode == 'clear' || mode =='off') ? 'btn-danger': ''),((mode == 'on') ? 'btn-success': ''),((mode == 'edit') ? 'btn-primary btn-edit': '')]\"\n  data-target=\"{{ target }}\"\n  data-toggle=\"{{ info | ternary_defined : 'tooltip' : undefined }}\"\n  data-placement=\"{{ placement | default_if_undefined : 'left' }}\"\n  ng-attr-title=\"{{ info }}\">\n  <i ng-class=\"['fa',(mode == 'clear' ? 'fa-times' : ''),(mode == 'on' ? 'fa-check' : ''),(mode == 'off' ? 'fa-circle-o' : ''),(mode == 'edit' ? 'fa-pencil-square-o' : '')]\"></i>\n</div>\n",geodash.templates.static["geodash_label.tpl.html"]='<label for="{{ target }}" class="col-sm-3 control-label" ng-bind-html="content"></label>\n',geodash.templates.static["map_legend.tpl.html"]='<div\n  id="geodash-map-legend"\n  class="geodash-map-legend"\n  style="{{ style() }}">\n  <div class="container-fluid">\n    <div\n      ng-repeat="layer in visibleFeaturelayers track by $index"\n      ng-init="layerIndex = $index"\n      ng-if="layer.title | ternary_defined : true : false"\n      class="geodash-map-legend-layer noselect row"\n      style="margin-bottom:8px;"\n      data-layer="{{ layer.id }}">\n      <div ng-if="getLegendType(layer) == \'legendgraphic\'" class="col-sm-12">\n        <div class="row" style="margin-bottom:8px;">\n          <div class="{{ class(0) }}">\n            <img\n              style="{{ getLegendGraphicStyle(layer) | css }}"\n              ng-src="{{ getLegendGraphicURL(layer) }}">\n          </div>\n          <div class="{{ class(1) }}">\n            <span\n              class="h5"\n              style="{{ {\'margin\': \'0\'} | ellipsis | css }}"\n              data-toggle="tooltip"\n              data-placement="bottom"\n              data-container="#geodash-map-legend"\n              ng-attr-title="{{ layer.title }}"\n              ng-bind-html="layer.title"></span>\n          </div>\n        </div>\n        <div class="row"><div class="col-sm-12"><span class="h6" ng-bind-html="\'Source: \'+layer.source.attribution"></span></div></div>\n      </div>\n      <div ng-if="getLegendType(layer) == \'graduated\'" ng-init="style = getCurrentStyle(layer)" class="col-sm-12">\n        <div class="row">\n          <div class="col-sm-12">\n            <span\n              class="h5"\n              style="{{ {\'display\': \'inline-block\', \'max-width\': \'100%\', \'overflow\': \'hidden\', \'height\': \'1.2rem\'} | css }}"\n              data-toggle="tooltip"\n              data-placement="bottom"\n              data-container="#geodash-map-legend"\n              ng-attr-title="{{ layer.title }}"\n              ng-bind-html="layer.title"></span>\n          </div>\n        </div>\n        <div class="row" style="margin-bottom:8px;"><div class="col-sm-12"><span class="h6" ng-bind-html="(\'(\'+style.description+\')\') | md2html"></span></div></div>\n        <div class="row" style="margin-bottom:8px;">\n          <div class="col-sm-12" ng-init="classes = getClasses(layer)">\n            <svg\n              width="100%"\n              ng-attr-height="{{ getRange(layer) | ternary_defined : \'40px\' : \'20px\' }}"\n              version="1.0"\n              xmlns="http://www.w3.org/2000/svg">\n              <rect\n                ng-repeat="class in classes track by $index"\n                ng-attr-x="{{ $index | percent: classes.length }}%"\n                y="0"\n                ng-attr-width="{{ 1 | percent: classes.length }}%"\n                ng-attr-height="{{ \'20px\' }}"\n                ng-attr-fill="{{ class.color | default_if_undefined : \'#000000\' }}"\n                stroke-width="1"\n                stroke="#000000"\n                data-toggle="tooltip"\n                data-placement="bottom"\n                data-container="#geodash-map-legend"\n                ng-attr-title="{{ class.title }}"/>\n              <text\n                ng-repeat="class in classes track by $index"\n                ng-attr-x="{{ $index | percent: classes.length }}%"\n                y="14px"\n                text-anchor="start"\n                data-toggle="tooltip"\n                data-placement="bottom"\n                data-container="#geodash-map-legend"\n                ng-attr-title="{{ class.title }}">\n                <tspan\n                  dx="1px"\n                  font-size="10px"\n                  fill="#000000"\n                  ng-svg-text="{{ class.label | default_if_undefined : \'\' }}">\n                </tspan>\n              </text>\n              <text\n                ng-if="getRange(layer) | ternary_defined : true : false"\n                x="0px"\n                y="34px"\n                text-anchor="start"\n                font-size="12px"\n                fill="#444444"\n                ng-svg-text="{{ getRange(layer) | first | extract : \'label\' }}"\n              ></text>\n              <text\n                ng-if="getRange(layer) | ternary_defined : true : false"\n                x="100%"\n                y="34px"\n                text-anchor="end"\n                font-size="12px"\n                fill="#444444"\n                ng-svg-text="{{ getRange(layer) | last | extract : \'label\' }}"\n              ></text>\n            </svg>\n          </div>\n        </div>\n        <div\n          ng-if="layer.legend.ui.source | default_if_undefined : true"\n          class="row">\n          <div class="col-sm-12"><span class="h6" ng-bind-html="\'Source: \'+layer.source.attribution"></span></div>\n        </div>\n      </div>\n      <div ng-if="getLegendType(layer) == \'heatmap\'" ng-init="style = getCurrentStyle(layer)" class="col-sm-12">\n        <div class="row">\n          <div class="col-sm-12">\n            <span\n              class="h5"\n              style="{{ {\'display\': \'inline-block\', \'max-width\': \'100%\', \'overflow\': \'hidden\', \'height\': \'1.2rem\'} | css }}"\n              data-toggle="tooltip"\n              data-placement="bottom"\n              data-container="#geodash-map-legend"\n              ng-attr-title="{{ layer.title }}"\n              ng-bind-html="layer.title"></span>\n          </div>\n        </div>\n        <div class="row" style="margin-bottom:8px;"><div class="col-sm-12"><span class="h6" ng-bind-html="(\'(\'+style.description+\')\') | md2html"></span></div></div>\n        <div class="row" style="margin-bottom:8px;">\n          <div class="col-sm-12" ng-init="classes = getClasses(layer)">\n            <svg\n              width="100%"\n              ng-attr-height="{{ getRange(layer) | ternary_defined : \'40px\' : \'20px\' }}"\n              version="1.0"\n              xmlns="http://www.w3.org/2000/svg">\n              <rect\n                ng-repeat="class in classes track by $index"\n                ng-attr-x="{{ $index | percent: classes.length }}%"\n                y="0"\n                ng-attr-width="{{ 1 | percent: classes.length }}%"\n                ng-attr-height="{{ \'20px\' }}"\n                ng-attr-fill="{{ class.color | default_if_undefined : \'#000000\' }}"\n                stroke-width="1"\n                stroke="#000000"\n                data-toggle="tooltip"\n                data-placement="bottom"\n                data-container="#geodash-map-legend"\n                ng-attr-title="{{ class.title }}"/>\n              <text\n                ng-if="getRange(layer) | ternary_defined : true : false"\n                x="0px"\n                y="34px"\n                text-anchor="start"\n                font-size="12px"\n                fill="#444444"\n                ng-svg-text="{{ getRange(layer) | first | extract : \'label\' }}"\n              ></text>\n              <text\n                ng-if="getRange(layer) | ternary_defined : true : false"\n                x="100%"\n                y="34px"\n                text-anchor="end"\n                font-size="12px"\n                fill="#444444"\n                ng-svg-text="{{ getRange(layer) | last | extract : \'label\' }}"\n              ></text>\n            </svg>\n          </div>\n        </div>\n        <div\n          ng-if="layer.legend.ui.source | default_if_undefined : true"\n          class="row">\n          <div class="col-sm-12"><span class="h6" ng-bind-html="\'Source: \'+layer.source.attribution"></span></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n',geodash.templates.static["geodash_modal_welcome.tpl.html"]='<div class="modal-dialog" role="document">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button geodash-btn-close></button>\n      <h4 class="modal-title" id="myModalLabel">{{ welcome.title }}</h4>\n    </div>\n    <div class="modal-body">\n      <div>\n        <!-- Nav tabs -->\n        <ul class="nav nav-tabs" role="tablist">\n          <li role="presentation" class="active">\n            <a\n              href="#modal-welcome-general"\n              aria-controls="modal-welcome-general"\n              role="tab"\n              data-toggle="tab"\n              style="padding-left:8px; padding-right: 8px;">General</a>\n          </li>\n          <li role="presentation" class="">\n            <a\n              href="#modal-welcome-about"\n              aria-controls="modal-welcome-about"\n              role="tab"\n              data-toggle="tab"\n              style="padding-left:8px; padding-right: 8px;">About</a>\n          </li>\n        </ul>\n        <div class="tab-content">\n          <div\n            id="modal-welcome-general"\n            class="tab-pane fade in active"\n            role="tabpanel"\n            style="padding: 10px;">\n            <span ng-bind-html="welcome.general | md2html | default:\'No body given.\'"></span>\n          </div>\n          <div\n            id="modal-welcome-about"\n            class="tab-pane fade"\n            role="tabpanel"\n            style="padding: 10px;">\n            <span ng-bind-html="welcome.about | md2html | default:\'No body given.\'"></span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="modal-footer">\n      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n    </div>\n  </div>\n</div>\n',geodash.templates.static["geodash_modal_about.tpl.html"]='<div class="modal-dialog" role="document">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button geodash-btn-close></button>\n      <h4 class="modal-title" id="myModalLabel">{{ about.title }}</h4>\n    </div>\n    <div class="modal-body">\n      <div>\n        <!-- Nav tabs -->\n        <ul class="nav nav-tabs" role="tablist">\n          <li\n            role="presentation"\n            ng-class="$first ? \'active\' : \'\'"\n            ng-repeat="pane in about.panes track by $index">\n            <a\n              href="#{{ pane.id }}"\n              aria-controls="{{ pane.id }}"\n              role="tab"\n              data-toggle="tab"\n              style="padding-left:8px; padding-right: 8px;"\n              ng-bind-html="pane.tab.label | default:\'Default\' | tabLabel"></a>\n          </li>\n        </ul>\n        <!-- Tab panes -->\n        <div class="tab-content">\n          <div\n            ng-class="$first ? \'tab-pane fade in active\' : \'tab-pane fade\'"\n            ng-repeat="pane in about.panes track by $index"\n            id="{{ pane.id }}"\n            role="tabpanel"\n            style="padding: 10px;">\n            <span ng-bind-html="pane.content | md2html | default:\'No content given.\'"></span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="modal-footer">\n      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n    </div>\n  </div>\n</div>\n',geodash.templates.static["geodash_modal_download.tpl.html"]='<div class="modal-dialog" role="document">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button geodash-btn-close></button>\n      <h4 class="modal-title" id="myModalLabel">{{ download.title }}</h4>\n    </div>\n    <div class="modal-body">\n      <div>\n        <!-- Nav tabs -->\n        <ul class="nav nav-tabs" role="tablist">\n          <li\n            role="presentation"\n            ng-class="$first ? \'active\' : \'\'"\n            ng-repeat="pane in download.panes track by $index">\n            <a\n              href="#{{ pane.id }}"\n              aria-controls="{{ pane.id }}"\n              role="tab"\n              data-toggle="tab"\n              style="padding-left:8px; padding-right: 8px;"\n              ng-bind-html="pane.tab.label | default:\'Default\' | tabLabel"></a>\n          </li>\n        </ul>\n        <!-- Tab panes -->\n        <div class="tab-content">\n          <div\n            ng-class="$first ? \'tab-pane fade in active\' : \'tab-pane fade\'"\n            ng-repeat="pane in download.panes track by $index"\n            id="{{ pane.id }}"\n            role="tabpanel"\n            style="padding: 10px;">\n            <span ng-bind-html="pane.content | md2html | default:\'No content given.\'"></span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="modal-footer">\n      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n    </div>\n  </div>\n</div>\n',geodash.templates.static["map_overlays.tpl.html"]='<div\n  id="geodash-map-overlays"\n  class="geodash-map-overlays">\n  <div ng-repeat="overlay in dashboard.overlays track by $index">\n    <div ng-if="overlay.link | ternary_defined : false : true">\n      <div\n        ng-if="overlay.type == \'text\'"\n        data-overlay-index="{{ $index }}"\n        data-overlay-type="text"\n        class="{{ class_overlay(overlay) }}"\n        width="{{ overlay.width | default_if_undefined : \'\' }}"\n        height="{{ overlay.height | default_if_undefined : \'\' }}"\n        style="{{ style(overlay.type, overlay) }}"\n        data-intents="{{ intents(overlay) | json : 0 }}"\n        data-intent-ctrl="geodash-map-overlays"\n        data-toggle="{{ overlay.tooltip | ternary_defined : \'tooltip\': \'\' }}"\n        data-placement="{{ overlay | extract : \'tooltip\' : \'placement\' | default_if_undefined_or_blank : \'\' }}"\n        ng-attr-title="{{ overlay | extract : \'tooltip\' : \'content\' | default_if_undefined_or_blank : \'\' }}"\n        on-link-done="overlayLoaded"\n        ng-bind-html="overlay.text.content | md2html">\n      </div>\n      <div\n        ng-if="overlay.type == \'image\'"\n        data-overlay-index="{{ $index }}"\n        data-overlay-type="image"\n        class="{{ class_overlay(overlay) }}"\n        style="display: inline-block; {{ style(overlay.type, overlay) }}"\n        on-link-done="overlayLoaded"\n        data-intents="{{ intents(overlay) | json : 0 }}"\n        data-intent-ctrl="geodash-map-overlays"\n        data-toggle="{{ overlay.tooltip | ternary_defined : \'tooltip\': \'\' }}"\n        data-placement="{{ overlay | extract : \'tooltip\' : \'placement\' | default_if_undefined_or_blank : \'\' }}"\n        ng-attr-title="{{ overlay | extract : \'tooltip\' : \'content\' | default_if_undefined_or_blank : \'\' }}">\n        <img ng-src="{{ imageURL(overlay) }}" width="{{ overlay.width }}" height="{{ overlay.height }}">\n      </div>\n    </div>\n    <a\n      ng-if="overlay.link | ternary_defined : true : false"\n      ng-href="{{ overlay.link.url }}"\n      target="{{ overlay.link.target }}">\n      <div\n        ng-if="overlay.type == \'text\'"\n        data-overlay-index="{{ $index }}"\n        data-overlay-type="text"\n        class="geodash-map-overlay"\n        width="{{ overlay.width | default_if_undefined : initial }}"\n        height="{{ overlay.height | default_if_undefined : initial }}"\n        style="{{ style(overlay.type, overlay) }}"\n        data-toggle="{{ overlay.tooltip | ternary_defined : \'tooltip\': \'\' }}"\n        data-placement="{{ overlay | extract : \'tooltip\' : \'placement\' | default_if_undefined_or_blank : \'\' }}"\n        ng-attr-title="{{ overlay | extract : \'tooltip\' : \'content\' | default_if_undefined_or_blank : \'\' }}"\n        on-link-done="overlayLoaded"\n        ng-bind-html="overlay.text.content | md2html">\n      </div>\n      <div\n        ng-if="overlay.type == \'image\'"\n        data-overlay-index="{{ $index }}"\n        data-overlay-type="image"\n        class="geodash-map-overlay"\n        style="display: inline-block; {{ style(overlay.type, overlay) }}"\n        data-toggle="{{ overlay.tooltip | ternary_defined : \'tooltip\': \'\' }}"\n        data-placement="{{ overlay | extract : \'tooltip\' : \'placement\' | default_if_undefined_or_blank : \'\' }}"\n        ng-attr-title="{{ overlay | extract : \'tooltip\' : \'content\' | default_if_undefined_or_blank : \'\' }}"\n        on-link-done="overlayLoaded">\n        <img ng-src="{{ imageURL(overlay) }}" width="{{ overlay.width }}" height="{{ overlay.height }}">\n      </div>\n    </a>\n  </div>\n</div>\n',geodash.templates.static["map_navbars.tpl.html"]='<div\n  id="geodash-map-navbars"\n  class="geodash-map-navbars">\n  <nav\n    ng-repeat="navbar in dashboard.navbars track by $index"\n    ng-class="class_navbar(navbar)"\n    style="{{ style_navbar(navbar) }}">\n    <ul\n      class="{{ navbar | extract : \'switch\' | ternary_defined : \'nav nav-justified geodash-radio-group\' : \'nav nav-justified\' }}">\n      <li\n        ng-repeat="tab in navbar.tabs track by $index">\n        <a\n          ng-class="class_tab(navbar, tab)"\n          style="{{ style_tab(navbar, tab) }}"\n          ng-href="{{ link(tab) }}"\n          data-intents="{{ intents(navbar, tab) | json : 0 }}"\n          data-intent-ctrl="geodash-map-navbars"\n          data-intent-class-on="btn-primary selected"\n          data-intent-class-off="btn-default"\n          data-toggle="{{ tab.tooltip | ternary_defined : \'tooltip\': \'\' }}"\n          data-placement="{{ tab | extract : \'tooltip\' : \'placement\' | default_if_undefined_or_blank : \'\' }}"\n          ng-attr-title="{{ tab | extract : \'tooltip\' : \'content\' | default_if_undefined_or_blank : \'\' }}"\n          ng-bind-html="tab.title | md2html"></a>\n      </li>\n    </ul>\n  </nav>\n</div>\n',geodash.templates.static["geodash_sidebar_toggle_left.tpl.html"]='<div\n  id="geodash-map-sidebar-toggle-left"\n  class="geodash-intent geodash-map-sidebar-toggle geodash-map-sidebar-toggle-left btn btn-primary sidebar-open sidebar-left-open"\n  data-toggle="tooltip"\n  data-placement="bottom"\n  title="Click to toggle sidebar."\n  data-intent-name="requestToggleComponent"\n  data-intent-data="{&quot;selector&quot;:&quot;{{ selector }}&quot;,&quot;component&quot;:&quot;sidebar&quot;,&quot;position&quot;:&quot;left&quot;}"\n  data-intent-ctrl="geodash-map-sidebar-toggle-left">\n  <div\n    style="padding: 4px;">\n    <span class="icon-arrow-gt">&gt;&gt;</span>\n    <span class="icon-arrow-lt">&lt;&lt;</span>\n  </div>\n</div>\n',geodash.templates.static["geodash_sidebar_toggle_right.tpl.html"]='<div\n  id="geodash-map-sidebar-toggle-right"\n  class="geodash-intent geodash-map-sidebar-toggle geodash-map-sidebar-toggle-right btn btn-primary sidebar-open sidebar-right-open"\n  data-toggle="tooltip"\n  data-placement="bottom"\n  title="Click to toggle sidebar."\n  data-intent-name="requestToggleComponent"\n  data-intent-data="{&quot;selector&quot;:&quot;{{ selector }}&quot;,&quot;component&quot;:&quot;sidebar&quot;,&quot;position&quot;:&quot;right&quot;}"\n  data-intent-ctrl="geodash-map-sidebar-toggle-right">\n  <div\n    style="padding: 4px;">\n    <span class="icon-arrow-gt">&gt;&gt;</span>\n    <span class="icon-arrow-lt">&lt;&lt;</span>\n  </div>\n</div>\n',geodash.templates.static["map_map.tpl.html"]='<div id="map" class="geodash-map-map"></div>\n',geodash.templates.static["main.tpl.html"]='<div\n  class="row geodash-row geodash-main geodash-dashboard geodash-controller">\n  <div\n    id="geodash-map"\n    class="row geodash-row geodash-map geodash-controller"\n    geodash-base>\n    <div data-geodash-controllers="GeoDashControllerOverlays" geodash-map-overlays></div>\n    <div data-geodash-controllers="GeoDashControllerMapNavbars" geodash-map-navbars></div>\n    <div data-geodash-controllers="GeoDashControllerLegend" geodash-map-legend></div>\n    <div id="map" data-geodash-controllers="GeoDashControllerMapMap" geodash-map-map></div>\n    <div id="geodash-popups" style="display:none;">\n      <div id="popup"></div>\n    </div>\n  </div>\n  <div id="geodash-modals"></div>\n</div>\n';var MONTHS_NUM=[1,2,3,4,5,6,7,8,9,10,11,12],MONTHS_LONG=["January","February","March","April","May","June","July","August","September","October","November","December"],MONTHS_SHORT3=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],MONTHS_ALL=$.map(MONTHS_NUM,function(num,i){return{num:num,short3:MONTHS_SHORT3[i],long:MONTHS_LONG[i]}}),DAYSOFTHEWEEK=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];geodash.filters.default=function(){return function(value,fallback){return value||fallback}},geodash.filters.percent=function(){return function(value,denominator){return 100*value/denominator}},geodash.filters.tabLabel=function(){return function(value){return 2==value.split(" ").length?value.replace(" ","<br>"):value}},geodash.filters.as_float=function(){return function(value){return 1*value}},geodash.filters.add=function(){return function(value,arg){if(Array.isArray(arg)){var arr=arg;return value+arr[value%arr.length]}if(arguments.length>2){var arr=Array.prototype.slice.call(arguments,[1]);return value+arr[value%arr.length]}return value+arg}},geodash.filters.title=function(){return function(value){return"string"===$.type(value)?value.toTitleCase():value}},geodash.filters.as_array=function(){return function(value){return $.isArray(value)?value:$.map(value,function(item,key){return{key:key,item:item}})}},geodash.filters.sortItemsByArray=function(){return function(value,arg){return $.isArray(value)?(value=$.grep(value,function(x,i){return $.inArray(x.key,arg)!=-1}),value.sort(function(a,b){return $.inArray(a.key,arg)-$.inArray(a.key,arg)}),value):value}},geodash.filters.breakpoint=function(){return function(style,index){var breakpoints=geodash.breakpoints[style.styles.default.dynamic.options.breakpoints];return void 0!=breakpoints&&breakpoints.length>0?breakpoints[index]:-1}},geodash.filters.breakpoints=function(){
return function(style){var breakpoints=geodash.breakpoints[style.styles.default.dynamic.options.breakpoints];return void 0!=breakpoints&&breakpoints.length>0?breakpoints:[]}},geodash.filters.position_x=function(){return function(domain,index,containerWidth,padding){var parse_container_width=function(w){return $.isNumeric(w)?w:parseInt(w.substring(0,w.indexOf("px")),10)},actualWidth=parse_container_width(containerWidth)-2*padding;return padding+actualWidth*index/domain}},geodash.filters.width_x=function(){return function(domain,containerWidth,padding){var parse_container_width=function(w){return $.isNumeric(w)?w:parseInt(w.substring(0,w.indexOf("px")),10)},actualWidth=parse_container_width(containerWidth)-2*padding;return actualWidth/domain}},geodash.filters.len=geodash.filters.length=function(){return function(value){return Array.isArray(value)?value.length:angular.isString(value)?value.length:0}},geodash.filters.layer_is_visible=function(){return function(layerID,state){state=state||$("#geodash-main").scope().state;var visibleFeatureLayers=state.view.featurelayers;return layerID==state.view.baselayer||$.inArray(layerID,visibleFeatureLayers)!=-1}},geodash.filters.append=function(){return function(value,arg){if(Array.isArray(value))return Array.isArray(arg)?value.concat(arg):value.push(arg);if(angular.isString(value)){var arr=Array.prototype.slice.call(arguments,[1]);return value+arr.join("")}return value+arg}},geodash.filters.default_if_undefined=function(){return function(value,fallback){return void 0!=value&&null!=value?value:fallback}},geodash.filters.default_if_undefined_or_blank=function(){return function(value,fallback){return void 0!=value&&null!=value&&""!=value?value:fallback}},geodash.filters.extract=function(){return function(node){var keyChain=Array.prototype.slice.call(arguments,[1]);return keyChain.length>0?extract(expand(keyChain),node):null}},geodash.filters.extractTest=function(){return function(node){var keyChain=Array.prototype.slice.call(arguments,[1]);return keyChain.length>0?extract(expand(keyChain),node):null}},geodash.filters.inArray=function(){return function(value,arr){return!!Array.isArray(arr)&&arr.indexOf(value)!=-1}},geodash.filters.not=function(){return function(value){return!value}},geodash.filters.prepend=function(){return function(value,arg){if(Array.isArray(value))return Array.isArray(arg)?arg.concat(value):[arg].concat(value);if(angular.isString(value)){var arr=Array.prototype.slice.call(arguments,[1]);return arr.join("")+value}return arg+value}},geodash.filters.parseTrue=function(){return function(value){return["on","true","t","1",1,!0].indexOf(value)!=-1}},geodash.filters.ternary=function(){return function(value,t,f){return value?t:f}},geodash.filters.ternary_defined=function(){return function(value,t,f){return void 0!=value&&null!=value&&""!=value?t:f}},geodash.filters.yaml=function(){return function(value,depth){return void 0!=value?YAML.stringify(value,depth||4):""}},geodash.filters.arrayToObject=function(){return function(x){var y={};if(angular.isArray(x))for(var i=0;i<x.length;i++)y[x[i].name]=x[i].value;return y}},geodash.filters.join=function(){return function(array,arg){return Array.isArray(array)?array.join(arg):array}},geodash.filters.first=function(){return function(array){return Array.isArray(array)?array[0]:array}},geodash.filters.last=function(){return function(arr){if(!Array.isArray(arr))return arr;if(0!=arr.length)return arr[arr.length-1]}},geodash.filters.choose=function(){return function(value,arg){if(Array.isArray(arg)){var arr=arg;return arr[value%arr.length]}var arr=Array.prototype.slice.call(arguments,[1]);return arr[value%arr.length]}},geodash.filters.css=function(){return function(styleMap){return geodash.codec.formatCSS(styleMap)}},geodash.filters.ellipsis=function(){return function(styleMap){return styleMap=styleMap||{},angular.extend(styleMap,geodash.ui.css.ellipsis()),styleMap}},geodash.filters.formatBreakpoint=function(){return function(value){return Number.isInteger(value)?geodash.filters.formatInteger()(value,"delimited"," "):$.isNumeric(value)?geodash.filters.formatFloat()(value,2):""+value}},geodash.filters.formatFloat=function(){return function(value,decimals){return void 0!=value&&""!==value?void 0!=decimals?value.toFixed(decimals):value.toString():""}},geodash.filters.formatInteger=function(){return function(value,type,delimiter){return geodash.codec.formatInteger(value,type,delimiter)}},geodash.filters.formatArray=function(){return function(arr){return Array.isArray(arr)?0==arr.length?"":1==arr.length?arr[0]:2==arr.length?arr.join(" and "):arr.slice(0,-1).join(", ")+", and "+arr[arr.length-1]:arr}},geodash.filters.formatMonth=function(){return function(value,type){return void 0!=value&&""!==value?"long"==type?months_long[value-1]:"short3"==type||"short_3"==type?months_short_3[value-1]:"int2"==type&&value<10?"0"+value.toString():value.toString():""}},geodash.filters.eq=function(){return function(value,arg){return!(!angular.isNumber(value)||!angular.isNumber(arg))&&value==arg}},geodash.filters.lte=function(){return function(value,arg){return!(!angular.isNumber(value)||!angular.isNumber(arg))&&value<=arg}},geodash.filters.gte=function(){return function(value,arg){return!(!angular.isNumber(value)||!angular.isNumber(arg))&&value>=arg}},geodash.filters.gt=function(){return function(value,arg){return!(!angular.isNumber(value)||!angular.isNumber(arg))&&value>arg}},geodash.filters.replace=function(){return function(value,oldSubstring,newSubstring){return angular.isString(value)?angular.isString(oldSubstring)&&angular.isString(newSubstring)?"."==oldSubstring?value.replace(new RegExp("[.]","g"),newSubstring):value.replace(oldSubstring,newSubstring):value:""}},geodash.filters.split=function(){return function(value,delimiter){return angular.isString(value)?value.split(delimiter||","):value}},geodash.filters.stringToObject=function(){return function(x,properties){var y={};if(Array.isArray(properties))for(var i=0;i<properties.length;i++)y[properties[i]]=x;return y}},geodash.filters.md2html=function(){return function(text){return geodash.codec.md2html(text)}},geodash.filters.url_shapefile=function(){return function(layer,state){var url="";if("wfs"in layer){var typename="";"layers"in layer.wms?typename=layer.wms.layers[0]:"layers"in layer.wfs&&(typename=layer.wfs.layers[0]);var params={format_options:"charset:UTF-8",typename:typename,outputFormat:"SHAPE-ZIP",version:"1.0.0",service:"WFS",request:"GetFeature"};void 0!=state&&(params.cql_filter="BBOX("+layer.wfs.geometry+", "+state.view.extent+")");var querystring=$.map(params,function(v,k){return encodeURIComponent(k)+"="+encodeURIComponent(v)}).join("&");url=layer.wfs.url+"?"+querystring}return url}},geodash.filters.url_geojson=function(){return function(layer,state){var url="";if("wfs"in layer){var typename="";"layers"in layer.wms?typename=layer.wms.layers[0]:"layers"in layer.wfs&&(typename=layer.wfs.layers[0]);var params={format_options:"charset:UTF-8",typename:typename,outputFormat:"json",version:"1.0.0",service:"WFS",request:"GetFeature"};void 0!=state&&(params.cql_filter="BBOX("+layer.wfs.geometry+", "+state.view.extent+")");var querystring=$.map(params,function(v,k){return encodeURIComponent(k)+"="+encodeURIComponent(v)}).join("&");url=layer.wfs.url+"?"+querystring}return url}},geodash.filters.url_kml=function(){return function(layer,state){var url="";if("kml"in layer){var typename="";"layers"in layer.wms?typename=layer.wms.layers[0]:"layers"in layer.wfs&&(typename=layer.wfs.layers[0]);var params={mode:"download",layers:typename};void 0!=state&&(params.cql_filter="BBOX("+layer.wfs.geometry+", "+state.view.extent+")");var querystring=$.map(params,function(v,k){return encodeURIComponent(k)+"="+encodeURIComponent(v)}).join("&");url=layer.kml.url+"?"+querystring}return url}},geodash.filters.url_describefeaturetype=function(){return function(layer){var url="";if("wfs"in layer){var version=layer.wfs.version||"1.0.0",params={service:"WFS",request:"DescribeFeatureType",version:version,outputFormat:"application/json"},typename="";"layers"in layer.wms?typename=layer.wms.layers.unique().join(","):"layers"in layer.wfs&&(typename=layer.wfs.layers.unique().join(",")),"1.1.0"==version||"1.0.0"==version?params.typeName=typename:params.typeNames=typename;var querystring=$.map(params,function(v,k){return encodeURIComponent(k)+"="+encodeURIComponent(v)}).join("&");url=layer.wfs.url+"?"+querystring}return url}},geodash.handlers.clickedOnMap=function($scope,$interpolate,$http,$q,event,args){console.log("event",event),console.log("args",args);var $scope=geodash.util.getScope("geodash-main"),map=geodash.var.map,z=$scope.state.view.z,visibleFeatureLayers=$scope.state.view.featurelayers;console.log("visibleFeatureLayers",visibleFeatureLayers);for(var featurelayers_geojson=[],featurelayers_by_featuretype={},fields_by_featuretype={},urls=[],i=0;i<visibleFeatureLayers.length;i++){var fl=geodash.api.getFeatureLayer(visibleFeatureLayers[i],{scope:$scope});if(angular.isDefined(extract("popup.panes",fl))){var type_lc=extract("type",fl,"").toLowerCase();if("geojson"==type_lc)featurelayers_geojson.push(fl.id);else if(angular.isDefined(extract("wfs",fl))){var params={service:"wfs",version:extract("wfs.version",fl,"1.0.0"),request:"GetFeature",srsName:"EPSG:4326"},targetLocation=geodash.normalize.point(args),bbox=geodash.tilemath.point_to_bbox(args.location.lon,args.location.lat,z,4).join(","),typeNames=extract("wfs.layers",fl,void 0)||extract("wms.layers",fl,void 0)||[];angular.isString(typeNames)&&(typeNames=typeNames.split(","));for(var j=0;j<typeNames.length;j++){typeName=typeNames[j];var url=fl.wfs.url+"?"+$.param($.extend(params,{typeNames:typeName,bbox:bbox}));urls.push(url),fields_by_featuretype[typeName.toLowerCase()]=geodash.layers.aggregate_fields(fl),featurelayers_by_featuretype[typeName.toLowerCase()]=fl,typeName.toLowerCase().startsWith("geonode:")||(featurelayers_by_featuretype["geonode:"+typeName.toLowerCase()]=fl)}}}}var featureAndLocation=void 0;featurelayers_geojson.length>0&&(featureAndLocation=map.forEachFeatureAtPixel([args.pixel.x,args.pixel.y],function(feature,layer){var options={projection:{source:map.getView().getProjection(),target:"EPSG:4326"}};return{layer:layer.get("id"),feature:geodash.normalize.feature(feature,options),location:geodash.normalize.point(ol.proj.toLonLat(map.getCoordinateFromPixel([args.pixel.x,args.pixel.y]),map.getView().getProjection()))}},null,function(layer){return $.inArray(layer.get("id"),featurelayers_geojson)!=-1})),angular.isDefined(featureAndLocation)?$scope.$broadcast("openPopup",{featureLayer:geodash.api.getFeatureLayer(featureAndLocation.layer),feature:featureAndLocation.feature,location:featureAndLocation.location}):urls.length>0?$q.all(geodash.http.build_promises($http,urls)).then(function(responses){var features=geodash.http.build_features(responses,fields_by_featuretype);if(console.log("Features: ",features),features.length>0){var featureAndLocation=geodash.vecmath.getClosestFeatureAndLocation(features,targetLocation),fl=featurelayers_by_featuretype[featureAndLocation.feature.featuretype]||featurelayers_by_featuretype["geonode:"+featureAndLocation.feature.featuretype];$scope.$broadcast("openPopup",{featureLayer:fl,feature:geodash.normalize.feature(featureAndLocation.feature),location:geodash.normalize.point(featureAndLocation.location)})}else $("#popup").popover("destroy")}):$("#popup").popover("destroy")},geodash.handlers.filterChanged=function($scope,$interpolate,$http,$q,event,args){console.log("event",event),console.log("args",args),$scope.$apply(function(){$scope.state.filters[args.layer]=$.extend($scope.state.filters[args.layer],args.filter);var url=buildPageURL($interpolate,$scope.dashboard,$scope.state);void 0!=url&&history.replaceState($scope.state,"",url),$scope.refreshMap($scope.state)})},geodash.handlers.hideLayer=function($scope,$interpolate,$http,$q,event,args){console.log("event",event),console.log("args",args);var $scope=geodash.util.getScope("geodash-main"),layer=args.layer,i=$.inArray(layer,$scope.state.view.featurelayers);i!=-1&&($scope.state.view.featurelayers.splice(i,1),$scope.refreshMap($scope.state))},geodash.handlers.hideLayers=function($scope,$interpolate,$http,$q,event,args){console.log("event",event),console.log("args",args);for(var $scope=geodash.util.getScope("geodash-main"),layers=args.layers,i=0;i<layers.length;i++){var layer=args.layers[i],j=$.inArray(layer,$scope.state.view.featurelayers);j!=-1&&($scope.state.view.featurelayers.splice(j,1),$scope.refreshMap($scope.state))}},geodash.handlers.layerLoaded=function($scope,$interpolate,$http,$q,event,args){geodash.util.getScope("geodash-main"),args.type,args.layer,void 0==args.visible||args.visible},geodash.handlers.requestToggleComponent=function($scope,$interpolate,$http,$q,event,args){geodash.util.getScope("geodash-main").$broadcast("toggleComponent",args)},geodash.handlers.selectStyle=function($scope,$interpolate,$http,$q,event,args){console.log("event",event),console.log("args",args),$scope.$apply(function(){$scope.state.styles[args.layer]=args.style;var url=buildPageURL($interpolate,$scope.dashboard,$scope.state);void 0!=url&&history.replaceState($scope.state,"",url),$scope.refreshMap($scope.state)})},geodash.handlers.showLayer=function($scope,$interpolate,$http,$q,event,args){console.log("event",event),console.log("args",args);var $scope=geodash.util.getScope("geodash-main"),layer=args.layer;$.inArray(layer,$scope.state.view.featurelayers)==-1&&($scope.state.view.featurelayers.push(layer),$scope.refreshMap($scope.state))},geodash.handlers.showLayers=function($scope,$interpolate,$http,$q,event,args){console.log("event",event),console.log("args",args);for(var $scope=geodash.util.getScope("geodash-main"),layers=args.layers,i=0;i<layers.length;i++){var layer=layers[i];$.inArray(layer,$scope.state.view.featurelayers)==-1&&($scope.state.view.featurelayers.push(layer),$scope.refreshMap($scope.state))}},geodash.handlers.stateChanged=function($scope,$interpolate,$http,$q,event,args){console.log("event",event),console.log("args",args),$scope.$apply(function(){$scope.state=$.extend($scope.state,args);var url=buildPageURL($interpolate,$scope.dashboard,$scope.state);void 0!=url&&history.replaceState($scope.state,"",url),$scope.refreshMap($scope.state)})},geodash.handlers.switchBaseLayer=function($scope,$interpolate,$http,$q,event,args){console.log("event",event),console.log("args",args);var $scope=geodash.util.getScope("geodash-main");$scope.state.view.baselayer=args.layer,$scope.refreshMap($scope.state)},geodash.handlers.toggleComponent=function($scope,$interpolate,$http,$q,event,args){console.log("event",event),console.log("args",args);var component=args.component,position=args.position,classes=component+"-open "+component+"-"+position+"-open";$(args.selector).toggleClass(classes),setTimeout(function(){"ol3"==geodash.mapping_library?setTimeout(function(){var m=geodash.var.map;m.renderer_.dispose(),m.renderer_=new ol.renderer.canvas.Map(m.viewport_,m),m.updateSize(),m.renderSync()},0):"leaflet"==geodash.mapping_library&&setTimeout(function(){geodash.var.map._onResize()},0)},2e3)},geodash.handlers.toggleFeatureLayer=function($scope,$interpolate,$http,$q,event,args){var $scope=geodash.util.getScope("geodash-main"),layer=args.layer,i=$.inArray(layer,$scope.state.view.featurelayers);i!=-1?$scope.state.view.featurelayers.splice(i,1):$scope.state.view.featurelayers.push(layer),$scope.refreshMap($scope.state)},geodash.handlers.toggleControl=function($scope,$interpolate,$http,$q,event,args){var $scope=geodash.util.getScope("geodash-main"),control=args.control,i=$.inArray(control,$scope.state.view.controls);i!=-1?$scope.state.view.controls.splice(i,1):$scope.state.view.controls.push(control),$scope.refreshMap($scope.state)},geodash.handlers.viewChanged=function($scope,$interpolate,$http,$q,event,args){console.log("event",event),console.log("args",args),$.extend($scope.state.view,args),geodash.history.pushState($interpolate,$scope)},geodash.handlers.zoomIn=function($scope,$interpolate,$http,$q,event,args){var z=geodash.var.map.getView().getZoom(),maxZoom=extract("dashboard.view.maxZoom",$scope,18),newZoom=Math.min(z+1,maxZoom),animate=extract("animate",args,!0);$scope.$broadcast("changeView",{zoom:newZoom,animate:animate})},geodash.handlers.zoomOut=function($scope,$interpolate,$http,$q,event,args){var z=geodash.var.map.getView().getZoom(),minZoom=extract("dashboard.view.minZoom",$scope,0),newZoom=Math.max(z-1,minZoom),animate=extract("animate",args,!0);$scope.$broadcast("changeView",{zoom:newZoom,animate:animate})},geodash.handlers.zoomToLayer=function($scope,$interpolate,$http,$q,event,args){var $scope=geodash.util.getScope("geodash-main"),layer=args.layer,i=$.inArray(layer,$scope.state.view.featurelayers);i!=-1&&$scope.$broadcast("changeView",{layer:layer})},geodash.handlers.zoomToLocation=function($scope,$interpolate,$http,$q,event,args){var $scope=geodash.util.getScope("geodash-main");$scope.$broadcast("changeView",{lat:extract("lat",args),lon:extract("lon",args),zoom:extract("zoom",args),projection:extract("projection",args)})},geodash.handlers.flyToExtent=function($scope,$interpolate,$http,$q,event,args){var $scope=geodash.util.getScope("geodash-main");$scope.$broadcast("changeView",{extent:extract("extent",args),projection:extract("projection",args),animations:["pan","bounce"]})},geodash.handlers.flyToLocation=function($scope,$interpolate,$http,$q,event,args){var $scope=geodash.util.getScope("geodash-main");$scope.$broadcast("changeView",{lat:extract("lat",args),lon:extract("lon",args),zoom:extract("zoom",args),projection:extract("projection",args),animations:["pan","bounce"]})},geodash.handlers.flyToCurrentLocation=function($scope,$interpolate,$http,$q,event,args){var $scope=geodash.util.getScope("geodash-main");geodash.var.map.getView();navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(position){$scope.$broadcast("changeView",{lat:extract(["coords","latitude"],position,0),lon:extract(["coords","longitude"],position,0),zoom:14,projection:"EPSG:4326",animations:["pan","bounce"]})})},geodash.handlers.printMap=function($scope,$interpolate,$http,$q,event,args){console.log("event",event),console.log("args",args);var data=(geodash.util.getScope("geodash-main"),geodash.var.map.getRenderer().canvas_.toDataURL("image/png")),newWindow=window.open("","_blank",""),html='<a href="'+data+'" download="sparc.png"><img src="'+data+'"></a>';newWindow.document.write(html)},geodash.handlers.toggleFullScreen=function($scope,$interpolate,$http,$q,event,args){if(ol.control.FullScreen.isFullScreenSupported())if(ol.control.FullScreen.isFullScreen())ol.control.FullScreen.exitFullScreen();else{var target=angular.isDefined(args.element)?$(args.element).parents(".geodash-map:first"):$(".geodash-map");target.length>0&&ol.control.FullScreen.requestFullScreenWithKeys(target[0])}},geodash.directives.ngSvgText=function(){return{scope:!0,link:function($scope,$element,attrs){$element.text(attrs.ngSvgText)}}},geodash.directives.ngX=function(){return{scope:!0,link:function($scope,$element,attrs){$scope.$watch(attrs.ngX,function(value){$element.attr("x",value)})}}},geodash.directives.ngY=function(){return{scope:!0,link:function($scope,$element,attrs){$scope.$watch(attrs.ngY,function(value){$element.attr("y",value)})}}},geodash.directives.ngWidth=function(){return{scope:!0,link:function($scope,$element,attrs){$scope.$watch(attrs.ngWidth,function(value){$element.attr("width",value)})}}},geodash.directives.ngR=function(){return{scope:!0,link:function($scope,$element,attrs){$scope.$watch(attrs.ngR,function(value){$element.attr("r",value)})}}},geodash.directives.ngFill=function(){return{scope:!0,link:function($scope,$element,attrs){$scope.$watch(attrs.ngFill,function(value){$element.attr("fill",value)})}}},geodash.directives.geodashBase=function(){return{controller:geodash.controllers.GeoDashControllerBase,restrict:"EA",replace:!1,transclude:!0,scope:!0,template:"<div ng-transclude></div>",link:function($scope,element,attrs,controllers){}}},geodash.directives.onLinkDone=function(){return{restriction:"A",link:function($scope,element,attributes){$scope.$emit(attributes.onLinkDone||"link_done",{element:element,attributes:attributes})}}},geodash.directives.onRepeatDone=function(){return{restriction:"A",link:function($scope,element,attributes){$scope.$emit(attributes.onRepeatDone||"repeat_done",{element:element,attributes:attributes})}}},geodash.directives.geodashBtnClose=function(){return{restrict:"EA",replace:!0,scope:{dismiss:"@target"},templateUrl:"geodash_btn_close.tpl.html",link:function($scope,element,attrs){}}},geodash.directives.geodashBtnInfo=function(){return{restrict:"EA",replace:!0,scope:{placement:"@placement",info:"@info"},templateUrl:"geodash_btn_info.tpl.html",link:function($scope,element,attrs){}}},geodash.directives.geodashBtn=function(){return{restrict:"EA",replace:!0,scope:{mode:"@mode",target:"@target",info:"@info",placement:"@tooltipPlacement"},templateUrl:"geodash_btn.tpl.html",link:function($scope,element,attrs){}}},geodash.directives.geodashLabel=function(){return{restrict:"EA",replace:!0,scope:{target:"@target",content:"@content"},templateUrl:"geodash_label.tpl.html",link:function($scope,element,attrs){}}},geodash.directives.geodashTab=function(){return{restrict:"EA",replace:!0,scope:{target:"@target",label:"@label",active:"@active",height:"@height"},templateUrl:"geodash_tab.tpl.html",link:function($scope,element,attrs){}}},geodash.directives.geodashTabs=function(){return{restrict:"EA",replace:!0,scope:!0,templateUrl:"geodash_tabs.tpl.html",link:function($scope,element,attrs){}}},geodash.directives.geodashMapLegend=function(){return{controller:geodash.controllers.GeoDashControllerLegend,restrict:"EA",replace:!0,scope:{},templateUrl:"map_legend.tpl.html",link:function($scope,element,attrs,controllers){setTimeout(function(){geodash.ui.update(element)},0)}}},geodash.directives.geodashModalWelcome=function(){return{restrict:"EA",replace:!0,scope:!0,templateUrl:"geodash_modal_welcome.tpl.html",link:function($scope,element,attrs){}}},geodash.directives.geodashModalAbout=function(){return{restrict:"EA",replace:!0,scope:!0,templateUrl:"geodash_modal_about.tpl.html",link:function($scope,element,attrs){}}},geodash.directives.geodashModalDownload=function(){return{restrict:"EA",replace:!0,scope:!0,templateUrl:"geodash_modal_download.tpl.html",link:function($scope,element,attrs){}}},geodash.directives.geodashMapOverlays=function(){return{controller:geodash.controllers.GeoDashControllerOverlays,restrict:"EA",replace:!0,scope:{editable:"@editable"},templateUrl:"map_overlays.tpl.html",link:function($scope,element,attrs,controllers){setTimeout(function(){geodash.ui.update(element)},0),geodash.util.parseTrue($scope.editable)&&($(element).on("mouseenter",".geodash-map-overlay",function(event,args){$(this).draggable("enable"),$(".geodash-map-grid").addClass("on")}),$(element).on("mouseleave",".geodash-map-overlay",function(event,args){$(this).draggable("disable"),$(".geodash-map-grid").removeClass("on")}),$scope.$on("overlayLoaded",function(event,args){console.log("overlayLoaded",event,args);var overlayElement=(args.attributes.overlayType,$(args.element)),container=overlayElement.parents(".geodash-map:first");overlayElement.draggable({containment:container,start:function(event,args){$(this).css("cursor","-webkit-grabbing")},drag:function(event,args){},stop:function(event,args){$(this).css("cursor","pointer"),console.log(event,args);var newPosition=args.position,overlayIndex=$(this).data("overlay-index"),scope=geodash.util.getScope("geodash-sidebar-right");if(void 0!=scope){var mapWidth=container.width(),mapHeight=container.height();scope.map_config_flat["overlays__"+overlayIndex+"__position__top"]=newPosition.top<mapHeight/2?newPosition.top+"px":"auto",scope.map_config_flat["overlays__"+overlayIndex+"__position__bottom"]=newPosition.top>=mapHeight/2?mapHeight-newPosition.top+"px":"auto",scope.map_config_flat["overlays__"+overlayIndex+"__position__left"]=newPosition.left<mapWidth/2?newPosition.left+"px":"auto",scope.map_config_flat["overlays__"+overlayIndex+"__position__right"]=newPosition.left>=mapWidth/2?mapWidth-newPosition.left+"px":"auto",setTimeout(function(){scope.validateFields(["overlays__"+overlayIndex+"__position__top","overlays__"+overlayIndex+"__position__bottom","overlays__"+overlayIndex+"__position__left","overlays__"+overlayIndex+"__position__right"])},0)}}})}))}}},geodash.directives.geodashMapNavbars=function(){return{controller:geodash.controllers.GeoDashControllerMapNavbars,restrict:"EA",replace:!0,scope:{},templateUrl:"map_navbars.tpl.html",link:function($scope,element,attrs,controllers){setTimeout(function(){geodash.ui.update(element)},0)}}},geodash.directives.geodashSidebarToggleLeft=function(){return{restrict:"EA",replace:!0,scope:{selector:"@selector"},templateUrl:"geodash_sidebar_toggle_left.tpl.html",link:function($scope,$element,attrs){setTimeout(function(){$('[data-toggle="tooltip"]',$element).tooltip()},10)}}},geodash.directives.geodashSidebarToggleRight=function(){return{restrict:"EA",replace:!0,scope:{selector:"@selector"},templateUrl:"geodash_sidebar_toggle_right.tpl.html",link:function($scope,$element,attrs){setTimeout(function(){$('[data-toggle="tooltip"]',$element).tooltip()},10)}}},geodash.directives.geodashMapMap=function(){return{controller:geodash.controllers.GeoDashControllerMapMap,restrict:"EA",replace:!0,scope:{},templateUrl:"map_map.tpl.html",link:function($scope,element,attrs,controllers){var dashboard=$scope.dashboard,state=$scope.state,listeners={map:{singleclick:function(e){var m=geodash.var.map,v=m.getView(),c=ol.proj.toLonLat(e.coordinate,v.getProjection()),delta={location:{lat:c[1],lon:c[0]},pixel:{x:e.pixel[0],y:e.pixel[1]}};geodash.api.intend("clickedOnMap",delta,$scope),"ol3"==geodash.mapping_library},moveend:function(e){if(!geodash.var.map.getView().getAnimating()){console.log("In moveend, going to trigger viewChanged.");var m=geodash.var.map,v=m.getView(),c=v.getCenter(),delta={extent:v.calculateExtent(m.getSize()),location:{lat:c[1],lon:c[0]}};geodash.api.intend("viewChanged",delta,$scope)}}},view:{"change:resolution":function(e){if(!geodash.var.map.getView().getAnimating()){console.log("In change:resolution, going to trigger viewChanged.");var m=geodash.var.map,v=m.getView(),delta=(v.getCenter(),{extent:v.calculateExtent(m.getSize()),z:v.getZoom()});"ol3"==geodash.mapping_library&&$("#popup").popover("destroy"),geodash.api.intend("viewChanged",delta,$scope)}}}};geodash.util.hasHashValue(["latitude","lat","longitude","lon","lng","zoom","z"]);if(geodash.var.map=geodash.init.map_ol3({id:element.attr("id"),dashboard:dashboard,listeners:listeners}),extract("baselayers",dashboard,[]).length>0){var baselayers=geodash.layers.init_baselayers_ol3(geodash.var.map,dashboard.baselayers);$.extend(geodash.var.baselayers,baselayers);var baseLayerID=dashboard.view.baselayer||dashboard.baselayers[0].id;geodash.var.map.addLayer(geodash.var.baselayers[baseLayerID]),geodash.api.intend("viewChanged",{baselayer:baseLayerID},$scope),geodash.api.intend("layerLoaded",{type:"baselayer",layer:baseLayerID},$scope)}if(angular.isArray(extract("featurelayers",dashboard)))for(var i=0;i<dashboard.featurelayers.length;i++){var fl=dashboard.featurelayers[i];geodash.layers.init_featurelayer({id:fl.id,fl:fl,$scope:$scope,dashboard:dashboard,state:state})}Array.isArray(extract("view.extent",state))&&setTimeout(function(){var m=geodash.var.map,v=m.getView(),newExtent=ol.proj.transformExtent(extract("view.extent",state),"EPSG:4326",v.getProjection());v.fit(newExtent,m.getSize())},0)}}},geodash.directives.geodashMain=function(){return{controller:geodash.controllers.GeoDashControllerMain,restrict:"EA",replace:!0,scope:{},templateUrl:"main.tpl.html",link:function($scope,element,attrs,controllers){setTimeout(function(){geodash.ui.update(element)},0)}}},geodash.controllers.GeoDashControllerBase=function($scope,$element,$controller,$interpolate,$timeout,state,dashboard,live){$scope.setValue=geodash.util.setValue,$scope.clearValue=geodash.util.clearValue,$scope.stack={head:void 0,prev:void 0,backtrace:[]},$scope.asset=function(id){return geodash.api.getAsset(id)},$scope.update_stack=function(backtrace){angular.isDefined(backtrace)&&($scope.stack.backtrace=geodash.util.deepCopy(backtrace)),$scope.stack.backtrace.length>=2?($scope.stack.head=$scope.stack.backtrace[0],$scope.stack.prev=$scope.stack.backtrace[1]):1==$scope.stack.backtrace.length?($scope.stack.head=$scope.stack.backtrace[0],$scope.stack.prev=void 0):($scope.stack.head=void 0,$scope.stack.prev=void 0)},$scope.update_main=function(removed){angular.isDefined($scope.stack.head)&&(angular.isDefined(removed)?$scope.stack.head.modal==removed.modal&&$.each($scope.stack.head,function(key,value){$scope[key]=value}):$.each($scope.stack.head,function(key,value){$scope[key]=value}))},$scope.expand=function(x){return angular.isDefined(x)&&(angular.isDefined(x.schemapath)&&(x.schemapath_flat=x.schemapath.replace(new RegExp("\\.","gi"),"__"),x.schemapath_array=x.schemapath.split(".")),angular.isDefined(x.basepath)?(angular.isDefined(x.basepath_array)||(x.basepath_array=x.basepath.split(".")),angular.isDefined(x.schemapath)?x.object_fields=extract(x.schemapath_array.concat(["schema","fields"]),x.schema,[]):x.object_fields=extract(x.basepath_array.concat(["schema","fields"]),x.schema,[]),angular.isDefined(x.objectIndex)?(x.path=x.basepath+"."+x.objectIndex,x.path_flat=x.path.replace(new RegExp("\\.","gi"),"__"),x.path_array=x.basepath_array.concat([x.objectIndex])):(x.path=x.basepath,x.path_flat=x.path.replace(new RegExp("\\.","gi"),"__"),x.path_array=x.path.length>0?x.path.split("."):[])):angular.isDefined(x.path)?(x.path_flat=x.path.replace(new RegExp("\\.","gi"),"__"),x.path_array=x.path.length>0?x.path.split("."):[]):angular.isDefined(x.objectIndex)&&(x.basepath_array=[],x.path=x.objectIndex,x.path_flat=x.path.replace(new RegExp("\\.","gi"),"__"),x.path_array=[x.objectIndex]),angular.isDefined(x.workspace)&&(x.workspace_flat=geodash.util.flatten(x.workspace)),angular.isDefined(x.schema)&&(x.schema_flat=geodash.util.flatten(x.schema))),x},$scope.api=function(name){if(!angular.isDefined($scope.workspace))return"#";var mainScope=geodash.util.getScope("geodash-main"),slug=extract("state.slug",mainScope)||extract("dashboard.slug",mainScope);if(!(angular.isString(slug)&&slug.length>0))return"#";var template=geodash.api.getEndpoint(name);return void 0!=template?$interpolate(template)({slug:slug}):void 0},$scope.push=function(x,backtrace){$scope.clear(),x=$scope.expand(x),$scope.update_stack([x].concat(backtrace||$scope.stack.backtrace)),$.each($scope.stack.head,function(key,value){$scope[key]=value}),$scope.update_breadcrumbs()},$scope.update_breadcrumbs=function(){var breadcrumbs=[];if(angular.isDefined(extract("stack.backtrace",$scope))){for(var i=$scope.stack.backtrace.length-1;i>=0;i--){var x=$scope.stack.backtrace[i];if(angular.isDefined(x.objectIndex)){var obj=extract(x.path_array,x.workspace),content=extract("title",obj)||extract("id",obj)||x.objectIndex,link="#",bc={content:content,link:link};breadcrumbs.push(bc)}else{var keyChain=x.schemapath_array||x.basepath_array;if(angular.isDefined(keyChain)){var f=extract(keyChain,x.schema);if(angular.isDefined(f)){var t=extract("type",f),content=void 0,link="#";content="object"==t?extract("schema.verbose_singular",f)||extract("label",f):"objectarray"==t||"stringarray"==t||"textarray"==t||"templatearray"==t?extract("schema.verbose_plural",f)||extract("label",f):extract("label",f);var bc={content:content,link:link};breadcrumbs.push(bc)}}}}$scope.breadcrumbs=breadcrumbs}return breadcrumbs},$scope.update_ui=function(removed,backtrace){if(angular.isDefined($scope.stack.head))if(angular.isDefined($scope.stack.head.modal))if($scope.stack.head.modal==removed.modal)$scope.update_breadcrumbs(),$timeout(function(){
geodash.ui.update($scope.stack.head.modal)},0);else{var oldModal=removed.modal,newModal=$scope.stack.head.modal;$("#"+oldModal).modal("hide"),$("#"+newModal).modal({backdrop:"static",keyboard:!1}),$timeout(function(){var newScope=geodash.util.getScope(newModal);newScope.update_stack(backtrace),$.each(newScope.stack.head,function(key,value){newScope[key]=value}),newScope.update_breadcrumbs(),$("#"+newModal).modal("show"),$timeout(function(){geodash.ui.update(newModal)},0)},0)}else{var oldModal=removed.modal;$("#"+oldModal).modal("hide")}else $("#"+removed.modal).modal("hide")},$scope.clear=function(){$scope.clear_all(1)},$scope.clear_all=function(count){var backtrace=$scope.stack.backtrace;if(backtrace.length>0)for(var clear_array=["workspace","workspace_flat","schema","schema_flat","basepath","basepath_flat","basepath_array","schemapath","schemapath_flat","schemapath_array","objectIndex","path","path_flat","path_array","breadcrumbs"],s=void 0,i=0;i<count&&i<backtrace.length;i++){var x=backtrace[i];if(angular.isUndefined(s)){var m=extract("modal",x);s=angular.isDefined(m)?geodash.util.getScope(m):$scope}$.each(x,function(key,value){s[key]=void 0}),$.each(clear_array,function(index,value){s[value]=void 0})}},$scope.includeTypeaheadForField=function(field){var include=!1;if(angular.isDefined(field))if(extract("options",field,[]).length>0)include=!0;else if(angular.isDefined(extract("search.datasets",field))){var datasets=extract("search.datasets",field);(angular.isString(datasets)||Array.isArray(datasets))&&datasets.length>0&&(include=!0)}else angular.isString(extract("search.dataset",field))?extract("search.dataset",field).length>0&&(include=!0):angular.isDefined(extract("search.local",field))?angular.isString(extract("search.local",field))?extract("search.local",field).length>0&&(include=!0):angular.isString(extract("search.local.name",field))&&(include=!0):angular.isDefined(extract("search.remote",field,void 0))&&(include=!0);return include},$scope.typeaheadDatasetsForSearch=function(x){var datasets="";return angular.isDefined(x)||(x=extract($scope.schemapath,$scope.schema,void 0)),angular.isDefined(x)&&(Array.isArray(extract("search.datasets",x))?datasets=extract("search.datasets",x).join(","):angular.isString(extract("search.datasets",x))?datasets=extract("search.datasets",x):angular.isString(extract("search.dataset",x))&&(datasets=extract("search.dataset",x))),datasets},$scope.localDataForSearch=function(x){var localData="";return angular.isDefined(x)||(x=extract($scope.schemapath,$scope.schema,void 0)),angular.isDefined(x)&&(localData=extract("options",x,""),0==localData.length&&(localData=extract("search.local",x,""))),localData},$scope.remoteDataForSearch=function(x){var data="";return angular.isDefined(x)||(x=extract($scope.schemapath,$scope.schema,void 0)),angular.isDefined(x)&&(data=extract("search.remote",x,{})),data},$scope.initialValueForSearch=function(x){var data="";return angular.isDefined(x)||(x=extract($scope.schemapath,$scope.schema,void 0)),angular.isDefined(x)&&(data=extract("search.initial",x,{})),data},$scope.outputForSearch=function(){var data="",schema=extract($scope.schemapath,$scope.schema,void 0);return angular.isDefined(schema)&&(data=extract("search.output",schema,"")),data},$scope.datasetsForSearch=function(){var data="",schema=extract($scope.schemapath,$scope.schema,void 0);return angular.isDefined(schema)&&(data=extract("search.datasets",schema,"")),data},$scope.asset=function(id){return geodash.util.getByID(id,$scope.workspace.config.assets)}},geodash.controllers.GeoDashControllerModal=function($scope,$element,$controller,$interpolate,$timeout,state,dashboard,live){angular.extend(this,$controller("GeoDashControllerBase",{$element:$element,$scope:$scope})),$scope.showOptions=geodash.ui.showOptions,$scope.stack={head:void 0,prev:void 0,backtrace:[]},$scope.showModal=function(x){return angular.isString(x)?""!=x:!angular.isNumber(x)||x>=0},$scope.edit_field=function(field_id,field_index){var schemapath=$scope.stack.head.path;angular.isDefined($scope.stack.head.schemapath_array)&&angular.isDefined(field_index)&&(schemapath=$scope.stack.head.schemapath+".schema.fields."+field_index);var x={modal:"geodash-modal-edit-field",tab:"modal-edit-field-pane-input",prev:$scope.stack.head.modal,workspace:$scope.stack.head.workspace,schema:$scope.stack.head.schema,basepath:$scope.stack.head.path,basepath_array:$scope.stack.head.path_array,schemapath:schemapath,objectIndex:field_id};console.log("New X:"),console.log(x),$scope.stack.head.modal==x.modal?($scope.clear(),$timeout(function(){$scope.push(x)},0)):($("#"+$scope.stack.head.modal).modal("hide"),geodash.util.getScope(x.modal).push(x,$scope.stack.backtrace),$("#"+x.modal).modal({backdrop:"static",keyboard:!1}),$("#"+x.modal).modal("show"),$timeout(function(){geodash.ui.update(x.modal,x.tab)},0))},$scope.pop=function(){var removed=$scope.stack.backtrace.shift();$scope.update_stack(),$scope.update_main(removed),$scope.update_ui(removed,$scope.stack.backtrace)},$scope.rollback_all=function(index){var count=$scope.stack.backtrace.length;$scope.clear_all(count),$timeout(function(){var removed=$scope.stack.backtrace[0];$scope.update_stack($scope.stack.backtrace.slice(count)),$scope.update_main(removed),$scope.update_ui(removed,$scope.stack.backtrace)},0)},$scope.rollback=function(index){var count=void 0;count=angular.isNumber(index)?$scope.stack.backtrace.length-index-1:1,$scope.clear_all(count),$timeout(function(){var removed=$scope.stack.backtrace[0];$scope.update_stack($scope.stack.backtrace.slice(count)),$scope.update_main(removed),$scope.update_ui(removed,$scope.stack.backtrace)},0)},$scope.go_back=function(){$scope.clear(),$timeout(function(){$scope.pop()},0)},$scope.add_object=function(field_id){$scope.edit_object(extractArrayLength($scope.stack.head.path,$scope.stack.head.workspace,0))},$scope.search_object=function(){var field_id=extractArrayLength($scope.stack.head.path,$scope.stack.head.workspace,0),field_index=void 0,schemapath=$scope.stack.head.schemapath||$scope.stack.head.path;angular.isDefined($scope.stack.head.schemapath)&&angular.isDefined(field_index)&&(schemapath=$scope.stack.head.schemapath+".schema.fields."+field_index);var x={modal:"geodash-modal-search-object",tab:"modal-search-object-pane-input",prev:$scope.stack.head.modal,workspace:$scope.stack.head.workspace,schema:$scope.stack.head.schema,basepath:$scope.stack.head.path,basepath_array:$scope.stack.head.path_array,schemapath:schemapath,objectIndex:field_id};if(console.log("New X:"),console.log(x),$scope.stack.head.modal==x.modal)$scope.clear(),$timeout(function(){$scope.push(x),$timeout(function(){geodash.ui.update(x.modal,x.tab)},0)},0);else{$("#"+$scope.stack.head.modal).modal("hide");var targetScope=geodash.util.getScope(x.modal),backtrace=$scope.stack.backtrace;targetScope.clear(),$timeout(function(){targetScope.push(x,backtrace);var m=$("#"+x.modal);m.modal({backdrop:"static",keyboard:!1}),m.modal("show"),$timeout(function(){geodash.ui.update(x.modal,x.tab)},0)},0)}},$scope.edit_object=function(field_id,field_index){var schemapath=$scope.stack.head.schemapath||$scope.stack.head.path;angular.isDefined($scope.stack.head.schemapath)&&angular.isDefined(field_index)&&(schemapath=$scope.stack.head.schemapath+".schema.fields."+field_index);var x={modal:"geodash-modal-edit-object",tab:"modal-edit-object-pane-input",prev:$scope.stack.head.modal,workspace:$scope.stack.head.workspace,schema:$scope.stack.head.schema,basepath:$scope.stack.head.path,basepath_array:$scope.stack.head.path_array,schemapath:schemapath,objectIndex:field_id};if(console.log("New X:"),console.log(x),$scope.stack.head.modal==x.modal)$scope.clear(),$timeout(function(){$scope.push(x),$timeout(function(){geodash.ui.update(x.modal,x.tab)},0)},0);else{$("#"+$scope.stack.head.modal).modal("hide");var targetScope=geodash.util.getScope(x.modal),backtrace=$scope.stack.backtrace;targetScope.clear(),$timeout(function(){targetScope.push(x,backtrace);var m=$("#"+x.modal);m.modal({backdrop:"static",keyboard:!1}),m.modal("show"),$timeout(function(){geodash.ui.update(x.modal,x.tab)},0)},0)}},$scope.save_object=function(){var workspace=$scope.workspace,workspace_flat=$scope.workspace_flat;$scope.clear_all(2),$timeout(function(){var saved=$scope.stack.backtrace.shift();if($scope.stack.backtrace.length>0){var backtrace=$scope.stack.backtrace;if(backtrace[0].workspace=workspace,backtrace[0].workspace_flat=workspace_flat,$scope.update_stack(backtrace),$scope.stack.head.modal==saved.modal)$.each($scope.stack.head,function(key,value){$scope[key]=value}),$scope.workspace=$scope.stack.head.workspace=workspace,$scope.workspace_flat=$scope.stack.head.workspace_flat=workspace_flat,$scope.update_breadcrumbs();else{var oldModal=saved.modal,newModal=$scope.stack.head.modal;$("#"+oldModal).modal("hide"),$("#"+newModal).modal({backdrop:"static",keyboard:!1}),$timeout(function(){var newScope=geodash.util.getScope(newModal);newScope.update_stack(backtrace),$.each(newScope.stack.head,function(key,value){newScope[key]=value}),newScope.update_breadcrumbs(),$("#"+newModal).modal("show"),$timeout(function(){geodash.ui.update(newModal)},0)},0)}}else{var targetScope=geodash.util.getScope("geodash-sidebar-right");targetScope.stack.head.workspace=targetScope.workspace=workspace,targetScope.stack.head.workspace_flat=targetScope.workspace_flat=workspace_flat,$("#"+saved.modal).modal("hide")}},0)},$scope.modal_title=function(){for(var breadcrumbs=[],i=$scope.stack.backtrace.length-1;i>=0;i--){var x=$scope.stack.backtrace[i];if(angular.isDefined(x.objectIndex)){var obj=extract(x.path_array,x.workspace);breadcrumbs.push(extract("title",obj)||extract("id",obj)||x.objectIndex)}else{var f=extract(x.schemapath_array||x.basepath_array,x.schema);if(angular.isDefined(f)){var t=extract("type",f);"object"==t?breadcrumbs.push(extract("schema.verbose_singular",f)||extract("label",f)):"objectarray"==t||"stringarray"==t||"textarray"==t||"templatearray"==t?breadcrumbs.push(extract("schema.verbose_plural",f)||extract("label",f)):breadcrumbs.push(extract("label",f))}}}return"Edit / "+breadcrumbs.join(" / ")},$scope.back_label=function(){var label="Cancel";if(angular.isDefined($scope.stack.head)&&$scope.stack.backtrace.length>1){var x=$scope.stack.backtrace[1],t=extract(x.schemapath_array||x.basepath_array,x.schema);label="objectarray"==t.type&&angular.isNumber($scope.stack.head.objectIndex)?"Back to "+(extract("schema.verbose_plural",t)||extract("label",t)):"Back to "+(extract("schema.verbose_singular",t)||extract("label",t))}return label},$scope.save_label=function(){var label="";if(angular.isDefined($scope.stack.head)){var x=$scope.stack.head,t=extract(x.schemapath_array||x.basepath_array,x.schema);label="objectarray"!=t.type||angular.isDefined($scope.stack.head.objectIndex)?"markdown"==t.type||"text"==t.type||"string"==t.type||"int"==t.type||"integer"==t.type?"Save "+(extract("label",t)||"Object"):"Save "+(extract("schema.verbose_singular",t)||"Object"):"Save "+(extract("schema.verbose_plural",t)||extract("label",t)||"Object")}else label="Save";return label}},geodash.controllers.GeoDashControllerLegend=function($scope,$element,$controller,$timeout){angular.extend(this,$controller("GeoDashControllerBase",{$element:$element,$scope:$scope}));var mainScope=$element.parents(".geodash-dashboard:first").isolateScope();$scope.dashboard=geodash.util.deepCopy(mainScope.dashboard),$scope.dashboard_flat=geodash.util.deepCopy(mainScope.dashboard_flat),$scope.state=geodash.util.deepCopy(mainScope.state),$scope.assets=geodash.util.arrayToObject(extract("assets",$scope.dashboard)),$scope.grid=extract("legend.grid",$scope.dashboard),$scope.defaultGrid=["col-sm-3","col-sm-9"],$scope.class=function(column){return angular.isNumber(column)&&column>=0?extract([column],$scope.grid,$scope.defaultGrid[column]):""},$scope.style=function(){var styleMap={},legend=extract("legend",$scope.dashboard);return angular.isDefined(legend)&&(angular.extend(styleMap,{top:extract("position.top",legend,"auto"),bottom:extract("position.bottom",legend,"auto"),left:extract("position.left",legend,"auto"),right:extract("position.right",legend,"auto"),width:extract("width",legend,"initial"),height:extract("height",legend,"initial"),padding:"0",margin:"0",background:"transparent",opacity:"1.0"}),angular.isDefined(extract("css.properties",legend))&&angular.extend(styleMap,geodash.util.arrayToObject(extract("css.properties",legend)))),$.inArray("legend",extract("view.controls",$scope.state,[]))!=-1?styleMap.display="block":styleMap.display="none",geodash.codec.formatCSS(styleMap)},$scope.getLegendType=function(layer,style){var styleID=angular.isDefined(style)?style:0;return angular.isDefined(extract("wms",layer))?"legendgraphic":angular.isDefined(extract("carto",layer))?extract(["carto","styles",styleID,"legend","type"],layer,"none"):"none"},$scope.getLegendGraphicStyle=function(layer){var styleMap={};return angular.isDefined(extract("wms",layer))&&angular.extend(styleMap,{"min-width":"40px","max-height":"200px"}),styleMap},$scope.getCurrentStyle=function(layer){var currentStyle=void 0;if(angular.isDefined(layer)){var styleID=0;currentStyle=extract(["carto","styles",styleID],layer)}return currentStyle},$scope.getLegendGraphicURL=function(layer){var url="",baseurl=extract("wms.url",layer);if(angular.isString(baseurl)){var params={REQUEST:"GetLegendGraphic",VERSION:extract("wms.version",layer,"1.1.1"),FORMAT:extract("wms.format",layer,"image/png"),LAYER:geodash.codec.formatArray("wms.layers",layer),TRANSPARENT:"true"};angular.isDefined(extract("wms.styles",layer))&&(params.STYLE=layer.wms.styles);var querystring=$.map(geodash.util.objectToArray(params),function(x){return x.name+"="+x.value});url=baseurl+"?"+querystring.join("&")}return url},$scope.getRange=function(layer,style){var styleID=angular.isDefined(style)?style:0,range=void 0;if(angular.isDefined(layer))for(var styleID=0,symbolizers=extract(["carto","styles",styleID,"symbolizers"],layer,[]),i=0;i<symbolizers.length;i++){var symbolizer=symbolizers[i];if("polygon"==symbolizer.type&&(range=extract(["metadata","range"],symbolizer),angular.isDefined(range)))break}return range},$scope.getClasses=function(layer,style){var styleID=angular.isDefined(style)?style:0,classes=void 0;if(angular.isDefined(layer)){var styleID=0,styleObject=extract(["carto","styles",styleID],layer,[]);if(angular.isDefined(styleObject)){var legendType=extract("legend.type",styleObject);if("graduated"==legendType){for(var symbolizers=extract("symbolizers",styleObject,[]),i=0;i<symbolizers.length;i++){var symbolizer=symbolizers[i];if("polygon"==symbolizer.type){if(classes=geodash.util.deepCopy(extract(["dynamic","options","classes"],symbolizer)),angular.isDefined(classes))break;var ramp=geodash.util.deepCopy(extract(["dynamic","options","colors","ramp"],symbolizer));if(angular.isDefined(ramp)){classes=ramp.map(function(x){return{label:void 0,color:x}});break}}}var outside=extract(["dynamic","options","outside"],symbolizer);if(angular.isDefined(outside)){var rgba=geodash.normalize.color(extract("color",outside,"#AAAAAA"));rgba[3]=extract(["static","properties","fillOpacity"],symbolizer,1);var class_outside={label:extract("label",outside,"Outside"),color:"rgba("+rgba.join(", ")+")"},placement=extract("placement",outside,"start");"start"==placement?classes=[].concat([class_outside],classes):"middle"==placement?classes.splice(classes.length/2,0,class_outside):"end"==placement&&(classes=[].concat(classes,[class_outside]))}}else if("heatmap"==legendType){var ramp=extract("layer.Heatmap.DEFAULT_GRADIENT",ol);classes=ramp.map(function(x){return{label:void 0,color:x}})}}}var classifier=extract("classifier",geodash.config);return angular.isDefined(classifier)&&(classes=classifier(layer,style,classes)),classes},$scope.updateVariables=function(){if(Array.isArray(extract("baselayers",$scope.dashboard))?$scope.baselayers=$scope.dashboard.baselayers:$scope.baselayers=[],Array.isArray(extract("featurelayers",$scope.dashboard)))if($scope.featurelayers=$scope.dashboard.featurelayers,angular.isDefined(extract("state.view.featurelayers",$scope))){var visibleFeaturelayers=$.grep($scope.featurelayers,function(x,i){return $.inArray(x.id,$scope.state.view.featurelayers)!=-1});visibleFeaturelayers.sort(function(a,b){return $.inArray(a.id,$scope.state.view.featurelayers)-$.inArray(b.id,$scope.state.view.featurelayers)}),$scope.visibleFeaturelayers=visibleFeaturelayers}else $scope.visibleFeaturelayers=[];else $scope.featurelayers=[],$scope.visibleFeaturelayers=[]},$scope.updateVariables(),$scope.$watch("state",$scope.updateVariables);$($element);$scope.$on("refreshMap",function(event,args){console.log("args: ",args),geodash.util.diff(["view.featurelayers","view.baselayer"],$scope.state,args.state).length>0?($scope.state=void 0,$scope.newState=geodash.util.deepCopy(args.state),$scope.updateVariables(),geodash.ui.update($element),setTimeout(function(){$scope.$apply(function(){$scope.state=$scope.newState,$scope.updateVariables(),setTimeout(function(){geodash.ui.update($element)},0)})},0)):($scope.state=geodash.util.deepCopy(args.state),$scope.updateVariables())})},geodash.controllers.GeoDashControllerOverlays=function($scope,$element,$controller,$interpolate){angular.extend(this,$controller("GeoDashControllerBase",{$element:$element,$scope:$scope}));var mainScope=$element.parents(".geodash-dashboard:first").isolateScope();$scope.dashboard=geodash.util.deepCopy(mainScope.dashboard),$scope.dashboard_flat=geodash.util.deepCopy(mainScope.dashboard_flat),$scope.state=geodash.util.deepCopy(mainScope.state),$scope.assets=geodash.util.arrayToObject(extract("assets",$scope.dashboard)),$scope.imageURL=function(overlay){return angular.isString(extract("image.url",overlay))&&extract("image.url",overlay).length>0?extract("image.url",overlay):angular.isDefined(extract("image.asset",overlay))&&extract("image.asset",overlay).length>0?extract([extract("image.asset",overlay),"url"],$scope.assets):""},$scope.class_overlay=function(overlay){var str="geodash-map-overlay";return(angular.isDefined(extract("intents",overlay))||angular.isDefined(extract("intent",overlay)))&&(str+=" geodash-intent"),str},$scope.style=function(type,overlay){var styleMap={};return angular.extend(styleMap,{top:extract("position.top",overlay,"auto"),bottom:extract("position.bottom",overlay,"auto"),left:extract("position.left",overlay,"auto"),right:extract("position.right",overlay,"auto"),width:extract("width",overlay,"initial"),height:extract("height",overlay,"initial"),padding:"0",margin:"0",background:"transparent",opacity:"1.0"}),"text"==type&&angular.extend(styleMap,{"font-family":extract("text.font.family",overlay,"Arial"),"font-size":extract("text.font.size",overlay,"12px"),"font-style":extract("text.font.style",overlay,"normal"),"text-shadow":extract("text.shadow",overlay,"none")}),(angular.isDefined(extract("intents",overlay))||angular.isDefined(extract("intent",overlay)))&&angular.extend(styleMap,{cursor:"pointer"}),angular.isDefined(extract("css.properties",overlay))&&angular.extend(styleMap,geodash.util.arrayToObject(extract("css.properties",overlay))),geodash.codec.formatCSS(styleMap)},$scope.intents=function(overlay){var data=[],intents=extract("intents",overlay);if(Array.isArray(intents))for(var i=0;i<intents.length;i++){var intent=intents[i],intentName=intent.name;if(angular.isDefined(intentName)){var intentProperties=intent.properties;if(angular.isDefined(intentProperties)){var intentData=geodash.util.arrayToObject(intentProperties,{$interpolate:$interpolate,ctx:{overlay:overlay}});data.push({name:intent.name,data:intentData})}else data.push({name:intent.name})}}return data}},geodash.controllers.GeoDashControllerMapNavbars=function($scope,$element,$controller,$interpolate){angular.extend(this,$controller("GeoDashControllerBase",{$element:$element,$scope:$scope}));var mainScope=$element.parents(".geodash-dashboard:first").isolateScope();$scope.dashboard=geodash.util.deepCopy(mainScope.dashboard),$scope.state=geodash.util.deepCopy(mainScope.state),$scope.months=MONTHS_ALL,$scope.$on("refreshMap",function(event,args){$scope.state=geodash.util.deepCopy(args.state)}),$scope.link=function(navbar,tab){var name=extract("page",navbar);if(angular.isDefined(name)){var page=geodash.api.getPage(name);return angular.isDefined(page)?$interpolate(page)({state:$scope.state,month:month}):""}return""},$scope.class_navbar=function(navbar){var placement=extract("placement",navbar,"bottom");return"geodash-map-navbar geodash-placement-"+placement},$scope.style_navbar=function(navbar){var styleMap={};return angular.isDefined(extract("css.properties",navbar))&&angular.extend(styleMap,geodash.util.arrayToObject(extract("css.properties",navbar),{$interpolate:$interpolate,ctx:{navbar:navbar}})),geodash.codec.formatCSS(styleMap)},$scope.class_tab=function(navbar,tab){return angular.isDefined(navbar.switch)?tab.value==extract(navbar.switch,$scope)?"btn btn-primary selected geodash-intent geodash-radio geodash-on":"btn btn-default geodash-intent geodash-radio":"btn btn-default geodash-intent"},$scope.style_tab=function(navbar,tab){var styleMap={};return angular.isDefined(extract("css.properties",tab))&&angular.extend(styleMap,geodash.util.arrayToObject(extract("css.properties",tab),{$interpolate:$interpolate,ctx:{tab:tab}})),geodash.codec.formatCSS(styleMap)},$scope.intents=function(navbar,tab){var data=[],intents=extract("intents",tab)||extract("intents",navbar);if(Array.isArray(intents))for(var i=0;i<intents.length;i++){var intent=intents[i],intentName=intent.name;if(angular.isDefined(intentName)){var intentProperties=intent.properties;if(angular.isDefined(intentProperties)){var intentData=geodash.util.arrayToObject(intentProperties,{$interpolate:$interpolate,ctx:{tab:tab}});data.push({name:intent.name,data:intentData})}else data.push({name:intent.name})}}return data}},geodash.controllers.GeoDashControllerMapMap=function($rootScope,$scope,$element,$controller,$http,$q,$compile,$interpolate,$templateCache,$timeout){angular.extend(this,$controller("GeoDashControllerBase",{$element:$element,$scope:$scope}));var mainScope=$element.parents(".geodash-dashboard:first").isolateScope();$scope.dashboard=geodash.util.deepCopy(mainScope.dashboard),$scope.dashboard_flat=geodash.util.deepCopy(mainScope.dashboard_flat),$scope.initial_state=geodash.util.deepCopy(mainScope.state),$scope.state=geodash.util.deepCopy(mainScope.state),$scope.processEvent=function(event,args){for(var c=$.grep(geodash.meta.controllers,function(x,i){return"GeoDashControllerMapMap"==x.name})[0],i=0;i<c.handlers.length;i++)c.handlers[i].event==event.name&&geodash.handlers[c.handlers[i].handler]($scope,$interpolate,$http,$q,event,args)};for(var c=$.grep(geodash.meta.controllers,function(x,i){return"GeoDashControllerMapMap"==x.name})[0],i=0;i<c.handlers.length;i++)$scope.$on(c.handlers[i].event,$scope.processEvent);$scope.$on("refreshMap",function(event,args){console.log("Refreshing map...");var visibleBaseLayer=args.state.view.baselayer,currentLayers="ol3"==geodash.mapping_library?geodash.var.map.getLayers().getArray():void 0;$.each(geodash.var.baselayers,function(id,layer){var visible=id==visibleBaseLayer;"ol3"==geodash.mapping_library?$.inArray(layer,currentLayers)==-1||visible?$.inArray(layer,currentLayers)==-1&&visible&&geodash.var.map.addLayer(layer):geodash.var.map.removeLayer(layer):geodash.var.map.hasLayer(layer)&&!visible?geodash.var.map.removeLayer(layer):!geodash.var.map.hasLayer(layer)&&visible&&geodash.var.map.addLayer(layer)});var visibleFeatureLayers=args.state.view.featurelayers;$.each(geodash.var.featurelayers,function(id,layer){var visible=$.inArray(id,visibleFeatureLayers)!=-1;"ol3"==geodash.mapping_library?$.inArray(layer,currentLayers)==-1||visible?$.inArray(layer,currentLayers)==-1&&visible&&geodash.var.map.addLayer(layer):geodash.var.map.removeLayer(layer):geodash.var.map.hasLayer(layer)&&!visible?geodash.var.map.removeLayer(layer):!geodash.var.map.hasLayer(layer)&&visible&&geodash.var.map.addLayer(layer)});var renderLayers=$.grep(layersAsArray(geodash.var.featurelayers),function(layer){return $.inArray(layer.id,visibleFeatureLayers)!=-1}),renderLayersSorted=sortLayers($.map(renderLayers,function(layer,i){return layer.layer}),!0),baseLayers=($.map(geodash.var.baselayers,function(layer,id){return{id:id,layer:layer}}),$.map($.grep(layersAsArray(geodash.var.baselayers),function(layer){return layer.id==visibleBaseLayer}),function(layer,i){return layer.layer}));updateRenderOrder(baseLayers.concat(renderLayersSorted)),"ol3"==geodash.mapping_library?setTimeout(function(){var m=geodash.var.map;m.renderer_.dispose(),m.renderer_=new ol.renderer.canvas.Map(m.viewport_,m),m.renderSync()},0):"leaflet"==geodash.mapping_library&&setTimeout(function(){geodash.var.map._onResize()},0)}),$scope.$on("changeView",function(event,args){if(console.log("Refreshing map..."),angular.isDefined(extract("layer",args)))$scope.navigate.layer(args);else if(angular.isDefined(extract("extent",args))){var extent=extract("extent",args);angular.isString(extent)?"initial"==extent?geodash.var.map.getView().getAnimating()||geodash.navigate.start($scope):"previous"==extent||"prev"==extent?geodash.var.map.getView().getAnimating()||geodash.navigate.back($scope):"next"!=extent&&"forward"!=extent||geodash.var.map.getView().getAnimating()||geodash.navigate.forward($scope):geodash.navigate.location({animate:extract("animate",args),extent:geodash.normalize.extent(extent,{sourceProjection:"EPSG:4326",targetProjection:geodash.var.map.getView().getProjection().getCode()})})}else geodash.navigate.location({animate:extract("animate",args),lat:extract("lat",args),lon:extract("lon",args),zoom:extract("zoom",args)})}),$scope.$on("openPopup",function(event,args){console.log("Opening popup..."),void 0!=args.featureLayer&&void 0!=args.feature&&void 0!=args.location&&geodash.popup.openPopup($interpolate,args.featureLayer,args.feature,args.location,geodash.var.map,geodash.util.getScope("geodash-main").state)})},geodash.controllers.GeoDashControllerMain=function($interpolate,$scope,$element,$controller,$http,$q,state,dashboard,stateschema){$scope.dashboard=dashboard,$scope.dashboard_flat=geodash.util.flatten($scope.dashboard),$scope.stateschema=stateschema,$scope.state=geodash.init.state({state:state,stateschema:stateschema,dashboard:dashboard}),$scope.assets=geodash.util.arrayToObject(extract("assets",$scope.dashboard)),$scope.refreshMap=function(state){$scope.$broadcast("refreshMap",{state:state})},$scope.processEvent=function(event,args){for(var c=$.grep(geodash.meta.controllers,function(x,i){return"GeoDashControllerMain"==x.name})[0],i=0;i<c.handlers.length;i++)if(c.handlers[i].event==event.name){var handlerName=c.handlers[i].handler;if(angular.isDefined(handlerName)){var handlerFn=geodash.handlers[handlerName];angular.isDefined(handlerFn)?handlerFn($scope,$interpolate,$http,$q,event,args):geodash.log.error("handlers","Could not find handler with name "+handlerName+".")}}},$.each(geodash.listeners,function(i,x){$scope.$on(i,x)});for(var c=$.grep(geodash.meta.controllers,function(x,i){return"GeoDashControllerMain"==x.name})[0],i=0;i<c.handlers.length;i++)$scope.$on(c.handlers[i].event,$scope.processEvent)};